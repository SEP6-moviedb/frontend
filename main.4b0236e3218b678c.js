"use strict";var hle=Object.defineProperty,fle=Object.defineProperties,gle=Object.getOwnPropertyDescriptors,HW=Object.getOwnPropertySymbols,mle=Object.prototype.hasOwnProperty,vle=Object.prototype.propertyIsEnumerable,BW=(Dr,x,K)=>x in Dr?hle(Dr,x,{enumerable:!0,configurable:!0,writable:!0,value:K}):Dr[x]=K,$P=(Dr,x)=>{for(var K in x||(x={}))mle.call(x,K)&&BW(Dr,K,x[K]);if(HW)for(var K of HW(x))vle.call(x,K)&&BW(Dr,K,x[K]);return Dr},KP=(Dr,x)=>fle(Dr,gle(x));(self.webpackChunkSEP6WebApp=self.webpackChunkSEP6WebApp||[]).push([[179],{697:(Dr,x,K)=>{var Rr={};function ee(t){return"function"==typeof t}function Pe(t){const e=t(o=>{Error.call(o),o.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}K.r(Rr),K.d(Rr,{VERSION:()=>IG,after:()=>H9,all:()=>Mk,allKeys:()=>uv,any:()=>Ik,assign:()=>Ub,before:()=>Ek,bind:()=>Ck,bindAll:()=>x9,chain:()=>I9,chunk:()=>hQ,clone:()=>g9,collect:()=>rd,compact:()=>oQ,compose:()=>V9,constant:()=>XG,contains:()=>$a,countBy:()=>J9,create:()=>f9,debounce:()=>bk,default:()=>fQ,defaults:()=>dk,defer:()=>L9,delay:()=>wk,detect:()=>cA,difference:()=>Vk,drop:()=>Kb,each:()=>za,escape:()=>w9,every:()=>Mk,extend:()=>ck,extendOwn:()=>Ub,filter:()=>Mh,find:()=>cA,findIndex:()=>uA,findKey:()=>Sk,findLastIndex:()=>Rk,findWhere:()=>j9,first:()=>hA,flatten:()=>sQ,foldl:()=>dA,foldr:()=>Nk,forEach:()=>za,functions:()=>JT,get:()=>fk,groupBy:()=>X9,has:()=>v9,head:()=>hA,identity:()=>nA,include:()=>$a,includes:()=>$a,indexBy:()=>Z9,indexOf:()=>Ak,initial:()=>kk,inject:()=>dA,intersection:()=>uQ,invert:()=>uk,invoke:()=>z9,isArguments:()=>qT,isArray:()=>nd,isArrayBuffer:()=>$G,isBoolean:()=>jG,isDataView:()=>Wb,isDate:()=>KY,isElement:()=>$Y,isEmpty:()=>r9,isEqual:()=>o9,isError:()=>YY,isFinite:()=>JY,isFunction:()=>Cr,isMap:()=>l9,isMatch:()=>nk,isNaN:()=>QG,isNull:()=>zY,isNumber:()=>UG,isObject:()=>td,isRegExp:()=>qY,isSet:()=>c9,isString:()=>zT,isSymbol:()=>zG,isTypedArray:()=>ek,isUndefined:()=>WG,isWeakMap:()=>u9,isWeakSet:()=>d9,iteratee:()=>rA,keys:()=>Si,last:()=>rQ,lastIndexOf:()=>W9,map:()=>rd,mapObject:()=>y9,matcher:()=>dv,matches:()=>dv,max:()=>xk,memoize:()=>F9,methods:()=>JT,min:()=>K9,mixin:()=>Hk,negate:()=>lA,noop:()=>mk,now:()=>hv,object:()=>dQ,omit:()=>iQ,once:()=>B9,pairs:()=>p9,partial:()=>zb,partition:()=>eQ,pick:()=>Gk,pluck:()=>pA,property:()=>iA,propertyOf:()=>_9,random:()=>oA,range:()=>pQ,reduce:()=>dA,reduceRight:()=>Nk,reject:()=>U9,rest:()=>Kb,restArguments:()=>jr,result:()=>P9,sample:()=>Lk,select:()=>Mh,shuffle:()=>Y9,size:()=>tQ,some:()=>Ik,sortBy:()=>Q9,sortedIndex:()=>Ok,tail:()=>Kb,take:()=>hA,tap:()=>m9,template:()=>A9,templateSettings:()=>S9,throttle:()=>G9,times:()=>C9,toArray:()=>Fk,toPath:()=>hk,transpose:()=>gA,unescape:()=>E9,union:()=>lQ,uniq:()=>fA,unique:()=>fA,uniqueId:()=>M9,unzip:()=>gA,values:()=>Nh,where:()=>$9,without:()=>aQ,wrap:()=>k9,zip:()=>cQ});const Ri=Pe(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((o,a)=>`${a+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function nl(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class tn{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const d of e)d.remove(this);else e.remove(this);const{initialTeardown:o}=this;if(ee(o))try{o()}catch(d){n=d instanceof Ri?d.errors:[d]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const d of a)try{Yv(d)}catch(p){n=null!=n?n:[],p instanceof Ri?n=[...n,...p.errors]:n.push(p)}}if(n)throw new Ri(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Yv(n);else{if(n instanceof tn){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&nl(e,n)}remove(n){const{_finalizers:e}=this;e&&nl(e,n),n instanceof tn&&n._removeParent(this)}}tn.EMPTY=(()=>{const t=new tn;return t.closed=!0,t})();const wo=tn.EMPTY;function qv(t){return t instanceof tn||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function Yv(t){ee(t)?t():t.unsubscribe()}const oa={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},il={setTimeout(t,n,...e){const{delegate:o}=il;return(null==o?void 0:o.setTimeout)?o.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=il;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function bs(t){il.setTimeout(()=>{const{onUnhandledError:n}=oa;if(!n)throw t;n(t)})}function rl(){}const Qv=qh("C",void 0,void 0);function qh(t,n,e){return{kind:t,value:n,error:e}}let bo=null;function Su(t){if(oa.useDeprecatedSynchronousErrorHandling){const n=!bo;if(n&&(bo={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:o}=bo;if(bo=null,e)throw o}}else t()}class Yh extends tn{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,qv(n)&&n.add(this)):this.destination=Jv}static create(n,e,o){return new Oi(n,e,o)}next(n){this.isStopped?Qh(function Kh(t){return qh("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Qh(function Tt(t){return qh("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Qh(Qv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Zv=Function.prototype.bind;function Ed(t,n){return Zv.call(t,n)}class Kr{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(o){Sd(o)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(o){Sd(o)}else Sd(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Sd(e)}}}class Oi extends Yh{constructor(n,e,o){let a;if(super(),ee(n)||!n)a={next:null!=n?n:void 0,error:null!=e?e:void 0,complete:null!=o?o:void 0};else{let d;this&&oa.useDeprecatedNextContext?(d=Object.create(n),d.unsubscribe=()=>this.unsubscribe(),a={next:n.next&&Ed(n.next,d),error:n.error&&Ed(n.error,d),complete:n.complete&&Ed(n.complete,d)}):a=n}this.destination=new Kr(a)}}function Sd(t){oa.useDeprecatedSynchronousErrorHandling?function Xv(t){oa.useDeprecatedSynchronousErrorHandling&&bo&&(bo.errorThrown=!0,bo.error=t)}(t):bs(t)}function Qh(t,n){const{onStoppedNotification:e}=oa;e&&il.setTimeout(()=>e(t,n))}const Jv={closed:!0,next:rl,error:function e0(t){throw t},complete:rl},ol="function"==typeof Symbol&&Symbol.observable||"@@observable";function Eo(t){return t}let jt=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const o=new t;return o.source=this,o.operator=e,o}subscribe(e,o,a){const d=function At(t){return t&&t instanceof Yh||function ny(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}(t)&&qv(t)}(e)?e:new Oi(e,o,a);return Su(()=>{const{operator:p,source:f}=this;d.add(p?p.call(d,f):f?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(e){try{return this._subscribe(e)}catch(o){e.error(o)}}forEach(e,o){return new(o=ty(o))((a,d)=>{const p=new Oi({next:f=>{try{e(f)}catch(m){d(m),p.unsubscribe()}},error:d,complete:a});this.subscribe(p)})}_subscribe(e){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(e)}[ol](){return this}pipe(...e){return function ey(t){return 0===t.length?Eo:1===t.length?t[0]:function(e){return t.reduce((o,a)=>a(o),e)}}(e)(this)}toPromise(e){return new(e=ty(e))((o,a)=>{let d;this.subscribe(p=>d=p,p=>a(p),()=>o(d))})}}return t.create=n=>new t(n),t})();function ty(t){var n;return null!==(n=null!=t?t:oa.Promise)&&void 0!==n?n:Promise}const Dd=Pe(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ln=(()=>{class t extends jt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const o=new Rd(this,this);return o.operator=e,o}_throwIfClosed(){if(this.closed)throw new Dd}next(e){Su(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(e)}})}error(e){Su(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:o}=this;for(;o.length;)o.shift().error(e)}})}complete(){Su(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:o,isStopped:a,observers:d}=this;return o||a?wo:(this.currentObservers=null,d.push(e),new tn(()=>{this.currentObservers=null,nl(d,e)}))}_checkFinalizedStatuses(e){const{hasError:o,thrownError:a,isStopped:d}=this;o?e.error(a):d&&e.complete()}asObservable(){const e=new jt;return e.source=this,e}}return t.create=(n,e)=>new Rd(n,e),t})();class Rd extends ln{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,o;null===(o=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===o||o.call(e,n)}error(n){var e,o;null===(o=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===o||o.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,o;return null!==(o=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==o?o:wo}}function Xh(t){return ee(null==t?void 0:t.lift)}function un(t){return n=>{if(Xh(n))return n.lift(function(e){try{return t(e,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ut(t,n,e,o,a){return new Zh(t,n,e,o,a)}class Zh extends Yh{constructor(n,e,o,a,d,p){super(n),this.onFinalize=d,this.shouldUnsubscribe=p,this._next=e?function(f){try{e(f)}catch(m){n.error(m)}}:super._next,this._error=a?function(f){try{a(f)}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(f){n.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function at(t,n){return un((e,o)=>{let a=0;e.subscribe(Ut(o,d=>{o.next(t.call(n,d,a++))}))})}function ir(t){return this instanceof ir?(this.v=t,this):new ir(t)}function oy(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,o=e.apply(t,n||[]),d=[];return a={},p("next"),p("throw"),p("return"),a[Symbol.asyncIterator]=function(){return this},a;function p(b){o[b]&&(a[b]=function(S){return new Promise(function(R,A){d.push([b,S,R,A])>1||f(b,S)})})}function f(b,S){try{!function m(b){b.value instanceof ir?Promise.resolve(b.value.v).then(v,y):C(d[0][2],b)}(o[b](S))}catch(R){C(d[0][3],R)}}function v(b){f("next",b)}function y(b){f("throw",b)}function C(b,S){b(S),d.shift(),d.length&&f(d[0][0],d[0][1])}}function Ko(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function we(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],o=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(d){e[d]=t[d]&&function(p){return new Promise(function(f,m){!function a(d,p,f,m){Promise.resolve(m).then(function(v){d({value:v,done:f})},p)}(f,m,(p=t[d](p)).done,p.value)})}}}const Pt=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Es(t){return ee(null==t?void 0:t.then)}function sy(t){return ee(t[ol])}function ay(t){return Symbol.asyncIterator&&ee(null==t?void 0:t[Symbol.asyncIterator])}function tf(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Jn=function a0(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Od(t){return ee(null==t?void 0:t[Jn])}function sl(t){return oy(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:o,done:a}=yield ir(e.read());if(a)return yield ir(void 0);yield yield ir(o)}}finally{e.releaseLock()}})}function ly(t){return ee(null==t?void 0:t.getReader)}function Bn(t){if(t instanceof jt)return t;if(null!=t){if(sy(t))return function rr(t){return new jt(n=>{const e=t[ol]();if(ee(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Pt(t))return function l0(t){return new jt(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Es(t))return function nf(t){return new jt(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,bs)})}(t);if(ay(t))return uy(t);if(Od(t))return function u0(t){return new jt(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(ly(t))return function c0(t){return uy(sl(t))}(t)}throw tf(t)}function uy(t){return new jt(n=>{(function d0(t,n){var e,o,a,d;return function r0(t,n,e,o){return new(e||(e=Promise))(function(d,p){function f(y){try{v(o.next(y))}catch(C){p(C)}}function m(y){try{v(o.throw(y))}catch(C){p(C)}}function v(y){y.done?d(y.value):function a(d){return d instanceof e?d:new e(function(p){p(d)})}(y.value).then(f,m)}v((o=o.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Ko(t);!(o=yield e.next()).done;)if(n.next(o.value),n.closed)return}catch(p){a={error:p}}finally{try{o&&!o.done&&(d=e.return)&&(yield d.call(e))}finally{if(a)throw a.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Xt(t,n,e,o=0,a=!1){const d=n.schedule(function(){e(),a?t.add(this.schedule(null,o)):this.unsubscribe()},o);if(t.add(d),!a)return d}function An(t,n,e=1/0){return ee(n)?An((o,a)=>at((d,p)=>n(o,d,a,p))(Bn(t(o,a))),e):("number"==typeof n&&(e=n),un((o,a)=>function cn(t,n,e,o,a,d,p,f){const m=[];let v=0,y=0,C=!1;const b=()=>{C&&!m.length&&!v&&n.complete()},S=A=>v<o?R(A):m.push(A),R=A=>{d&&n.next(A),v++;let I=!1;Bn(e(A,y++)).subscribe(Ut(n,F=>{null==a||a(F),d?S(F):n.next(F)},()=>{I=!0},void 0,()=>{if(I)try{for(v--;m.length&&v<o;){const F=m.shift();p?Xt(n,p,()=>R(F)):R(F)}b()}catch(F){n.error(F)}}))};return t.subscribe(Ut(n,S,()=>{C=!0,b()})),()=>{null==f||f()}}(o,a,t,e)))}function al(t=1/0){return An(Eo,t)}const Yr=new jt(t=>t.complete());function Qr(t){return t&&ee(t.schedule)}function Ou(t){return t[t.length-1]}function sa(t){return ee(Ou(t))?t.pop():void 0}function Tu(t){return Qr(Ou(t))?t.pop():void 0}function rf(t,n=0){return un((e,o)=>{e.subscribe(Ut(o,a=>Xt(o,t,()=>o.next(a),n),()=>Xt(o,t,()=>o.complete(),n),a=>Xt(o,t,()=>o.error(a),n)))})}function dy(t,n=0){return un((e,o)=>{o.add(t.schedule(()=>e.subscribe(o),n))})}function pe(t,n){if(!t)throw new Error("Iterable cannot be null");return new jt(e=>{Xt(e,n,()=>{const o=t[Symbol.asyncIterator]();Xt(e,n,()=>{o.next().then(a=>{a.done?e.complete():e.next(a.value)})},0,!0)})})}function Wn(t,n){return n?function af(t,n){if(null!=t){if(sy(t))return function sf(t,n){return Bn(t).pipe(dy(n),rf(n))}(t,n);if(Pt(t))return function p0(t,n){return new jt(e=>{let o=0;return n.schedule(function(){o===t.length?e.complete():(e.next(t[o++]),e.closed||this.schedule())})})}(t,n);if(Es(t))return function py(t,n){return Bn(t).pipe(dy(n),rf(n))}(t,n);if(ay(t))return pe(t,n);if(Od(t))return function Au(t,n){return new jt(e=>{let o;return Xt(e,n,()=>{o=t[Jn](),Xt(e,n,()=>{let a,d;try{({value:a,done:d}=o.next())}catch(p){return void e.error(p)}d?e.complete():e.next(a)},0,!0)}),()=>ee(null==o?void 0:o.return)&&o.return()})}(t,n);if(ly(t))return function h0(t,n){return pe(sl(t),n)}(t,n)}throw tf(t)}(t,n):Bn(t)}function L(t){return t<=0?()=>Yr:un((n,e)=>{let o=0;n.subscribe(Ut(e,a=>{++o<=t&&(e.next(a),t<=o&&e.complete())}))})}function uf(t,n,...e){return!0===n?(t(),null):!1===n?null:n(...e).pipe(L(1)).subscribe(()=>t())}function zt(t){for(let n in t)if(t[n]===zt)return n;throw Error("Could not find renamed property on target object.")}function cf(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Nt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Nt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Ad(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const df=zt({__forward_ref__:zt});function Je(t){return t.__forward_ref__=Je,t.toString=function(){return Nt(this())},t}function et(t){return fy(t)?t():t}function fy(t){return"function"==typeof t&&t.hasOwnProperty(df)&&t.__forward_ref__===Je}class Ae extends Error{constructor(n,e){super(function pf(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function Ye(t){return"string"==typeof t?t:null==t?"":String(t)}function ei(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ye(t)}function Pd(t,n){const e=n?` in ${n}`:"";throw new Ae(-201,`No provider for ${ei(t)} found${e}`)}function Vi(t,n){null==t&&function yt(t,n,e,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${e} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function Te(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nd(t){return la(t,ul)||la(t,Md)}function la(t,n){return t.hasOwnProperty(n)?t[n]:null}function my(t){return t&&(t.hasOwnProperty(Pu)||t.hasOwnProperty(ff))?t[Pu]:null}const ul=zt({\u0275prov:zt}),Pu=zt({\u0275inj:zt}),Md=zt({ngInjectableDef:zt}),ff=zt({ngInjectorDef:zt});var Ue=(()=>((Ue=Ue||{})[Ue.Default=0]="Default",Ue[Ue.Host=1]="Host",Ue[Ue.Self=2]="Self",Ue[Ue.SkipSelf=4]="SkipSelf",Ue[Ue.Optional=8]="Optional",Ue))();let Nu;function Do(t){const n=Nu;return Nu=t,n}function vy(t,n,e){const o=Nd(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:e&Ue.Optional?null:void 0!==n?n:void Pd(Nt(t),"Injector")}function Or(t){return{toString:t}.toString()}var Ai=(()=>((Ai=Ai||{})[Ai.OnPush=0]="OnPush",Ai[Ai.Default=1]="Default",Ai))(),Hi=(()=>{return(t=Hi||(Hi={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Hi;var t})();const _y="undefined"!=typeof globalThis&&globalThis,Cy="undefined"!=typeof window&&window,wy="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Vt=_y||"undefined"!=typeof global&&global||Cy||wy,cl={},Mt=[],Id=zt({\u0275cmp:zt}),xd=zt({\u0275dir:zt}),Lt=zt({\u0275pipe:zt}),vf=zt({\u0275mod:zt}),Bi=zt({\u0275fac:zt}),Ss=zt({__NG_ELEMENT_ID__:zt});let dl=0;function Rt(t){return Or(()=>{const e={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ai.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Mt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Hi.Emulated,id:"c",styles:t.styles||Mt,_:null,setInput:null,schemas:t.schemas||null,tView:null},a=t.directives,d=t.features,p=t.pipes;return o.id+=dl++,o.inputs=Wi(t.inputs,e),o.outputs=Wi(t.outputs),d&&d.forEach(f=>f(o)),o.directiveDefs=a?()=>("function"==typeof a?a():a).map(Ld):null,o.pipeDefs=p?()=>("function"==typeof p?p():p).map(Iu):null,o})}function Ld(t){return Sn(t)||function Zt(t){return t[xd]||null}(t)}function Iu(t){return function ua(t){return t[Lt]||null}(t)}const pl={};function Qe(t){return Or(()=>{const n={type:t.type,bootstrap:t.bootstrap||Mt,declarations:t.declarations||Mt,imports:t.imports||Mt,exports:t.exports||Mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(pl[t.id]=t.type),n})}function Wi(t,n){if(null==t)return cl;const e={};for(const o in t)if(t.hasOwnProperty(o)){let a=t[o],d=a;Array.isArray(a)&&(d=a[1],a=a[0]),e[a]=o,n&&(n[a]=d)}return e}const Ce=Rt;function nn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Sn(t){return t[Id]||null}function Tr(t,n){const e=t[vf]||null;if(!e&&!0===n)throw new Error(`Type ${Nt(t)} does not have '\u0275mod' property.`);return e}function vi(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ar(t){return Array.isArray(t)&&!0===t[1]}function Un(t){return 0!=(8&t.flags)}function Gu(t){return 2==(2&t.flags)}function ku(t){return 1==(1&t.flags)}function Pr(t){return null!==t.template}function D0(t){return 0!=(512&t[2])}function Ts(t,n){return t.hasOwnProperty(Bi)?t[Bi]:null}class Vd{constructor(n,e,o){this.previousValue=n,this.currentValue=e,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ln(){return Py}function Py(t){return t.type.prototype.ngOnChanges&&(t.setInput=wf),x0}function x0(){const t=My(this),n=null==t?void 0:t.current;if(n){const e=t.previous;if(e===cl)t.previous=n;else for(let o in n)e[o]=n[o];t.current=null,this.ngOnChanges(n)}}function wf(t,n,e,o){const a=My(t)||function bf(t,n){return t[Ny]=n}(t,{previous:cl,current:null}),d=a.current||(a.current={}),p=a.previous,f=this.declaredInputs[e],m=p[f];d[f]=new Vd(m&&m.currentValue,n,p===cl),t[o]=n}Ln.ngInherit=!0;const Ny="__ngSimpleChanges__";function My(t){return t[Ny]||null}let Ef;function gn(t){return!!t.listen}const Gy={createRenderer:(t,n)=>function zi(){return void 0!==Ef?Ef:"undefined"!=typeof document?document:void 0}()};function Dn(t){for(;Array.isArray(t);)t=t[0];return t}function Wd(t,n){return Dn(n[t])}function Ir(t,n){return Dn(n[t.index])}function Df(t,n){return t.data[n]}function yl(t,n){return t[n]}function ar(t,n){const e=n[t];return vi(e)?e:e[0]}function ky(t){return 4==(4&t[2])}function Hu(t){return 128==(128&t[2])}function Gt(t,n){return null==n?null:t[n]}function Vy(t){t[18]=0}function Le(t,n){t[5]+=n;let e=t,o=t[3];for(;null!==o&&(1===n&&1===e[5]||-1===n&&0===e[5]);)o[5]+=n,e=o,o=o[3]}const Be={lFrame:Uu(null),bindingsEnabled:!0};function lr(){return Be.bindingsEnabled}function ue(){return Be.lFrame.lView}function _t(){return Be.lFrame.tView}function ni(t){return Be.lFrame.contextLView=t,t[8]}function Me(){let t=Hy();for(;null!==t&&64===t.type;)t=t.parent;return t}function Hy(){return Be.lFrame.currentTNode}function Zr(t,n){const e=Be.lFrame;e.currentTNode=t,e.isParent=n}function Of(){return Be.lFrame.isParent}function Tf(){Be.lFrame.isParent=!1}function ii(){const t=Be.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function le(){return Be.lFrame.bindingIndex++}function Qo(t){const n=Be.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function Xo(t,n){const e=Be.lFrame;e.bindingIndex=e.bindingRootIndex=t,ju(n)}function ju(t){Be.lFrame.currentDirectiveIndex=t}function jy(){return Be.lFrame.currentQueryIndex}function Nf(t){Be.lFrame.currentQueryIndex=t}function Mf(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Uy(t,n,e){if(e&Ue.SkipSelf){let a=n,d=t;for(;!(a=a.parent,null!==a||e&Ue.Host||(a=Mf(d),null===a||(d=d[15],10&a.type))););if(null===a)return!1;n=a,t=d}const o=Be.lFrame=zy();return o.currentTNode=n,o.lView=t,!0}function ur(t){const n=zy(),e=t[1];Be.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function zy(){const t=Be.lFrame,n=null===t?null:t.child;return null===n?Uu(t):n}function Uu(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function If(){const t=Be.lFrame;return Be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $y=If;function Ud(){const t=If();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yi(){return Be.lFrame.selectedIndex}function Ao(t){Be.lFrame.selectedIndex=t}function mn(){const t=Be.lFrame;return Df(t.tView,t.selectedIndex)}function zd(t,n){for(let e=n.directiveStart,o=n.directiveEnd;e<o;e++){const d=t.data[e].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:f,ngAfterViewInit:m,ngAfterViewChecked:v,ngOnDestroy:y}=d;p&&(t.contentHooks||(t.contentHooks=[])).push(-e,p),f&&((t.contentHooks||(t.contentHooks=[])).push(e,f),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,f)),m&&(t.viewHooks||(t.viewHooks=[])).push(-e,m),v&&((t.viewHooks||(t.viewHooks=[])).push(e,v),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,v)),null!=y&&(t.destroyHooks||(t.destroyHooks=[])).push(e,y)}}function yn(t,n,e){_l(t,n,3,e)}function $d(t,n,e,o){(3&t[2])===e&&_l(t,n,e,o)}function zu(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function _l(t,n,e,o){const d=null!=o?o:-1,p=n.length-1;let f=0;for(let m=void 0!==o?65535&t[18]:0;m<p;m++)if("number"==typeof n[m+1]){if(f=n[m],null!=o&&f>=o)break}else n[m]<0&&(t[18]+=65536),(f<d||-1==d)&&(qy(t,e,n,m),t[18]=(4294901760&t[18])+m+2),m++}function qy(t,n,e,o){const a=e[o]<0,d=e[o+1],f=t[a?-e[o]:e[o]];if(a){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{d.call(f)}finally{}}}else try{d.call(f)}finally{}}class fa{constructor(n,e,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=o}}function Kd(t,n,e){const o=gn(t);let a=0;for(;a<e.length;){const d=e[a];if("number"==typeof d){if(0!==d)break;a++;const p=e[a++],f=e[a++],m=e[a++];o?t.setAttribute(n,f,m,p):n.setAttributeNS(p,f,m)}else{const p=d,f=e[++a];Yu(p)?o&&t.setProperty(n,p,f):o?t.setAttribute(n,p,f):n.setAttribute(p,f),a++}}return a}function qu(t){return 3===t||4===t||6===t}function Yu(t){return 64===t.charCodeAt(0)}function qd(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?e=a:0===e||Qu(t,e,a,null,-1===e||2===e?n[++o]:null)}}return t}function Qu(t,n,e,o,a){let d=0,p=t.length;if(-1===n)p=-1;else for(;d<t.length;){const f=t[d++];if("number"==typeof f){if(f===n){p=-1;break}if(f>n){p=d-1;break}}}for(;d<t.length;){const f=t[d];if("number"==typeof f)break;if(f===e){if(null===o)return void(null!==a&&(t[d+1]=a));if(o===t[d+1])return void(t[d+2]=a)}d++,null!==o&&d++,null!==a&&d++}-1!==p&&(t.splice(p,0,n),d=p+1),t.splice(d++,0,e),null!==o&&t.splice(d++,0,o),null!==a&&t.splice(d++,0,a)}function Xu(t){return-1!==t}function es(t){return 32767&t}function Ps(t,n){let e=function $0(t){return t>>16}(t),o=n;for(;e>0;)o=o[15],e--;return o}let Yd=!0;function Qd(t){const n=Yd;return Yd=t,n}let xr=0;function $i(t,n){const e=Gf(t,n);if(-1!==e)return e;const o=n[1];o.firstCreatePass&&(t.injectorIndex=n.length,Lf(o.data,t),Lf(n,null),Lf(o.blueprint,null));const a=Cl(t,n),d=t.injectorIndex;if(Xu(a)){const p=es(a),f=Ps(a,n),m=f[1].data;for(let v=0;v<8;v++)n[d+v]=f[p+v]|m[p+v]}return n[d+8]=a,d}function Lf(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Gf(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Cl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,o=null,a=n;for(;null!==a;){const d=a[1],p=d.type;if(o=2===p?d.declTNode:1===p?a[6]:null,null===o)return-1;if(e++,a=a[15],-1!==o.injectorIndex)return o.injectorIndex|e<<16}return-1}function Xd(t,n,e){!function K0(t,n,e){let o;"string"==typeof e?o=e.charCodeAt(0)||0:e.hasOwnProperty(Ss)&&(o=e[Ss]),null==o&&(o=e[Ss]=xr++);const a=255&o;n.data[t+(a>>5)]|=1<<a}(t,n,e)}function ga(t,n,e){if(e&Ue.Optional)return t;Pd(n,"NodeInjector")}function Xy(t,n,e,o){if(e&Ue.Optional&&void 0===o&&(o=null),0==(e&(Ue.Self|Ue.Host))){const a=t[9],d=Do(void 0);try{return a?a.get(n,o,e&Ue.Optional):vy(n,o,e&Ue.Optional)}finally{Do(d)}}return ga(o,n,e)}function Zy(t,n,e,o=Ue.Default,a){if(null!==t){const d=function e_(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ss)?t[Ss]:void 0;return"number"==typeof n?n>=0?255&n:Y0:n}(e);if("function"==typeof d){if(!Uy(n,t,o))return o&Ue.Host?ga(a,e,o):Xy(n,e,o,a);try{const p=d(o);if(null!=p||o&Ue.Optional)return p;Pd(e)}finally{$y()}}else if("number"==typeof d){let p=null,f=Gf(t,n),m=-1,v=o&Ue.Host?n[16][6]:null;for((-1===f||o&Ue.SkipSelf)&&(m=-1===f?Cl(t,n):n[f+8],-1!==m&&n_(o,!1)?(p=n[1],f=es(m),n=Ps(m,n)):f=-1);-1!==f;){const y=n[1];if(t_(d,f,y.data)){const C=Jy(f,n,e,p,o,v);if(C!==kf)return C}m=n[f+8],-1!==m&&n_(o,n[1].data[f+8]===v)&&t_(d,f,n)?(p=y,f=es(m),n=Ps(m,n)):f=-1}}}return Xy(n,e,o,a)}const kf={};function Y0(){return new ts(Me(),ue())}function Jy(t,n,e,o,a,d){const p=n[1],f=p.data[t+8],y=wl(f,p,e,null==o?Gu(f)&&Yd:o!=p&&0!=(3&f.type),a&Ue.Host&&d===f);return null!==y?Zu(n,p,y,f):kf}function wl(t,n,e,o,a){const d=t.providerIndexes,p=n.data,f=1048575&d,m=t.directiveStart,y=d>>20,b=a?f+y:t.directiveEnd;for(let S=o?f:f+y;S<b;S++){const R=p[S];if(S<m&&e===R||S>=m&&R.type===e)return S}if(a){const S=p[m];if(S&&Pr(S)&&S.type===e)return m}return null}function Zu(t,n,e,o){let a=t[e];const d=n.data;if(function j0(t){return t instanceof fa}(a)){const p=a;p.resolving&&function Fn(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${t}${e}`)}(ei(d[e]));const f=Qd(p.canSeeViewProviders);p.resolving=!0;const m=p.injectImpl?Do(p.injectImpl):null;Uy(t,o,Ue.Default);try{a=t[e]=p.factory(void 0,d,t,o),n.firstCreatePass&&e>=o.directiveStart&&function vn(t,n,e){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:d}=n.type.prototype;if(o){const p=Py(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,p),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,p)}a&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,a),d&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,d),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,d))}(e,d[e],n)}finally{null!==m&&Do(m),Qd(f),p.resolving=!1,$y()}}return a}function t_(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function n_(t,n){return!(t&Ue.Self||t&Ue.Host&&n)}class ts{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,o){return Zy(this._tNode,this._lView,n,o,e)}}function oi(t){return Or(()=>{const n=t.prototype.constructor,e=n[Bi]||Zd(n),o=Object.prototype;let a=Object.getPrototypeOf(t.prototype).constructor;for(;a&&a!==o;){const d=a[Bi]||Zd(a);if(d&&d!==e)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function Zd(t){return fy(t)?()=>{const n=Zd(et(t));return n&&n()}:Ts(t)}const El="__parameters__",Sl="__prop__metadata__";function Hf(t){return function(...e){if(t){const o=t(...e);for(const a in o)this[a]=o[a]}}}function Dl(t,n,e){return Or(()=>{const o=Hf(n);function a(...d){if(this instanceof a)return o.apply(this,d),this;const p=new a(...d);return f.annotation=p,f;function f(m,v,y){const C=m.hasOwnProperty(El)?m[El]:Object.defineProperty(m,El,{value:[]})[El];for(;C.length<=y;)C.push(null);return(C[y]=C[y]||[]).push(p),m}}return e&&(a.prototype=Object.create(e.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a})}function Jd(t,n,e,o){return Or(()=>{const a=Hf(n);function d(...p){if(this instanceof d)return a.apply(this,p),this;const f=new d(...p);return function m(v,y){const C=v.constructor,b=C.hasOwnProperty(Sl)?C[Sl]:Object.defineProperty(C,Sl,{value:{}})[Sl];b[y]=b.hasOwnProperty(y)&&b[y]||[],b[y].unshift(f),o&&o(v,y,...p)}}return e&&(d.prototype=Object.create(e.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}class it{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Te({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ep=new it("AnalyzeForEntryComponents");class Q0{}const Ns=Jd("ContentChildren",(t,n={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},n),Q0);function _i(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let o=t[e];Array.isArray(o)?(n===t&&(n=t.slice(0,e)),_i(o,n)):n!==t&&n.push(o)}return n}function Jr(t,n){t.forEach(e=>Array.isArray(e)?Jr(e,n):n(e))}function i_(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Ms(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function va(t,n){const e=[];for(let o=0;o<t;o++)e.push(n);return e}function cr(t,n,e){let o=Rl(t,n);return o>=0?t[1|o]=e:(o=~o,function Z0(t,n,e,o){let a=t.length;if(a==n)t.push(e,o);else if(1===a)t.push(o,t[0]),t[0]=e;else{for(a--,t.push(t[a-1],t[a]);a>n;)t[a]=t[a-2],a--;t[n]=e,t[n+1]=o}}(t,o,n,e)),o}function zf(t,n){const e=Rl(t,n);if(e>=0)return t[1|e]}function Rl(t,n){return function ec(t,n,e){let o=0,a=t.length>>e;for(;a!==o;){const d=o+(a-o>>1),p=t[d<<e];if(n===p)return d<<e;p>n?a=d:o=d+1}return~(a<<e)}(t,n,1)}const tc={},nc="__NG_DI_FLAG__",rp="ngTempTokenPath",iS=/\n/gm,c_="__source",oS=zt({provide:String,useValue:zt});let ic;function $f(t){const n=ic;return ic=t,n}function sS(t,n=Ue.Default){if(void 0===ic)throw new Ae(203,"");return null===ic?vy(t,void 0,n):ic.get(t,n&Ue.Optional?null:void 0,n)}function me(t,n=Ue.Default){return(function gf(){return Nu}()||sS)(et(t),n)}const aS=me;function is(t){const n=[];for(let e=0;e<t.length;e++){const o=et(t[e]);if(Array.isArray(o)){if(0===o.length)throw new Ae(900,"");let a,d=Ue.Default;for(let p=0;p<o.length;p++){const f=o[p],m=lS(f);"number"==typeof m?-1===m?a=f.token:d|=m:a=f}n.push(me(a,d))}else n.push(me(o))}return n}function Ol(t,n){return t[nc]=n,t.prototype[nc]=n,t}function lS(t){return t[nc]}const rc=Ol(Dl("Inject",t=>({token:t})),-1),Is=Ol(Dl("Optional"),8),oc=Ol(Dl("SkipSelf"),4);class g_{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ss(t){return t instanceof g_?t.changingThisBreaksApplicationSecurity:t}const CS=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,wS=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Mn=(()=>((Mn=Mn||{})[Mn.NONE=0]="NONE",Mn[Mn.HTML=1]="HTML",Mn[Mn.STYLE=2]="STYLE",Mn[Mn.SCRIPT=3]="SCRIPT",Mn[Mn.URL=4]="URL",Mn[Mn.RESOURCE_URL=5]="RESOURCE_URL",Mn))();function Rn(t){const n=function lc(){const t=ue();return t&&t[12]}();return n?n.sanitize(Mn.URL,t)||"":function Tl(t,n){const e=function v_(t){return t instanceof g_&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}(t,"URL")?ss(t):function hp(t){return(t=String(t)).match(CS)||t.match(wS)?t:"unsafe:"+t}(Ye(t))}const D_="__ngContext__";function si(t,n){t[D_]=n}function ig(t){const n=function uc(t){return t[D_]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function as(t){return t.ngOriginalError}function kS(t,...n){t.error(...n)}class Al{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),o=function GS(t){return t&&t.ngErrorLogger||kS}(n);o(this._console,"ERROR",n),e&&o(this._console,"ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&as(n);for(;e&&as(e);)e=as(e);return e||null}}const N_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Vt))();function dr(t){return t instanceof Function?t():t}var qi=(()=>((qi=qi||{})[qi.Important=1]="Important",qi[qi.DashCase=2]="DashCase",qi))();function yp(t,n){return undefined(t,n)}function dc(t){const n=t[3];return Ar(n)?n[3]:n}function sg(t){return ag(t[13])}function Cp(t){return ag(t[4])}function ag(t){for(;null!==t&&!Ar(t);)t=t[4];return t}function Mo(t,n,e,o,a){if(null!=o){let d,p=!1;Ar(o)?d=o:vi(o)&&(p=!0,o=o[0]);const f=Dn(o);0===t&&null!==e?null==a?Nl(n,e,f):ba(n,e,f,a||null,!0):1===t&&null!==e?ba(n,e,f,a||null,!0):2===t?function Rp(t,n,e){const o=fc(t,n);o&&function Ea(t,n,e,o){gn(t)?t.removeChild(n,e,o):n.removeChild(e)}(t,o,n,e)}(n,f,p):3===t&&n.destroyNode(f),null!=d&&function Op(t,n,e,o,a){const d=e[7];d!==Dn(e)&&Mo(n,t,o,d,a);for(let f=10;f<e.length;f++){const m=e[f];mc(m[1],m,t,n,o,d)}}(n,t,d,e,a)}}function bp(t,n,e){if(gn(t))return t.createElement(n,e);{const o=null!==e?function Fy(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(e):null;return null===o?t.createElement(n):t.createElementNS(o,n)}}function G_(t,n){const e=t[9],o=e.indexOf(n),a=n[3];1024&n[2]&&(n[2]&=-1025,Le(a,-1)),e.splice(o,1)}function hc(t,n){if(t.length<=10)return;const e=10+n,o=t[e];if(o){const a=o[17];null!==a&&a!==t&&G_(a,o),n>0&&(t[e-1][4]=o[4]);const d=Ms(t,10+n);!function YS(t,n){mc(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(o[1],o);const p=d[19];null!==p&&p.detachView(d[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function k_(t,n){if(!(256&n[2])){const e=n[11];gn(e)&&e.destroyNode&&mc(t,n,e,3,null,null),function XS(t){let n=t[13];if(!n)return cg(t[1],t);for(;n;){let e=null;if(vi(n))e=n[13];else{const o=n[10];o&&(e=o)}if(!e){for(;n&&!n[4]&&n!==t;)vi(n)&&cg(n[1],n),n=n[3];null===n&&(n=t),vi(n)&&cg(n[1],n),e=n&&n[4]}n=e}}(n)}}function cg(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function H_(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let o=0;o<e.length;o+=2){const a=n[e[o]];if(!(a instanceof fa)){const d=e[o+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const f=a[d[p]],m=d[p+1];try{m.call(f)}finally{}}else try{d.call(a)}finally{}}}}(t,n),function V_(t,n){const e=t.cleanup,o=n[7];let a=-1;if(null!==e)for(let d=0;d<e.length-1;d+=2)if("string"==typeof e[d]){const p=e[d+1],f="function"==typeof p?p(n):Dn(n[p]),m=o[a=e[d+2]],v=e[d+3];"boolean"==typeof v?f.removeEventListener(e[d],m,v):v>=0?o[a=v]():o[a=-v].unsubscribe(),d+=2}else{const p=o[a=e[d+1]];e[d].call(p)}if(null!==o){for(let d=a+1;d<o.length;d++)o[d]();n[7]=null}}(t,n),1===n[1].type&&gn(n[11])&&n[11].destroy();const e=n[17];if(null!==e&&Ar(n[3])){e!==n[3]&&G_(e,n);const o=n[19];null!==o&&o.detachView(t)}}}function B_(t,n,e){return function W_(t,n,e){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return e[0];if(2&o.flags){const a=t.data[o.directiveStart].encapsulation;if(a===Hi.None||a===Hi.Emulated)return null}return Ir(o,e)}(t,n.parent,e)}function ba(t,n,e,o,a){gn(t)?t.insertBefore(n,e,o,a):n.insertBefore(e,o,a)}function Nl(t,n,e){gn(t)?t.appendChild(n,e):n.appendChild(e)}function ht(t,n,e,o,a){null!==o?ba(t,n,e,o,a):Nl(t,n,e)}function fc(t,n){return gn(t)?t.parentNode(n):n.parentNode}function j_(t,n,e){return U_(t,n,e)}let U_=function gc(t,n,e){return 40&t.type?Ir(t,e):null};function Dp(t,n,e,o){const a=B_(t,o,n),d=n[11],f=j_(o.parent||n[6],o,n);if(null!=a)if(Array.isArray(e))for(let m=0;m<e.length;m++)ht(d,a,e[m],f,!1);else ht(d,a,e,f,!1)}function ls(t,n){if(null!==n){const e=n.type;if(3&e)return Ir(n,t);if(4&e)return pg(-1,t[n.index]);if(8&e){const o=n.child;if(null!==o)return ls(t,o);{const a=t[n.index];return Ar(a)?pg(-1,a):Dn(a)}}if(32&e)return yp(n,t)()||Dn(t[n.index]);{const o=dg(t,n);return null!==o?Array.isArray(o)?o[0]:ls(dc(t[16]),o):ls(t,n.next)}}return null}function dg(t,n){return null!==n?t[16][6].projection[n.projection]:null}function pg(t,n){const e=10+t+1;if(e<n.length){const o=n[e],a=o[1].firstChild;if(null!==a)return ls(o,a)}return n[7]}function hg(t,n,e,o,a,d,p){for(;null!=e;){const f=o[e.index],m=e.type;if(p&&0===n&&(f&&si(Dn(f),o),e.flags|=4),64!=(64&e.flags))if(8&m)hg(t,n,e.child,o,a,d,!1),Mo(n,t,a,f,d);else if(32&m){const v=yp(e,o);let y;for(;y=v();)Mo(n,t,a,y,d);Mo(n,t,a,f,d)}else 16&m?z_(t,n,o,e,a,d):Mo(n,t,a,f,d);e=p?e.projectionNext:e.next}}function mc(t,n,e,o,a,d){hg(e,o,t.firstChild,n,a,d,!1)}function z_(t,n,e,o,a,d){const p=e[16],m=p[6].projection[o.projection];if(Array.isArray(m))for(let v=0;v<m.length;v++)Mo(n,t,a,m[v],d);else hg(t,n,m,p[3],a,d,!0)}function $_(t,n,e){gn(t)?t.setAttribute(n,"style",e):n.style.cssText=e}function Gr(t,n,e){gn(t)?""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e):n.className=e}function fg(t,n,e){let o=t.length;for(;;){const a=t.indexOf(n,e);if(-1===a)return a;if(0===a||t.charCodeAt(a-1)<=32){const d=n.length;if(a+d===o||t.charCodeAt(a+d)<=32)return a}e=a+1}}const vc="ng-template";function tD(t,n,e){let o=0;for(;o<t.length;){let a=t[o++];if(e&&"class"===a){if(a=t[o],-1!==fg(a.toLowerCase(),n,0))return!0}else if(1===a){for(;o<t.length&&"string"==typeof(a=t[o++]);)if(a.toLowerCase()===n)return!0;return!1}}return!1}function K_(t){return 4===t.type&&t.value!==vc}function nD(t,n,e){return n===(4!==t.type||e?t.value:vc)}function iD(t,n,e){let o=4;const a=t.attrs||[],d=function mg(t){for(let n=0;n<t.length;n++)if(qu(t[n]))return n;return t.length}(a);let p=!1;for(let f=0;f<n.length;f++){const m=n[f];if("number"!=typeof m){if(!p)if(4&o){if(o=2|1&o,""!==m&&!nD(t,m,e)||""===m&&1===n.length){if(eo(o))return!1;p=!0}}else{const v=8&o?m:n[++f];if(8&o&&null!==t.attrs){if(!tD(t.attrs,v,e)){if(eo(o))return!1;p=!0}continue}const C=Il(8&o?"class":m,a,K_(t),e);if(-1===C){if(eo(o))return!1;p=!0;continue}if(""!==v){let b;b=C>d?"":a[C+1].toLowerCase();const S=8&o?b:null;if(S&&-1!==fg(S,v,0)||2&o&&v!==b){if(eo(o))return!1;p=!0}}}}else{if(!p&&!eo(o)&&!eo(m))return!1;if(p&&eo(m))continue;p=!1,o=m|1&o}}return eo(o)||p}function eo(t){return 0==(1&t)}function Il(t,n,e,o){if(null===n)return-1;let a=0;if(o||!e){let d=!1;for(;a<n.length;){const p=n[a];if(p===t)return a;if(3===p||6===p)d=!0;else{if(1===p||2===p){let f=n[++a];for(;"string"==typeof f;)f=n[++a];continue}if(4===p)break;if(0===p){a+=4;continue}}a+=d?1:2}return-1}return function oD(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const o=t[e];if("number"==typeof o)return-1;if(o===n)return e;e++}return-1}(n,t)}function gg(t,n,e=!1){for(let o=0;o<n.length;o++)if(iD(t,n[o],e))return!0;return!1}function Tp(t,n){e:for(let e=0;e<n.length;e++){const o=n[e];if(t.length===o.length){for(let a=0;a<t.length;a++)if(t[a]!==o[a])continue e;return!0}}return!1}function q_(t,n){return t?":not("+n.trim()+")":n}function yc(t){let n=t[0],e=1,o=2,a="",d=!1;for(;e<t.length;){let p=t[e];if("string"==typeof p)if(2&o){const f=t[++e];a+="["+p+(f.length>0?'="'+f+'"':"")+"]"}else 8&o?a+="."+p:4&o&&(a+=" "+p);else""!==a&&!eo(p)&&(n+=q_(d,a),a=""),o=p,d=d||!eo(o);e++}return""!==a&&(n+=q_(d,a)),n}const $e={};function Y(t){Ap(_t(),ue(),yi()+t,!1)}function Ap(t,n,e,o){if(!o)if(3==(3&n[2])){const d=t.preOrderCheckHooks;null!==d&&yn(n,d,e)}else{const d=t.preOrderHooks;null!==d&&$d(n,d,0,e)}Ao(e)}function Pp(t,n){return t<<17|n<<2}function Ci(t){return t>>17&32767}function xl(t){return 2|t}function Io(t){return(131068&t)>>2}function yg(t,n){return-131069&t|n<<2}function Np(t){return 1|t}function iC(t,n){const e=t.contentQueries;if(null!==e)for(let o=0;o<e.length;o+=2){const a=e[o],d=e[o+1];if(-1!==d){const p=t.data[d];Nf(a),p.contentQueries(2,n[d],d)}}}function wc(t,n,e,o,a,d,p,f,m,v){const y=n.blueprint.slice();return y[0]=a,y[2]=140|o,Vy(y),y[3]=y[15]=t,y[8]=e,y[10]=p||t&&t[10],y[11]=f||t&&t[11],y[12]=m||t&&t[12]||null,y[9]=v||t&&t[9]||null,y[6]=d,y[16]=2==n.type?t[16]:y,y}function Da(t,n,e,o,a){let d=t.data[n];if(null===d)d=function Gp(t,n,e,o,a){const d=Hy(),p=Of(),m=t.data[n]=function CD(t,n,e,o,a,d){return{type:e,index:o,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,e,n,o,a);return null===t.firstChild&&(t.firstChild=m),null!==d&&(p?null==d.child&&null!==m.parent&&(d.child=m):null===d.next&&(d.next=m)),m}(t,n,e,o,a),function Af(){return Be.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=e,d.value=o,d.attrs=a;const p=function ae(){const t=Be.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return Zr(d,!0),d}function Gl(t,n,e,o){if(0===e)return-1;const a=n.length;for(let d=0;d<e;d++)n.push(o),t.blueprint.push(o),t.data.push(null);return a}function kl(t,n,e){ur(n);try{const o=t.viewQuery;null!==o&&$p(1,o,e);const a=t.template;null!==a&&sC(t,n,a,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&iC(t,n),t.staticViewQueries&&$p(2,t.viewQuery,e);const d=t.components;null!==d&&function rC(t,n){for(let e=0;e<n.length;e++)Bl(t,n[e])}(n,d)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[2]&=-5,Ud()}}function Vl(t,n,e,o){const a=n[2];if(256!=(256&a)){ur(n);try{Vy(n),function Wy(t){return Be.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&sC(t,n,e,2,o);const p=3==(3&a);if(p){const v=t.preOrderCheckHooks;null!==v&&yn(n,v,null)}else{const v=t.preOrderHooks;null!==v&&$d(n,v,0,null),zu(n,0)}if(function yC(t){for(let n=sg(t);null!==n;n=Cp(n)){if(!n[2])continue;const e=n[9];for(let o=0;o<e.length;o++){const a=e[o],d=a[3];0==(1024&a[2])&&Le(d,1),a[2]|=1024}}}(n),function TD(t){for(let n=sg(t);null!==n;n=Cp(n))for(let e=10;e<n.length;e++){const o=n[e],a=o[1];Hu(o)&&Vl(a,o,a.template,o[8])}}(n),null!==t.contentQueries&&iC(t,n),p){const v=t.contentCheckHooks;null!==v&&yn(n,v)}else{const v=t.contentHooks;null!==v&&$d(n,v,1),zu(n,1)}!function nC(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let o=0;o<e.length;o++){const a=e[o];if(a<0)Ao(~a);else{const d=a,p=e[++o],f=e[++o];Xo(p,d),f(2,n[d])}}}finally{Ao(-1)}}(t,n);const f=t.components;null!==f&&function Cc(t,n){for(let e=0;e<n.length;e++)AD(t,n[e])}(n,f);const m=t.viewQuery;if(null!==m&&$p(2,m,o),p){const v=t.viewCheckHooks;null!==v&&yn(n,v)}else{const v=t.viewHooks;null!==v&&$d(n,v,2),zu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-73,1024&n[2]&&(n[2]&=-1025,Le(n[3],-1))}finally{Ud()}}}function oC(t,n,e,o){const a=n[10],p=ky(n);try{!p&&a.begin&&a.begin(),p&&kl(t,n,o),Vl(t,n,e,o)}finally{!p&&a.end&&a.end()}}function sC(t,n,e,o,a){const d=yi(),p=2&o;try{Ao(-1),p&&n.length>20&&Ap(t,n,20,!1),e(o,a)}finally{Ao(d)}}function kp(t,n,e){if(Un(n)){const a=n.directiveEnd;for(let d=n.directiveStart;d<a;d++){const p=t.data[d];p.contentQueries&&p.contentQueries(1,e[d],d)}}}function Og(t,n,e){!lr()||(function uC(t,n,e,o){const a=e.directiveStart,d=e.directiveEnd;t.firstCreatePass||$i(e,n),si(o,n);const p=e.initialInputs;for(let f=a;f<d;f++){const m=t.data[f],v=Pr(m);v&&RD(n,e,m);const y=Zu(n,t,f,e);si(y,n),null!==p&&Up(0,f-a,y,m,0,p),v&&(ar(e.index,n)[8]=y)}}(t,n,e,Ir(e,n)),128==(128&e.flags)&&function DD(t,n,e){const o=e.directiveStart,a=e.directiveEnd,p=e.index,f=function H0(){return Be.lFrame.currentDirectiveIndex}();try{Ao(p);for(let m=o;m<a;m++){const v=t.data[m],y=n[m];ju(m),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&us(v,y)}}finally{Ao(-1),ju(f)}}(t,n,e))}function Vp(t,n,e=Ir){const o=n.localNames;if(null!==o){let a=n.index+1;for(let d=0;d<o.length;d+=2){const p=o[d+1],f=-1===p?e(n,t):t[p];t[a++]=f}}}function aC(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=bc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function bc(t,n,e,o,a,d,p,f,m,v){const y=20+o,C=y+a,b=function _D(t,n){const e=[];for(let o=0;o<n;o++)e.push(o<t?null:$e);return e}(y,C),S="function"==typeof v?v():v;return b[1]={type:t,blueprint:b,template:e,queries:null,viewQuery:f,declTNode:n,data:b.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:m,consts:S,incompleteFirstPass:!1}}function Ag(t,n,e,o){const a=_C(n);null===e?a.push(o):(a.push(e),t.firstCreatePass&&CC(t).push(o,a.length-1))}function Hl(t,n,e){for(let o in t)if(t.hasOwnProperty(o)){const a=t[o];(e=null===e?{}:e).hasOwnProperty(o)?e[o].push(n,a):e[o]=[n,a]}return e}function On(t,n,e,o,a,d,p,f){const m=Ir(n,e);let y,v=n.inputs;!f&&null!=v&&(y=v[o])?(bC(t,e,y,o,a),Gu(n)&&function bD(t,n){const e=ar(n,t);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(o=function wD(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),a=null!=p?p(a,n.value||"",o):a,gn(d)?d.setProperty(m,o,a):Yu(o)||(m.setProperty?m.setProperty(o,a):m[o]=a))}function Pg(t,n,e,o){let a=!1;if(lr()){const d=function cC(t,n,e){const o=t.directiveRegistry;let a=null;if(o)for(let d=0;d<o.length;d++){const p=o[d];gg(e,p.selectors,!1)&&(a||(a=[]),Xd($i(e,n),t,p.type),Pr(p)?(dC(t,e),a.unshift(p)):a.push(p))}return a}(t,n,e),p=null===o?null:{"":-1};if(null!==d){a=!0,fC(e,t.data.length,d.length);for(let y=0;y<d.length;y++){const C=d[y];C.providersResolver&&C.providersResolver(C)}let f=!1,m=!1,v=Gl(t,n,d.length,null);for(let y=0;y<d.length;y++){const C=d[y];e.mergedAttrs=qd(e.mergedAttrs,C.hostAttrs),gC(t,e,n,v,C),hC(v,C,p),null!==C.contentQueries&&(e.flags|=8),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(e.flags|=128);const b=C.type.prototype;!f&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),f=!0),!m&&(b.ngOnChanges||b.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),m=!0),v++}!function lC(t,n){const o=n.directiveEnd,a=t.data,d=n.attrs,p=[];let f=null,m=null;for(let v=n.directiveStart;v<o;v++){const y=a[v],C=y.inputs,b=null===d||K_(n)?null:mC(C,d);p.push(b),f=Hl(C,v,f),m=Hl(y.outputs,v,m)}null!==f&&(f.hasOwnProperty("class")&&(n.flags|=16),f.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=p,n.inputs=f,n.outputs=m}(t,e)}p&&function pC(t,n,e){if(n){const o=t.localNames=[];for(let a=0;a<n.length;a+=2){const d=e[n[a+1]];if(null==d)throw new Ae(-301,!1);o.push(n[a],d)}}}(e,o,p)}return e.mergedAttrs=qd(e.mergedAttrs,e.attrs),a}function jp(t,n,e,o,a,d){const p=d.hostBindings;if(p){let f=t.hostBindingOpCodes;null===f&&(f=t.hostBindingOpCodes=[]);const m=~n.index;(function SD(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(f)!=m&&f.push(m),f.push(o,a,p)}}function us(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function dC(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function hC(t,n,e){if(e){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)e[n.exportAs[o]]=t;Pr(n)&&(e[""]=t)}}function fC(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function gC(t,n,e,o,a){t.data[o]=a;const d=a.factory||(a.factory=Ts(a.type)),p=new fa(d,Pr(a),null);t.blueprint[o]=p,e[o]=p,jp(t,n,0,o,Gl(t,e,a.hostVars,$e),a)}function RD(t,n,e){const o=Ir(n,t),a=aC(e),d=t[10],p=Fi(t,wc(t,a,null,e.onPush?64:16,o,n,d,d.createRenderer(o,e),null,null));t[n.index]=p}function Yi(t,n,e,o,a,d){const p=Ir(t,n);!function Ng(t,n,e,o,a,d,p){if(null==d)gn(t)?t.removeAttribute(n,a,e):n.removeAttribute(a);else{const f=null==p?Ye(d):p(d,o||"",a);gn(t)?t.setAttribute(n,a,f,e):e?n.setAttributeNS(e,a,f):n.setAttribute(a,f)}}(n[11],p,d,t.value,e,o,a)}function Up(t,n,e,o,a,d){const p=d[n];if(null!==p){const f=o.setInput;for(let m=0;m<p.length;){const v=p[m++],y=p[m++],C=p[m++];null!==f?o.setInput(e,C,v,y):e[y]=C}}}function mC(t,n){let e=null,o=0;for(;o<n.length;){const a=n[o];if(0!==a)if(5!==a){if("number"==typeof a)break;t.hasOwnProperty(a)&&(null===e&&(e=[]),e.push(a,t[a],n[o+1])),o+=2}else o+=2;else o+=4}return e}function vC(t,n,e,o){return new Array(t,!0,!1,n,null,0,o,e,null,null)}function AD(t,n){const e=ar(n,t);if(Hu(e)){const o=e[1];80&e[2]?Vl(o,e,o.template,e[8]):e[5]>0&&zp(e)}}function zp(t){for(let o=sg(t);null!==o;o=Cp(o))for(let a=10;a<o.length;a++){const d=o[a];if(1024&d[2]){const p=d[1];Vl(p,d,p.template,d[8])}else d[5]>0&&zp(d)}const e=t[1].components;if(null!==e)for(let o=0;o<e.length;o++){const a=ar(e[o],t);Hu(a)&&a[5]>0&&zp(a)}}function Bl(t,n){const e=ar(n,t),o=e[1];(function PD(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(o,e),kl(o,e,e[8])}function Fi(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Mg(t){for(;t;){t[2]|=64;const n=dc(t);if(D0(t)&&!n)return t;t=n}return null}function Wl(t){!function Bs(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],o=ig(e),a=o[1];oC(a,o,a.template,e)}}(t[8])}function $p(t,n,e){Nf(0),n(t,e)}const Kp=(()=>Promise.resolve(null))();function _C(t){return t[7]||(t[7]=[])}function CC(t){return t.cleanup||(t.cleanup=[])}function xg(t,n){const e=t[9],o=e?e.get(Al,null):null;o&&o.handleError(n)}function bC(t,n,e,o,a){for(let d=0;d<e.length;){const p=e[d++],f=e[d++],m=n[p],v=t.data[p];null!==v.setInput?v.setInput(m,a,o,f):m[f]=a}}function pr(t,n,e){const o=Wd(n,t);!function L_(t,n,e){gn(t)?t.setValue(n,e):n.textContent=e}(t[11],o,e)}function Sc(t,n,e){let o=e?t.styles:null,a=e?t.classes:null,d=0;if(null!==n)for(let p=0;p<n.length;p++){const f=n[p];"number"==typeof f?d=f:1==d?a=Ad(a,f):2==d&&(o=Ad(o,f+": "+n[++p]+";"))}e?t.styles=o:t.stylesWithoutHost=o,e?t.classes=a:t.classesWithoutHost=a}const qp=new it("INJECTOR",-1);class EC{get(n,e=tc){if(e===tc){const o=new Error(`NullInjectorError: No provider for ${Nt(n)}!`);throw o.name="NullInjectorError",o}return e}}const js=new it("Set Injector scope."),Rc={},SC={};let Oc;function Fg(){return void 0===Oc&&(Oc=new EC),Oc}function DC(t,n=null,e=null,o){const a=jl(t,n,e,o);return a._resolveInjectorDefTypes(),a}function jl(t,n=null,e=null,o){return new RC(t,e,n||Fg(),o)}class RC{constructor(n,e,o,a=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];e&&Jr(e,f=>this.processProvider(f,n,e)),Jr([n],f=>this.processInjectorType(f,[],d)),this.records.set(qp,Ul(void 0,this));const p=this.records.get(js);this.scope=null!=p?p.value:null,this.source=a||("object"==typeof n?null:Nt(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=tc,o=Ue.Default){this.assertNotDestroyed();const a=$f(this),d=Do(void 0);try{if(!(o&Ue.SkipSelf)){let f=this.records.get(n);if(void 0===f){const m=function LD(t){return"function"==typeof t||"object"==typeof t&&t instanceof it}(n)&&Nd(n);f=m&&this.injectableDefInScope(m)?Ul(Lg(n),Rc):null,this.records.set(n,f)}if(null!=f)return this.hydrate(n,f)}return(o&Ue.Self?Fg():this.parent).get(n,e=o&Ue.Optional&&e===tc?null:e)}catch(p){if("NullInjectorError"===p.name){if((p[rp]=p[rp]||[]).unshift(Nt(n)),a)throw p;return function op(t,n,e,o){const a=t[rp];throw n[c_]&&a.unshift(n[c_]),t.message=function Po(t,n,e,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let a=Nt(n);if(Array.isArray(n))a=n.map(Nt).join(" -> ");else if("object"==typeof n){let d=[];for(let p in n)if(n.hasOwnProperty(p)){let f=n[p];d.push(p+":"+("string"==typeof f?JSON.stringify(f):Nt(f)))}a=`{${d.join(", ")}}`}return`${e}${o?"("+o+")":""}[${a}]: ${t.replace(iS,"\n  ")}`}("\n"+t.message,a,e,o),t.ngTokenPath=a,t[rp]=null,t}(p,n,"R3InjectorError",this.source)}throw p}finally{Do(d),$f(a)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((o,a)=>n.push(Nt(a))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processInjectorType(n,e,o){if(!(n=et(n)))return!1;let a=my(n);const d=null==a&&n.ngModule||void 0,p=void 0===d?n:d,f=-1!==o.indexOf(p);if(void 0!==d&&(a=my(d)),null==a)return!1;if(null!=a.imports&&!f){let y;o.push(p);try{Jr(a.imports,C=>{this.processInjectorType(C,e,o)&&(void 0===y&&(y=[]),y.push(C))})}finally{}if(void 0!==y)for(let C=0;C<y.length;C++){const{ngModule:b,providers:S}=y[C];Jr(S,R=>this.processProvider(R,b,S||Mt))}}this.injectorDefTypes.add(p);const m=Ts(p)||(()=>new p);this.records.set(p,Ul(m,Rc));const v=a.providers;if(null!=v&&!f){const y=n;Jr(v,C=>this.processProvider(C,y,v))}return void 0!==d&&void 0!==n.providers}processProvider(n,e,o){let a=Ra(n=et(n))?n:et(n&&n.provide);const d=function ID(t,n,e){return TC(t)?Ul(void 0,t.useValue):Ul(Gg(t),Rc)}(n);if(Ra(n)||!0!==n.multi)this.records.get(a);else{let p=this.records.get(a);p||(p=Ul(void 0,Rc,!0),p.factory=()=>is(p.multi),this.records.set(a,p)),a=n,p.multi.push(n)}this.records.set(a,d)}hydrate(n,e){return e.value===Rc&&(e.value=SC,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Yp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=et(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Lg(t){const n=Nd(t),e=null!==n?n.factory:Ts(t);if(null!==e)return e;if(t instanceof it)throw new Ae(204,!1);if(t instanceof Function)return function OC(t){const n=t.length;if(n>0)throw va(n,"?"),new Ae(204,!1);const e=function gy(t){const n=t&&(t[ul]||t[Md]);if(n){const e=function C0(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Ae(204,!1)}function Gg(t,n,e){let o;if(Ra(t)){const a=et(t);return Ts(a)||Lg(a)}if(TC(t))o=()=>et(t.useValue);else if(function xD(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...is(t.deps||[]));else if(function AC(t){return!(!t||!t.useExisting)}(t))o=()=>me(et(t.useExisting));else{const a=et(t&&(t.useClass||t.provide));if(!function PC(t){return!!t.deps}(t))return Ts(a)||Lg(a);o=()=>new a(...is(t.deps))}return o}function Ul(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function TC(t){return null!==t&&"object"==typeof t&&oS in t}function Ra(t){return"function"==typeof t}let rn=(()=>{class t{static create(e,o){var a;if(Array.isArray(e))return DC({name:""},o,e,"");{const d=null!==(a=e.name)&&void 0!==a?a:"";return DC({name:d},e.parent,e.providers,d)}}}return t.THROW_IF_NOT_FOUND=tc,t.NULL=new EC,t.\u0275prov=Te({token:t,providedIn:"any",factory:()=>me(qp)}),t.__NG_ELEMENT_ID__=-1,t})();function BD(t,n){zd(ig(t)[1],Me())}function It(t){let n=function Jp(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const o=[t];for(;n;){let a;if(Pr(t))a=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ae(903,"");a=n.\u0275dir}if(a){if(e){o.push(a);const p=t;p.inputs=eh(t.inputs),p.declaredInputs=eh(t.declaredInputs),p.outputs=eh(t.outputs);const f=a.hostBindings;f&&zg(t,f);const m=a.viewQuery,v=a.contentQueries;if(m&&Ug(t,m),v&&jD(t,v),cf(t.inputs,a.inputs),cf(t.declaredInputs,a.declaredInputs),cf(t.outputs,a.outputs),Pr(a)&&a.data.animation){const y=t.data;y.animation=(y.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let p=0;p<d.length;p++){const f=d[p];f&&f.ngInherit&&f(t),f===It&&(e=!1)}}n=Object.getPrototypeOf(n)}!function WD(t){let n=0,e=null;for(let o=t.length-1;o>=0;o--){const a=t[o];a.hostVars=n+=a.hostVars,a.hostAttrs=qd(a.hostAttrs,e=qd(e,a.hostAttrs))}}(o)}function eh(t){return t===cl?{}:t===Mt?[]:t}function Ug(t,n){const e=t.viewQuery;t.viewQuery=e?(o,a)=>{n(o,a),e(o,a)}:n}function jD(t,n){const e=t.contentQueries;t.contentQueries=e?(o,a,d)=>{n(o,a,d),e(o,a,d)}:n}function zg(t,n){const e=t.hostBindings;t.hostBindings=e?(o,a)=>{n(o,a),e(o,a)}:n}let Us=null;function Oa(){if(!Us){const t=Vt.Symbol;if(t&&t.iterator)Us=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const o=n[e];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(Us=o)}}}return Us}function zs(t){return!!Kg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Oa()in t)}function Kg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function io(t,n,e){return t[n]=e}function wi(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function zn(t,n,e,o){const a=wi(t,n,e);return wi(t,n+1,o)||a}function Ct(t,n,e,o){const a=ue();return wi(a,le(),n)&&(_t(),Yi(mn(),a,t,n,e,o)),Ct}function Kl(t,n,e,o){return wi(t,le(),e)?n+Ye(e)+o:$e}function ql(t,n,e,o,a,d){const f=zn(t,function To(){return Be.lFrame.bindingIndex}(),e,a);return Qo(2),f?n+Ye(e)+o+Ye(a)+d:$e}function ce(t,n,e,o,a,d,p,f){const m=ue(),v=_t(),y=t+20,C=v.firstCreatePass?function qD(t,n,e,o,a,d,p,f,m){const v=n.consts,y=Da(n,t,4,p||null,Gt(v,f));Pg(n,e,y,Gt(v,m)),zd(n,y);const C=y.tViews=bc(2,y,o,a,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,v);return null!==n.queries&&(n.queries.template(n,y),C.queries=n.queries.embeddedTView(y)),y}(y,v,m,n,e,o,a,d,p):v.data[y];Zr(C,!1);const b=m[11].createComment("");Dp(v,m,b,C),si(b,m),Fi(m,m[y]=vC(b,m,b,C)),ku(C)&&Og(v,m,C),null!=p&&Vp(m,C,f)}function hr(t){return yl(function By(){return Be.lFrame.contextLView}(),20+t)}function H(t,n=Ue.Default){const e=ue();return null===e?me(t,n):Zy(Me(),e,et(t),n)}function rm(){throw new Error("invalid")}function re(t,n,e){const o=ue();return wi(o,le(),n)&&On(_t(),mn(),o,t,n,o[11],e,!1),re}function om(t,n,e,o,a){const p=a?"class":"style";bC(t,e,n.inputs[p],p,o)}function Q(t,n,e,o){const a=ue(),d=_t(),p=20+t,f=a[11],m=a[p]=bp(f,n,function ri(){return Be.lFrame.currentNamespace}()),v=d.firstCreatePass?function oR(t,n,e,o,a,d,p){const f=n.consts,v=Da(n,t,2,a,Gt(f,d));return Pg(n,e,v,Gt(f,p)),null!==v.attrs&&Sc(v,v.attrs,!1),null!==v.mergedAttrs&&Sc(v,v.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,v),v}(p,d,a,0,n,e,o):d.data[p];Zr(v,!0);const y=v.mergedAttrs;null!==y&&Kd(f,m,y);const C=v.classes;null!==C&&Gr(f,m,C);const b=v.styles;return null!==b&&$_(f,m,b),64!=(64&v.flags)&&Dp(d,a,m,v),0===function k0(){return Be.lFrame.elementDepthCount}()&&si(m,a),function Rf(){Be.lFrame.elementDepthCount++}(),ku(v)&&(Og(d,a,v),kp(d,v,a)),null!==o&&Vp(a,v),Q}function X(){let t=Me();Of()?Tf():(t=t.parent,Zr(t,!1));const n=t;!function Bu(){Be.lFrame.elementDepthCount--}();const e=_t();return e.firstCreatePass&&(zd(e,t),Un(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function U0(t){return 0!=(16&t.flags)}(n)&&om(e,n,ue(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function z0(t){return 0!=(32&t.flags)}(n)&&om(e,n,ue(),n.stylesWithoutHost,!1),X}function pt(t,n,e,o){return Q(t,n,e,o),X(),pt}function Mc(t,n,e){const o=ue(),a=_t(),d=t+20,p=a.firstCreatePass?function sR(t,n,e,o,a){const d=n.consts,p=Gt(d,o),f=Da(n,t,8,"ng-container",p);return null!==p&&Sc(f,p,!0),Pg(n,e,f,Gt(d,a)),null!==n.queries&&n.queries.elementStart(n,f),f}(d,a,o,n,e):a.data[d];Zr(p,!0);const f=o[d]=o[11].createComment("");return Dp(a,o,f,p),si(f,o),ku(p)&&(Og(a,o,p),kp(a,p,o)),null!=e&&Vp(o,p),Mc}function Ic(){let t=Me();const n=_t();return Of()?Tf():(t=t.parent,Zr(t,!1)),n.firstCreatePass&&(zd(n,t),Un(t)&&n.queries.elementEnd(t)),Ic}function Pa(t,n,e){return Mc(t,n,e),Ic(),Pa}function li(){return ue()}function eu(t){return!!t&&"function"==typeof t.then}const tu=function rw(t){return!!t&&"function"==typeof t.subscribe};function Ke(t,n,e,o){const a=ue(),d=_t(),p=Me();return function oo(t,n,e,o,a,d,p,f){const m=ku(o),y=t.firstCreatePass&&CC(t),C=n[8],b=_C(n);let S=!0;if(3&o.type||f){const I=Ir(o,n),F=f?f(I):I,k=b.length,z=f?W=>f(Dn(W[o.index])):o.index;if(gn(e)){let W=null;if(!f&&m&&(W=function aR(t,n,e,o){const a=t.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const p=a[d];if(p===e&&a[d+1]===o){const f=n[7],m=a[d+2];return f.length>m?f[m]:null}"string"==typeof p&&(d+=2)}return null}(t,n,a,o.index)),null!==W)(W.__ngLastListenerFn__||W).__ngNextListenerFn__=d,W.__ngLastListenerFn__=d,S=!1;else{d=sm(o,n,C,d,!1);const $=e.listen(F,a,d);b.push(d,$),y&&y.push(a,z,k,k+1)}}else d=sm(o,n,C,d,!0),F.addEventListener(a,d,p),b.push(d),y&&y.push(a,z,k,p)}else d=sm(o,n,C,d,!1);const R=o.outputs;let A;if(S&&null!==R&&(A=R[a])){const I=A.length;if(I)for(let F=0;F<I;F+=2){const ie=n[A[F]][A[F+1]].subscribe(d),se=b.length;b.push(d,ie),y&&y.push(a,o.index,se,-(se+1))}}}(d,a,a[11],p,t,n,!!e,o),Ke}function sw(t,n,e,o){try{return!1!==e(o)}catch(a){return xg(t,a),!1}}function sm(t,n,e,o,a){return function d(p){if(p===Function)return o;const f=2&t.flags?ar(t.index,n):n;0==(32&n[2])&&Mg(f);let m=sw(n,0,o,p),v=d.__ngNextListenerFn__;for(;v;)m=sw(n,0,v,p)&&m,v=v.__ngNextListenerFn__;return a&&!1===m&&(p.preventDefault(),p.returnValue=!1),m}}function Ee(t=1){return function Ky(t){return(Be.lFrame.contextLView=function B0(t,n){for(;t>0;)n=n[15],t--;return n}(t,Be.lFrame.contextLView))[8]}(t)}function aw(t,n){let e=null;const o=function rD(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let a=0;a<n.length;a++){const d=n[a];if("*"!==d){if(null===o?gg(t,d,!0):Tp(o,d))return a}else e=a}return e}function nu(t){const n=ue()[16][6];if(!n.projection){const o=n.projection=va(t?t.length:1,null),a=o.slice();let d=n.child;for(;null!==d;){const p=t?aw(d,t):0;null!==p&&(a[p]?a[p].projectionNext=d:o[p]=d,a[p]=d),d=d.next}}}function iu(t,n=0,e){const o=ue(),a=_t(),d=Da(a,20+t,16,null,e||null);null===d.projection&&(d.projection=n),Tf(),64!=(64&d.flags)&&function Ml(t,n,e){z_(n[11],0,n,e,B_(t,e,n),j_(e.parent||n[6],e,n))}(a,o,d)}function Li(t,n,e){return bi(t,"",n,"",e),Li}function bi(t,n,e,o,a){const d=ue(),p=Kl(d,n,e,o);return p!==$e&&On(_t(),mn(),d,t,p,d[11],a,!1),bi}function cw(t,n,e,o,a){const d=t[e+1],p=null===n;let f=o?Ci(d):Io(d),m=!1;for(;0!==f&&(!1===m||p);){const y=t[f+1];c(t[f],n)&&(m=!0,t[f+1]=o?Np(y):xl(y)),f=o?Ci(y):Io(y)}m&&(t[e+1]=o?xl(d):Np(d))}function c(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Rl(t,n)>=0}const r={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function i(t){return t.substring(r.key,r.keyEnd)}function u(t,n){const e=r.textEnd;return e===n?-1:(n=r.keyEnd=function E(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,r.key=n,e),w(t,n,e))}function w(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function q(t,n,e){return ke(t,n,e,!1),q}function Z(t,n){return ke(t,n,null,!0),Z}function fe(t){!function Ve(t,n,e,o){const a=_t(),d=Qo(2);a.firstUpdatePass&&lt(a,null,d,o);const p=ue();if(e!==$e&&wi(p,d,e)){const f=a.data[yi()];if(eM(f,o)&&!Ie(a,d)){let m=o?f.classesWithoutHost:f.stylesWithoutHost;null!==m&&(e=Ad(m,e||"")),om(a,f,p,e,o)}else!function dw(t,n,e,o,a,d,p,f){a===$e&&(a=Mt);let m=0,v=0,y=0<a.length?a[0]:null,C=0<d.length?d[0]:null;for(;null!==y||null!==C;){const b=m<a.length?a[m+1]:void 0,S=v<d.length?d[v+1]:void 0;let A,R=null;y===C?(m+=2,v+=2,b!==S&&(R=C,A=S)):null===C||null!==y&&y<C?(m+=2,R=y):(v+=2,R=C,A=S),null!==R&&pw(t,n,e,o,R,A,p,f),y=m<a.length?a[m]:null,C=v<d.length?d[v]:null}}(a,f,p,p[11],p[d+1],p[d+1]=function ru(t,n,e){if(null==e||""===e)return Mt;const o=[],a=ss(e);if(Array.isArray(a))for(let d=0;d<a.length;d++)t(o,a[d],!0);else if("object"==typeof a)for(const d in a)a.hasOwnProperty(d)&&t(o,d,a[d]);else"string"==typeof a&&n(o,a);return o}(t,n,e),o,d)}}(cr,Se,t,!0)}function Se(t,n){for(let e=function l(t){return function _(t){r.key=0,r.keyEnd=0,r.value=0,r.valueEnd=0,r.textEnd=t.length}(t),u(t,w(t,0,r.textEnd))}(n);e>=0;e=u(n,e))cr(t,i(n),!0)}function ke(t,n,e,o){const a=ue(),d=_t(),p=Qo(2);d.firstUpdatePass&&lt(d,t,p,o),n!==$e&&wi(a,p,n)&&pw(d,d.data[yi()],a,a[11],t,a[p+1]=function WW(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Nt(ss(t)))),t}(n,e),o,p)}function Ie(t,n){return n>=t.expandoStartIndex}function lt(t,n,e,o){const a=t.data;if(null===a[e+1]){const d=a[yi()],p=Ie(t,e);eM(d,o)&&null===n&&!p&&(n=!1),n=function ut(t,n,e,o){const a=function pa(t){const n=Be.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let d=o?n.residualClasses:n.residualStyles;if(null===a)0===(o?n.classBindings:n.styleBindings)&&(e=ui(e=fr(null,t,n,e,o),n.attrs,o),d=null);else{const p=n.directiveStylingLast;if(-1===p||t[p]!==a)if(e=fr(a,t,n,e,o),null===d){let m=function _n(t,n,e){const o=e?n.classBindings:n.styleBindings;if(0!==Io(o))return t[Ci(o)]}(t,n,o);void 0!==m&&Array.isArray(m)&&(m=fr(null,t,n,m[1],o),m=ui(m,n.attrs,o),function Cn(t,n,e,o){t[Ci(e?n.classBindings:n.styleBindings)]=o}(t,n,o,m))}else d=function so(t,n,e){let o;const a=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<a;d++)o=ui(o,t[d].hostAttrs,e);return ui(o,n.attrs,e)}(t,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),e}(a,d,n,o),function lR(t,n,e,o,a,d){let p=d?n.classBindings:n.styleBindings,f=Ci(p),m=Io(p);t[o]=e;let y,v=!1;if(Array.isArray(e)){const C=e;y=C[1],(null===y||Rl(C,y)>0)&&(v=!0)}else y=e;if(a)if(0!==m){const b=Ci(t[f+1]);t[o+1]=Pp(b,f),0!==b&&(t[b+1]=yg(t[b+1],o)),t[f+1]=function lD(t,n){return 131071&t|n<<17}(t[f+1],o)}else t[o+1]=Pp(f,0),0!==f&&(t[f+1]=yg(t[f+1],o)),f=o;else t[o+1]=Pp(m,0),0===f?f=o:t[m+1]=yg(t[m+1],o),m=o;v&&(t[o+1]=xl(t[o+1])),cw(t,y,o,!0),cw(t,y,o,!1),function uR(t,n,e,o,a){const d=a?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof n&&Rl(d,n)>=0&&(e[o+1]=Np(e[o+1]))}(n,y,t,o,d),p=Pp(f,m),d?n.classBindings=p:n.styleBindings=p}(a,d,n,e,p,o)}}function fr(t,n,e,o,a){let d=null;const p=e.directiveEnd;let f=e.directiveStylingLast;for(-1===f?f=e.directiveStart:f++;f<p&&(d=n[f],o=ui(o,d.hostAttrs,a),d!==t);)f++;return null!==t&&(e.directiveStylingLast=f),o}function ui(t,n,e){const o=e?1:2;let a=-1;if(null!==n)for(let d=0;d<n.length;d++){const p=n[d];"number"==typeof p?a=p:a===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cr(t,p,!!e||n[++d]))}return void 0===t?null:t}function pw(t,n,e,o,a,d,p,f){if(!(3&n.type))return;const m=t.data,v=m[f+1];hw(function Y_(t){return 1==(1&t)}(v)?JN(m,n,e,a,Io(v),p):void 0)||(hw(d)||function vg(t){return 2==(2&t)}(v)&&(d=JN(m,null,e,a,f,p)),function eD(t,n,e,o,a){const d=gn(t);if(n)a?d?t.addClass(e,o):e.classList.add(o):d?t.removeClass(e,o):e.classList.remove(o);else{let p=-1===o.indexOf("-")?void 0:qi.DashCase;if(null==a)d?t.removeStyle(e,o,p):e.style.removeProperty(o);else{const f="string"==typeof a&&a.endsWith("!important");f&&(a=a.slice(0,-10),p|=qi.Important),d?t.setStyle(e,o,a,p):e.style.setProperty(o,a,f?"important":"")}}}(o,p,Wd(yi(),e),a,d))}function JN(t,n,e,o,a,d){const p=null===n;let f;for(;a>0;){const m=t[a],v=Array.isArray(m),y=v?m[1]:m,C=null===y;let b=e[a+1];b===$e&&(b=C?Mt:void 0);let S=C?zf(b,o):y===o?b:void 0;if(v&&!hw(S)&&(S=zf(m,o)),hw(S)&&(f=S,p))return f;const R=t[a+1];a=p?Ci(R):Io(R)}if(null!==n){let m=d?n.residualClasses:n.residualStyles;null!=m&&(f=zf(m,o))}return f}function hw(t){return void 0!==t}function eM(t,n){return 0!=(t.flags&(n?16:32))}function ve(t,n=""){const e=ue(),o=_t(),a=t+20,d=o.firstCreatePass?Da(o,a,1,n,null):o.data[a],p=e[a]=function wp(t,n){return gn(t)?t.createText(n):t.createTextNode(n)}(e[11],n);Dp(o,e,p,d),Zr(d,!1)}function $n(t){return Gi("",t,""),$n}function Gi(t,n,e){const o=ue(),a=Kl(o,t,n,e);return a!==$e&&pr(o,yi(),a),Gi}function sh(t,n,e,o,a){const d=ue(),p=ql(d,t,n,e,o,a);return p!==$e&&pr(d,yi(),p),sh}function Ma(t,n,e){const o=ue();return wi(o,le(),n)&&On(_t(),mn(),o,t,n,o[11],e,!0),Ma}const fw="en-US";let CM=fw;function hR(t,n,e,o,a){if(t=et(t),Array.isArray(t))for(let d=0;d<t.length;d++)hR(t[d],n,e,o,a);else{const d=_t(),p=ue();let f=Ra(t)?t:et(t.provide),m=Gg(t);const v=Me(),y=1048575&v.providerIndexes,C=v.directiveStart,b=v.providerIndexes>>20;if(Ra(t)||!t.multi){const S=new fa(m,a,H),R=gR(f,n,a?y:y+b,C);-1===R?(Xd($i(v,p),d,f),fR(d,t,n.length),n.push(f),v.directiveStart++,v.directiveEnd++,a&&(v.providerIndexes+=1048576),e.push(S),p.push(S)):(e[R]=S,p[R]=S)}else{const S=gR(f,n,y+b,C),R=gR(f,n,y,y+b),A=S>=0&&e[S],I=R>=0&&e[R];if(a&&!I||!a&&!A){Xd($i(v,p),d,f);const F=function sj(t,n,e,o,a){const d=new fa(t,e,H);return d.multi=[],d.index=n,d.componentProviders=0,UM(d,a,o&&!e),d}(a?oj:rj,e.length,a,o,m);!a&&I&&(e[R].providerFactory=F),fR(d,t,n.length,0),n.push(f),v.directiveStart++,v.directiveEnd++,a&&(v.providerIndexes+=1048576),e.push(F),p.push(F)}else fR(d,t,S>-1?S:R,UM(e[a?R:S],m,!a&&o));!a&&o&&I&&e[R].componentProviders++}}}function fR(t,n,e,o){const a=Ra(n),d=function FD(t){return!!t.useClass}(n);if(a||d){const m=(d?et(n.useClass):n).prototype.ngOnDestroy;if(m){const v=t.destroyHooks||(t.destroyHooks=[]);if(!a&&n.multi){const y=v.indexOf(e);-1===y?v.push(e,[o,m]):v[y+1].push(o,m)}else v.push(e,m)}}}function UM(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function gR(t,n,e,o){for(let a=e;a<o;a++)if(n[a]===t)return a;return-1}function rj(t,n,e,o){return mR(this.multi,[])}function oj(t,n,e,o){const a=this.multi;let d;if(this.providerFactory){const p=this.providerFactory.componentProviders,f=Zu(e,e[1],this.providerFactory.index,o);d=f.slice(0,p),mR(a,d);for(let m=p;m<f.length;m++)d.push(f[m])}else d=[],mR(a,d);return d}function mR(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function $t(t,n=[]){return e=>{e.providersResolver=(o,a)=>function ij(t,n,e){const o=_t();if(o.firstCreatePass){const a=Pr(t);hR(e,o.data,o.blueprint,a,!0),hR(n,o.data,o.blueprint,a,!1)}}(o,a?a(t):t,n)}}class zM{}class uj{resolveComponentFactory(n){throw function lj(t){const n=Error(`No component factory found for ${Nt(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let su=(()=>{class t{}return t.NULL=new uj,t})();function cj(){return uh(Me(),ue())}function uh(t,n){return new kt(Ir(t,n))}let kt=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=cj,t})();function dj(t){return t instanceof kt?t.nativeElement:t}class ch{}let xo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function hj(){const t=ue(),e=ar(Me().index,t);return function pj(t){return t[11]}(vi(e)?e:t)}(),t})(),fj=(()=>{class t{}return t.\u0275prov=Te({token:t,providedIn:"root",factory:()=>null}),t})();class fm{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const gj=new fm("13.3.9"),vR={};function _w(t,n,e,o,a=!1){for(;null!==e;){const d=n[e.index];if(null!==d&&o.push(Dn(d)),Ar(d))for(let f=10;f<d.length;f++){const m=d[f],v=m[1].firstChild;null!==v&&_w(m[1],m,v,o)}const p=e.type;if(8&p)_w(t,n,e.child,o);else if(32&p){const f=yp(e,n);let m;for(;m=f();)o.push(m)}else if(16&p){const f=dg(n,e);if(Array.isArray(f))o.push(...f);else{const m=dc(n[16]);_w(m[1],m,f,o,!0)}}e=a?e.projectionNext:e.next}return o}class gm{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return _w(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Ar(n)){const e=n[8],o=e?e.indexOf(this):-1;o>-1&&(hc(n,o),Ms(e,o))}this._attachedToViewContainer=!1}k_(this._lView[1],this._lView)}onDestroy(n){Ag(this._lView[1],this._lView,null,n)}markForCheck(){Mg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Ig(t,n,e){const o=n[10];o.begin&&o.begin();try{Vl(t,n,t.template,e)}catch(a){throw xg(n,a),a}finally{o.end&&o.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lg(t,n){mc(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=n}}class mj extends gm{constructor(n){super(n),this._view=n}detectChanges(){Wl(this._view)}checkNoChanges(){}get context(){return null}}class KM extends su{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Sn(n);return new yR(e,this.ngModule)}}function qM(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class yR extends zM{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function sD(t){return t.map(yc).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return qM(this.componentDef.inputs)}get outputs(){return qM(this.componentDef.outputs)}create(n,e,o,a){const d=(a=a||this.ngModule)?function yj(t,n){return{get:(e,o,a)=>{const d=t.get(e,vR,a);return d!==vR||o===vR?d:n.get(e,o,a)}}}(n,a.injector):n,p=d.get(ch,Gy),f=d.get(fj,null),m=p.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",y=o?function Ec(t,n,e){if(gn(t))return t.selectRootElement(n,e===Hi.ShadowDom);let o="string"==typeof n?t.querySelector(n):n;return o.textContent="",o}(m,o,this.componentDef.encapsulation):bp(p.createRenderer(null,this.componentDef),v,function vj(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(v)),C=this.componentDef.onPush?576:528,b=function jg(t,n){return{components:[],scheduler:t||N_,clean:Kp,playerHandler:n||null,flags:0}}(),S=bc(0,null,null,1,0,null,null,null,null,null),R=wc(null,S,b,C,null,null,p,m,f,d);let A,I;ur(R);try{const F=function kC(t,n,e,o,a,d){const p=e[1];e[20]=t;const m=Da(p,20,2,"#host",null),v=m.mergedAttrs=n.hostAttrs;null!==v&&(Sc(m,v,!0),null!==t&&(Kd(a,t,v),null!==m.classes&&Gr(a,t,m.classes),null!==m.styles&&$_(a,t,m.styles)));const y=o.createRenderer(t,n),C=wc(e,aC(n),null,n.onPush?64:16,e[20],m,o,y,d||null,null);return p.firstCreatePass&&(Xd($i(m,e),p,n.type),dC(p,m),fC(m,e.length,1)),Fi(e,C),e[20]=C}(y,this.componentDef,R,p,m);if(y)if(o)Kd(m,y,["ng-version",gj.full]);else{const{attrs:k,classes:z}=function aD(t){const n=[],e=[];let o=1,a=2;for(;o<t.length;){let d=t[o];if("string"==typeof d)2===a?""!==d&&n.push(d,t[++o]):8===a&&e.push(d);else{if(!eo(a))break;a=d}o++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);k&&Kd(m,y,k),z&&z.length>0&&Gr(m,y,z.join(" "))}if(I=Df(S,20),void 0!==e){const k=I.projection=[];for(let z=0;z<this.ngContentSelectors.length;z++){const W=e[z];k.push(null!=W?Array.from(W):null)}}A=function VC(t,n,e,o,a){const d=e[1],p=function Wp(t,n,e){const o=Me();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),gC(t,o,n,Gl(t,n,1,null),e));const a=Zu(n,t,o.directiveStart,o);si(a,n);const d=Ir(o,n);return d&&si(d,n),a}(d,e,n);if(o.components.push(p),t[8]=p,a&&a.forEach(m=>m(p,n)),n.contentQueries){const m=Me();n.contentQueries(1,p,m.directiveStart)}const f=Me();return!d.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Ao(f.index),jp(e[1],f,0,f.directiveStart,f.directiveEnd,n),us(n,p)),p}(F,this.componentDef,R,b,[BD]),kl(S,R,null)}finally{Ud()}return new Cj(this.componentType,A,uh(I,R),R,I)}}class Cj extends class aj{}{constructor(n,e,o,a,d){super(),this.location=o,this._rootLView=a,this._tNode=d,this.instance=e,this.hostView=this.changeDetectorRef=new mj(a),this.componentType=n}get injector(){return new ts(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class Ia{}class YM{}const dh=new Map;class ZM extends Ia{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new KM(this);const o=Tr(n);this._bootstrapComponents=dr(o.bootstrap),this._r3Injector=jl(n,e,[{provide:Ia,useValue:this},{provide:su,useValue:this.componentFactoryResolver}],Nt(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=rn.THROW_IF_NOT_FOUND,o=Ue.Default){return n===rn||n===Ia||n===qp?this:this._r3Injector.get(n,e,o)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class _R extends YM{constructor(n){super(),this.moduleType=n,null!==Tr(n)&&function bj(t){const n=new Set;!function e(o){const a=Tr(o,!0),d=a.id;null!==d&&(function QM(t,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${t} - ${Nt(n)} vs ${Nt(n.name)}`)}(d,dh.get(d),o),dh.set(d,o));const p=dr(a.imports);for(const f of p)n.has(f)||(n.add(f),e(f))}(t)}(n)}create(n){return new ZM(this.moduleType,n)}}function ps(t,n,e,o){return function JM(t,n,e,o,a,d){const p=n+e;return wi(t,p,a)?io(t,p+1,d?o.call(d,a):o(a)):mm(t,p+1)}(ue(),ii(),t,n,e,o)}function au(t,n,e,o,a){return function eI(t,n,e,o,a,d,p){const f=n+e;return zn(t,f,a,d)?io(t,f+2,p?o.call(p,a,d):o(a,d)):mm(t,f+2)}(ue(),ii(),t,n,e,o,a)}function ph(t,n,e,o,a,d){return tI(ue(),ii(),t,n,e,o,a,d)}function mm(t,n){const e=t[n];return e===$e?void 0:e}function tI(t,n,e,o,a,d,p,f){const m=n+e;return function th(t,n,e,o,a){const d=zn(t,n,e,o);return wi(t,n+2,a)||d}(t,m,a,d,p)?io(t,m+3,f?o.call(f,a,d,p):o(a,d,p)):mm(t,m+3)}function vm(t,n){const e=_t();let o;const a=t+20;e.firstCreatePass?(o=function Pj(t,n){if(n)for(let e=n.length-1;e>=0;e--){const o=n[e];if(t===o.name)return o}}(n,e.pipeRegistry),e.data[a]=o,o.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(a,o.onDestroy)):o=e.data[a];const d=o.factory||(o.factory=Ts(o.type)),p=Do(H);try{const f=Qd(!1),m=d();return Qd(f),function Qg(t,n,e,o){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=o}(e,ue(),a,m),m}finally{Do(p)}}function ym(t,n,e,o,a){const d=t+20,p=ue(),f=yl(p,d);return function _m(t,n){return t[1].data[n].pure}(p,d)?tI(p,ii(),n,f.transform,e,o,a,f):f.transform(e,o,a)}function CR(t){return n=>{setTimeout(t,void 0,n)}}const U=class Fj extends ln{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,o){var a,d,p;let f=n,m=e||(()=>null),v=o;if(n&&"object"==typeof n){const C=n;f=null===(a=C.next)||void 0===a?void 0:a.bind(C),m=null===(d=C.error)||void 0===d?void 0:d.bind(C),v=null===(p=C.complete)||void 0===p?void 0:p.bind(C)}this.__isAsync&&(m=CR(m),f&&(f=CR(f)),v&&(v=CR(v)));const y=super.subscribe({next:f,error:m,complete:v});return n instanceof tn&&n.add(y),y}};function Lj(){return this._results[Oa()]()}class Cm{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Oa(),o=Cm.prototype;o[e]||(o[e]=Lj)}get changes(){return this._changes||(this._changes=new U)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const o=this;o.dirty=!1;const a=_i(n);(this._changesDetected=!function tp(t,n,e){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let a=t[o],d=n[o];if(e&&(a=e(a),d=e(d)),d!==a)return!1}return!0}(o._results,a,e))&&(o._results=a,o.length=a.length,o.last=a[this.length-1],o.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let wn=(()=>{class t{}return t.__NG_ELEMENT_ID__=Vj,t})();const Gj=wn,kj=class extends Gj{constructor(n,e,o){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=o}createEmbeddedView(n){const e=this._declarationTContainer.tViews,o=wc(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(o[19]=d.createEmbeddedView(e)),kl(e,o,n),new gm(o)}};function Vj(){return Cw(Me(),ue())}function Cw(t,n){return 4&t.type?new kj(n,t,uh(t,n)):null}let ao=(()=>{class t{}return t.__NG_ELEMENT_ID__=Hj,t})();function Hj(){return sI(Me(),ue())}const Bj=ao,rI=class extends Bj{constructor(n,e,o){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=o}get element(){return uh(this._hostTNode,this._hostLView)}get injector(){return new ts(this._hostTNode,this._hostLView)}get parentInjector(){const n=Cl(this._hostTNode,this._hostLView);if(Xu(n)){const e=Ps(n,this._hostLView),o=es(n);return new ts(e[1].data[o+8],e)}return new ts(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=oI(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,o){const a=n.createEmbeddedView(e||{});return this.insert(a,o),a}createComponent(n,e,o,a,d){const p=n&&!function Ju(t){return"function"==typeof t}(n);let f;if(p)f=e;else{const C=e||{};f=C.index,o=C.injector,a=C.projectableNodes,d=C.ngModuleRef}const m=p?n:new yR(Sn(n)),v=o||this.parentInjector;if(!d&&null==m.ngModule){const b=(p?v:this.parentInjector).get(Ia,null);b&&(d=b)}const y=m.create(v,a,void 0,d);return this.insert(y.hostView,f),y}insert(n,e){const o=n._lView,a=o[1];if(function G0(t){return Ar(t[3])}(o)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const C=o[3],b=new rI(C,C[6],C[3]);b.detach(b.indexOf(n))}}const d=this._adjustIndex(e),p=this._lContainer;!function ug(t,n,e,o){const a=10+o,d=e.length;o>0&&(e[a-1][4]=n),o<d-10?(n[4]=e[a],i_(e,10+o,n)):(e.push(n),n[4]=null),n[3]=e;const p=n[17];null!==p&&e!==p&&function ZS(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(p,n);const f=n[19];null!==f&&f.insertView(t),n[2]|=128}(a,o,p,d);const f=pg(d,p),m=o[11],v=fc(m,p[7]);return null!==v&&function QS(t,n,e,o,a,d){o[0]=a,o[6]=n,mc(t,o,e,1,a,d)}(a,p[6],m,o,v,f),n.attachToViewContainerRef(),i_(wR(p),d,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=oI(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),o=hc(this._lContainer,e);o&&(Ms(wR(this._lContainer),e),k_(o[1],o))}detach(n){const e=this._adjustIndex(n,-1),o=hc(this._lContainer,e);return o&&null!=Ms(wR(this._lContainer),e)?new gm(o):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function oI(t){return t[8]}function wR(t){return t[8]||(t[8]=[])}function sI(t,n){let e;const o=n[t.index];if(Ar(o))e=o;else{let a;if(8&t.type)a=Dn(o);else{const d=n[11];a=d.createComment("");const p=Ir(t,n);ba(d,fc(d,p),a,function JS(t,n){return gn(t)?t.nextSibling(n):n.nextSibling}(d,p),!1)}n[t.index]=e=vC(o,n,a,t),Fi(n,e)}return new rI(e,t,n)}class bR{constructor(n){this.queryList=n,this.matches=null}clone(){return new bR(this.queryList)}setDirty(){this.queryList.setDirty()}}class ER{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const o=null!==n.contentQueries?n.contentQueries[0]:e.length,a=[];for(let d=0;d<o;d++){const p=e.getByIndex(d);a.push(this.queries[p.indexInDeclarationView].clone())}return new ER(a)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==dI(n,e).matches&&this.queries[e].setDirty()}}class aI{constructor(n,e,o=null){this.predicate=n,this.flags=e,this.read=o}}class SR{constructor(n=[]){this.queries=n}elementStart(n,e){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let o=0;o<this.length;o++){const a=null!==e?e.length:0,d=this.getByIndex(o).embeddedTView(n,a);d&&(d.indexInDeclarationView=o,null!==e?e.push(d):e=[d])}return null!==e?new SR(e):null}template(n,e){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class DR{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new DR(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==e;)o=o.parent;return e===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const d=o[a];this.matchTNodeWithReadOption(n,e,Uj(e,d)),this.matchTNodeWithReadOption(n,e,wl(e,n,d,!1,!1))}else o===wn?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,wl(e,n,o,!1,!1))}matchTNodeWithReadOption(n,e,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===kt||a===ao||a===wn&&4&e.type)this.addMatch(e.index,-2);else{const d=wl(e,n,a,!1,!1);null!==d&&this.addMatch(e.index,d)}else this.addMatch(e.index,o)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function Uj(t,n){const e=t.localNames;if(null!==e)for(let o=0;o<e.length;o+=2)if(e[o]===n)return e[o+1];return null}function $j(t,n,e,o){return-1===e?function zj(t,n){return 11&t.type?uh(t,n):4&t.type?Cw(t,n):null}(n,t):-2===e?function Kj(t,n,e){return e===kt?uh(n,t):e===wn?Cw(n,t):e===ao?sI(n,t):void 0}(t,n,o):Zu(t,t[1],e,n)}function lI(t,n,e,o){const a=n[19].queries[o];if(null===a.matches){const d=t.data,p=e.matches,f=[];for(let m=0;m<p.length;m+=2){const v=p[m];f.push(v<0?null:$j(n,d[v],p[m+1],e.metadata.read))}a.matches=f}return a.matches}function RR(t,n,e,o){const a=t.queries.getByIndex(e),d=a.matches;if(null!==d){const p=lI(t,n,a,e);for(let f=0;f<d.length;f+=2){const m=d[f];if(m>0)o.push(p[f/2]);else{const v=d[f+1],y=n[-m];for(let C=10;C<y.length;C++){const b=y[C];b[17]===b[3]&&RR(b[1],b,v,o)}if(null!==y[9]){const C=y[9];for(let b=0;b<C.length;b++){const S=C[b];RR(S[1],S,v,o)}}}}}return o}function Ht(t){const n=ue(),e=_t(),o=jy();Nf(o+1);const a=dI(e,o);if(t.dirty&&ky(n)===(2==(2&a.metadata.flags))){if(null===a.matches)t.reset([]);else{const d=a.crossesNgTemplate?RR(e,n,o,[]):lI(e,n,a,o);t.reset(d,dj),t.notifyOnChanges()}return!0}return!1}function ww(t,n,e){const o=_t();o.firstCreatePass&&(cI(o,new aI(t,n,e),-1),2==(2&n)&&(o.staticViewQueries=!0)),uI(o,ue(),n)}function Jt(t,n,e,o){const a=_t();if(a.firstCreatePass){const d=Me();cI(a,new aI(n,e,o),d.index),function Yj(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(a,t),2==(2&e)&&(a.staticContentQueries=!0)}uI(a,ue(),e)}function Bt(){return function qj(t,n){return t[19].queries[n].queryList}(ue(),jy())}function uI(t,n,e){const o=new Cm(4==(4&e));Ag(t,n,o,o.destroy),null===n[19]&&(n[19]=new ER),n[19].queries.push(new bR(o))}function cI(t,n,e){null===t.queries&&(t.queries=new SR),t.queries.track(new DR(n,e))}function dI(t,n){return t.queries.getByIndex(n)}function lo(t,n){return Cw(t,n)}const P=Jd("Input",t=>({bindingPropertyName:t}));function Sw(...t){}const MR=new it("Application Initializer");let IR=(()=>{class t{constructor(e){this.appInits=e,this.resolve=Sw,this.reject=Sw,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a})}runInitializers(){if(this.initialized)return;const e=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const d=this.appInits[a]();if(eu(d))e.push(d);else if(tu(d)){const p=new Promise((f,m)=>{d.subscribe({complete:f,error:m})});e.push(p)}}Promise.all(e).then(()=>{o()}).catch(a=>{this.reject(a)}),0===e.length&&o(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(me(MR,8))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const bm=new it("AppId",{providedIn:"root",factory:function TI(){return`${xR()}${xR()}${xR()}`}});function xR(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AI=new it("Platform Initializer"),Dw=new it("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),PI=new it("appBootstrapListener");let pU=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const lu=new it("LocaleId",{providedIn:"root",factory:()=>aS(lu,Ue.Optional|Ue.SkipSelf)||function hU(){return"undefined"!=typeof $localize&&$localize.locale||fw}()});class gU{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let NI=(()=>{class t{compileModuleSync(e){return new _R(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const o=this.compileModuleSync(e),d=dr(Tr(e).declarations).reduce((p,f)=>{const m=Sn(f);return m&&p.push(new yR(m)),p},[]);return new gU(o,d)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vU=(()=>Promise.resolve(0))();function FR(t){"undefined"==typeof Zone?vU.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class xt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new U(!1),this.onMicrotaskEmpty=new U(!1),this.onStable=new U(!1),this.onError=new U(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&e,a.shouldCoalesceRunChangeDetection=o,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function yU(){let t=Vt.requestAnimationFrame,n=Vt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function wU(t){const n=()=>{!function CU(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Vt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,GR(t),t.isCheckStableRunning=!0,LR(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),GR(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,o,a,d,p,f)=>{try{return MI(t),e.invokeTask(a,d,p,f)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),II(t)}},onInvoke:(e,o,a,d,p,f,m)=>{try{return MI(t),e.invoke(a,d,p,f,m)}finally{t.shouldCoalesceRunChangeDetection&&n(),II(t)}},onHasTask:(e,o,a,d)=>{e.hasTask(a,d),o===a&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,GR(t),LR(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(e,o,a,d)=>(e.handleError(a,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(a)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,o){return this._inner.run(n,e,o)}runTask(n,e,o,a){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+a,n,_U,Sw,Sw);try{return d.runTask(p,e,o)}finally{d.cancelTask(p)}}runGuarded(n,e,o){return this._inner.runGuarded(n,e,o)}runOutsideAngular(n){return this._outer.run(n)}}const _U={};function LR(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function GR(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function MI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function II(t){t._nesting--,LR(t)}class bU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new U,this.onMicrotaskEmpty=new U,this.onStable=new U,this.onError=new U}run(n,e,o){return n.apply(e,o)}runGuarded(n,e,o){return n.apply(e,o)}runOutsideAngular(n){return n()}runTask(n,e,o,a){return n.apply(e,o)}}let kR=(()=>{class t{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xt.assertNotInAngularZone(),FR(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())FR(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(e)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,o,a){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),e(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:e,timeoutId:d,updateCb:a})}whenStable(e,o,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,o,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,o,a){return[]}}return t.\u0275fac=function(e){return new(e||t)(me(xt))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),EU=(()=>{class t{constructor(){this._applications=new Map,VR.addToWindow(this)}registerApplication(e,o){this._applications.set(e,o)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,o=!0){return VR.findTestabilityInTree(this,e,o)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class SU{addToWindow(n){}findTestabilityInTree(n,e,o){return null}}let VR=new SU,Lc=null;const xI=new it("AllowMultipleToken"),FI=new it("PlatformOnDestroy");class LI{constructor(n,e){this.name=n,this.token=e}}function GI(t,n,e=[]){const o=`Platform: ${n}`,a=new it(o);return(d=[])=>{let p=HR();if(!p||p.injector.get(xI,!1)){const f=[...e,...d,{provide:a,useValue:!0}];t?t(f):function TU(t){if(Lc&&!Lc.get(xI,!1))throw new Ae(400,"");Lc=t;const n=t.get(kI),e=t.get(AI,null);e&&e.forEach(o=>o())}(function PU(t=[],n){return rn.create({name:n,providers:[{provide:js,useValue:"platform"},{provide:FI,useValue:()=>Lc=null},...t]})}(f,o))}return function AU(t){const n=HR();if(!n)throw new Ae(401,"");return n}()}}function HR(){var t;return null!==(t=null==Lc?void 0:Lc.get(kI))&&void 0!==t?t:null}let kI=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,o){const f=function NU(t,n){let e;return e="noop"===t?new bU:("zone.js"===t?void 0:t)||new xt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),m=[{provide:xt,useValue:f}];return f.run(()=>{const v=rn.create({providers:m,parent:this.injector,name:e.moduleType.name}),y=e.create(v),C=y.injector.get(Al,null);if(!C)throw new Ae(402,"");return f.runOutsideAngular(()=>{const b=f.onError.subscribe({next:S=>{C.handleError(S)}});y.onDestroy(()=>{BR(this._modules,y),b.unsubscribe()})}),function MU(t,n,e){try{const o=e();return eu(o)?o.catch(a=>{throw n.runOutsideAngular(()=>t.handleError(a)),a}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(C,f,()=>{const b=y.injector.get(IR);return b.runInitializers(),b.donePromise.then(()=>(function f2(t){Vi(t,"Expected localeId to be defined"),"string"==typeof t&&(CM=t.toLowerCase().replace(/_/g,"-"))}(y.injector.get(lu,fw)||fw),this._moduleDoBootstrap(y),y))})})}bootstrapModule(e,o=[]){const a=VI({},o);return function RU(t,n,e){const o=new _R(e);return Promise.resolve(o)}(0,0,e).then(d=>this.bootstrapModuleFactory(d,a))}_moduleDoBootstrap(e){const o=e.injector.get(Rw);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(a=>o.bootstrap(a));else{if(!e.instance.ngDoBootstrap)throw new Ae(403,"");e.instance.ngDoBootstrap(o)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const e=this._injector.get(FI,null);null==e||e(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(me(rn))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function VI(t,n){return Array.isArray(n)?n.reduce(VI,t):Object.assign(Object.assign({},t),n)}let Rw=(()=>{class t{constructor(e,o,a,d){this._zone=e,this._injector=o,this._exceptionHandler=a,this._initStatus=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new jt(m=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{m.next(this._stable),m.complete()})}),f=new jt(m=>{let v;this._zone.runOutsideAngular(()=>{v=this._zone.onStable.subscribe(()=>{xt.assertNotInAngularZone(),FR(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,m.next(!0))})})});const y=this._zone.onUnstable.subscribe(()=>{xt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{m.next(!1)}))});return()=>{v.unsubscribe(),y.unsubscribe()}});this.isStable=function hy(...t){const n=Tu(t),e=function Td(t,n){return"number"==typeof Ou(t)?t.pop():n}(t,1/0),o=t;return o.length?1===o.length?Bn(o[0]):al(e)(Wn(o,n)):Yr}(p,f.pipe(function lf(t={}){const{connector:n=(()=>new ln),resetOnError:e=!0,resetOnComplete:o=!0,resetOnRefCountZero:a=!0}=t;return d=>{let p=null,f=null,m=null,v=0,y=!1,C=!1;const b=()=>{null==f||f.unsubscribe(),f=null},S=()=>{b(),p=m=null,y=C=!1},R=()=>{const A=p;S(),null==A||A.unsubscribe()};return un((A,I)=>{v++,!C&&!y&&b();const F=m=null!=m?m:n();I.add(()=>{v--,0===v&&!C&&!y&&(f=uf(R,a))}),F.subscribe(I),p||(p=new Oi({next:k=>F.next(k),error:k=>{C=!0,b(),f=uf(S,e,k),F.error(k)},complete:()=>{y=!0,b(),f=uf(S,o),F.complete()}}),Wn(A).subscribe(p))})(d)}}()))}bootstrap(e,o){if(!this._initStatus.done)throw new Ae(405,"");let a;a=e instanceof zM?e:this._injector.get(su).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const d=function OU(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Ia),f=a.create(rn.NULL,[],o||a.selector,d),m=f.location.nativeElement,v=f.injector.get(kR,null),y=v&&f.injector.get(EU);return v&&y&&y.registerApplication(m,v),f.onDestroy(()=>{this.detachView(f.hostView),BR(this.components,f),y&&y.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const o=e;this._views.push(o),o.attachToAppRef(this)}detachView(e){const o=e;BR(this._views,o),o.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(PI,[]).concat(this._bootstrapListeners).forEach(a=>a(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(me(xt),me(rn),me(Al),me(IR))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function BR(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let BI=!0,uo=(()=>{class t{}return t.__NG_ELEMENT_ID__=FU,t})();function FU(t){return function LU(t,n,e){if(Gu(t)&&!e){const o=ar(t.index,n);return new gm(o,o)}return 47&t.type?new gm(n[16],n):null}(Me(),ue(),16==(16&t))}class $I{constructor(){}supports(n){return zs(n)}create(n){return new WU(n)}}const BU=(t,n)=>n;class WU{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||BU}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,o=this._removalsHead,a=0,d=null;for(;e||o;){const p=!o||e&&e.currentIndex<qI(o,a,d)?e:o,f=qI(p,a,d),m=p.currentIndex;if(p===o)a--,o=o._nextRemoved;else if(e=e._next,null==p.previousIndex)a++;else{d||(d=[]);const v=f-a,y=m-a;if(v!=y){for(let b=0;b<v;b++){const S=b<d.length?d[b]:d[b]=0,R=S+b;y<=R&&R<v&&(d[b]=S+1)}d[p.previousIndex]=y-v}}f!==m&&n(p,f,m)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!zs(n))throw new Ae(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let a,d,p,e=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let f=0;f<this.length;f++)d=n[f],p=this._trackByFn(f,d),null!==e&&Object.is(e.trackById,p)?(o&&(e=this._verifyReinsertion(e,d,p,f)),Object.is(e.item,d)||this._addIdentityChange(e,d)):(e=this._mismatch(e,d,p,f),o=!0),e=e._next}else a=0,function KD(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Oa()]();let o;for(;!(o=e.next()).done;)n(o.value)}}(n,f=>{p=this._trackByFn(a,f),null!==e&&Object.is(e.trackById,p)?(o&&(e=this._verifyReinsertion(e,f,p,a)),Object.is(e.item,f)||this._addIdentityChange(e,f)):(e=this._mismatch(e,f,p,a),o=!0),e=e._next,a++}),this.length=a;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,o,a){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,d,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,d,a)):n=this._addAfter(new jU(e,o),d,a),n}_verifyReinsertion(n,e,o,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const a=n._prevRemoved,d=n._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(n,e,o),this._addToMoves(n,o),n}_moveAfter(n,e,o){return this._unlink(n),this._insertAfter(n,e,o),this._addToMoves(n,o),n}_addAfter(n,e,o){return this._insertAfter(n,e,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,o){const a=null===e?this._itHead:e._next;return n._next=a,n._prev=e,null===a?this._itTail=n:a._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new KI),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,o=n._next;return null===e?this._itHead=o:e._next=o,null===o?this._itTail=e:o._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class jU{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UU{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===e||e<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const e=n._prevDup,o=n._nextDup;return null===e?this._head=o:e._nextDup=o,null===o?this._tail=e:o._prevDup=e,null===this._head}}class KI{constructor(){this.map=new Map}put(n){const e=n.trackById;let o=this.map.get(e);o||(o=new UU,this.map.set(e,o)),o.add(n)}get(n,e){const a=this.map.get(n);return a?a.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qI(t,n,e){const o=t.previousIndex;if(null===o)return o;let a=0;return e&&o<e.length&&(a=e[o]),o+n+a}class YI{constructor(){}supports(n){return n instanceof Map||Kg(n)}create(){return new zU}}class zU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Kg(n)))throw new Ae(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,a)=>{if(e&&e.key===a)this._maybeAddToChanges(e,o),this._appendAfter=e,e=e._next;else{const d=this._getOrCreateRecordForKey(a,o);e=this._insertBeforeOrAppend(e,d)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let o=e;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const o=n._prev;return e._next=n,e._prev=o,n._prev=e,o&&(o._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const a=this._records.get(n);this._maybeAddToChanges(a,e);const d=a._prev,p=a._next;return d&&(d._next=p),p&&(p._prev=d),a._next=null,a._prev=null,a}const o=new $U(n);return this._records.set(n,o),o.currentValue=e,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(o=>e(n[o],o))}}class $U{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QI(){return new Aw([new $I])}let Aw=(()=>{class t{constructor(e){this.factories=e}static create(e,o){if(null!=o){const a=o.factories.slice();e=e.concat(a)}return new t(e)}static extend(e){return{provide:t,useFactory:o=>t.create(e,o||QI()),deps:[[t,new oc,new Is]]}}find(e){const o=this.factories.find(a=>a.supports(e));if(null!=o)return o;throw new Ae(901,"")}}return t.\u0275prov=Te({token:t,providedIn:"root",factory:QI}),t})();function XI(){return new Em([new YI])}let Em=(()=>{class t{constructor(e){this.factories=e}static create(e,o){if(o){const a=o.factories.slice();e=e.concat(a)}return new t(e)}static extend(e){return{provide:t,useFactory:o=>t.create(e,o||XI()),deps:[[t,new oc,new Is]]}}find(e){const o=this.factories.find(d=>d.supports(e));if(o)return o;throw new Ae(901,"")}}return t.\u0275prov=Te({token:t,providedIn:"root",factory:XI}),t})();const YU=GI(null,"core",[]);let QU=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(me(Rw))},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({}),t})(),Pw=null;function qs(){return Pw}const Kn=new it("DocumentToken");let kc=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:function(){return function e3(){return me(ZI)}()},providedIn:"platform"}),t})();const t3=new it("Location Initialized");let ZI=(()=>{class t extends kc{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qs().getBaseHref(this._doc)}onPopState(e){const o=qs().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=qs().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,a){JI()?this._history.pushState(e,o,a):this.location.hash=a}replaceState(e,o,a){JI()?this._history.replaceState(e,o,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(me(Kn))},t.\u0275prov=Te({token:t,factory:function(){return function n3(){return new ZI(me(Kn))}()},providedIn:"platform"}),t})();function JI(){return!!window.history.pushState}function $R(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function ex(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function xa(t){return t&&"?"!==t[0]?"?"+t:t}let Vc=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:function(){return function r3(t){const n=me(Kn).location;return new tx(me(kc),n&&n.origin||"")}()},providedIn:"root"}),t})();const KR=new it("appBaseHref");let tx=(()=>{class t extends Vc{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return $R(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+xa(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${o}${a}`:o}pushState(e,o,a,d){const p=this.prepareExternalUrl(a+xa(d));this._platformLocation.pushState(e,o,p)}replaceState(e,o,a,d){const p=this.prepareExternalUrl(a+xa(d));this._platformLocation.replaceState(e,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,a;null===(a=(o=this._platformLocation).historyGo)||void 0===a||a.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(me(kc),me(KR,8))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),nx=(()=>{class t extends Vc{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=$R(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,a,d){let p=this.prepareExternalUrl(a+xa(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,o,p)}replaceState(e,o,a,d){let p=this.prepareExternalUrl(a+xa(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,a;null===(a=(o=this._platformLocation).historyGo)||void 0===a||a.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(me(kc),me(KR,8))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),Nw=(()=>{class t{constructor(e,o){this._subject=new U,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=ex(ix(a)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+xa(o))}normalize(e){return t.stripTrailingSlash(function s3(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,ix(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",a=null){this._platformStrategy.pushState(a,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+xa(o)),a)}replaceState(e,o="",a=null){this._platformStrategy.replaceState(a,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+xa(o)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,a;null===(a=(o=this._platformStrategy).historyGo)||void 0===a||a.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(a=>a(e,o))}subscribe(e,o,a){return this._subject.subscribe({next:e,error:o,complete:a})}}return t.normalizeQueryParams=xa,t.joinWithSlash=$R,t.stripTrailingSlash=ex,t.\u0275fac=function(e){return new(e||t)(me(Vc),me(kc))},t.\u0275prov=Te({token:t,factory:function(){return function o3(){return new Nw(me(Vc),me(kc))}()},providedIn:"root"}),t})();function ix(t){return t.replace(/\/index.html$/,"")}function px(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const o=e.indexOf("="),[a,d]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(a.trim()===n)return decodeURIComponent(d)}return null}let hx=(()=>{class t{constructor(e,o,a,d){this._iterableDiffers=e,this._keyValueDiffers=o,this._ngEl=a,this._renderer=d,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(zs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Nt(o.item)}`);this._toggleClass(o.item,!0)}),e.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!0)):Object.keys(e).forEach(o=>this._toggleClass(o,!!e[o])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!1)):Object.keys(e).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(e,o){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{o?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return t.\u0275fac=function(e){return new(e||t)(H(Aw),H(Em),H(kt),H(xo))},t.\u0275dir=Ce({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class U3{constructor(n,e,o,a){this.$implicit=n,this.ngForOf=e,this.index=o,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Go=(()=>{class t{constructor(e,o,a){this._viewContainer=e,this._template=o,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((a,d,p)=>{if(null==a.previousIndex)o.createEmbeddedView(this._template,new U3(a.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)o.remove(null===d?void 0:d);else if(null!==d){const f=o.get(d);o.move(f,p),fx(f,a)}});for(let a=0,d=o.length;a<d;a++){const f=o.get(a).context;f.index=a,f.count=d,f.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{fx(o.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,o){return!0}}return t.\u0275fac=function(e){return new(e||t)(H(ao),H(wn),H(Aw))},t.\u0275dir=Ce({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function fx(t,n){t.context.$implicit=n.item}let co=(()=>{class t{constructor(e,o){this._viewContainer=e,this._context=new z3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){gx("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){gx("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return t.\u0275fac=function(e){return new(e||t)(H(ao),H(wn))},t.\u0275dir=Ce({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class z3{constructor(){this.$implicit=null,this.ngIf=null}}function gx(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Nt(n)}'.`)}let vx=(()=>{class t{constructor(e,o,a){this._ngEl=e,this._differs=o,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,o){const[a,d]=e.split(".");null!=(o=null!=o&&d?`${o}${d}`:o)?this._renderer.setStyle(this._ngEl.nativeElement,a,o):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(e){e.forEachRemovedItem(o=>this._setStyle(o.key,null)),e.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),e.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(H(kt),H(Em),H(xo))},t.\u0275dir=Ce({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Hc=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const o=this._viewContainerRef;this._viewRef&&o.remove(o.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?o.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(H(ao))},t.\u0275dir=Ce({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Ln]}),t})();let Bw=(()=>{class t{transform(e,o,a){if(null==e)return null;if(!this.supports(e))throw function fs(t,n){return new Ae(2100,"")}();return e.slice(o,a)}supports(e){return"string"==typeof e||Array.isArray(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=nn({name:"slice",type:t,pure:!1}),t})(),di=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({}),t})();let _z=(()=>{class t{}return t.\u0275prov=Te({token:t,providedIn:"root",factory:()=>new Cz(me(Kn),window)}),t})();class Cz{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function wz(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const o=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=o.currentNode;for(;a;){const d=a.shadowRoot;if(d){const p=d.getElementById(n)||d.querySelector(`[name="${n}"]`);if(p)return p}a=o.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),o=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],a-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Cx(this.window.history)||Cx(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function Cx(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class wx{}class aO extends class bz extends class JU{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ZU(t){Pw||(Pw=t)}(new aO)}onAndCancel(n,e,o){return n.addEventListener(e,o,!1),()=>{n.removeEventListener(e,o,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Ez(){return Rm=Rm||document.querySelector("base"),Rm?Rm.getAttribute("href"):null}();return null==e?null:function Sz(t){Ww=Ww||document.createElement("a"),Ww.setAttribute("href",t);const n=Ww.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Rm=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return px(document.cookie,n)}}let Ww,Rm=null;const bx=new it("TRANSITION_ID"),Rz=[{provide:MR,useFactory:function Dz(t,n,e){return()=>{e.get(IR).donePromise.then(()=>{const o=qs(),a=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let d=0;d<a.length;d++)o.remove(a[d])})}},deps:[bx,Kn,rn],multi:!0}];class lO{static init(){!function DU(t){VR=t}(new lO)}addToWindow(n){Vt.getAngularTestability=(o,a=!0)=>{const d=n.findTestabilityInTree(o,a);if(null==d)throw new Error("Could not find testability for element.");return d},Vt.getAllAngularTestabilities=()=>n.getAllTestabilities(),Vt.getAllAngularRootElements=()=>n.getAllRootElements(),Vt.frameworkStabilizers||(Vt.frameworkStabilizers=[]),Vt.frameworkStabilizers.push(o=>{const a=Vt.getAllAngularTestabilities();let d=a.length,p=!1;const f=function(m){p=p||m,d--,0==d&&o(p)};a.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(n,e,o){if(null==e)return null;const a=n.getTestability(e);return null!=a?a:o?qs().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let Oz=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();const jw=new it("EventManagerPlugins");let Uw=(()=>{class t{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,a){return this._findPluginFor(o).addEventListener(e,o,a)}addGlobalEventListener(e,o,a){return this._findPluginFor(o).addGlobalEventListener(e,o,a)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const a=this._plugins;for(let d=0;d<a.length;d++){const p=a[d];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(me(jw),me(xt))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();class Ex{constructor(n){this._doc=n}addGlobalEventListener(n,e,o){const a=qs().getGlobalEventTarget(this._doc,n);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,o)}}let Sx=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),o.add(a))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),Om=(()=>{class t extends Sx{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,a){e.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,a.push(o.appendChild(p))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Dx),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,a)=>{this._addStylesToHost(e,a,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Dx))}}return t.\u0275fac=function(e){return new(e||t)(me(Kn))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();function Dx(t){qs().remove(t)}const uO={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cO=/%COMP%/g;function zw(t,n,e){for(let o=0;o<n.length;o++){let a=n[o];Array.isArray(a)?zw(t,a,e):(a=a.replace(cO,t),e.push(a))}return e}function Tx(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let $w=(()=>{class t{constructor(e,o,a){this.eventManager=e,this.sharedStylesHost=o,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new dO(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case Hi.Emulated:{let a=this.rendererByCompId.get(o.id);return a||(a=new Iz(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,a)),a.applyToHost(e),a}case 1:case Hi.ShadowDom:return new xz(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const a=zw(o.id,o.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(me(Uw),me(Om),me(bm))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();class dO{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(uO[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,o){n&&n.insertBefore(e,o)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let o="string"==typeof n?document.querySelector(n):n;if(!o)throw new Error(`The selector "${n}" did not match any elements`);return e||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,o,a){if(a){e=a+":"+e;const d=uO[a];d?n.setAttributeNS(d,e,o):n.setAttribute(e,o)}else n.setAttribute(e,o)}removeAttribute(n,e,o){if(o){const a=uO[o];a?n.removeAttributeNS(a,e):n.removeAttribute(`${o}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,o,a){a&(qi.DashCase|qi.Important)?n.style.setProperty(e,o,a&qi.Important?"important":""):n.style[e]=o}removeStyle(n,e,o){o&qi.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,o){n[e]=o}setValue(n,e){n.nodeValue=e}listen(n,e,o){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,Tx(o)):this.eventManager.addEventListener(n,e,Tx(o))}}class Iz extends dO{constructor(n,e,o,a){super(n),this.component=o;const d=zw(a+"-"+o.id,o.styles,[]);e.addStyles(d),this.contentAttr=function Pz(t){return"_ngcontent-%COMP%".replace(cO,t)}(a+"-"+o.id),this.hostAttr=function Nz(t){return"_nghost-%COMP%".replace(cO,t)}(a+"-"+o.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const o=super.createElement(n,e);return super.setAttribute(o,this.contentAttr,""),o}}class xz extends dO{constructor(n,e,o,a){super(n),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=zw(a.id,a.styles,[]);for(let p=0;p<d.length;p++){const f=document.createElement("style");f.textContent=d[p],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,o){return super.insertBefore(this.nodeOrShadowRoot(n),e,o)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Fz=(()=>{class t extends Ex{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,a){return e.addEventListener(o,a,!1),()=>this.removeEventListener(e,o,a)}removeEventListener(e,o,a){return e.removeEventListener(o,a)}}return t.\u0275fac=function(e){return new(e||t)(me(Kn))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();const Px=["alt","control","meta","shift"],Gz={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nx={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kz={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Vz=(()=>{class t extends Ex{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,o,a){const d=t.parseEventName(o),p=t.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qs().onAndCancel(e,d.domEventName,p))}static parseEventName(e){const o=e.toLowerCase().split("."),a=o.shift();if(0===o.length||"keydown"!==a&&"keyup"!==a)return null;const d=t._normalizeKey(o.pop());let p="";if(Px.forEach(m=>{const v=o.indexOf(m);v>-1&&(o.splice(v,1),p+=m+".")}),p+=d,0!=o.length||0===d.length)return null;const f={};return f.domEventName=a,f.fullKey=p,f}static getEventFullKey(e){let o="",a=function Hz(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&Nx.hasOwnProperty(n)&&(n=Nx[n]))}return Gz[n]||n}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Px.forEach(d=>{d!=a&&kz[d](e)&&(o+=d+".")}),o+=a,o}static eventCallback(e,o,a){return d=>{t.getEventFullKey(d)===e&&a.runGuarded(()=>o(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(me(Kn))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();const Uz=GI(YU,"browser",[{provide:Dw,useValue:"browser"},{provide:AI,useValue:function Bz(){aO.makeCurrent(),lO.init()},multi:!0},{provide:Kn,useFactory:function jz(){return function Ly(t){Ef=t}(document),document},deps:[]}]),zz=[{provide:js,useValue:"root"},{provide:Al,useFactory:function Wz(){return new Al},deps:[]},{provide:jw,useClass:Fz,multi:!0,deps:[Kn,xt,Dw]},{provide:jw,useClass:Vz,multi:!0,deps:[Kn]},{provide:$w,useClass:$w,deps:[Uw,Om,bm]},{provide:ch,useExisting:$w},{provide:Sx,useExisting:Om},{provide:Om,useClass:Om,deps:[Kn]},{provide:kR,useClass:kR,deps:[xt]},{provide:Uw,useClass:Uw,deps:[jw,xt]},{provide:wx,useClass:Oz,deps:[]}];let Mx=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:bm,useValue:e.appId},{provide:bx,useExisting:bm},Rz]}}}return t.\u0275fac=function(e){return new(e||t)(me(t,12))},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({providers:zz,imports:[di,QU]}),t})();function rt(...t){return Wn(t,Tu(t))}"undefined"!=typeof window&&window;class pi extends ln{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:o}=this;if(n)throw e;return this._throwIfClosed(),o}next(n){super.next(this._value=n)}}const{isArray:n$}=Array,{getPrototypeOf:i$,prototype:r$,keys:o$}=Object;function Fx(t){if(1===t.length){const n=t[0];if(n$(n))return{args:n,keys:null};if(function s$(t){return t&&"object"==typeof t&&i$(t)===r$}(n)){const e=o$(n);return{args:e.map(o=>n[o]),keys:e}}}return{args:t,keys:null}}const{isArray:a$}=Array;function hO(t){return at(n=>function l$(t,n){return a$(n)?t(...n):t(n)}(t,n))}function Lx(t,n){return t.reduce((e,o,a)=>(e[o]=n[a],e),{})}function Gx(t,n,e){t?Xt(e,t,n):n()}function Tm(t,n){const e=ee(t)?t:()=>t,o=a=>a.error(e());return new jt(n?a=>n.schedule(o,0,a):o)}const Kw=Pe(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Am(...t){return function c$(){return al(1)}()(Wn(t,Tu(t)))}function kx(t){return new jt(n=>{Bn(t()).subscribe(n)})}function Vx(){return un((t,n)=>{let e=null;t._refCount++;const o=Ut(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const a=t._connection,d=e;e=null,a&&(!d||a===d)&&a.unsubscribe(),n.unsubscribe()});t.subscribe(o),o.closed||(e=t.connect())})}class d$ extends jt{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Xh(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new tn;const e=this.getSubject();n.add(this.source.subscribe(Ut(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),n.closed&&(this._connection=null,n=tn.EMPTY)}return n}refCount(){return Vx()(this)}}function La(t,n){return un((e,o)=>{let a=null,d=0,p=!1;const f=()=>p&&!a&&o.complete();e.subscribe(Ut(o,m=>{null==a||a.unsubscribe();let v=0;const y=d++;Bn(t(m,y)).subscribe(a=Ut(o,C=>o.next(n?n(m,C,y,v++):C),()=>{a=null,f()}))},()=>{p=!0,f()}))})}function p$(t,n,e,o,a){return(d,p)=>{let f=e,m=n,v=0;d.subscribe(Ut(p,y=>{const C=v++;m=f?t(m,y,C):(f=!0,y),o&&p.next(m)},a&&(()=>{f&&p.next(m),p.complete()})))}}function Hx(t,n){return un(p$(t,n,arguments.length>=2,!0))}function Wr(t,n){return un((e,o)=>{let a=0;e.subscribe(Ut(o,d=>t.call(n,d,a++)&&o.next(d)))})}function Ga(t){return un((n,e)=>{let d,o=null,a=!1;o=n.subscribe(Ut(e,void 0,void 0,p=>{d=Bn(t(p,Ga(t)(n))),o?(o.unsubscribe(),o=null,d.subscribe(e)):a=!0})),a&&(o.unsubscribe(),o=null,d.subscribe(e))})}function fh(t,n){return ee(n)?An(t,n,1):An(t,1)}function gO(t){return t<=0?()=>Yr:un((n,e)=>{let o=[];n.subscribe(Ut(e,a=>{o.push(a),t<o.length&&o.shift()},()=>{for(const a of o)e.next(a);e.complete()},void 0,()=>{o=null}))})}function Bx(t=h$){return un((n,e)=>{let o=!1;n.subscribe(Ut(e,a=>{o=!0,e.next(a)},()=>o?e.complete():e.error(t())))})}function h$(){return new Kw}function Wx(t){return un((n,e)=>{let o=!1;n.subscribe(Ut(e,a=>{o=!0,e.next(a)},()=>{o||e.next(t),e.complete()}))})}function gh(t,n){const e=arguments.length>=2;return o=>o.pipe(t?Wr((a,d)=>t(a,d,o)):Eo,L(1),e?Wx(n):Bx(()=>new Kw))}function Qi(t,n,e){const o=ee(t)||n||e?{next:t,error:n,complete:e}:t;return o?un((a,d)=>{var p;null===(p=o.subscribe)||void 0===p||p.call(o);let f=!0;a.subscribe(Ut(d,m=>{var v;null===(v=o.next)||void 0===v||v.call(o,m),d.next(m)},()=>{var m;f=!1,null===(m=o.complete)||void 0===m||m.call(o),d.complete()},m=>{var v;f=!1,null===(v=o.error)||void 0===v||v.call(o,m),d.error(m)},()=>{var m,v;f&&(null===(m=o.unsubscribe)||void 0===m||m.call(o)),null===(v=o.finalize)||void 0===v||v.call(o)}))}):Eo}class ka{constructor(n,e){this.id=n,this.url=e}}class mO extends ka{constructor(n,e,o="imperative",a=null){super(n,e),this.navigationTrigger=o,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pm extends ka{constructor(n,e,o){super(n,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jx extends ka{constructor(n,e,o){super(n,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class m$ extends ka{constructor(n,e,o){super(n,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class v$ extends ka{constructor(n,e,o,a){super(n,e),this.urlAfterRedirects=o,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y$ extends ka{constructor(n,e,o,a){super(n,e),this.urlAfterRedirects=o,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _$ extends ka{constructor(n,e,o,a,d){super(n,e),this.urlAfterRedirects=o,this.state=a,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class C$ extends ka{constructor(n,e,o,a){super(n,e),this.urlAfterRedirects=o,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w$ extends ka{constructor(n,e,o,a){super(n,e),this.urlAfterRedirects=o,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ux{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zx{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class b${constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E${constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S${constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D${constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $x{constructor(n,e,o){this.routerEvent=n,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ft="primary";class R${constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function mh(t){return new R$(t)}const Kx="ngNavigationCancelingError";function vO(t){const n=Error("NavigationCancelingError: "+t);return n[Kx]=!0,n}function T$(t,n,e){const o=e.path.split("/");if(o.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||o.length<t.length))return null;const a={};for(let d=0;d<o.length;d++){const p=o[d],f=t[d];if(p.startsWith(":"))a[p.substring(1)]=f;else if(p!==f.path)return null}return{consumed:t.slice(0,o.length),posParams:a}}function Ys(t,n){const e=t?Object.keys(t):void 0,o=n?Object.keys(n):void 0;if(!e||!o||e.length!=o.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!qx(t[a],n[a]))return!1;return!0}function qx(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),o=[...n].sort();return e.every((a,d)=>o[d]===a)}return t===n}function Yx(t){return Array.prototype.concat.apply([],t)}function Qx(t){return t.length>0?t[t.length-1]:null}function ki(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function Qs(t){return tu(t)?t:eu(t)?Wn(Promise.resolve(t)):rt(t)}const N$={exact:function Jx(t,n,e){if(!Wc(t.segments,n.segments)||!Yw(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const o in n.children)if(!t.children[o]||!Jx(t.children[o],n.children[o],e))return!1;return!0},subset:e1},Xx={exact:function M$(t,n){return Ys(t,n)},subset:function I$(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>qx(t[e],n[e]))},ignored:()=>!0};function Zx(t,n,e){return N$[e.paths](t.root,n.root,e.matrixParams)&&Xx[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function e1(t,n,e){return t1(t,n,n.segments,e)}function t1(t,n,e,o){if(t.segments.length>e.length){const a=t.segments.slice(0,e.length);return!(!Wc(a,e)||n.hasChildren()||!Yw(a,e,o))}if(t.segments.length===e.length){if(!Wc(t.segments,e)||!Yw(t.segments,e,o))return!1;for(const a in n.children)if(!t.children[a]||!e1(t.children[a],n.children[a],o))return!1;return!0}{const a=e.slice(0,t.segments.length),d=e.slice(t.segments.length);return!!(Wc(t.segments,a)&&Yw(t.segments,a,o)&&t.children[ft])&&t1(t.children[ft],n,d,o)}}function Yw(t,n,e){return n.every((o,a)=>Xx[e](t[a].parameters,o.parameters))}class Bc{constructor(n,e,o){this.root=n,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mh(this.queryParams)),this._queryParamMap}toString(){return L$.serialize(this)}}class wt{constructor(n,e){this.segments=n,this.children=e,this.parent=null,ki(e,(o,a)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qw(this)}}class Nm{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=mh(this.parameters)),this._parameterMap}toString(){return a1(this)}}function Wc(t,n){return t.length===n.length&&t.every((e,o)=>e.path===n[o].path)}class n1{}class r1{parse(n){const e=new z$(n);return new Bc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Mm(n.root,!0)}`,o=function V$(t){const n=Object.keys(t).map(e=>{const o=t[e];return Array.isArray(o)?o.map(a=>`${Xw(e)}=${Xw(a)}`).join("&"):`${Xw(e)}=${Xw(o)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${o}${"string"==typeof n.fragment?`#${function G$(t){return encodeURI(t)}(n.fragment)}`:""}`}}const L$=new r1;function Qw(t){return t.segments.map(n=>a1(n)).join("/")}function Mm(t,n){if(!t.hasChildren())return Qw(t);if(n){const e=t.children[ft]?Mm(t.children[ft],!1):"",o=[];return ki(t.children,(a,d)=>{d!==ft&&o.push(`${d}:${Mm(a,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function F$(t,n){let e=[];return ki(t.children,(o,a)=>{a===ft&&(e=e.concat(n(o,a)))}),ki(t.children,(o,a)=>{a!==ft&&(e=e.concat(n(o,a)))}),e}(t,(o,a)=>a===ft?[Mm(t.children[ft],!1)]:[`${a}:${Mm(o,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ft]?`${Qw(t)}/${e[0]}`:`${Qw(t)}/(${e.join("//")})`}}function o1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xw(t){return o1(t).replace(/%3B/gi,";")}function yO(t){return o1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zw(t){return decodeURIComponent(t)}function s1(t){return Zw(t.replace(/\+/g,"%20"))}function a1(t){return`${yO(t.path)}${function k$(t){return Object.keys(t).map(n=>`;${yO(n)}=${yO(t[n])}`).join("")}(t.parameters)}`}const H$=/^[^\/()?;=#]+/;function Jw(t){const n=t.match(H$);return n?n[0]:""}const B$=/^[^=?&#]+/,j$=/^[^&#]+/;class z${constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(o[ft]=new wt(n,e)),o}parseSegment(){const n=Jw(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new Nm(Zw(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Jw(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const a=Jw(this.remaining);a&&(o=a,this.capture(o))}n[Zw(e)]=Zw(o)}parseQueryParam(n){const e=function W$(t){const n=t.match(B$);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const p=function U$(t){const n=t.match(j$);return n?n[0]:""}(this.remaining);p&&(o=p,this.capture(o))}const a=s1(e),d=s1(o);if(n.hasOwnProperty(a)){let p=n[a];Array.isArray(p)||(p=[p],n[a]=p),p.push(d)}else n[a]=d}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Jw(this.remaining),a=this.remaining[o.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let d;o.indexOf(":")>-1?(d=o.substr(0,o.indexOf(":")),this.capture(d),this.capture(":")):n&&(d=ft);const p=this.parseChildren();e[d]=1===Object.keys(p).length?p[ft]:new wt([],p),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class l1{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=_O(n,this._root);return e?e.children.map(o=>o.value):[]}firstChild(n){const e=_O(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=CO(n,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==n)}pathFromRoot(n){return CO(n,this._root).map(e=>e.value)}}function _O(t,n){if(t===n.value)return n;for(const e of n.children){const o=_O(t,e);if(o)return o}return null}function CO(t,n){if(t===n.value)return[n];for(const e of n.children){const o=CO(t,e);if(o.length)return o.unshift(n),o}return[]}class Va{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function vh(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class u1 extends l1{constructor(n,e){super(n),this.snapshot=e,wO(this,n)}toString(){return this.snapshot.toString()}}function c1(t,n){const e=function $$(t,n){const p=new eb([],{},{},"",{},ft,n,null,t.root,-1,{});return new p1("",new Va(p,[]))}(t,n),o=new pi([new Nm("",{})]),a=new pi({}),d=new pi({}),p=new pi({}),f=new pi(""),m=new Ha(o,a,p,f,d,ft,n,e.root);return m.snapshot=e.root,new u1(new Va(m,[]),e)}class Ha{constructor(n,e,o,a,d,p,f,m){this.url=n,this.params=e,this.queryParams=o,this.fragment=a,this.data=d,this.outlet=p,this.component=f,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(at(n=>mh(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(at(n=>mh(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function d1(t,n="emptyOnly"){const e=t.pathFromRoot;let o=0;if("always"!==n)for(o=e.length-1;o>=1;){const a=e[o],d=e[o-1];if(a.routeConfig&&""===a.routeConfig.path)o--;else{if(d.component)break;o--}}return function K$(t){return t.reduce((n,e)=>({params:Object.assign(Object.assign({},n.params),e.params),data:Object.assign(Object.assign({},n.data),e.data),resolve:Object.assign(Object.assign({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class eb{constructor(n,e,o,a,d,p,f,m,v,y,C){this.url=n,this.params=e,this.queryParams=o,this.fragment=a,this.data=d,this.outlet=p,this.component=f,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=y,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class p1 extends l1{constructor(n,e){super(e),this.url=n,wO(this,e)}toString(){return h1(this._root)}}function wO(t,n){n.value._routerState=t,n.children.forEach(e=>wO(t,e))}function h1(t){const n=t.children.length>0?` { ${t.children.map(h1).join(", ")} } `:"";return`${t.value}${n}`}function bO(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Ys(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Ys(n.params,e.params)||t.params.next(e.params),function A$(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Ys(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Ys(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function EO(t,n){const e=Ys(t.params,n.params)&&function x$(t,n){return Wc(t,n)&&t.every((e,o)=>Ys(e.parameters,n[o].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||EO(t.parent,n.parent))}function Im(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=n.value;const a=function Y$(t,n,e){return n.children.map(o=>{for(const a of e.children)if(t.shouldReuseRoute(o.value,a.value.snapshot))return Im(t,o,a);return Im(t,o)})}(t,n,e);return new Va(o,a)}{if(t.shouldAttach(n.value)){const d=t.retrieve(n.value);if(null!==d){const p=d.route;return p.value._futureSnapshot=n.value,p.children=n.children.map(f=>Im(t,f)),p}}const o=function Q$(t){return new Ha(new pi(t.url),new pi(t.params),new pi(t.queryParams),new pi(t.fragment),new pi(t.data),t.outlet,t.component,t)}(n.value),a=n.children.map(d=>Im(t,d));return new Va(o,a)}}function tb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function xm(t){return"object"==typeof t&&null!=t&&t.outlets}function SO(t,n,e,o,a){let d={};if(o&&ki(o,(f,m)=>{d[m]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`}),t===n)return new Bc(e,d,a);const p=f1(t,n,e);return new Bc(p,d,a)}function f1(t,n,e){const o={};return ki(t.children,(a,d)=>{o[d]=a===n?e:f1(a,n,e)}),new wt(t.segments,o)}class g1{constructor(n,e,o){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=o,n&&o.length>0&&tb(o[0]))throw new Error("Root segment cannot have matrix parameters");const a=o.find(xm);if(a&&a!==Qx(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class DO{constructor(n,e,o){this.segmentGroup=n,this.processChildren=e,this.index=o}}function m1(t,n,e){if(t||(t=new wt([],{})),0===t.segments.length&&t.hasChildren())return nb(t,n,e);const o=function n8(t,n,e){let o=0,a=n;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(o>=e.length)return d;const p=t.segments[a],f=e[o];if(xm(f))break;const m=`${f}`,v=o<e.length-1?e[o+1]:null;if(a>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!y1(m,v,p))return d;o+=2}else{if(!y1(m,{},p))return d;o++}a++}return{match:!0,pathIndex:a,commandIndex:o}}(t,n,e),a=e.slice(o.commandIndex);if(o.match&&o.pathIndex<t.segments.length){const d=new wt(t.segments.slice(0,o.pathIndex),{});return d.children[ft]=new wt(t.segments.slice(o.pathIndex),t.children),nb(d,0,a)}return o.match&&0===a.length?new wt(t.segments,{}):o.match&&!t.hasChildren()?RO(t,n,e):o.match?nb(t,0,a):RO(t,n,e)}function nb(t,n,e){if(0===e.length)return new wt(t.segments,{});{const o=function t8(t){return xm(t[0])?t[0].outlets:{[ft]:t}}(e),a={};return ki(o,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[p]=m1(t.children[p],n,d))}),ki(t.children,(d,p)=>{void 0===o[p]&&(a[p]=d)}),new wt(t.segments,a)}}function RO(t,n,e){const o=t.segments.slice(0,n);let a=0;for(;a<e.length;){const d=e[a];if(xm(d)){const m=i8(d.outlets);return new wt(o,m)}if(0===a&&tb(e[0])){o.push(new Nm(t.segments[n].path,v1(e[0]))),a++;continue}const p=xm(d)?d.outlets[ft]:`${d}`,f=a<e.length-1?e[a+1]:null;p&&f&&tb(f)?(o.push(new Nm(p,v1(f))),a+=2):(o.push(new Nm(p,{})),a++)}return new wt(o,{})}function i8(t){const n={};return ki(t,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[o]=RO(new wt([],{}),0,e))}),n}function v1(t){const n={};return ki(t,(e,o)=>n[o]=`${e}`),n}function y1(t,n,e){return t==e.path&&Ys(n,e.parameters)}class o8{constructor(n,e,o,a){this.routeReuseStrategy=n,this.futureState=e,this.currState=o,this.forwardEvent=a}activate(n){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,n),bO(this.futureState.root),this.activateChildRoutes(e,o,n)}deactivateChildRoutes(n,e,o){const a=vh(e);n.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,a[p],o),delete a[p]}),ki(a,(d,p)=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(n,e,o){const a=n.value,d=e?e.value:null;if(a===d)if(a.component){const p=o.getContext(a.outlet);p&&this.deactivateChildRoutes(n,e,p.children)}else this.deactivateChildRoutes(n,e,o);else d&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const o=e.getContext(n.value.outlet),a=o&&n.value.component?o.children:e,d=vh(n);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);if(o&&o.outlet){const p=o.outlet.detach(),f=o.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:p,route:n,contexts:f})}}deactivateRouteAndOutlet(n,e){const o=e.getContext(n.value.outlet),a=o&&n.value.component?o.children:e,d=vh(n);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(n,e,o){const a=vh(e);n.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],o),this.forwardEvent(new D$(d.value.snapshot))}),n.children.length&&this.forwardEvent(new E$(n.value.snapshot))}activateRoutes(n,e,o){const a=n.value,d=e?e.value:null;if(bO(a),a===d)if(a.component){const p=o.getOrCreateContext(a.outlet);this.activateChildRoutes(n,e,p.children)}else this.activateChildRoutes(n,e,o);else if(a.component){const p=o.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const f=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(f.contexts),p.attachRef=f.componentRef,p.route=f.route.value,p.outlet&&p.outlet.attach(f.componentRef,f.route.value),bO(f.route.value),this.activateChildRoutes(n,null,p.children)}else{const f=function s8(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),m=f?f.module.componentFactoryResolver:null;p.attachRef=null,p.route=a,p.resolver=m,p.outlet&&p.outlet.activateWith(a,m),this.activateChildRoutes(n,null,p.children)}}else this.activateChildRoutes(n,null,o)}}class OO{constructor(n,e){this.routes=n,this.module=e}}function cu(t){return"function"==typeof t}function jc(t){return t instanceof Bc}const Fm=Symbol("INITIAL_VALUE");function Lm(){return La(t=>function fO(...t){const n=Tu(t),e=sa(t),{args:o,keys:a}=Fx(t);if(0===o.length)return Wn([],n);const d=new jt(function u$(t,n,e=Eo){return o=>{Gx(n,()=>{const{length:a}=t,d=new Array(a);let p=a,f=a;for(let m=0;m<a;m++)Gx(n,()=>{const v=Wn(t[m],n);let y=!1;v.subscribe(Ut(o,C=>{d[m]=C,y||(y=!0,f--),f||o.next(e(d.slice()))},()=>{--p||o.complete()}))},o)},o)}}(o,n,a?p=>Lx(a,p):Eo));return e?d.pipe(hO(e)):d}(t.map(n=>n.pipe(L(1),function qw(...t){const n=Tu(t);return un((e,o)=>{(n?Am(t,e,n):Am(t,e)).subscribe(o)})}(Fm)))).pipe(Hx((n,e)=>{let o=!1;return e.reduce((a,d,p)=>a!==Fm?a:(d===Fm&&(o=!0),o||!1!==d&&p!==e.length-1&&!jc(d)?a:d),n)},Fm),Wr(n=>n!==Fm),at(n=>jc(n)?n:!0===n),L(1)))}class p8{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Gm,this.attachRef=null}}class Gm{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const o=this.getOrCreateContext(n);o.outlet=e,this.contexts.set(n,o)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new p8,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let TO=(()=>{class t{constructor(e,o,a,d,p){this.parentContexts=e,this.location=o,this.resolver=a,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new U,this.deactivateEvents=new U,this.attachEvents=new U,this.detachEvents=new U,this.name=d||ft,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const p=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,m=new h8(e,f,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(H(Gm),H(ao),H(su),function ma(t){return function q0(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const o=e.length;let a=0;for(;a<o;){const d=e[a];if(qu(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<o&&"string"==typeof e[a];)a++;else{if(d===n)return e[a+1];a+=2}}}return null}(Me(),t)}("name"),H(uo))},t.\u0275dir=Ce({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class h8{constructor(n,e,o){this.route=n,this.childContexts=e,this.parent=o}get(n,e){return n===Ha?this.route:n===Gm?this.childContexts:this.parent.get(n,e)}}let _1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Rt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&pt(0,"router-outlet")},directives:[TO],encapsulation:2}),t})();function C1(t,n=""){for(let e=0;e<t.length;e++){const o=t[e];f8(o,g8(n,o))}}function f8(t,n){t.children&&C1(t.children,n)}function g8(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function AO(t){const n=t.children&&t.children.map(AO),e=n?Object.assign(Object.assign({},t),{children:n}):Object.assign({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ft&&(e.component=_1),e}function ko(t){return t.outlet||ft}function w1(t,n){const e=t.filter(o=>ko(o)===n);return e.push(...t.filter(o=>ko(o)!==n)),e}const b1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ib(t,n,e){var o;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},b1):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const d=(n.matcher||T$)(e,t,n);if(!d)return Object.assign({},b1);const p={};ki(d.posParams,(m,v)=>{p[v]=m.path});const f=d.consumed.length>0?Object.assign(Object.assign({},p),d.consumed[d.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:d.consumed,remainingSegments:e.slice(d.consumed.length),parameters:f,positionalParamSegments:null!==(o=d.posParams)&&void 0!==o?o:{}}}function rb(t,n,e,o,a="corrected"){if(e.length>0&&function y8(t,n,e){return e.some(o=>ob(t,n,o)&&ko(o)!==ft)}(t,e,o)){const p=new wt(n,function v8(t,n,e,o){const a={};a[ft]=o,o._sourceSegment=t,o._segmentIndexShift=n.length;for(const d of e)if(""===d.path&&ko(d)!==ft){const p=new wt([],{});p._sourceSegment=t,p._segmentIndexShift=n.length,a[ko(d)]=p}return a}(t,n,o,new wt(e,t.children)));return p._sourceSegment=t,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:[]}}if(0===e.length&&function _8(t,n,e){return e.some(o=>ob(t,n,o))}(t,e,o)){const p=new wt(t.segments,function m8(t,n,e,o,a,d){const p={};for(const f of o)if(ob(t,e,f)&&!a[ko(f)]){const m=new wt([],{});m._sourceSegment=t,m._segmentIndexShift="legacy"===d?t.segments.length:n.length,p[ko(f)]=m}return Object.assign(Object.assign({},a),p)}(t,n,e,o,t.children,a));return p._sourceSegment=t,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:e}}const d=new wt(t.segments,t.children);return d._sourceSegment=t,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:e}}function ob(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function E1(t,n,e,o){return!!(ko(t)===o||o!==ft&&ob(n,e,t))&&("**"===t.path||ib(n,t,e).matched)}function S1(t,n,e){return 0===n.length&&!t.children[e]}class sb{constructor(n){this.segmentGroup=n||null}}class D1{constructor(n){this.urlTree=n}}function km(t){return Tm(new sb(t))}function R1(t){return Tm(new D1(t))}class E8{constructor(n,e,o,a,d){this.configLoader=e,this.urlSerializer=o,this.urlTree=a,this.config=d,this.allowRedirects=!0,this.ngModule=n.get(Ia)}apply(){const n=rb(this.urlTree.root,[],[],this.config).segmentGroup,e=new wt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ft).pipe(at(d=>this.createUrlTree(PO(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ga(d=>{if(d instanceof D1)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof sb?this.noMatchError(d):d}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,ft).pipe(at(a=>this.createUrlTree(PO(a),n.queryParams,n.fragment))).pipe(Ga(a=>{throw a instanceof sb?this.noMatchError(a):a}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,o){const a=n.segments.length>0?new wt([],{[ft]:n}):n;return new Bc(a,e,o)}expandSegmentGroup(n,e,o,a){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(n,e,o).pipe(at(d=>new wt([],d))):this.expandSegment(n,o,e,o.segments,a,!0)}expandChildren(n,e,o){const a=[];for(const d of Object.keys(o.children))"primary"===d?a.unshift(d):a.push(d);return Wn(a).pipe(fh(d=>{const p=o.children[d],f=w1(e,d);return this.expandSegmentGroup(n,f,p,d).pipe(at(m=>({segment:m,outlet:d})))}),Hx((d,p)=>(d[p.outlet]=p.segment,d),{}),function f$(t,n){const e=arguments.length>=2;return o=>o.pipe(t?Wr((a,d)=>t(a,d,o)):Eo,gO(1),e?Wx(n):Bx(()=>new Kw))}())}expandSegment(n,e,o,a,d,p){return Wn(o).pipe(fh(f=>this.expandSegmentAgainstRoute(n,e,o,f,a,d,p).pipe(Ga(v=>{if(v instanceof sb)return rt(null);throw v}))),gh(f=>!!f),Ga((f,m)=>{if(f instanceof Kw||"EmptyError"===f.name)return S1(e,a,d)?rt(new wt([],{})):km(e);throw f}))}expandSegmentAgainstRoute(n,e,o,a,d,p,f){return E1(a,e,d,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(n,e,a,d,p):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,o,a,d,p):km(e):km(e)}expandSegmentAgainstRouteUsingRedirect(n,e,o,a,d,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,o,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,o,a,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,o,a){const d=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?R1(d):this.lineralizeSegments(o,d).pipe(An(p=>{const f=new wt(p,{});return this.expandSegment(n,f,e,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,o,a,d,p){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:y}=ib(e,a,d);if(!f)return km(e);const C=this.applyRedirectCommands(m,a.redirectTo,y);return a.redirectTo.startsWith("/")?R1(C):this.lineralizeSegments(a,C).pipe(An(b=>this.expandSegment(n,e,o,b.concat(v),p,!1)))}matchSegmentAgainstRoute(n,e,o,a,d){if("**"===o.path)return o.loadChildren?(o._loadedConfig?rt(o._loadedConfig):this.configLoader.load(n.injector,o)).pipe(at(C=>(o._loadedConfig=C,new wt(a,{})))):rt(new wt(a,{}));const{matched:p,consumedSegments:f,remainingSegments:m}=ib(e,o,a);return p?this.getChildConfig(n,o,a).pipe(An(y=>{const C=y.module,b=y.routes,{segmentGroup:S,slicedSegments:R}=rb(e,f,m,b),A=new wt(S.segments,S.children);if(0===R.length&&A.hasChildren())return this.expandChildren(C,b,A).pipe(at(z=>new wt(f,z)));if(0===b.length&&0===R.length)return rt(new wt(f,{}));const I=ko(o)===d;return this.expandSegment(C,A,b,R,I?ft:d,!0).pipe(at(k=>new wt(f.concat(k.segments),k.children)))})):km(e)}getChildConfig(n,e,o){return e.children?rt(new OO(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?rt(e._loadedConfig):this.runCanLoadGuards(n.injector,e,o).pipe(An(a=>a?this.configLoader.load(n.injector,e).pipe(at(d=>(e._loadedConfig=d,d))):function w8(t){return Tm(vO(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(e))):rt(new OO([],n))}runCanLoadGuards(n,e,o){const a=e.canLoad;return a&&0!==a.length?rt(a.map(p=>{const f=n.get(p);let m;if(function l8(t){return t&&cu(t.canLoad)}(f))m=f.canLoad(e,o);else{if(!cu(f))throw new Error("Invalid CanLoad guard");m=f(e,o)}return Qs(m)})).pipe(Lm(),Qi(p=>{if(!jc(p))return;const f=vO(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw f.url=p,f}),at(p=>!0===p)):rt(!0)}lineralizeSegments(n,e){let o=[],a=e.root;for(;;){if(o=o.concat(a.segments),0===a.numberOfChildren)return rt(o);if(a.numberOfChildren>1||!a.children[ft])return Tm(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n.redirectTo}'`));a=a.children[ft]}}applyRedirectCommands(n,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,o)}applyRedirectCreatreUrlTree(n,e,o,a){const d=this.createSegmentGroup(n,e.root,o,a);return new Bc(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const o={};return ki(n,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);o[d]=e[f]}else o[d]=a}),o}createSegmentGroup(n,e,o,a){const d=this.createSegments(n,e.segments,o,a);let p={};return ki(e.children,(f,m)=>{p[m]=this.createSegmentGroup(n,f,o,a)}),new wt(d,p)}createSegments(n,e,o,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(n,d,a):this.findOrReturn(d,o))}findPosParam(n,e,o){const a=o[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return a}findOrReturn(n,e){let o=0;for(const a of e){if(a.path===n.path)return e.splice(o),a;o++}return n}}function PO(t){const n={};for(const o of Object.keys(t.children)){const d=PO(t.children[o]);(d.segments.length>0||d.hasChildren())&&(n[o]=d)}return function S8(t){if(1===t.numberOfChildren&&t.children[ft]){const n=t.children[ft];return new wt(t.segments.concat(n.segments),n.children)}return t}(new wt(t.segments,n))}class O1{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class ab{constructor(n,e){this.component=n,this.route=e}}function R8(t,n,e){const o=t._root;return Vm(o,n?n._root:null,e,[o.value])}function lb(t,n,e){const o=function T8(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(o?o.module.injector:e).get(t)}function Vm(t,n,e,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=vh(n);return t.children.forEach(p=>{(function A8(t,n,e,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=t.value,p=n?n.value:null,f=e?e.getContext(t.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const m=function P8(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Wc(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Wc(t.url,n.url)||!Ys(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!EO(t,n)||!Ys(t.queryParams,n.queryParams);default:return!EO(t,n)}}(p,d,d.routeConfig.runGuardsAndResolvers);m?a.canActivateChecks.push(new O1(o)):(d.data=p.data,d._resolvedData=p._resolvedData),Vm(t,n,d.component?f?f.children:null:e,o,a),m&&f&&f.outlet&&f.outlet.isActivated&&a.canDeactivateChecks.push(new ab(f.outlet.component,p))}else p&&Hm(n,f,a),a.canActivateChecks.push(new O1(o)),Vm(t,null,d.component?f?f.children:null:e,o,a)})(p,d[p.value.outlet],e,o.concat([p.value]),a),delete d[p.value.outlet]}),ki(d,(p,f)=>Hm(p,e.getContext(f),a)),a}function Hm(t,n,e){const o=vh(t),a=t.value;ki(o,(d,p)=>{Hm(d,a.component?n?n.children.getContext(p):null:n,e)}),e.canDeactivateChecks.push(new ab(a.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,a))}class V8{}function T1(t){return new jt(n=>n.error(t))}class B8{constructor(n,e,o,a,d,p){this.rootComponentType=n,this.config=e,this.urlTree=o,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p}recognize(){const n=rb(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,ft);if(null===e)return null;const o=new eb([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ft,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Va(o,e),d=new p1(this.url,a);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(n){const e=n.value,o=d1(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),n.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(n,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,o)}processChildren(n,e){const o=[];for(const d of Object.keys(e.children)){const p=e.children[d],f=w1(n,d),m=this.processSegmentGroup(f,p,d);if(null===m)return null;o.push(...m)}const a=A1(o);return function W8(t){t.sort((n,e)=>n.value.outlet===ft?-1:e.value.outlet===ft?1:n.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(n,e,o,a){for(const d of n){const p=this.processSegmentAgainstRoute(d,e,o,a);if(null!==p)return p}return S1(e,o,a)?[]:null}processSegmentAgainstRoute(n,e,o,a){if(n.redirectTo||!E1(n,e,o,a))return null;let d,p=[],f=[];if("**"===n.path){const S=o.length>0?Qx(o).parameters:{};d=new eb(o,S,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,M1(n),ko(n),n.component,n,P1(e),N1(e)+o.length,I1(n))}else{const S=ib(e,n,o);if(!S.matched)return null;p=S.consumedSegments,f=S.remainingSegments,d=new eb(p,S.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,M1(n),ko(n),n.component,n,P1(e),N1(e)+p.length,I1(n))}const m=function j8(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(n),{segmentGroup:v,slicedSegments:y}=rb(e,p,f,m.filter(S=>void 0===S.redirectTo),this.relativeLinkResolution);if(0===y.length&&v.hasChildren()){const S=this.processChildren(m,v);return null===S?null:[new Va(d,S)]}if(0===m.length&&0===y.length)return[new Va(d,[])];const C=ko(n)===a,b=this.processSegment(m,v,y,C?ft:a);return null===b?null:[new Va(d,b)]}}function U8(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function A1(t){const n=[],e=new Set;for(const o of t){if(!U8(o)){n.push(o);continue}const a=n.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...o.children),e.add(a)):n.push(o)}for(const o of e){const a=A1(o.children);n.push(new Va(o.value,a))}return n.filter(o=>!e.has(o))}function P1(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function N1(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function M1(t){return t.data||{}}function I1(t){return t.resolve||{}}function x1(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function NO(t){return La(n=>{const e=t(n);return e?Wn(e).pipe(at(()=>n)):rt(n)})}class Z8 extends class X8{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const MO=new it("ROUTES");class F1{constructor(n,e,o,a){this.injector=n,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=a}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe(at(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const p=d.create(n);return new OO(Yx(p.injector.get(MO,void 0,Ue.Self|Ue.Optional)).map(AO),p)}),Ga(d=>{throw e._loader$=void 0,d}));return e._loader$=new d$(a,()=>new ln).pipe(Vx()),e._loader$}loadModuleFactory(n){return Qs(n()).pipe(An(e=>e instanceof YM?rt(e):Wn(this.compiler.compileModuleAsync(e))))}}class e5{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function t5(t){throw t}function n5(t,n,e){return n.parse("/")}function L1(t,n){return rt(null)}const i5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},r5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ei=(()=>{class t{constructor(e,o,a,d,p,f,m){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=a,this.location=d,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ln,this.errorHandler=t5,this.malformedUriErrorHandler=n5,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:L1,afterPreactivation:L1},this.urlHandlingStrategy=new e5,this.routeReuseStrategy=new Z8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(Ia),this.console=p.get(pU);const C=p.get(xt);this.isNgZoneEnabled=C instanceof xt&&xt.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function P$(){return new Bc(new wt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new F1(p,f,b=>this.triggerEvent(new Ux(b)),b=>this.triggerEvent(new zx(b))),this.routerState=c1(this.currentUrlTree,this.rootComponentType),this.transitions=new pi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(Wr(a=>0!==a.id),at(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),La(a=>{let d=!1,p=!1;return rt(a).pipe(Qi(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),La(f=>{const m=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return G1(f.source)&&(this.browserUrlTree=f.extractedUrl),rt(f).pipe(La(C=>{const b=this.transitions.getValue();return o.next(new mO(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),b!==this.transitions.getValue()?Yr:Promise.resolve(C)}),function D8(t,n,e,o){return La(a=>function b8(t,n,e,o,a){return new E8(t,n,e,o,a).apply()}(t,n,e,a.extractedUrl,o).pipe(at(d=>Object.assign(Object.assign({},a),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Qi(C=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function z8(t,n,e,o,a){return An(d=>function H8(t,n,e,o,a="emptyOnly",d="legacy"){try{const p=new B8(t,n,e,o,a,d).recognize();return null===p?T1(new V8):rt(p)}catch(p){return T1(p)}}(t,n,d.urlAfterRedirects,e(d.urlAfterRedirects),o,a).pipe(at(p=>Object.assign(Object.assign({},d),{targetSnapshot:p}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),Qi(C=>{if("eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const S=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(S,C)}this.browserUrlTree=C.urlAfterRedirects}const b=new v$(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);o.next(b)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:b,extractedUrl:S,source:R,restoredState:A,extras:I}=f,F=new mO(b,this.serializeUrl(S),R,A);o.next(F);const k=c1(S,this.rootComponentType).snapshot;return rt(Object.assign(Object.assign({},f),{targetSnapshot:k,urlAfterRedirects:S,extras:Object.assign(Object.assign({},I),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Yr}),NO(f=>{const{targetSnapshot:m,id:v,extractedUrl:y,rawUrl:C,extras:{skipLocationChange:b,replaceUrl:S}}=f;return this.hooks.beforePreactivation(m,{navigationId:v,appliedUrlTree:y,rawUrlTree:C,skipLocationChange:!!b,replaceUrl:!!S})}),Qi(f=>{const m=new y$(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),at(f=>Object.assign(Object.assign({},f),{guards:R8(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function N8(t,n){return An(e=>{const{targetSnapshot:o,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:p}}=e;return 0===p.length&&0===d.length?rt(Object.assign(Object.assign({},e),{guardsResult:!0})):function M8(t,n,e,o){return Wn(t).pipe(An(a=>function k8(t,n,e,o,a){const d=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return d&&0!==d.length?rt(d.map(f=>{const m=lb(f,n,a);let v;if(function d8(t){return t&&cu(t.canDeactivate)}(m))v=Qs(m.canDeactivate(t,n,e,o));else{if(!cu(m))throw new Error("Invalid CanDeactivate guard");v=Qs(m(t,n,e,o))}return v.pipe(gh())})).pipe(Lm()):rt(!0)}(a.component,a.route,e,n,o)),gh(a=>!0!==a,!0))}(p,o,a,t).pipe(An(f=>f&&function a8(t){return"boolean"==typeof t}(f)?function I8(t,n,e,o){return Wn(n).pipe(fh(a=>Am(function F8(t,n){return null!==t&&n&&n(new b$(t)),rt(!0)}(a.route.parent,o),function x8(t,n){return null!==t&&n&&n(new S$(t)),rt(!0)}(a.route,o),function G8(t,n,e){const o=n[n.length-1],d=n.slice(0,n.length-1).reverse().map(p=>function O8(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(p)).filter(p=>null!==p).map(p=>kx(()=>rt(p.guards.map(m=>{const v=lb(m,p.node,e);let y;if(function c8(t){return t&&cu(t.canActivateChild)}(v))y=Qs(v.canActivateChild(o,t));else{if(!cu(v))throw new Error("Invalid CanActivateChild guard");y=Qs(v(o,t))}return y.pipe(gh())})).pipe(Lm())));return rt(d).pipe(Lm())}(t,a.path,e),function L8(t,n,e){const o=n.routeConfig?n.routeConfig.canActivate:null;if(!o||0===o.length)return rt(!0);const a=o.map(d=>kx(()=>{const p=lb(d,n,e);let f;if(function u8(t){return t&&cu(t.canActivate)}(p))f=Qs(p.canActivate(n,t));else{if(!cu(p))throw new Error("Invalid CanActivate guard");f=Qs(p(n,t))}return f.pipe(gh())}));return rt(a).pipe(Lm())}(t,a.route,e))),gh(a=>!0!==a,!0))}(o,d,t,n):rt(f)),at(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),Qi(f=>{if(jc(f.guardsResult)){const v=vO(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw v.url=f.guardsResult,v}const m=new _$(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),Wr(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),NO(f=>{if(f.guards.canActivateChecks.length)return rt(f).pipe(Qi(m=>{const v=new C$(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),La(m=>{let v=!1;return rt(m).pipe(function $8(t,n){return An(e=>{const{targetSnapshot:o,guards:{canActivateChecks:a}}=e;if(!a.length)return rt(e);let d=0;return Wn(a).pipe(fh(p=>function K8(t,n,e,o){return function q8(t,n,e,o){const a=x1(t);if(0===a.length)return rt({});const d={};return Wn(a).pipe(An(p=>function Y8(t,n,e,o){const a=lb(t,n,o);return Qs(a.resolve?a.resolve(n,e):a(n,e))}(t[p],n,e,o).pipe(Qi(f=>{d[p]=f}))),gO(1),An(()=>x1(d).length===a.length?rt(d):Yr))}(t._resolve,t,n,o).pipe(at(d=>(t._resolvedData=d,t.data=Object.assign(Object.assign({},t.data),d1(t,e).resolve),null)))}(p.route,o,t,n)),Qi(()=>d++),gO(1),An(p=>d===a.length?rt(e):Yr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Qi({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),Qi(m=>{const v=new w$(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),NO(f=>{const{targetSnapshot:m,id:v,extractedUrl:y,rawUrl:C,extras:{skipLocationChange:b,replaceUrl:S}}=f;return this.hooks.afterPreactivation(m,{navigationId:v,appliedUrlTree:y,rawUrlTree:C,skipLocationChange:!!b,replaceUrl:!!S})}),at(f=>{const m=function q$(t,n,e){const o=Im(t,n._root,e?e._root:void 0);return new u1(o,n)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:m})}),Qi(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((t,n,e)=>at(o=>(new o8(n,o.targetRouterState,o.currentRouterState,e).activate(t),o)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),Qi({next(){d=!0},complete(){d=!0}}),function g$(t){return un((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}(()=>{var f;d||p||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===a.id&&(this.currentNavigation=null)}),Ga(f=>{if(p=!0,function O$(t){return t&&t[Kx]}(f)){const m=jc(f.url);m||(this.navigated=!0,this.restoreHistory(a,!0));const v=new jx(a.id,this.serializeUrl(a.extractedUrl),f.message);o.next(v),m?setTimeout(()=>{const y=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),C={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||G1(a.source)};this.scheduleNavigation(y,"imperative",null,C,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const m=new m$(a.id,this.serializeUrl(a.extractedUrl),f);o.next(m);try{a.resolve(this.errorHandler(f))}catch(v){a.reject(v)}}return Yr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var a;const d={replaceUrl:!0},p=(null===(a=e.state)||void 0===a?void 0:a.navigationId)?e.state:null;if(p){const m=Object.assign({},p);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(d.state=m)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,o,p,d)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){C1(e),this.config=e.map(AO),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:a,queryParams:d,fragment:p,queryParamsHandling:f,preserveFragment:m}=o,v=a||this.routerState.root,y=m?this.currentUrlTree.fragment:p;let C=null;switch(f){case"merge":C=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=d||null}return null!==C&&(C=this.removeEmptyProps(C)),function X$(t,n,e,o,a){if(0===e.length)return SO(n.root,n.root,n.root,o,a);const d=function Z$(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new g1(!0,0,t);let n=0,e=!1;const o=t.reduce((a,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const f={};return ki(d.outlets,(m,v)=>{f[v]="string"==typeof m?m.split("/"):m}),[...a,{outlets:f}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===p?(d.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?e=!0:".."===f?n++:""!=f&&a.push(f))}),a):[...a,d]},[]);return new g1(e,n,o)}(e);if(d.toRoot())return SO(n.root,n.root,new wt([],{}),o,a);const p=function J$(t,n,e){if(t.isAbsolute)return new DO(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new DO(d,d===n.root,0)}const o=tb(t.commands[0])?0:1;return function e8(t,n,e){let o=t,a=n,d=e;for(;d>a;){if(d-=a,o=o.parent,!o)throw new Error("Invalid number of '../'");a=o.segments.length}return new DO(o,!1,a-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,t.numberOfDoubleDots)}(d,n,t),f=p.processChildren?nb(p.segmentGroup,p.index,d.commands):m1(p.segmentGroup,p.index,d.commands);return SO(n.root,p.segmentGroup,f,o,a)}(v,this.currentUrlTree,e,C,null!=y?y:null)}navigateByUrl(e,o={skipLocationChange:!1}){const a=jc(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function o5(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(a){o=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return o}isActive(e,o){let a;if(a=!0===o?Object.assign({},i5):!1===o?Object.assign({},r5):o,jc(e))return Zx(this.currentUrlTree,e,a);const d=this.parseUrl(e);return Zx(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((o,a)=>{const d=e[a];return null!=d&&(o[a]=d),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Pm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,a,d,p){var f,m;if(this.disposed)return Promise.resolve(!1);let v,y,C;p?(v=p.resolve,y=p.reject,C=p.promise):C=new Promise((R,A)=>{v=R,y=A});const b=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),S=a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):S=0,this.setTransition({id:b,targetPageId:S,source:o,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:v,reject:y,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(R=>Promise.reject(R))}setBrowserUrl(e,o){const a=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(a)||o.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,o=!1){var a,d;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===p?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===p&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const a=new jx(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return t.\u0275fac=function(e){rm()},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();function G1(t){return"imperative"!==t}let ub=(()=>{class t{constructor(e,o,a){this.router=e,this.route=o,this.locationStrategy=a,this.commands=null,this.href=null,this.onChanges=new ln,this.subscription=e.events.subscribe(d=>{d instanceof Pm&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,a,d,p){if(0!==e||o||a||d||p||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:yh(this.skipLocationChange),replaceUrl:yh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:yh(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(H(Ei),H(Ha),H(Vc))},t.\u0275dir=Ce({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&Ke("click",function(d){return o.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&Ct("target",o.target)("href",o.href,Rn)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Ln]}),t})();function yh(t){return""===t||!!t}class k1{}class V1{preload(n,e){return rt(null)}}let H1=(()=>{class t{constructor(e,o,a,d){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=new F1(a,o,m=>e.triggerEvent(new Ux(m)),m=>e.triggerEvent(new zx(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(Wr(e=>e instanceof Pm),fh(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Ia);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const a=[];for(const d of o)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const p=d._loadedConfig;a.push(this.processRoutes(p.module,p.routes))}else d.loadChildren&&!d.canLoad?a.push(this.preloadConfig(e,d)):d.children&&a.push(this.processRoutes(e,d.children));return Wn(a).pipe(al(),at(d=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?rt(o._loadedConfig):this.loader.load(e.injector,o)).pipe(An(d=>(o._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(me(Ei),me(NI),me(rn),me(k1))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),xO=(()=>{class t{constructor(e,o,a={}){this.router=e,this.viewportScroller=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mO?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pm&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof $x&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new $x(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){rm()},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();const Uc=new it("ROUTER_CONFIGURATION"),B1=new it("ROUTER_FORROOT_GUARD"),u5=[Nw,{provide:n1,useClass:r1},{provide:Ei,useFactory:function f5(t,n,e,o,a,d,p={},f,m){const v=new Ei(null,t,n,e,o,a,Yx(d));return f&&(v.urlHandlingStrategy=f),m&&(v.routeReuseStrategy=m),function g5(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(p,v),p.enableTracing&&v.events.subscribe(y=>{var C,b;null===(C=console.group)||void 0===C||C.call(console,`Router Event: ${y.constructor.name}`),console.log(y.toString()),console.log(y),null===(b=console.groupEnd)||void 0===b||b.call(console)}),v},deps:[n1,Gm,Nw,rn,NI,MO,Uc,[class J8{},new Is],[class Q8{},new Is]]},Gm,{provide:Ha,useFactory:function m5(t){return t.routerState.root},deps:[Ei]},H1,V1,class l5{preload(n,e){return e().pipe(Ga(()=>rt(null)))}},{provide:Uc,useValue:{enableTracing:!1}}];function c5(){return new LI("Router",Ei)}let FO=(()=>{class t{constructor(e,o){}static forRoot(e,o){return{ngModule:t,providers:[u5,W1(e),{provide:B1,useFactory:h5,deps:[[Ei,new Is,new oc]]},{provide:Uc,useValue:o||{}},{provide:Vc,useFactory:p5,deps:[kc,[new rc(KR),new Is],Uc]},{provide:xO,useFactory:d5,deps:[Ei,_z,Uc]},{provide:k1,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:V1},{provide:LI,multi:!0,useFactory:c5},[LO,{provide:MR,multi:!0,useFactory:v5,deps:[LO]},{provide:j1,useFactory:y5,deps:[LO]},{provide:PI,multi:!0,useExisting:j1}]]}}static forChild(e){return{ngModule:t,providers:[W1(e)]}}}return t.\u0275fac=function(e){return new(e||t)(me(B1,8),me(Ei,8))},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({}),t})();function d5(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new xO(t,n,e)}function p5(t,n,e={}){return e.useHash?new nx(t,n):new tx(t,n)}function h5(t){return"guarded"}function W1(t){return[{provide:ep,multi:!0,useValue:t},{provide:MO,multi:!0,useValue:t}]}let LO=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ln}appInitializer(){return this.injector.get(t3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const a=new Promise(f=>o=f),d=this.injector.get(Ei),p=this.injector.get(Uc);return"disabled"===p.initialNavigation?(d.setUpLocationChangeListener(),o(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?rt(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),d.initialNavigation()):o(!0),a})}bootstrapListener(e){const o=this.injector.get(Uc),a=this.injector.get(H1),d=this.injector.get(xO),p=this.injector.get(Ei),f=this.injector.get(Rw);e===f.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&p.initialNavigation(),a.setUpPreloading(),d.init(),p.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(me(rn))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();function v5(t){return t.appInitializer.bind(t)}function y5(t){return t.bootstrapListener.bind(t)}const j1=new it("Router Initializer"),GO=new jt(rl);class U1{}class z1{}class Ba{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const a=e.slice(0,o),d=a.toLowerCase(),p=e.slice(o+1).trim();this.maybeSetNormalizedName(a,d),this.headers.has(d)?this.headers.get(d).push(p):this.headers.set(d,[p])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let o=n[e];const a=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(a,o),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ba?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Ba;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ba?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let o=n.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(n.name,e);const a=("a"===n.op?this.headers.get(e):void 0)||[];a.push(...o),this.headers.set(e,a);break;case"d":const d=n.value;if(d){let p=this.headers.get(e);if(!p)return;p=p.filter(f=>-1===d.indexOf(f)),0===p.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,p)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class C5{encodeKey(n){return $1(n)}encodeValue(n){return $1(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const b5=/%(\d[a-f0-9])/gi,E5={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function $1(t){return encodeURIComponent(t).replace(b5,(n,e)=>{var o;return null!==(o=E5[e])&&void 0!==o?o:n})}function K1(t){return`${t}`}class du{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new C5,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function w5(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{const d=a.indexOf("="),[p,f]=-1==d?[n.decodeKey(a),""]:[n.decodeKey(a.slice(0,d)),n.decodeValue(a.slice(d+1))],m=e.get(p)||[];m.push(f),e.set(p,m)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const o=n.fromObject[e];this.map.set(e,Array.isArray(o)?o:[o])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(o=>{const a=n[o];Array.isArray(a)?a.forEach(d=>{e.push({param:o,value:d,op:"a"})}):e.push({param:o,value:a,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new du({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(K1(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let o=this.map.get(n.param)||[];const a=o.indexOf(K1(n.value));-1!==a&&o.splice(a,1),o.length>0?this.map.set(n.param,o):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class S5{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function q1(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Y1(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Q1(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Bm{constructor(n,e,o,a){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function D5(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==o?o:null,d=a):d=o,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new Ba),this.context||(this.context=new S5),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+p}}else this.params=new du,this.urlWithParams=e}serializeBody(){return null===this.body?null:q1(this.body)||Y1(this.body)||Q1(this.body)||function R5(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof du?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Q1(this.body)?null:Y1(this.body)?this.body.type||null:q1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof du?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const o=n.method||this.method,a=n.url||this.url,d=n.responseType||this.responseType,p=void 0!==n.body?n.body:this.body,f=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,m=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let v=n.headers||this.headers,y=n.params||this.params;const C=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(v=Object.keys(n.setHeaders).reduce((b,S)=>b.set(S,n.setHeaders[S]),v)),n.setParams&&(y=Object.keys(n.setParams).reduce((b,S)=>b.set(S,n.setParams[S]),y)),new Bm(o,a,p,{params:y,headers:v,context:C,reportProgress:m,responseType:d,withCredentials:f})}}var Qn=(()=>((Qn=Qn||{})[Qn.Sent=0]="Sent",Qn[Qn.UploadProgress=1]="UploadProgress",Qn[Qn.ResponseHeader=2]="ResponseHeader",Qn[Qn.DownloadProgress=3]="DownloadProgress",Qn[Qn.Response=4]="Response",Qn[Qn.User=5]="User",Qn))();class VO{constructor(n,e=200,o="OK"){this.headers=n.headers||new Ba,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||o,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class HO extends VO{constructor(n={}){super(n),this.type=Qn.ResponseHeader}clone(n={}){return new HO({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class cb extends VO{constructor(n={}){super(n),this.type=Qn.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new cb({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class BO extends VO{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function WO(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let db=(()=>{class t{constructor(e){this.handler=e}request(e,o,a={}){let d;if(e instanceof Bm)d=e;else{let m,v;m=a.headers instanceof Ba?a.headers:new Ba(a.headers),a.params&&(v=a.params instanceof du?a.params:new du({fromObject:a.params})),d=new Bm(e,o,void 0!==a.body?a.body:null,{headers:m,context:a.context,params:v,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const p=rt(d).pipe(fh(m=>this.handler.handle(m)));if(e instanceof Bm||"events"===a.observe)return p;const f=p.pipe(Wr(m=>m instanceof cb));switch(a.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return f.pipe(at(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe(at(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe(at(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe(at(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new du).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,a={}){return this.request("PATCH",e,WO(a,o))}post(e,o,a={}){return this.request("POST",e,WO(a,o))}put(e,o,a={}){return this.request("PUT",e,WO(a,o))}}return t.\u0275fac=function(e){return new(e||t)(me(U1))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();class X1{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const Z1=new it("HTTP_INTERCEPTORS");let O5=(()=>{class t{intercept(e,o){return o.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();const T5=/^\)\]\}',?\n/;let J1=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new jt(o=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((S,R)=>a.setRequestHeader(S,R.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const S=e.detectContentTypeHeader();null!==S&&a.setRequestHeader("Content-Type",S)}if(e.responseType){const S=e.responseType.toLowerCase();a.responseType="json"!==S?S:"text"}const d=e.serializeBody();let p=null;const f=()=>{if(null!==p)return p;const S=a.statusText||"OK",R=new Ba(a.getAllResponseHeaders()),A=function A5(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||e.url;return p=new HO({headers:R,status:a.status,statusText:S,url:A}),p},m=()=>{let{headers:S,status:R,statusText:A,url:I}=f(),F=null;204!==R&&(F=void 0===a.response?a.responseText:a.response),0===R&&(R=F?200:0);let k=R>=200&&R<300;if("json"===e.responseType&&"string"==typeof F){const z=F;F=F.replace(T5,"");try{F=""!==F?JSON.parse(F):null}catch(W){F=z,k&&(k=!1,F={error:W,text:F})}}k?(o.next(new cb({body:F,headers:S,status:R,statusText:A,url:I||void 0})),o.complete()):o.error(new BO({error:F,headers:S,status:R,statusText:A,url:I||void 0}))},v=S=>{const{url:R}=f(),A=new BO({error:S,status:a.status||0,statusText:a.statusText||"Unknown Error",url:R||void 0});o.error(A)};let y=!1;const C=S=>{y||(o.next(f()),y=!0);let R={type:Qn.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(R.total=S.total),"text"===e.responseType&&!!a.responseText&&(R.partialText=a.responseText),o.next(R)},b=S=>{let R={type:Qn.UploadProgress,loaded:S.loaded};S.lengthComputable&&(R.total=S.total),o.next(R)};return a.addEventListener("load",m),a.addEventListener("error",v),a.addEventListener("timeout",v),a.addEventListener("abort",v),e.reportProgress&&(a.addEventListener("progress",C),null!==d&&a.upload&&a.upload.addEventListener("progress",b)),a.send(d),o.next({type:Qn.Sent}),()=>{a.removeEventListener("error",v),a.removeEventListener("abort",v),a.removeEventListener("load",m),a.removeEventListener("timeout",v),e.reportProgress&&(a.removeEventListener("progress",C),null!==d&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(me(wx))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();const jO=new it("XSRF_COOKIE_NAME"),UO=new it("XSRF_HEADER_NAME");class eF{}let P5=(()=>{class t{constructor(e,o,a){this.doc=e,this.platform=o,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=px(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(me(Kn),me(Dw),me(jO))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),zO=(()=>{class t{constructor(e,o){this.tokenService=e,this.headerName=o}intercept(e,o){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return o.handle(e);const d=this.tokenService.getToken();return null!==d&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,d)})),o.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(me(eF),me(UO))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),N5=(()=>{class t{constructor(e,o){this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=this.injector.get(Z1,[]);this.chain=o.reduceRight((a,d)=>new X1(a,d),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(me(z1),me(rn))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),M5=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:zO,useClass:O5}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:jO,useValue:e.cookieName}:[],e.headerName?{provide:UO,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({providers:[zO,{provide:Z1,useExisting:zO,multi:!0},{provide:eF,useClass:P5},{provide:jO,useValue:"XSRF-TOKEN"},{provide:UO,useValue:"X-XSRF-TOKEN"}]}),t})(),I5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({providers:[db,{provide:U1,useClass:N5},J1,{provide:z1,useExisting:J1}],imports:[[M5.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const tF="https://moviestarapi.azurewebsites.net/";let zc=(()=>{class t{constructor(e){this.http=e}handleLoginRequestErrors(e){return e.pipe(Ga(o=>o.status&&401===o.status?(localStorage.removeItem("email"),GO):Tm(o)),at(o=>(200===o.status&&(localStorage.setItem("token","my-super-secret-token-from-server"),localStorage.setItem("username",o.body.toString())),o)))}login(e,o){return localStorage.setItem("email",e),this.handleLoginRequestErrors(this.http.post("https://moviestarapi.azurewebsites.net/users?action=signin",{username:e,password:o},{observe:"response"}))}signup(e,o,a){return this.http.post(tF+"users?action=signup",{displayname:e,username:o,password:a},{observe:"response"})}logout(){localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("email")}isUserLoggedIn(){return null!=localStorage.getItem("token")}getCurrentUser(){return localStorage.getItem("username")}getCurrentEmail(){return localStorage.getItem("email")}}return t.\u0275fac=function(e){return new(e||t)(me(db))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wm=(()=>{class t{constructor(e,o){this.authService=e,this.router=o}canActivate(e,o){return this.authenticate()}canActivateChild(e,o){return this.authenticate()}canLoad(e,o){return this.authenticate()}authenticate(){return!!this.authService.isUserLoggedIn()||(this.router.navigateByUrl("/login"),!1)}}return t.\u0275fac=function(e){return new(e||t)(me(zc),me(Ei))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nF=(()=>{class t{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(H(xo),H(kt))},t.\u0275dir=Ce({type:t}),t})(),$c=(()=>{class t extends nF{}return t.\u0275fac=function(){let n;return function(o){return(n||(n=oi(t)))(o||t)}}(),t.\u0275dir=Ce({type:t,features:[It]}),t})();const po=new it("NgValueAccessor"),L5={provide:po,useExisting:Je(()=>_h),multi:!0},k5=new it("CompositionEventMode");let _h=(()=>{class t extends nF{constructor(e,o,a){super(e,o),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function G5(){const t=qs()?qs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(H(xo),H(kt),H(k5,8))},t.\u0275dir=Ce({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&Ke("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},features:[$t([L5]),It]}),t})();function pu(t){return null==t||0===t.length}function rF(t){return null!=t&&"number"==typeof t.length}const Xi=new it("NgValidators"),hu=new it("NgAsyncValidators"),V5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gs{static min(n){return function oF(t){return n=>{if(pu(n.value)||pu(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function sF(t){return n=>{if(pu(n.value)||pu(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function aF(t){return pu(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function lF(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function uF(t){return pu(t.value)||V5.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function cF(t){return n=>pu(n.value)||!rF(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function dF(t){return n=>rF(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function pF(t){if(!t)return pb;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),o=>{if(pu(o.value))return null;const a=o.value;return n.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(n)}static nullValidator(n){return null}static compose(n){return yF(n)}static composeAsync(n){return _F(n)}}function pb(t){return null}function hF(t){return null!=t}function fF(t){const n=eu(t)?Wn(t):t;return tu(n),n}function gF(t){let n={};return t.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function mF(t,n){return n.map(e=>e(t))}function vF(t){return t.map(n=>function H5(t){return!t.validate}(n)?n:e=>n.validate(e))}function yF(t){if(!t)return null;const n=t.filter(hF);return 0==n.length?null:function(e){return gF(mF(e,n))}}function $O(t){return null!=t?yF(vF(t)):null}function _F(t){if(!t)return null;const n=t.filter(hF);return 0==n.length?null:function(e){return function x5(...t){const n=sa(t),{args:e,keys:o}=Fx(t),a=new jt(d=>{const{length:p}=e;if(!p)return void d.complete();const f=new Array(p);let m=p,v=p;for(let y=0;y<p;y++){let C=!1;Bn(e[y]).subscribe(Ut(d,b=>{C||(C=!0,v--),f[y]=b},()=>m--,void 0,()=>{(!m||!C)&&(v||d.next(o?Lx(o,f):f),d.complete())}))}});return n?a.pipe(hO(n)):a}(mF(e,n).map(fF)).pipe(at(gF))}}function KO(t){return null!=t?_F(vF(t)):null}function CF(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function wF(t){return t._rawValidators}function bF(t){return t._rawAsyncValidators}function qO(t){return t?Array.isArray(t)?t:[t]:[]}function hb(t,n){return Array.isArray(t)?t.includes(n):t===n}function EF(t,n){const e=qO(n);return qO(t).forEach(a=>{hb(e,a)||e.push(a)}),e}function SF(t,n){return qO(n).filter(e=>!hb(t,e))}class DF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=$O(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=KO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class fu extends DF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vr extends DF{get formDirective(){return null}get path(){return null}}class RF{constructor(n){this._cd=n}is(n){var e,o,a;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===a?void 0:a[n])}}let jm=(()=>{class t extends RF{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(H(fu,2))},t.\u0275dir=Ce({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&Z("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[It]}),t})(),fb=(()=>{class t extends RF{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(H(vr,10))},t.\u0275dir=Ce({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&Z("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[It]}),t})();function mb(t,n){return[...n.path,t]}function Um(t,n){XO(t,n),n.valueAccessor.writeValue(t.value),function q5(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&TF(t,n)})}(t,n),function Q5(t,n){const e=(o,a)=>{n.valueAccessor.writeValue(o),a&&n.viewToModelUpdate(o)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function Y5(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&TF(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function K5(t,n){if(n.valueAccessor.setDisabledState){const e=o=>{n.valueAccessor.setDisabledState(o)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function vb(t,n,e=!0){const o=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(o),n.valueAccessor.registerOnTouched(o)),_b(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function yb(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function XO(t,n){const e=wF(t);null!==n.validator?t.setValidators(CF(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const o=bF(t);null!==n.asyncValidator?t.setAsyncValidators(CF(o,n.asyncValidator)):"function"==typeof o&&t.setAsyncValidators([o]);const a=()=>t.updateValueAndValidity();yb(n._rawValidators,a),yb(n._rawAsyncValidators,a)}function _b(t,n){let e=!1;if(null!==t){if(null!==n.validator){const a=wF(t);if(Array.isArray(a)&&a.length>0){const d=a.filter(p=>p!==n.validator);d.length!==a.length&&(e=!0,t.setValidators(d))}}if(null!==n.asyncValidator){const a=bF(t);if(Array.isArray(a)&&a.length>0){const d=a.filter(p=>p!==n.asyncValidator);d.length!==a.length&&(e=!0,t.setAsyncValidators(d))}}}const o=()=>{};return yb(n._rawValidators,o),yb(n._rawAsyncValidators,o),e}function TF(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ZO(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function JO(t,n){if(!n)return null;let e,o,a;return Array.isArray(n),n.forEach(d=>{d.constructor===_h?e=d:function J5(t){return Object.getPrototypeOf(t.constructor)===$c}(d)?o=d:a=d}),a||o||e||null}function eT(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const zm="VALID",Cb="INVALID",Ch="PENDING",$m="DISABLED";function nT(t){return(wb(t)?t.validators:t)||null}function MF(t){return Array.isArray(t)?$O(t):t||null}function iT(t,n){return(wb(n)?n.asyncValidators:t)||null}function IF(t){return Array.isArray(t)?KO(t):t||null}function wb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const rT=t=>t instanceof Wa,bb=t=>t instanceof wh,xF=t=>t instanceof kF;function FF(t){return rT(t)?t.value:t.getRawValue()}function LF(t,n){const e=bb(t),o=t.controls;if(!(e?Object.keys(o):o).length)throw new Ae(1e3,"");if(!o[n])throw new Ae(1001,"")}function GF(t,n){bb(t),t._forEachChild((o,a)=>{if(void 0===n[a])throw new Ae(1002,"")})}class oT{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=MF(this._rawValidators),this._composedAsyncValidatorFn=IF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===zm}get invalid(){return this.status===Cb}get pending(){return this.status==Ch}get disabled(){return this.status===$m}get enabled(){return this.status!==$m}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=MF(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=IF(n)}addValidators(n){this.setValidators(EF(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(EF(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(SF(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(SF(n,this._rawAsyncValidators))}hasValidator(n){return hb(this._rawValidators,n)}hasAsyncValidator(n){return hb(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Ch,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=$m,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=zm,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zm||this.status===Ch)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$m:zm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Ch,this._hasOwnPendingAsyncValidator=!0;const e=fF(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function e6(t,n,e){if(null==n||(Array.isArray(n)||(n=n.split(e)),Array.isArray(n)&&0===n.length))return null;let o=t;return n.forEach(a=>{o=bb(o)?o.controls.hasOwnProperty(a)?o.controls[a]:null:xF(o)&&o.at(a)||null}),o}(this,n,".")}getError(n,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new U,this.statusChanges=new U}_calculateStatus(){return this._allControlsDisabled()?$m:this.errors?Cb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ch)?Ch:this._anyControlsHaveStatus(Cb)?Cb:zm}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){wb(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Wa extends oT{constructor(n=null,e,o){super(nT(e),iT(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wb(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){eT(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){eT(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class wh extends oT{constructor(n,e,o){super(nT(e),iT(o,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,o={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){GF(this,n),Object.keys(n).forEach(o=>{LF(this,o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((o,a)=>{o.reset(n[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,o)=>(n[o]=FF(e),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&n(o,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&n(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,o)=>((e.enabled||this.disabled)&&(n[o]=e.value),n))}_reduceChildren(n,e){let o=n;return this._forEachChild((a,d)=>{o=e(o,a,d)}),o}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class kF extends oT{constructor(n,e,o){super(nT(e),iT(o,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,o={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){GF(this,n),n.forEach((o,a)=>{LF(this,a),this.at(a).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((o,a)=>{this.at(a)&&this.at(a).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((o,a)=>{o.reset(n[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>FF(n))}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,o)=>{n(e,o)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const i6={provide:fu,useExisting:Je(()=>aT)},BF=(()=>Promise.resolve(null))();let aT=(()=>{class t extends fu{constructor(e,o,a,d,p){super(),this._changeDetectorRef=p,this.control=new Wa,this._registered=!1,this.update=new U,this._parent=e,this._setValidators(o),this._setAsyncValidators(a),this.valueAccessor=JO(0,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),ZO(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Um(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){BF.then(()=>{var o;this.control.setValue(e,{emitViewToModelChange:!1}),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,a=""===o||o&&"false"!==o;BF.then(()=>{var d;a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),null===(d=this._changeDetectorRef)||void 0===d||d.markForCheck()})}_getPath(e){return this._parent?mb(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(H(vr,9),H(Xi,10),H(hu,10),H(po,10),H(uo,8))},t.\u0275dir=Ce({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$t([i6]),It,Ln]}),t})(),Eb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ce({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),jF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({}),t})();const lT=new it("NgModelWithFormControlWarning"),l6={provide:fu,useExisting:Je(()=>uT)};let uT=(()=>{class t extends fu{constructor(e,o,a,d){super(),this._ngModelWarningConfig=d,this.update=new U,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(o),this.valueAccessor=JO(0,a)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const o=e.form.previousValue;o&&vb(o,this,!1),Um(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}ZO(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&vb(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(H(Xi,10),H(hu,10),H(po,10),H(lT,8))},t.\u0275dir=Ce({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[$t([l6]),It,Ln]}),t})();const u6={provide:vr,useExisting:Je(()=>bh)};let bh=(()=>{class t extends vr{constructor(e,o){super(),this.validators=e,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new U,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_b(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const o=this.form.get(e.path);return Um(o,e),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){vb(e.control||null,e,!1),eT(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this.submitted=!0,function NF(t,n){t._syncPendingControls(),n.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const o=e.control,a=this.form.get(e.path);o!==a&&(vb(o||null,e),rT(a)&&(Um(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const o=this.form.get(e.path);(function AF(t,n){XO(t,n)})(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const o=this.form.get(e.path);o&&function X5(t,n){return _b(t,n)}(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){XO(this.form,this),this._oldForm&&_b(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(H(Xi,10),H(hu,10))},t.\u0275dir=Ce({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,o){1&e&&Ke("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$t([u6]),It,Ln]}),t})();const p6={provide:fu,useExisting:Je(()=>qm)};let qm=(()=>{class t extends fu{constructor(e,o,a,d,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.update=new U,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(o),this._setAsyncValidators(a),this.valueAccessor=JO(0,d)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),ZO(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return mb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(H(vr,13),H(Xi,10),H(hu,10),H(po,10),H(lT,8))},t.\u0275dir=Ce({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$t([p6]),It,Ln]}),t})();const h6={provide:po,useExisting:Je(()=>Sb),multi:!0};function KF(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Sb=(()=>{class t extends $c{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const a=KF(this._getOptionId(e),e);this.setProperty("value",a)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function f6(t){return t.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return t.\u0275fac=function(){let n;return function(o){return(n||(n=oi(t)))(o||t)}}(),t.\u0275dir=Ce({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&Ke("change",function(d){return o.onChange(d.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[$t([h6]),It]}),t})(),qF=(()=>{class t{constructor(e,o,a){this._element=e,this._renderer=o,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(KF(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(H(kt),H(xo),H(Sb,9))},t.\u0275dir=Ce({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const g6={provide:po,useExisting:Je(()=>pT),multi:!0};function YF(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let pT=(()=>{class t extends $c{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const a=e.map(d=>this._getOptionId(d));o=(d,p)=>{d._setSelected(a.indexOf(p.toString())>-1)}}else o=(a,d)=>{a._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const a=[],d=o.selectedOptions;if(void 0!==d){const p=d;for(let f=0;f<p.length;f++){const v=this._getOptionValue(p[f].value);a.push(v)}}else{const p=o.options;for(let f=0;f<p.length;f++){const m=p[f];if(m.selected){const v=this._getOptionValue(m.value);a.push(v)}}}this.value=a,e(a)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function m6(t){return t.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return t.\u0275fac=function(){let n;return function(o){return(n||(n=oi(t)))(o||t)}}(),t.\u0275dir=Ce({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&Ke("change",function(d){return o.onChange(d.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[$t([g6]),It]}),t})(),QF=(()=>{class t{constructor(e,o,a){this._element=e,this._renderer=o,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(YF(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(YF(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(H(kt),H(xo),H(pT,9))},t.\u0275dir=Ce({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),sL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[jF]]}),t})(),aL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[sL]}),t})(),lL=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:lT,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[sL]}),t})(),O6=(()=>{class t{group(e,o=null){const a=this._reduceControls(e);let f,d=null,p=null;return null!=o&&(function R6(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(o)?(d=null!=o.validators?o.validators:null,p=null!=o.asyncValidators?o.asyncValidators:null,f=null!=o.updateOn?o.updateOn:void 0):(d=null!=o.validator?o.validator:null,p=null!=o.asyncValidator?o.asyncValidator:null)),new wh(a,{asyncValidators:p,updateOn:f,validators:d})}control(e,o,a){return new Wa(e,o,a)}array(e,o,a){const d=e.map(p=>this._createControl(p));return new kF(d,o,a)}_reduceControls(e){const o={};return Object.keys(e).forEach(a=>{o[a]=this._createControl(e[a])}),o}_createControl(e){return rT(e)||bb(e)||xF(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:lL}),t})();function T6(t,n){if(1&t&&(Q(0,"p",12),ve(1),X()),2&t){const e=Ee();Y(1),$n(e.errorText)}}function A6(t,n){1&t&&(Q(0,"span"),ve(1,"Username is required"),X())}function P6(t,n){1&t&&(Q(0,"span"),ve(1,"Username must be an email"),X())}function N6(t,n){if(1&t&&(Q(0,"div",13),ce(1,A6,2,0,"span",14),ce(2,P6,2,0,"span",14),X()),2&t){const e=Ee();Y(1),re("ngIf",e.usernameControl.errors.required),Y(1),re("ngIf",e.usernameControl.errors.pattern)}}function M6(t,n){1&t&&(Q(0,"span"),ve(1,"Password must have at least 8 characters"),X())}function I6(t,n){if(1&t&&(Q(0,"div",13),ce(1,M6,2,0,"span",14),X()),2&t){const e=Ee();Y(1),re("ngIf",e.passwordControl.errors.minlength)}}let x6=(()=>{class t{constructor(e,o,a){this.authenticationService=e,this.router=o,this.location=a,this.emailPattern="[a-z_A-Z0-9._%+-]+@[a-z_A-Z0-9.-]+.[a-z_A-Z]{2,4}$",this.errorText=null,this.loginForm=new wh({username:new Wa("",[gs.required,gs.pattern(this.emailPattern)]),password:new Wa("",[gs.required,gs.minLength(8)])})}ngOnInit(){}get usernameControl(){return this.loginForm.get("username")}get passwordControl(){return this.loginForm.get("password")}get f(){return this.loginForm.controls}login(){let o=this.f.password.value;this.authenticationService.login(this.f.username.value.toLowerCase(),o).subscribe(a=>{200===a.status?this.router.navigateByUrl("/").then(()=>window.location.reload()):this.errorText="Couldn't log you in with those credentials, please try again."})}}return t.\u0275fac=function(e){return new(e||t)(H(zc),H(Ei),H(Nw))},t.\u0275cmp=Rt({type:t,selectors:[["app-login"]],decls:22,vars:7,consts:[[1,"signup","flex-column","d-flex","align-items-center","justify-content-center","h-100","mt-5"],[1,"text-center"],["class","text-danger strong",4,"ngIf"],[1,"form-floating","w-50"],[3,"formGroup","ngSubmit"],[1,"form-floating","my-2"],["type","email","id","floatingInput",1,"form-control",3,"formControlName"],["for","floatingInput"],["class","text-danger",4,"ngIf"],["type","password","id","floatingPassword",1,"form-control",3,"formControlName"],["for","floatingPassword"],[1,"w-100","btn","btn-lg","btn-primary",3,"disabled"],[1,"text-danger","strong"],[1,"text-danger"],[4,"ngIf"]],template:function(e,o){1&e&&(Q(0,"div",0)(1,"h2"),ve(2,"Sign in"),X(),Q(3,"p",1),ve(4,"To use this awesome movie service you need to sign in. "),pt(5,"br"),ve(6," So go ahead and enter your details, we will be ready to sign you in as soon as you press sign in. "),X(),ce(7,T6,2,1,"p",2),Q(8,"main",3)(9,"form",4),Ke("ngSubmit",function(){return o.login()}),Q(10,"div",5),pt(11,"input",6),Q(12,"label",7),ve(13,"Username"),X(),ce(14,N6,3,2,"div",8),X(),Q(15,"div",5),pt(16,"input",9),Q(17,"label",10),ve(18,"Password"),X(),ce(19,I6,2,1,"div",8),X(),Q(20,"button",11),ve(21,"Sign in"),X()()()()),2&e&&(Y(7),re("ngIf",o.errorText),Y(2),re("formGroup",o.loginForm),Y(2),re("formControlName","username"),Y(3),re("ngIf",o.loginForm.invalid&&(null==o.usernameControl?null:o.usernameControl.touched)&&o.usernameControl.errors),Y(2),re("formControlName","password"),Y(3),re("ngIf",o.loginForm.invalid&&(null==o.passwordControl?null:o.passwordControl.touched)&&o.passwordControl.errors),Y(1),re("disabled",o.loginForm.invalid))},directives:[co,Eb,fb,bh,_h,jm,qm],styles:[".form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),t})();function uL(t,n,e,o,a,d,p){try{var f=t[d](p),m=f.value}catch(v){return void e(v)}f.done?n(m):Promise.resolve(m).then(o,a)}function fT(t){return function(){var n=this,e=arguments;return new Promise(function(o,a){var d=t.apply(n,e);function p(m){uL(d,o,a,p,f,"next",m)}function f(m){uL(d,o,a,p,f,"throw",m)}p(void 0)})}}const Zs="d969c038879a912c97bceafc05ec99cd";let qc=(()=>{class t{constructor(e){this.http=e}searchMovie(e){return this.http.get(`https://api.themoviedb.org/3/search/movie?api_key=${Zs}&language=en-US&page=1&include_adult=false&query=${e}`)}searchPeople(e){return this.http.get(`https://api.themoviedb.org/3/search/person?api_key=${Zs}&language=en-US&query=${e}&page=1&include_adult=false`)}people(e){return this.http.get(`https://api.themoviedb.org/3/search/person?api_key=${Zs}&language=en-US&query=${e}&page=1&include_adult=false`)}getMovieCredits(e){return this.http.get(`https://api.themoviedb.org/3/movie/${e}/credits?api_key=${Zs}&language-en-US`)}getRecommendationByGenre(e){return this.http.get(`https://api.themoviedb.org/3/discover/movie?api_key=${Zs}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_genres=${e}`)}getTrendingMovies(){return this.http.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=${Zs}&language=en-US`)}getMovieByTmdbId(e){return this.http.get(`https://api.themoviedb.org/3/movie/${e}/external_ids?api_key=${Zs}`).toPromise().then(a=>this.http.get(`https://api.themoviedb.org/3/find/${a.imdb_id}?api_key=${Zs}&language=en-US&external_source=imdb_id`).toPromise().then(f=>f.movie_results[0])).then(a=>a)}getPopularActors(){return this.http.get(`https://api.themoviedb.org/3/person/popular?api_key=${Zs}&language=en-US&page=2&include_adult=false`).toPromise().then(o=>o.results).then(o=>o)}getActorById(e){return this.http.get(`https://api.themoviedb.org/3/person/${e}?api_key=${Zs}&language=en-US&include_adult=false`).toPromise().then(a=>a).then(a=>a)}}return t.\u0275fac=function(e){return new(e||t)(me(db))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Eh=(()=>{class t{constructor(){}sanitizeMovies(e){return e.forEach(o=>(o.backdrop_path="https://image.tmdb.org/t/p/w400"+o.backdrop_path,o.poster_path="https://image.tmdb.org/t/p/w400"+o.poster_path,null==o.title&&(o.title=o.name),o)),e}sanitizePeople(e){return e.forEach(o=>(o.profile_path="https://image.tmdb.org/t/p/w200"+o.profile_path,o.known_for.forEach(a=>(null==a.title&&(a.title=a.name),a.backdrop_path="https://image.tmdb.org/t/p/w400"+a.backdrop_path,a)),o)),e}sanitizeCredits(e){return e.cast=e.cast.slice(0,10).sort((o,a)=>a.popularity-o.popularity),e.crew=e.crew.filter(o=>"Directing"===o.department),e.crew.forEach(o=>o.profile_path="https://image.tmdb.org/t/p/w200"+o.profile_path),e.cast.forEach(o=>o.profile_path="https://image.tmdb.org/t/p/w200"+o.profile_path),e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const cL=["*"];let Zi=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.IN="in",t.LESS_THAN="lt",t.LESS_THAN_OR_EQUAL_TO="lte",t.GREATER_THAN="gt",t.GREATER_THAN_OR_EQUAL_TO="gte",t.BETWEEN="between",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.DATE_IS="dateIs",t.DATE_IS_NOT="dateIsNot",t.DATE_BEFORE="dateBefore",t.DATE_AFTER="dateAfter",t})(),F6=(()=>{class t{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Zi.STARTS_WITH,Zi.CONTAINS,Zi.NOT_CONTAINS,Zi.ENDS_WITH,Zi.EQUALS,Zi.NOT_EQUALS],numeric:[Zi.EQUALS,Zi.NOT_EQUALS,Zi.LESS_THAN,Zi.LESS_THAN_OR_EQUAL_TO,Zi.GREATER_THAN,Zi.GREATER_THAN_OR_EQUAL_TO],date:[Zi.DATE_IS,Zi.DATE_IS_NOT,Zi.DATE_BEFORE,Zi.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new ln,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),L6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Rt({type:t,selectors:[["p-header"]],ngContentSelectors:cL,decls:1,vars:0,template:function(e,o){1&e&&(nu(),iu(0))},encapsulation:2}),t})(),G6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Rt({type:t,selectors:[["p-footer"]],ngContentSelectors:cL,decls:1,vars:0,template:function(e,o){1&e&&(nu(),iu(0))},encapsulation:2}),t})(),dL=(()=>{class t{constructor(e){this.template=e}getType(){return this.name}}return t.\u0275fac=function(e){return new(e||t)(H(wn))},t.\u0275dir=Ce({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),t})(),gT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di]]}),t})(),ho=(()=>{class t{static addClass(e,o){e.classList?e.classList.add(o):e.className+=" "+o}static addMultipleClasses(e,o){if(e.classList){let a=o.trim().split(" ");for(let d=0;d<a.length;d++)e.classList.add(a[d])}else{let a=o.split(" ");for(let d=0;d<a.length;d++)e.className+=" "+a[d]}}static removeClass(e,o){e.classList?e.classList.remove(o):e.className=e.className.replace(new RegExp("(^|\\b)"+o.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,o){return e.classList?e.classList.contains(o):new RegExp("(^| )"+o+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(o){return o!==e})}static find(e,o){return Array.from(e.querySelectorAll(o))}static findSingle(e,o){return e?e.querySelector(o):null}static index(e){let o=e.parentNode.childNodes,a=0;for(var d=0;d<o.length;d++){if(o[d]==e)return a;1==o[d].nodeType&&a++}return-1}static indexWithinGroup(e,o){let a=e.parentNode?e.parentNode.childNodes:[],d=0;for(var p=0;p<a.length;p++){if(a[p]==e)return d;a[p].attributes&&a[p].attributes[o]&&1==a[p].nodeType&&d++}return-1}static relativePosition(e,o){let a=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const d=o.offsetHeight,p=o.getBoundingClientRect(),f=this.getViewport();let m,v;p.top+d+a.height>f.height?(m=-1*a.height,e.style.transformOrigin="bottom",p.top+m<0&&(m=-1*p.top)):(m=d,e.style.transformOrigin="top"),v=a.width>f.width?-1*p.left:p.left+a.width>f.width?-1*(p.left+a.width-f.width):0,e.style.top=m+"px",e.style.left=v+"px"}static absolutePosition(e,o){let S,R,a=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),d=a.height,p=a.width,f=o.offsetHeight,m=o.offsetWidth,v=o.getBoundingClientRect(),y=this.getWindowScrollTop(),C=this.getWindowScrollLeft(),b=this.getViewport();v.top+f+d>b.height?(S=v.top+y-d,e.style.transformOrigin="bottom",S<0&&(S=y)):(S=f+v.top+y,e.style.transformOrigin="top"),R=v.left+p>b.width?Math.max(0,v.left+C+m-p):v.left+C,e.style.top=S+"px",e.style.left=R+"px"}static getParents(e,o=[]){return null===e.parentNode?o:this.getParents(e.parentNode,o.concat([e.parentNode]))}static getScrollableParents(e){let o=[];if(e){let a=this.getParents(e);const d=/(auto|scroll)/,p=f=>{let m=window.getComputedStyle(f,null);return d.test(m.getPropertyValue("overflow"))||d.test(m.getPropertyValue("overflowX"))||d.test(m.getPropertyValue("overflowY"))};for(let f of a){let m=1===f.nodeType&&f.dataset.scrollselectors;if(m){let v=m.split(",");for(let y of v){let C=this.findSingle(f,y);C&&p(C)&&o.push(C)}}9!==f.nodeType&&p(f)&&o.push(f)}}return o}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let o=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",o}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let o=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",o}static getHiddenElementDimensions(e){let o={};return e.style.visibility="hidden",e.style.display="block",o.width=e.offsetWidth,o.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",o}static scrollInView(e,o){let a=getComputedStyle(e).getPropertyValue("borderTopWidth"),d=a?parseFloat(a):0,p=getComputedStyle(e).getPropertyValue("paddingTop"),f=p?parseFloat(p):0,m=e.getBoundingClientRect(),y=o.getBoundingClientRect().top+document.body.scrollTop-(m.top+document.body.scrollTop)-d-f,C=e.scrollTop,b=e.clientHeight,S=this.getOuterHeight(o);y<0?e.scrollTop=C+y:y+S>b&&(e.scrollTop=C+y-b+S)}static fadeIn(e,o){e.style.opacity=0;let a=+new Date,d=0,p=function(){d=+e.style.opacity.replace(",",".")+((new Date).getTime()-a)/o,e.style.opacity=d,a=+new Date,+d<1&&(window.requestAnimationFrame&&requestAnimationFrame(p)||setTimeout(p,16))};p()}static fadeOut(e,o){var a=1,f=50/o;let m=setInterval(()=>{(a-=f)<=0&&(a=0,clearInterval(m)),e.style.opacity=a},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,o){var a=Element.prototype;return(a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(p){return-1!==[].indexOf.call(document.querySelectorAll(p),this)}).call(e,o)}static getOuterWidth(e,o){let a=e.offsetWidth;if(o){let d=getComputedStyle(e);a+=parseFloat(d.marginLeft)+parseFloat(d.marginRight)}return a}static getHorizontalPadding(e){let o=getComputedStyle(e);return parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)}static getHorizontalMargin(e){let o=getComputedStyle(e);return parseFloat(o.marginLeft)+parseFloat(o.marginRight)}static innerWidth(e){let o=e.offsetWidth,a=getComputedStyle(e);return o+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),o}static width(e){let o=e.offsetWidth,a=getComputedStyle(e);return o-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),o}static getInnerHeight(e){let o=e.offsetHeight,a=getComputedStyle(e);return o+=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom),o}static getOuterHeight(e,o){let a=e.offsetHeight;if(o){let d=getComputedStyle(e);a+=parseFloat(d.marginTop)+parseFloat(d.marginBottom)}return a}static getHeight(e){let o=e.offsetHeight,a=getComputedStyle(e);return o-=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),o}static getWidth(e){let o=e.offsetWidth,a=getComputedStyle(e);return o-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth),o}static getViewport(){let e=window,o=document,a=o.documentElement,d=o.getElementsByTagName("body")[0];return{width:e.innerWidth||a.clientWidth||d.clientWidth,height:e.innerHeight||a.clientHeight||d.clientHeight}}static getOffset(e){var o=e.getBoundingClientRect();return{top:o.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:o.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,o){let a=e.parentNode;if(!a)throw"Can't replace element";return a.replaceChild(o,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,o){if(this.isElement(o))o.appendChild(e);else{if(!o.el||!o.el.nativeElement)throw"Cannot append "+o+" to "+e;o.el.nativeElement.appendChild(e)}}static removeChild(e,o){if(this.isElement(o))o.removeChild(e);else{if(!o.el||!o.el.nativeElement)throw"Cannot remove "+e+" from "+o;o.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let o=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let o=document.createElement("div");o.className="p-scrollbar-measure",document.body.appendChild(o);let a=o.offsetWidth-o.clientWidth;return document.body.removeChild(o),this.calculatedScrollbarWidth=a,a}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let o=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=o,o}static invokeElementMethod(e,o,a){e[o].apply(e,a)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),o=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:o[1]||"",version:o[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let o=t.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),a=[];for(let d of o)"none"!=getComputedStyle(d).display&&"hidden"!=getComputedStyle(d).visibility&&a.push(d);return a}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return t.zindex=1e3,t.calculatedScrollbarWidth=null,t.calculatedScrollbarHeight=null,t})(),k6=(()=>{class t{constructor(e,o,a){this.el=e,this.zone=o,this.config=a}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let o=this.getInk();if(!o||"none"===getComputedStyle(o,null).display)return;if(ho.removeClass(o,"p-ink-active"),!ho.getHeight(o)&&!ho.getWidth(o)){let f=Math.max(ho.getOuterWidth(this.el.nativeElement),ho.getOuterHeight(this.el.nativeElement));o.style.height=f+"px",o.style.width=f+"px"}let a=ho.getOffset(this.el.nativeElement),d=e.pageX-a.left+document.body.scrollTop-ho.getWidth(o)/2,p=e.pageY-a.top+document.body.scrollLeft-ho.getHeight(o)/2;o.style.top=p+"px",o.style.left=d+"px",ho.addClass(o,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&ho.removeClass(e,"p-ink-active")}onAnimationEnd(e){ho.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),ho.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return t.\u0275fac=function(e){return new(e||t)(H(kt),H(xt),H(F6,8))},t.\u0275dir=Ce({type:t,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),t})(),mT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di]]}),t})();var pL=0;!function H6(){let t=[];const a=d=>d&&parseInt(d.style.zIndex,10)||0}();const B6=["itemsContainer"];function W6(t,n){1&t&&Pa(0)}function j6(t,n){if(1&t&&(Q(0,"div",11),iu(1),ce(2,W6,1,0,"ng-container",12),X()),2&t){const e=Ee();Y(2),re("ngTemplateOutlet",e.headerTemplate)}}const U6=function(t){return{"p-carousel-prev p-link":!0,"p-disabled":t}},z6=function(t,n){return{"p-carousel-prev-icon pi":!0,"pi-chevron-left":t,"pi-chevron-up":n}};function $6(t,n){if(1&t){const e=li();Q(0,"button",13),Ke("click",function(a){return ni(e),Ee().navBackward(a)}),pt(1,"span",2),X()}if(2&t){const e=Ee();re("ngClass",ps(3,U6,e.isBackwardNavDisabled()))("disabled",e.isBackwardNavDisabled()),Y(1),re("ngClass",au(5,z6,!e.isVertical(),e.isVertical()))}}function K6(t,n){1&t&&Pa(0)}const hL=function(t,n,e){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":t,"p-carousel-item-start":n,"p-carousel-item-end":e}},vT=function(t){return{$implicit:t}};function q6(t,n){if(1&t&&(Q(0,"div",2),ce(1,K6,1,0,"ng-container",14),X()),2&t){const e=n.$implicit,o=n.index,a=Ee();re("ngClass",ph(3,hL,-1*a.totalShiftedItems===a.value.length,0===o,a.clonedItemsForStarting.length-1===o)),Y(1),re("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",ps(7,vT,e))}}function Y6(t,n){1&t&&Pa(0)}const Q6=function(t,n,e){return{"p-carousel-item":!0,"p-carousel-item-active":t,"p-carousel-item-start":n,"p-carousel-item-end":e}};function X6(t,n){if(1&t&&(Q(0,"div",2),ce(1,Y6,1,0,"ng-container",14),X()),2&t){const e=n.$implicit,o=n.index,a=Ee();re("ngClass",ph(3,Q6,a.firstIndex()<=o&&a.lastIndex()>=o,a.firstIndex()===o,a.lastIndex()===o)),Y(1),re("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",ps(7,vT,e))}}function Z6(t,n){1&t&&Pa(0)}function J6(t,n){if(1&t&&(Q(0,"div",2),ce(1,Z6,1,0,"ng-container",14),X()),2&t){const e=n.$implicit,o=n.index,a=Ee();re("ngClass",ph(3,hL,-1*a.totalShiftedItems===a.numVisible,0===o,a.clonedItemsForFinishing.length-1===o)),Y(1),re("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",ps(7,vT,e))}}const e4=function(t){return{"p-carousel-next p-link":!0,"p-disabled":t}},t4=function(t,n){return{"p-carousel-prev-icon pi":!0,"pi-chevron-right":t,"pi-chevron-down":n}};function n4(t,n){if(1&t){const e=li();Q(0,"button",13),Ke("click",function(a){return ni(e),Ee().navForward(a)}),pt(1,"span",2),X()}if(2&t){const e=Ee();re("ngClass",ps(3,e4,e.isForwardNavDisabled()))("disabled",e.isForwardNavDisabled()),Y(1),re("ngClass",au(5,t4,!e.isVertical(),e.isVertical()))}}const i4=function(t){return{"p-carousel-indicator":!0,"p-highlight":t}};function r4(t,n){if(1&t){const e=li();Q(0,"li",2)(1,"button",15),Ke("click",function(a){const p=ni(e).index;return Ee(2).onDotClick(a,p)}),X()()}if(2&t){const e=n.index,o=Ee(2);re("ngClass",ps(5,i4,o._page===e)),Y(1),fe(o.indicatorStyleClass),re("ngClass","p-link")("ngStyle",o.indicatorStyle)}}function o4(t,n){if(1&t&&(Q(0,"ul",0),ce(1,r4,2,7,"li",8),X()),2&t){const e=Ee();fe(e.indicatorsContentClass),re("ngClass","p-carousel-indicators p-reset")("ngStyle",e.indicatorsContentStyle),Y(1),re("ngForOf",e.totalDotsArray())}}function s4(t,n){1&t&&Pa(0)}function a4(t,n){if(1&t&&(Q(0,"div",16),iu(1,1),ce(2,s4,1,0,"ng-container",12),X()),2&t){const e=Ee();Y(2),re("ngTemplateOutlet",e.footerTemplate)}}const l4=[[["p-header"]],[["p-footer"]]],u4=function(t,n){return{"p-carousel p-component":!0,"p-carousel-vertical":t,"p-carousel-horizontal":n}},c4=function(t){return{height:t}},d4=["p-header","p-footer"];let p4=(()=>{class t{constructor(e,o,a){this.el=e,this.zone=o,this.cd=a,this.orientation="horizontal",this.verticalViewPortHeight="300px",this.contentClass="",this.indicatorsContentClass="",this.indicatorStyleClass="",this.circular=!1,this.showIndicators=!0,this.showNavigators=!0,this.autoplayInterval=0,this.onPage=new U,this._numVisible=1,this._numScroll=1,this._oldNumScroll=0,this.prevState={numScroll:0,numVisible:0,value:[]},this.defaultNumScroll=1,this.defaultNumVisible=1,this._page=0,this.isRemainingItemsAdded=!1,this.remainingItems=0,this.swipeThreshold=20,this.totalShiftedItems=this.page*this.numScroll*-1}get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}get value(){return this._value}set value(e){this._value=e}ngOnChanges(e){e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))}ngAfterContentInit(){this.id=function V6(){return"pr_id_"+ ++pL}(),this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners(),this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterContentChecked(){const e=this.isCircular();let o=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let a=this._page;0!==this.totalDots()&&a>=this.totalDots()&&(a=this.totalDots()-1,this._page=a,this.onPage.emit({page:this.page})),o=a*this._numScroll*-1,e&&(o-=this._numVisible),a===this.totalDots()-1&&this.remainingItems>0?(o+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,o!==this.totalShiftedItems&&(this.totalShiftedItems=o),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${o*(100/this._numVisible)}%, 0)`:`translate3d(${o*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(0===this.page?o=-1*this._numVisible:0===o&&(o=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),o!==this.totalShiftedItems&&(this.totalShiftedItems=o))}createStyle(){this.carouselStyle||(this.carouselStyle=document.createElement("style"),this.carouselStyle.type="text/css",document.body.appendChild(this.carouselStyle));let e=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((o,a)=>{const d=o.breakpoint,p=a.breakpoint;let f=null;return f=null==d&&null!=p?-1:null!=d&&null==p?1:null==d&&null==p?0:"string"==typeof d&&"string"==typeof p?d.localeCompare(p,void 0,{numeric:!0}):d<p?-1:d>p?1:0,-1*f});for(let o=0;o<this.responsiveOptions.length;o++){let a=this.responsiveOptions[o];e+=`\n                    @media screen and (max-width: ${a.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/a.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e=window.innerWidth,o={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};for(let a=0;a<this.responsiveOptions.length;a++){let d=this.responsiveOptions[a];parseInt(d.breakpoint,10)>=e&&(o=d)}if(this._numScroll!==o.numScroll){let a=this._page;a=Math.floor(a*this._numScroll/o.numScroll);let d=o.numScroll*this.page*-1;this.isCircular()&&(d-=o.numVisible),this.totalShiftedItems=d,this._numScroll=o.numScroll,this._page=a,this.onPage.emit({page:this.page})}this._numVisible!==o.numVisible&&(this._numVisible=o.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(e,o){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,o),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}navBackward(e,o){(this.isCircular()||0!==this._page)&&this.step(1,o),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}onDotClick(e,o){let a=this._page;this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),o>a?this.navForward(e,o):o<a&&this.navBackward(e,o)}step(e,o){let a=this.totalShiftedItems;const d=this.isCircular();null!=o?(a=this._numScroll*o*-1,d&&(a-=this._numVisible),this.isRemainingItemsAdded=!1):(a+=this._numScroll*e,this.isRemainingItemsAdded&&(a+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1),o=Math.abs(Math.floor((d?a+this._numVisible:a)/this._numScroll))),d&&this.page===this.totalDots()-1&&-1===e?(a=-1*(this.value.length+this._numVisible),o=0):d&&0===this.page&&1===e?(a=0,o=this.totalDots()-1):o===this.totalDots()-1&&this.remainingItems>0&&(a+=-1*this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${a*(100/this._numVisible)}%, 0)`:`translate3d(${a*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=a,this._page=o,this.onPage.emit({page:this.page})}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval)}stopAutoplay(){this.interval&&clearInterval(this.interval)}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let o=e.changedTouches[0];this.startPos={x:o.pageX,y:o.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let o=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,o.pageY-this.startPos.y):this.changePageOnTouch(e,o.pageX-this.startPos.x)}changePageOnTouch(e,o){Math.abs(o)>this.swipeThreshold&&(o<0?this.navForward(e):this.navBackward(e))}bindDocumentListeners(){this.documentResizeListener||(this.documentResizeListener=e=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}}return t.\u0275fac=function(e){return new(e||t)(H(kt),H(xt),H(uo))},t.\u0275cmp=Rt({type:t,selectors:[["p-carousel"]],contentQueries:function(e,o,a){if(1&e&&(Jt(a,L6,5),Jt(a,G6,5),Jt(a,dL,4)),2&e){let d;Ht(d=Bt())&&(o.headerFacet=d.first),Ht(d=Bt())&&(o.footerFacet=d.first),Ht(d=Bt())&&(o.templates=d)}},viewQuery:function(e,o){if(1&e&&ww(B6,5),2&e){let a;Ht(a=Bt())&&(o.itemsContainer=a.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:"circular",showIndicators:"showIndicators",showNavigators:"showNavigators",autoplayInterval:"autoplayInterval",style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[Ln],ngContentSelectors:d4,decls:14,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle"],[1,"p-carousel-items-container",3,"transitionend","touchend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","ngStyle","click"],[1,"p-carousel-footer"]],template:function(e,o){1&e&&(nu(l4),Q(0,"div",0),ce(1,j6,3,1,"div",1),Q(2,"div",2)(3,"div",3),ce(4,$6,2,8,"button",4),Q(5,"div",5)(6,"div",6,7),Ke("transitionend",function(){return o.onTransitionEnd()})("touchend",function(d){return o.onTouchEnd(d)})("touchstart",function(d){return o.onTouchStart(d)})("touchmove",function(d){return o.onTouchMove(d)}),ce(8,q6,2,9,"div",8),ce(9,X6,2,9,"div",8),ce(10,J6,2,9,"div",8),X()(),ce(11,n4,2,8,"button",4),X(),ce(12,o4,2,5,"ul",9),X(),ce(13,a4,3,1,"div",10),X()),2&e&&(fe(o.styleClass),re("ngClass",au(17,u4,o.isVertical(),!o.isVertical()))("ngStyle",o.style),Ct("id",o.id),Y(1),re("ngIf",o.headerFacet||o.headerTemplate),Y(1),fe(o.contentClass),re("ngClass","p-carousel-content"),Y(2),re("ngIf",o.showNavigators),Y(1),re("ngStyle",ps(20,c4,o.isVertical()?o.verticalViewPortHeight:"auto")),Y(3),re("ngForOf",o.clonedItemsForStarting),Y(1),re("ngForOf",o.value),Y(1),re("ngForOf",o.clonedItemsForFinishing),Y(1),re("ngIf",o.showNavigators),Y(1),re("ngIf",o.showIndicators),Y(1),re("ngIf",o.footerFacet||o.footerTemplate))},directives:[hx,vx,co,Hc,k6,Go],styles:[".p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}\n"],encapsulation:2,changeDetection:0}),t})(),h4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di,gT,mT],di,gT]}),t})();function f4(t,n){if(1&t&&(Q(0,"h3",3),ve(1),X()),2&t){const e=Ee();Y(1),$n(e.genre)}}function g4(t,n){if(1&t&&(Q(0,"div",4),pt(1,"div",5),Q(2,"a",6),pt(3,"img",7),Q(4,"h5",8),ve(5),X()(),Q(6,"p",9),ve(7),vm(8,"slice"),X()()),2&t){const e=n.$implicit;Y(2),bi("href","#/specific-movie/",e.id,"",Rn),Y(1),Li("src",e.backdrop_path,Rn),Li("alt",e.title),Y(2),$n(e.title),Y(2),sh("",ym(8,6,e.overview,0,200),"",e.overview.length>200?"...":"","")}}let m4=(()=>{class t{constructor(e,o){this.tmdbService=e,this.util=o,this.movies=[],this.genreId="",this.responsiveOptions=[{breakpoint:"4096px",numVisible:3,numScroll:1},{breakpoint:"768px",numVisible:2,numScroll:1},{breakpoint:"560px",numVisible:1,numScroll:1}]}ngOnInit(){var e=this;return fT(function*(){"0"===e.genreId?e.getTrendingMovies():e.getMovieByGenre(e.genreId)})()}getTrendingMovies(){this.tmdbService.getTrendingMovies().subscribe(e=>{this.movies=this.util.sanitizeMovies(e.results),this.genre="Trending \u23eb"})}getMovieByGenre(e){this.tmdbService.getRecommendationByGenre(e).subscribe(o=>{switch(this.movies=this.util.sanitizeMovies(o.results),e){case"28":this.genre="Action";break;case"12":this.genre="Adventure";break;case"16":this.genre="Animation";break;case"35":this.genre="Comedy";break;case"14":this.genre="Fantasy";break;default:this.genre="Unknown"}})}}return t.\u0275fac=function(e){return new(e||t)(H(qc),H(Eh))},t.\u0275cmp=Rt({type:t,selectors:[["app-slider"]],inputs:{genreId:"genreId"},decls:3,vars:4,consts:[[3,"value","autoplayInterval","circular","responsiveOptions"],["pTemplate","header"],["pTemplate","item"],[1,"text-center"],[1,"movie-item"],[1,"pb-1"],[3,"href"],[1,"rounded",3,"src","alt"],[1,"align-middle","text-center",2,"height","56px"],[1,"px-1","fst-italic"]],template:function(e,o){1&e&&(Q(0,"p-carousel",0),ce(1,f4,2,1,"ng-template",1),ce(2,g4,9,10,"ng-template",2),X()),2&e&&re("value",o.movies)("autoplayInterval",5e3)("circular",!0)("responsiveOptions",o.responsiveOptions)},directives:[p4,dL],pipes:[Bw],styles:["img[_ngcontent-%COMP%]{width:95%}.movie-item[_ngcontent-%COMP%]{padding:5px}i[_ngcontent-%COMP%]{width:20px}a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}"]}),t})();function v4(t,n){if(1&t&&(Q(0,"div",1),pt(1,"app-slider",2)(2,"br"),X()),2&t){const e=n.$implicit;Y(1),re("genreId",e)}}let y4=(()=>{class t{constructor(){this.movieIds=["0","28","12","16","35","14"]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Rt({type:t,selectors:[["app-movies"]],decls:1,vars:1,consts:[["class","pt-3",4,"ngFor","ngForOf"],[1,"pt-3"],[3,"genreId"]],template:function(e,o){1&e&&ce(0,v4,3,1,"div",0),2&e&&re("ngForOf",o.movieIds)},directives:[Go,m4],styles:[""]}),t})();class _4{}class C4{}class w4{}const fo="https://moviestarapi.azurewebsites.net/";let yT=(()=>{class t{constructor(e){this.http=e}rateMovie(e){return this.http.post(`https://moviestarapi.azurewebsites.net/userratings?movieid=${e.movieId}&rating=${e.rating}&userid=${e.userId}`,"")}addToFavourites(e,o,a){return this.http.post(fo+"favourites",{userid:e,movieid:o,moviename:a})}getFavourites(e){return this.http.get(`https://moviestarapi.azurewebsites.net/favourites?userid=${e}`)}getCommunityAverage(e){return this.http.get(`https://moviestarapi.azurewebsites.net/userratings?movieid=${e}`)}getAll(){return this.http.get(fo+"WeatherForecast")}getComments(e){return this.http.get(`https://moviestarapi.azurewebsites.net/usercomments?movieid=${e}`)}postComment(e,o,a){return this.http.post(`https://moviestarapi.azurewebsites.net/usercomments?movieid=${e}&comment=${a}&username=${o}`,"")}get(e){return this.http.get(`${fo}/${e}`)}create(e){return this.http.post(fo,e)}update(e,o){return this.http.put(`${fo}/${e}`,o)}delete(e){return this.http.delete(`${fo}/${e}`)}getActorStatistics(){let o=this.http.get(`${fo}/actorstatistics`);return o.subscribe(a=>a),o}getMovieStatistics(){let o=this.http.get(`${fo}/moviestatistics`);return o.subscribe(a=>a),o}}return t.\u0275fac=function(e){return new(e||t)(me(db))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const b4=["addListener","removeListener"],E4=["addEventListener","removeEventListener"],S4=["on","off"];function yr(t,n,e,o){if(ee(e)&&(o=e,e=void 0),o)return yr(t,n,e).pipe(hO(o));const[a,d]=function O4(t){return ee(t.addEventListener)&&ee(t.removeEventListener)}(t)?E4.map(p=>f=>t[p](n,f,e)):function D4(t){return ee(t.addListener)&&ee(t.removeListener)}(t)?b4.map(fL(t,n)):function R4(t){return ee(t.on)&&ee(t.off)}(t)?S4.map(fL(t,n)):[];if(!a&&Pt(t))return An(p=>yr(p,n,e))(Bn(t));if(!a)throw new TypeError("Invalid event target");return new jt(p=>{const f=(...m)=>p.next(1<m.length?m:m[0]);return a(f),()=>d(f)})}function fL(t,n){return e=>o=>t[e](n,o)}class T4 extends tn{constructor(n,e){super()}schedule(n,e=0){return this}}const Db={setInterval(t,n,...e){const{delegate:o}=Db;return(null==o?void 0:o.setInterval)?o.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Db;return((null==n?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0},gL={now:()=>(gL.delegate||Date).now(),delegate:void 0};class Ym{constructor(n,e=Ym.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,o){return new this.schedulerActionCtor(this,n).schedule(o,e)}}Ym.now=gL.now;const N4=new class P4 extends Ym{constructor(n,e=Ym.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let o;this._active=!0;do{if(o=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,o){for(;n=e.shift();)n.unsubscribe();throw o}}}(class A4 extends T4{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const o=this.id,a=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(a,o,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(a,this.id,e),this}requestAsyncId(n,e,o=0){return Db.setInterval(n.flush.bind(n,this),o)}recycleAsyncId(n,e,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return e;Db.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(n,e);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let a,o=!1;try{this.work(n)}catch(d){o=!0,a=d||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:o}=e;this.work=this.state=this.scheduler=null,this.pending=!1,nl(o,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}});const{isArray:I4}=Array;function vL(t){return 1===t.length&&I4(t[0])?t[0]:t}function Rb(...t){const n=sa(t),e=vL(t);return e.length?new jt(o=>{let a=e.map(()=>[]),d=e.map(()=>!1);o.add(()=>{a=d=null});for(let p=0;!o.closed&&p<e.length;p++)Bn(e[p]).subscribe(Ut(o,f=>{if(a[p].push(f),a.every(m=>m.length)){const m=a.map(v=>v.shift());o.next(n?n(...m):m),a.some((v,y)=>!v.length&&d[y])&&o.complete()}},()=>{d[p]=!0,!a[p].length&&o.complete()}));return()=>{a=d=null}}):Yr}function hi(t){return un((n,e)=>{Bn(t).subscribe(Ut(e,()=>e.complete(),rl)),!e.closed&&n.subscribe(e)})}function L4(t,n){return t===n}function CT(...t){const n=sa(t);return un((e,o)=>{const a=t.length,d=new Array(a);let p=t.map(()=>!1),f=!1;for(let m=0;m<a;m++)Bn(t[m]).subscribe(Ut(o,v=>{d[m]=v,!f&&!p[m]&&(p[m]=!0,(f=p.every(Eo))&&(p=null))},rl));e.subscribe(Ut(o,m=>{if(f){const v=[m,...d];o.next(n?n(...v):v)}}))})}Math,Math,Math;const XK=["*"],gq=["dialog"];function Yq(t,n){1&t&&ve(0),2&t&&$n(100===n.fill?"\u2605":"\u2606")}function Qq(t,n){}function Xq(t,n){if(1&t){const e=li();Q(0,"span",2),ve(1),X(),Q(2,"span",3),Ke("mouseenter",function(){const d=ni(e).index;return Ee().enter(d+1)})("click",function(){const d=ni(e).index;return Ee().handleClick(d+1)}),ce(3,Qq,0,0,"ng-template",4),X()}if(2&t){const e=n.index,o=Ee(),a=hr(1);Y(1),Gi("(",e<o.nextRate?"*":" ",")"),Y(1),q("cursor",o.isInteractive()?"pointer":"default"),Y(1),re("ngTemplateOutlet",o.starTemplate||o.starTemplateFromContent||a)("ngTemplateOutletContext",o.contexts[e])}}function NT(t,n,e=0){return Math.max(Math.min(t,n),e)}function MT(t){return"string"==typeof t}function Qc(t){return null!=t}function Ah(t){return(t||document.body).getBoundingClientRect()}const LL={animation:!0,transitionTimerDelayMs:5},c7=()=>{},{transitionTimerDelayMs:d7}=LL,nv=new Map,_r=(t,n,e,o)=>{let a=o.context||{};const d=nv.get(n);if(d)switch(o.runningTransition){case"continue":return Yr;case"stop":t.run(()=>d.transition$.complete()),a=Object.assign(d.context,a),nv.delete(n)}const p=e(n,o.animation,a)||c7;if(!o.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>p()),rt(void 0).pipe(function l7(t){return n=>new jt(e=>n.subscribe({next:p=>t.run(()=>e.next(p)),error:p=>t.run(()=>e.error(p)),complete:()=>t.run(()=>e.complete())}))}(t));const f=new ln,m=new ln,v=f.pipe(function F4(...t){return n=>Am(n,rt(...t))}(!0));nv.set(n,{transition$:f,complete:()=>{m.next(),m.complete()},context:a});const y=function u7(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const C=yr(n,"transitionend").pipe(hi(v),Wr(({target:S})=>S===n));(function yL(...t){return 1===(t=vL(t)).length?Bn(t[0]):new jt(function x4(t){return n=>{let e=[];for(let o=0;e&&!n.closed&&o<t.length;o++)e.push(Bn(t[o]).subscribe(Ut(n,a=>{if(e){for(let d=0;d<e.length;d++)d!==o&&e[d].unsubscribe();e=null}n.next(a)})))}}(t))})(function _T(t=0,n,e=N4){let o=-1;return null!=n&&(Qr(n)?e=n:o=n),new jt(a=>{let d=function M4(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;d<0&&(d=0);let p=0;return e.schedule(function(){a.closed||(a.next(p++),0<=o?this.schedule(void 0,o):a.complete())},d)})}(y+d7).pipe(hi(v)),C,m).pipe(hi(v)).subscribe(()=>{nv.delete(n),t.run(()=>{p(),f.next(),f.complete()})})}),f.asObservable()};let Ib=(()=>{class t{constructor(){this.animation=LL.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),WL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di]]}),t})(),jL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di]]}),t})(),zL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({}),t})(),qL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di]]}),t})(),YL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({}),t})();var dn=(()=>{return(t=dn||(dn={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",dn;var t})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const XL=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ZL(t){const n=Array.from(t.querySelectorAll(XL)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let sG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di,aL]]}),t})(),HT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ce({type:t,selectors:[["",8,"navbar"]]}),t})(),uG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({}),t})();class ed{constructor(n,e,o){this.nodes=n,this.viewRef=e,this.componentRef=o}}let rY=(()=>{class t{constructor(e,o){this._el=e,this._zone=o}ngOnInit(){this._zone.onStable.asObservable().pipe(L(1)).subscribe(()=>{_r(this._zone,this._el.nativeElement,(e,o)=>{o&&Ah(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return _r(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(H(kt),H(xt))},t.\u0275cmp=Rt({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,o){2&e&&(fe("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),Z("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,o){},encapsulation:2}),t})();class cG{close(n){}dismiss(n){}}class oY{constructor(n,e,o,a){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=o,this._beforeDismiss=a,this._closed=new ln,this._dismissed=new ln,this._hidden=new ln,n.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,p)=>{this._resolve=d,this._reject=p}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(hi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(hi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function FL(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(o=>{!1!==o&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():rt(void 0);n.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Rb(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var sv=(()=>{return(t=sv||(sv={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",sv;var t})();let sY=(()=>{class t{constructor(e,o,a){this._document=e,this._elRef=o,this._zone=a,this._closed$=new ln,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new U,this.shown=new ln,this.hidden=new ln}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":MT(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(L(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,o={animation:this.animation,runningTransition:"stop"},p=Rb(_r(this._zone,e,()=>e.classList.remove("show"),o),_r(this._zone,this._dialogEl.nativeElement,()=>{},o));return p.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),p}_show(){const e={animation:this.animation,runningTransition:"continue"};Rb(_r(this._zone,this._elRef.nativeElement,(d,p)=>{p&&Ah(d),d.classList.add("show")},e),_r(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{yr(e,"keydown").pipe(hi(this._closed$),Wr(a=>a.which===dn.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(sv.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;yr(this._dialogEl.nativeElement,"mousedown").pipe(hi(this._closed$),Qi(()=>o=!1),La(()=>yr(e,"mouseup").pipe(hi(this._closed$),L(1))),Wr(({target:a})=>e===a)).subscribe(()=>{o=!0}),yr(e,"click").pipe(hi(this._closed$)).subscribe(({target:a})=>{e===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(sv.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const o=e.querySelector("[ngbAutofocus]"),a=ZL(e)[0];(o||a||e).focus()}}_restoreFocus(){const e=this._document.body,o=this._elWithFocus;let a;a=o&&o.focus&&e.contains(o)?o:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&_r(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(H(Kn),H(kt),H(xt))},t.\u0275cmp=Rt({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,o){if(1&e&&ww(gq,7),2&e){let a;Ht(a=Bt())&&(o._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,o){2&e&&(Ct("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),fe("modal d-block"+(o.windowClass?" "+o.windowClass:"")),Z("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:XK,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,o){1&e&&(nu(),Q(0,"div",0,1)(2,"div",2),iu(3),X()()),2&e&&fe("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),aY=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,a=o.style,{overflow:d,paddingRight:p}=a;if(e>0){const f=parseFloat(window.getComputedStyle(o).paddingRight);a.paddingRight=`${f+e}px`}return a.overflow="hidden",()=>{e>0&&(a.paddingRight=p),a.overflow=d}}}return t.\u0275fac=function(e){return new(e||t)(me(Kn))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),lY=(()=>{class t{constructor(e,o,a,d,p,f){this._applicationRef=e,this._injector=o,this._document=a,this._scrollBar=d,this._rendererFactory=p,this._ngZone=f,this._activeWindowCmptHasChanged=new ln,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new U,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const m=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,o=!1)=>{this._ngZone.runOutsideAngular(()=>{const a=yr(n,"focusin").pipe(hi(e),at(d=>d.target));yr(n,"keydown").pipe(hi(e),Wr(d=>d.which===dn.Tab),CT(a)).subscribe(([d,p])=>{const[f,m]=ZL(n);(p===f||p===n)&&d.shiftKey&&(m.focus(),d.preventDefault()),p===m&&!d.shiftKey&&(f.focus(),d.preventDefault())}),o&&yr(n,"click").pipe(hi(e),CT(a),at(d=>d[1])).subscribe(d=>d.focus())})})(0,m.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(m.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,o,a,d){const p=d.container instanceof HTMLElement?d.container:Qc(d.container)?this._document.querySelector(d.container):this._document.body,f=this._rendererFactory.createRenderer(null,null);if(!p)throw new Error(`The specified modal container "${d.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const m=new cG,v=this._getContentRef(e,d.injector||o,a,m,d);let y=!1!==d.backdrop?this._attachBackdrop(e,p):void 0,C=this._attachWindowComponent(e,p,v),b=new oY(C,v,y,d.beforeDismiss);return this._registerModalRef(b),this._registerWindowCmpt(C),b.hidden.pipe(L(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),m.close=S=>{b.close(S)},m.dismiss=S=>{b.dismiss(S)},this._applyWindowOptions(C.instance,d),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),y&&y.instance&&(this._applyBackdropOptions(y.instance,d),y.changeDetectorRef.detectChanges()),C.changeDetectorRef.detectChanges(),b}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(o=>o.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,o){let d=e.resolveComponentFactory(rY).create(this._injector);return this._applicationRef.attachView(d.hostView),o.appendChild(d.location.nativeElement),d}_attachWindowComponent(e,o,a){let p=e.resolveComponentFactory(sY).create(this._injector,a.nodes);return this._applicationRef.attachView(p.hostView),o.appendChild(p.location.nativeElement),p}_applyWindowOptions(e,o){this._windowAttributes.forEach(a=>{Qc(o[a])&&(e[a]=o[a])})}_applyBackdropOptions(e,o){this._backdropAttributes.forEach(a=>{Qc(o[a])&&(e[a]=o[a])})}_getContentRef(e,o,a,d,p){return a?a instanceof wn?this._createFromTemplateRef(a,d):MT(a)?this._createFromString(a):this._createFromComponent(e,o,a,d,p):new ed([])}_createFromTemplateRef(e,o){const d=e.createEmbeddedView({$implicit:o,close(p){o.close(p)},dismiss(p){o.dismiss(p)}});return this._applicationRef.attachView(d),new ed([d.rootNodes],d)}_createFromString(e){const o=this._document.createTextNode(`${e}`);return new ed([[o]])}_createFromComponent(e,o,a,d,p){const f=e.resolveComponentFactory(a),m=rn.create({providers:[{provide:cG,useValue:d}],parent:o}),v=f.create(m),y=v.location.nativeElement;return p.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(v.hostView),new ed([[y]],v.hostView,v)}_setAriaHidden(e){const o=e.parentElement;o&&e!==this._document.body&&(Array.from(o.children).forEach(a=>{a!==e&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,o)=>{e?o.setAttribute("aria-hidden",e):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const o=()=>{const a=this._modalRefs.indexOf(e);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(o,o)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const o=this._windowCmpts.indexOf(e);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(me(Rw),me(rn),me(Kn),me(aY),me(ch),me(xt))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),uY=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(me(Ib))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cY=(()=>{class t{constructor(e,o,a,d){this._moduleCFR=e,this._injector=o,this._modalStack=a,this._config=d}open(e,o={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),o);return this._modalStack.open(this._moduleCFR,this._injector,e,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(me(su),me(rn),me(lY),me(uY))},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({providers:[cY]}),t})(),gG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di]]}),t})(),EG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di]]}),t})(),DG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di]]}),t})(),RG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di]]}),t})(),wY=(()=>{class t{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),bY=(()=>{class t{constructor(e,o){this._changeDetectorRef=o,this.contexts=[],this.disabled=!1,this.hover=new U,this.leave=new U,this.rateChange=new U(!0),this.onChange=a=>{},this.onTouched=()=>{},this.max=e.max,this.readonly=e.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(e){this.isInteractive()&&this._updateState(e),this.hover.emit(e)}handleBlur(){this.onTouched()}handleClick(e){this.isInteractive()&&this.update(this.resettable&&this.rate===e?0:e)}handleKeyDown(e){switch(e.which){case dn.ArrowDown:case dn.ArrowLeft:this.update(this.rate-1);break;case dn.ArrowUp:case dn.ArrowRight:this.update(this.rate+1);break;case dn.Home:this.update(0);break;case dn.End:this.update(this.max);break;default:return}e.preventDefault()}ngOnChanges(e){e.rate&&this.update(this.rate),e.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(e){this.disabled=e}update(e,o=!0){const a=NT(e,this.max,0);this.isInteractive()&&this.rate!==a&&(this.rate=a,this.rateChange.emit(this.rate)),o&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(e){this.update(e,!1),this._changeDetectorRef.markForCheck()}_updateState(e){this.nextRate=e,this.contexts.forEach((o,a)=>o.fill=Math.round(100*NT(e-a,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(e,o)=>({fill:0,index:o}))}}return t.\u0275fac=function(e){return new(e||t)(H(wY),H(uo))},t.\u0275cmp=Rt({type:t,selectors:[["ngb-rating"]],contentQueries:function(e,o,a){if(1&e&&Jt(a,wn,5),2&e){let d;Ht(d=Bt())&&(o.starTemplateFromContent=d.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(e,o){1&e&&Ke("blur",function(){return o.handleBlur()})("keydown",function(d){return o.handleKeyDown(d)})("mouseleave",function(){return o.reset()}),2&e&&(Ma("tabindex",o.disabled?-1:0),Ct("aria-valuemax",o.max)("aria-valuenow",o.nextRate)("aria-valuetext",o.ariaValueText())("aria-disabled",!!o.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[$t([{provide:po,useExisting:Je(()=>t),multi:!0}]),Ln],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&(ce(0,Yq,1,1,"ng-template",null,0,lo),ce(2,Xq,4,5,"ng-template",1)),2&e&&(Y(2),re("ngForOf",o.contexts))},directives:[Go,Hc],encapsulation:2,changeDetection:0}),t})(),OG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di]]}),t})(),TG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di]]}),t})(),AG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di]]}),t})(),PG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({}),t})();new it("live announcer delay",{providedIn:"root",factory:function DY(){return 100}});let NG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di]]}),t})(),MG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({}),t})();const RY=[WL,jL,zL,qL,YL,sG,uG,dG,gG,MG,EG,DG,RG,OG,TG,AG,PG,NG];let OY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[RY,WL,jL,zL,qL,YL,sG,uG,dG,gG,MG,EG,DG,RG,OG,TG,AG,PG,NG]}),t})();function TY(t,n){if(1&t&&(Q(0,"span",22)(1,"span",23),ve(2,"\u2606"),X(),ve(3,"\u2606 "),X()),2&t){const e=n.fill;Z("fullStar",100===e),Y(1),q("width",e,"%")}}function AY(t,n){if(1&t&&(Q(0,"span",22)(1,"span",24),ve(2,"\u2665"),X(),ve(3,"\u2665 "),X()),2&t){const e=n.fill;Z("fullHeart",100===e),Y(1),q("width",e,"%")}}function PY(t,n){if(1&t&&pt(0,"img",33),2&t){const e=Ee(2).$implicit;Li("src",e.profile_path,Rn),Li("alt",e.name)}}function NY(t,n){if(1&t&&(Q(0,"div",28)(1,"div",9)(2,"div",29),ce(3,PY,1,2,"img",30),X(),Q(4,"div",31)(5,"h5",32),ve(6),Q(7,"strong"),ve(8),X()()()()()),2&t){const e=Ee().$implicit;Y(3),re("ngIf","https://image.tmdb.org/t/p/w200null"!==e.profile_path),Y(3),Gi("",e.name," as "),Y(2),$n(e.job)}}function MY(t,n){if(1&t&&(Q(0,"div")(1,"a",26),ce(2,NY,9,3,"div",27),X()()),2&t){const e=n.$implicit;Y(1),bi("href","#/specific-actor/",e.id,"",Rn),Y(1),re("ngIf","Director"===e.job)}}function IY(t,n){if(1&t&&pt(0,"img",33),2&t){const e=Ee().$implicit;Li("src",e.profile_path,Rn),Li("alt",e.name)}}function xY(t,n){if(1&t&&(Q(0,"div")(1,"a",26)(2,"div",28)(3,"div",9)(4,"div",29),ce(5,IY,1,2,"img",30),X(),Q(6,"div",31)(7,"h5",32),ve(8),Q(9,"strong"),ve(10),X()()()()()()()),2&t){const e=n.$implicit;Y(1),bi("href","#/specific-actor/",e.id,"",Rn),Y(4),re("ngIf","https://image.tmdb.org/t/p/w200null"!==e.profile_path),Y(3),Gi("",e.name," as "),Y(2),$n(e.character)}}function FY(t,n){if(1&t&&(Q(0,"div",10)(1,"h4"),ve(2,"Director(s)"),X(),ce(3,MY,3,2,"div",25),Q(4,"h4"),ve(5,"Actors"),X(),ce(6,xY,11,4,"div",25),X()),2&t){const e=Ee();Y(3),re("ngForOf",e.credits.crew),Y(3),re("ngForOf",e.credits.cast)}}function LY(t,n){if(1&t&&(Q(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37)(4,"span")(5,"small",38),ve(6),X(),Q(7,"small",39),ve(8),X()()()()()()),2&t){const e=n.$implicit;Y(6),$n(e.username),Y(2),$n(e.comment)}}let GY=(()=>{class t{constructor(e,o,a,d,p,f){this.tmdbService=e,this.apiHttpService=o,this.authService=a,this.formBuilder=d,this.route=p,this.util=f,this.movie=new _4,this.comments=[],this.ratingCtrl=new Wa(null,gs.required),this.communityRating=0,this.communityCount=0,this.commentForm=this.formBuilder.group({comment:""})}ngOnInit(){this.routeSub=this.route.params.subscribe(e=>{this.getMovieById(e.tmdbId),this.getAverageRating(e.tmdbId),this.getComments(e.tmdbId),this.getCredits(e.tmdbId)})}addToFavourites(){this.apiHttpService.addToFavourites(this.authService.getCurrentEmail(),this.movie.id+"",this.movie.title).subscribe(e=>e)}rateChanged(e){if(0===e)return;let o={movieId:this.movie.id,rating:e,userId:this.authService.getCurrentEmail()};this.apiHttpService.rateMovie(o).subscribe(()=>{window.location.reload()})}getAverageRating(e){this.apiHttpService.getCommunityAverage(e).subscribe(o=>{void 0!==o[0]&&(this.communityRating=o[0].userRatingAvg),this.communityCount=o[0].userRatingCount})}getMovieById(e){this.tmdbService.getMovieByTmdbId(e).then(o=>{void 0!==o&&(this.movie=this.util.sanitizeMovies([o])[0],this.movie.stars=o.vote_average/2)})}getComments(e){this.apiHttpService.getComments(e).subscribe(o=>{o.forEach(a=>{null!==a.comment&&this.comments.push(a)})})}getCredits(e){this.tmdbService.getMovieCredits(e).subscribe(o=>{void 0!==o&&(this.util.sanitizeCredits(o),this.credits=o)})}comment(){this.apiHttpService.postComment(this.movie.id,this.authService.getCurrentUser(),this.commentForm.value.comment).subscribe(()=>{window.location.reload()})}toggle(){this.ratingCtrl.disabled?this.ratingCtrl.enable():this.ratingCtrl.disable()}ngOnDestroy(){this.routeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(H(qc),H(yT),H(zc),H(O6),H(Ha),H(Eh))},t.\u0275cmp=Rt({type:t,selectors:[["app-specific-movie"]],decls:43,vars:22,consts:[["star",""],["heart",""],[1,"container"],[1,"position-absolute","top-90","end-0"],["type","button","title","Add to favourites",1,"btn","btn-lg",3,"click"],[1,"row",2,"margin-top","20px"],[1,"col-sm-6"],[1,"img-fluid","detail",3,"src"],[1,"col-sm-6","my-auto"],[1,"row"],[1,"col"],[1,"d-inline"],[3,"max","starTemplate","rate","readonly","rateChange"],["title","Rate this movie",1,"mt-0","pt-0",3,"max","starTemplate","rate","formControl","readonly","rateChange"],[1,"container","mt-5"],[1,"row","row-cols-2"],["class","col",4,"ngIf"],[1,"justify-content-center",3,"formGroup","ngSubmit"],[1,"d-flex","mt-2","mb-2",2,"height","48px"],["type","text","formControlName","comment","placeholder","Add comment",1,"form-control","mr-3","overflow-auto"],["type","submit",1,"btn","btn-primary"],["class","justify-content-center",4,"ngFor","ngForOf"],[1,"star"],[1,"halfStar"],[1,"halfHeart"],[4,"ngFor","ngForOf"],[3,"href"],["class","card mt-2 mb-2 p-2",4,"ngIf"],[1,"card","mt-2","mb-2","p-2"],[1,"col-md-3"],["class","rounded img-fluid","style","height: 150px",3,"src","alt",4,"ngIf"],[1,"col-md-8"],[1,"text-center"],[1,"rounded","img-fluid",2,"height","150px",3,"src","alt"],[1,"justify-content-center"],[1,"card","p-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"user","d-flex","flex-row","align-items-center"],[1,"font-weight-bold","text-primary","me-2"],[1,"font-weight-bold"]],template:function(e,o){if(1&e&&(ce(0,TY,4,4,"ng-template",null,0,lo),ce(2,AY,4,4,"ng-template",null,1,lo),Q(4,"div",2)(5,"div",3)(6,"button",4),Ke("click",function(){return o.addToFavourites()}),ve(7,"\u2795"),X()(),Q(8,"div",5)(9,"div",6),pt(10,"img",7),X(),Q(11,"div",8)(12,"h1"),ve(13),vm(14,"slice"),X(),pt(15,"br"),Q(16,"div",9)(17,"div",10)(18,"p",11),ve(19),X(),Q(20,"ngb-rating",12),Ke("rateChange",function(d){return o.movie.stars=d}),X()(),pt(21,"br"),Q(22,"div",10)(23,"p",11),ve(24),X(),Q(25,"ngb-rating",13),Ke("rateChange",function(d){return o.communityRating=d})("rateChange",function(d){return o.rateChanged(d)}),X()()(),pt(26,"br"),Q(27,"h4"),ve(28,"Plot"),X(),Q(29,"p"),ve(30),X()()()(),Q(31,"div",14)(32,"div",15),ce(33,FY,7,2,"div",16),Q(34,"div",10)(35,"h4"),ve(36,"Comments"),X(),Q(37,"form",17),Ke("ngSubmit",function(){return o.comment()}),Q(38,"div",18),pt(39,"input",19),Q(40,"button",20),ve(41,"Comment"),X()()(),ce(42,LY,9,2,"div",21),X()()()),2&e){const a=hr(1),d=hr(3);Y(10),Li("src",o.movie.poster_path,Rn),Y(3),sh("",o.movie.title," (",ym(14,18,o.movie.release_date,0,4),")"),Y(6),Gi("Tmdb votes: ",o.movie.vote_count,""),Y(1),re("max",5)("starTemplate",a)("rate",o.movie.stars)("readonly",!0),Y(4),Gi("MovieStar community votes: ",o.communityCount,""),Y(1),re("max",5)("starTemplate",d)("rate",o.communityRating)("formControl",o.ratingCtrl)("readonly",!1),Y(5),$n(o.movie.overview),Y(3),re("ngIf",o.credits),Y(4),re("formGroup",o.commentForm),Y(5),re("ngForOf",o.comments)}},directives:[bY,jm,uT,co,Go,Eb,fb,bh,_h,qm],pipes:[Bw],styles:[".star[_ngcontent-%COMP%]{position:relative;display:inline-block;font-size:3rem;color:#d3d3d3}.fullStar[_ngcontent-%COMP%]{color:#ffc107}.halfStar[_ngcontent-%COMP%]{position:absolute;display:inline-block;overflow:hidden;color:#ffc107}.fullHeart[_ngcontent-%COMP%]{color:#8b0000}.halfHeart[_ngcontent-%COMP%]{position:absolute;display:inline-block;overflow:hidden;color:#8b0000}a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}"]}),t})();var IG="1.13.3",xG="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},Bb=Array.prototype,UT=Object.prototype,FG="undefined"!=typeof Symbol?Symbol.prototype:null,kY=Bb.push,av=Bb.slice,lv=UT.toString,VY=UT.hasOwnProperty,LG="undefined"!=typeof ArrayBuffer,HY="undefined"!=typeof DataView,BY=Array.isArray,GG=Object.keys,kG=Object.create,VG=LG&&ArrayBuffer.isView,WY=isNaN,jY=isFinite,HG=!{toString:null}.propertyIsEnumerable("toString"),BG=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],UY=Math.pow(2,53)-1;function jr(t,n){return n=null==n?t.length-1:+n,function(){for(var e=Math.max(arguments.length-n,0),o=Array(e),a=0;a<e;a++)o[a]=arguments[a+n];switch(n){case 0:return t.call(this,o);case 1:return t.call(this,arguments[0],o);case 2:return t.call(this,arguments[0],arguments[1],o)}var d=Array(n+1);for(a=0;a<n;a++)d[a]=arguments[a];return d[n]=o,t.apply(this,d)}}function td(t){var n=typeof t;return"function"===n||"object"===n&&!!t}function zY(t){return null===t}function WG(t){return void 0===t}function jG(t){return!0===t||!1===t||"[object Boolean]"===lv.call(t)}function $Y(t){return!(!t||1!==t.nodeType)}function Ji(t){var n="[object "+t+"]";return function(e){return lv.call(e)===n}}const zT=Ji("String"),UG=Ji("Number"),KY=Ji("Date"),qY=Ji("RegExp"),YY=Ji("Error"),zG=Ji("Symbol"),$G=Ji("ArrayBuffer");var KG=Ji("Function");"object"!=typeof Int8Array&&"function"!=typeof(xG.document&&xG.document.childNodes)&&(KG=function(t){return"function"==typeof t||!1});const Cr=KG,qG=Ji("Object");var YG=HY&&qG(new DataView(new ArrayBuffer(8))),$T="undefined"!=typeof Map&&qG(new Map),XY=Ji("DataView");const Wb=YG?function ZY(t){return null!=t&&Cr(t.getInt8)&&$G(t.buffer)}:XY,nd=BY||Ji("Array");function vu(t,n){return null!=t&&VY.call(t,n)}var KT=Ji("Arguments");!function(){KT(arguments)||(KT=function(t){return vu(t,"callee")})}();const qT=KT;function JY(t){return!zG(t)&&jY(t)&&!isNaN(parseFloat(t))}function QG(t){return UG(t)&&WY(t)}function XG(t){return function(){return t}}function ZG(t){return function(n){var e=t(n);return"number"==typeof e&&e>=0&&e<=UY}}function JG(t){return function(n){return null==n?void 0:n[t]}}const jb=JG("byteLength"),e9=ZG(jb);var t9=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const ek=LG?function n9(t){return VG?VG(t)&&!Wb(t):e9(t)&&t9.test(lv.call(t))}:XG(!1),Ur=JG("length");function tk(t,n){n=function i9(t){for(var n={},e=t.length,o=0;o<e;++o)n[t[o]]=!0;return{contains:function(a){return!0===n[a]},push:function(a){return n[a]=!0,t.push(a)}}}(n);var e=BG.length,o=t.constructor,a=Cr(o)&&o.prototype||UT,d="constructor";for(vu(t,d)&&!n.contains(d)&&n.push(d);e--;)(d=BG[e])in t&&t[d]!==a[d]&&!n.contains(d)&&n.push(d)}function Si(t){if(!td(t))return[];if(GG)return GG(t);var n=[];for(var e in t)vu(t,e)&&n.push(e);return HG&&tk(t,n),n}function r9(t){if(null==t)return!0;var n=Ur(t);return"number"==typeof n&&(nd(t)||zT(t)||qT(t))?0===n:0===Ur(Si(t))}function nk(t,n){var e=Si(n),o=e.length;if(null==t)return!o;for(var a=Object(t),d=0;d<o;d++){var p=e[d];if(n[p]!==a[p]||!(p in a))return!1}return!0}function Wt(t){return t instanceof Wt?t:this instanceof Wt?void(this._wrapped=t):new Wt(t)}function ik(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,jb(t))}Wt.VERSION=IG,Wt.prototype.valueOf=Wt.prototype.toJSON=Wt.prototype.value=function(){return this._wrapped},Wt.prototype.toString=function(){return String(this._wrapped)};var rk="[object DataView]";function YT(t,n,e,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;return("function"===a||"object"===a||"object"==typeof n)&&ok(t,n,e,o)}function ok(t,n,e,o){t instanceof Wt&&(t=t._wrapped),n instanceof Wt&&(n=n._wrapped);var a=lv.call(t);if(a!==lv.call(n))return!1;if(YG&&"[object Object]"==a&&Wb(t)){if(!Wb(n))return!1;a=rk}switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return FG.valueOf.call(t)===FG.valueOf.call(n);case"[object ArrayBuffer]":case rk:return ok(ik(t),ik(n),e,o)}var d="[object Array]"===a;if(!d&&ek(t)){if(jb(t)!==jb(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;d=!0}if(!d){if("object"!=typeof t||"object"!=typeof n)return!1;var f=t.constructor,m=n.constructor;if(f!==m&&!(Cr(f)&&f instanceof f&&Cr(m)&&m instanceof m)&&"constructor"in t&&"constructor"in n)return!1}o=o||[];for(var v=(e=e||[]).length;v--;)if(e[v]===t)return o[v]===n;if(e.push(t),o.push(n),d){if((v=t.length)!==n.length)return!1;for(;v--;)if(!YT(t[v],n[v],e,o))return!1}else{var C,y=Si(t);if(v=y.length,Si(n).length!==v)return!1;for(;v--;)if(!vu(n,C=y[v])||!YT(t[C],n[C],e,o))return!1}return e.pop(),o.pop(),!0}function o9(t,n){return YT(t,n)}function uv(t){if(!td(t))return[];var n=[];for(var e in t)n.push(e);return HG&&tk(t,n),n}function QT(t){var n=Ur(t);return function(e){if(null==e)return!1;var o=uv(e);if(Ur(o))return!1;for(var a=0;a<n;a++)if(!Cr(e[t[a]]))return!1;return t!==lk||!Cr(e[XT])}}var XT="forEach",ZT=["clear","delete"],ak=["get","has","set"],s9=ZT.concat(XT,ak),lk=ZT.concat(ak),a9=["add"].concat(ZT,XT,"has");const l9=$T?QT(s9):Ji("Map"),u9=$T?QT(lk):Ji("WeakMap"),c9=$T?QT(a9):Ji("Set"),d9=Ji("WeakSet");function Nh(t){for(var n=Si(t),e=n.length,o=Array(e),a=0;a<e;a++)o[a]=t[n[a]];return o}function p9(t){for(var n=Si(t),e=n.length,o=Array(e),a=0;a<e;a++)o[a]=[n[a],t[n[a]]];return o}function uk(t){for(var n={},e=Si(t),o=0,a=e.length;o<a;o++)n[t[e[o]]]=e[o];return n}function JT(t){var n=[];for(var e in t)Cr(t[e])&&n.push(e);return n.sort()}function eA(t,n){return function(e){var o=arguments.length;if(n&&(e=Object(e)),o<2||null==e)return e;for(var a=1;a<o;a++)for(var d=arguments[a],p=t(d),f=p.length,m=0;m<f;m++){var v=p[m];(!n||void 0===e[v])&&(e[v]=d[v])}return e}}const ck=eA(uv),Ub=eA(Si),dk=eA(uv,!0);function pk(t){if(!td(t))return{};if(kG)return kG(t);var n=function(){};n.prototype=t;var e=new n;return n.prototype=null,e}function f9(t,n){var e=pk(t);return n&&Ub(e,n),e}function g9(t){return td(t)?nd(t)?t.slice():ck({},t):t}function m9(t,n){return n(t),t}function hk(t){return nd(t)?t:[t]}function cv(t){return Wt.toPath(t)}function tA(t,n){for(var e=n.length,o=0;o<e;o++){if(null==t)return;t=t[n[o]]}return e?t:void 0}function fk(t,n,e){var o=tA(t,cv(n));return WG(o)?e:o}function v9(t,n){for(var e=(n=cv(n)).length,o=0;o<e;o++){var a=n[o];if(!vu(t,a))return!1;t=t[a]}return!!e}function nA(t){return t}function dv(t){return t=Ub({},t),function(n){return nk(n,t)}}function iA(t){return t=cv(t),function(n){return tA(n,t)}}function pv(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(o){return t.call(n,o)};case 3:return function(o,a,d){return t.call(n,o,a,d)};case 4:return function(o,a,d,p){return t.call(n,o,a,d,p)}}return function(){return t.apply(n,arguments)}}function gk(t,n,e){return null==t?nA:Cr(t)?pv(t,n,e):td(t)&&!nd(t)?dv(t):iA(t)}function rA(t,n){return gk(t,n,1/0)}function zr(t,n,e){return Wt.iteratee!==rA?Wt.iteratee(t,n):gk(t,n,e)}function y9(t,n,e){n=zr(n,e);for(var o=Si(t),a=o.length,d={},p=0;p<a;p++){var f=o[p];d[f]=n(t[f],f,t)}return d}function mk(){}function _9(t){return null==t?mk:function(n){return fk(t,n)}}function C9(t,n,e){var o=Array(Math.max(0,t));n=pv(n,e,1);for(var a=0;a<t;a++)o[a]=n(a);return o}function oA(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))}Wt.toPath=hk,Wt.iteratee=rA;const hv=Date.now||function(){return(new Date).getTime()};function vk(t){var n=function(d){return t[d]},e="(?:"+Si(t).join("|")+")",o=RegExp(e),a=RegExp(e,"g");return function(d){return o.test(d=null==d?"":""+d)?d.replace(a,n):d}}const yk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},w9=vk(yk),E9=vk(uk(yk)),S9=Wt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var sA=/(.)^/,D9={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},R9=/\\|'|\r|\n|\u2028|\u2029/g;function O9(t){return"\\"+D9[t]}var T9=/^\s*(\w|\$)+\s*$/;function A9(t,n,e){!n&&e&&(n=e),n=dk({},n,Wt.templateSettings);var o=RegExp([(n.escape||sA).source,(n.interpolate||sA).source,(n.evaluate||sA).source].join("|")+"|$","g"),a=0,d="__p+='";t.replace(o,function(v,y,C,b,S){return d+=t.slice(a,S).replace(R9,O9),a=S+v.length,y?d+="'+\n((__t=("+y+"))==null?'':_.escape(__t))+\n'":C?d+="'+\n((__t=("+C+"))==null?'':__t)+\n'":b&&(d+="';\n"+b+"\n__p+='"),v}),d+="';\n";var f,p=n.variable;if(p){if(!T9.test(p))throw new Error("variable is not a bare identifier: "+p)}else d="with(obj||{}){\n"+d+"}\n",p="obj";d="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+d+"return __p;\n";try{f=new Function(p,"_",d)}catch(v){throw v.source=d,v}var m=function(v){return f.call(this,v,Wt)};return m.source="function("+p+"){\n"+d+"}",m}function P9(t,n,e){var o=(n=cv(n)).length;if(!o)return Cr(e)?e.call(t):e;for(var a=0;a<o;a++){var d=null==t?void 0:t[n[a]];void 0===d&&(d=e,a=o),t=Cr(d)?d.call(t):d}return t}var N9=0;function M9(t){var n=++N9+"";return t?t+n:n}function I9(t){var n=Wt(t);return n._chain=!0,n}function _k(t,n,e,o,a){if(!(o instanceof n))return t.apply(e,a);var d=pk(t.prototype),p=t.apply(d,a);return td(p)?p:d}var aA=jr(function(t,n){var e=aA.placeholder,o=function(){for(var a=0,d=n.length,p=Array(d),f=0;f<d;f++)p[f]=n[f]===e?arguments[a++]:n[f];for(;a<arguments.length;)p.push(arguments[a++]);return _k(t,o,this,this,p)};return o});aA.placeholder=Wt;const zb=aA,Ck=jr(function(t,n,e){if(!Cr(t))throw new TypeError("Bind must be called on a function");var o=jr(function(a){return _k(t,o,n,this,e.concat(a))});return o}),vo=ZG(Ur);function id(t,n,e,o){if(o=o||[],n||0===n){if(n<=0)return o.concat(t)}else n=1/0;for(var a=o.length,d=0,p=Ur(t);d<p;d++){var f=t[d];if(vo(f)&&(nd(f)||qT(f)))if(n>1)id(f,n-1,e,o),a=o.length;else for(var m=0,v=f.length;m<v;)o[a++]=f[m++];else e||(o[a++]=f)}return o}const x9=jr(function(t,n){var e=(n=id(n,!1,!1)).length;if(e<1)throw new Error("bindAll must be passed function names");for(;e--;){var o=n[e];t[o]=Ck(t[o],t)}return t});function F9(t,n){var e=function(o){var a=e.cache,d=""+(n?n.apply(this,arguments):o);return vu(a,d)||(a[d]=t.apply(this,arguments)),a[d]};return e.cache={},e}const wk=jr(function(t,n,e){return setTimeout(function(){return t.apply(null,e)},n)}),L9=zb(wk,Wt,1);function G9(t,n,e){var o,a,d,p,f=0;e||(e={});var m=function(){f=!1===e.leading?0:hv(),o=null,p=t.apply(a,d),o||(a=d=null)},v=function(){var y=hv();!f&&!1===e.leading&&(f=y);var C=n-(y-f);return a=this,d=arguments,C<=0||C>n?(o&&(clearTimeout(o),o=null),f=y,p=t.apply(a,d),o||(a=d=null)):!o&&!1!==e.trailing&&(o=setTimeout(m,C)),p};return v.cancel=function(){clearTimeout(o),f=0,o=a=d=null},v}function bk(t,n,e){var o,a,d,p,f,m=function(){var y=hv()-a;n>y?o=setTimeout(m,n-y):(o=null,e||(p=t.apply(f,d)),o||(d=f=null))},v=jr(function(y){return f=this,d=y,a=hv(),o||(o=setTimeout(m,n),e&&(p=t.apply(f,d))),p});return v.cancel=function(){clearTimeout(o),o=d=f=null},v}function k9(t,n){return zb(n,t)}function lA(t){return function(){return!t.apply(this,arguments)}}function V9(){var t=arguments,n=t.length-1;return function(){for(var e=n,o=t[n].apply(this,arguments);e--;)o=t[e].call(this,o);return o}}function H9(t,n){return function(){if(--t<1)return n.apply(this,arguments)}}function Ek(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=null),e}}const B9=zb(Ek,2);function Sk(t,n,e){n=zr(n,e);for(var a,o=Si(t),d=0,p=o.length;d<p;d++)if(n(t[a=o[d]],a,t))return a}function Dk(t){return function(n,e,o){e=zr(e,o);for(var a=Ur(n),d=t>0?0:a-1;d>=0&&d<a;d+=t)if(e(n[d],d,n))return d;return-1}}const uA=Dk(1),Rk=Dk(-1);function Ok(t,n,e,o){for(var a=(e=zr(e,o,1))(n),d=0,p=Ur(t);d<p;){var f=Math.floor((d+p)/2);e(t[f])<a?d=f+1:p=f}return d}function Tk(t,n,e){return function(o,a,d){var p=0,f=Ur(o);if("number"==typeof d)t>0?p=d>=0?d:Math.max(d+f,p):f=d>=0?Math.min(d+1,f):d+f+1;else if(e&&d&&f)return o[d=e(o,a)]===a?d:-1;if(a!=a)return(d=n(av.call(o,p,f),QG))>=0?d+p:-1;for(d=t>0?p:f-1;d>=0&&d<f;d+=t)if(o[d]===a)return d;return-1}}const Ak=Tk(1,uA,Ok),W9=Tk(-1,Rk);function cA(t,n,e){var a=(vo(t)?uA:Sk)(t,n,e);if(void 0!==a&&-1!==a)return t[a]}function j9(t,n){return cA(t,dv(n))}function za(t,n,e){var o,a;if(n=pv(n,e),vo(t))for(o=0,a=t.length;o<a;o++)n(t[o],o,t);else{var d=Si(t);for(o=0,a=d.length;o<a;o++)n(t[d[o]],d[o],t)}return t}function rd(t,n,e){n=zr(n,e);for(var o=!vo(t)&&Si(t),a=(o||t).length,d=Array(a),p=0;p<a;p++){var f=o?o[p]:p;d[p]=n(t[f],f,t)}return d}function Pk(t){var n=function(e,o,a,d){var p=!vo(e)&&Si(e),f=(p||e).length,m=t>0?0:f-1;for(d||(a=e[p?p[m]:m],m+=t);m>=0&&m<f;m+=t){var v=p?p[m]:m;a=o(a,e[v],v,e)}return a};return function(e,o,a,d){var p=arguments.length>=3;return n(e,pv(o,d,4),a,p)}}const dA=Pk(1),Nk=Pk(-1);function Mh(t,n,e){var o=[];return n=zr(n,e),za(t,function(a,d,p){n(a,d,p)&&o.push(a)}),o}function U9(t,n,e){return Mh(t,lA(zr(n)),e)}function Mk(t,n,e){n=zr(n,e);for(var o=!vo(t)&&Si(t),a=(o||t).length,d=0;d<a;d++){var p=o?o[d]:d;if(!n(t[p],p,t))return!1}return!0}function Ik(t,n,e){n=zr(n,e);for(var o=!vo(t)&&Si(t),a=(o||t).length,d=0;d<a;d++){var p=o?o[d]:d;if(n(t[p],p,t))return!0}return!1}function $a(t,n,e,o){return vo(t)||(t=Nh(t)),("number"!=typeof e||o)&&(e=0),Ak(t,n,e)>=0}const z9=jr(function(t,n,e){var o,a;return Cr(n)?a=n:(n=cv(n),o=n.slice(0,-1),n=n[n.length-1]),rd(t,function(d){var p=a;if(!p){if(o&&o.length&&(d=tA(d,o)),null==d)return;p=d[n]}return null==p?p:p.apply(d,e)})});function pA(t,n){return rd(t,iA(n))}function $9(t,n){return Mh(t,dv(n))}function xk(t,n,e){var d,p,o=-1/0,a=-1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var f=0,m=(t=vo(t)?t:Nh(t)).length;f<m;f++)null!=(d=t[f])&&d>o&&(o=d);else n=zr(n,e),za(t,function(v,y,C){((p=n(v,y,C))>a||p===-1/0&&o===-1/0)&&(o=v,a=p)});return o}function K9(t,n,e){var d,p,o=1/0,a=1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var f=0,m=(t=vo(t)?t:Nh(t)).length;f<m;f++)null!=(d=t[f])&&d<o&&(o=d);else n=zr(n,e),za(t,function(v,y,C){((p=n(v,y,C))<a||p===1/0&&o===1/0)&&(o=v,a=p)});return o}var q9=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Fk(t){return t?nd(t)?av.call(t):zT(t)?t.match(q9):vo(t)?rd(t,nA):Nh(t):[]}function Lk(t,n,e){if(null==n||e)return vo(t)||(t=Nh(t)),t[oA(t.length-1)];var o=Fk(t),a=Ur(o);n=Math.max(Math.min(n,a),0);for(var d=a-1,p=0;p<n;p++){var f=oA(p,d),m=o[p];o[p]=o[f],o[f]=m}return o.slice(0,n)}function Y9(t){return Lk(t,1/0)}function Q9(t,n,e){var o=0;return n=zr(n,e),pA(rd(t,function(a,d,p){return{value:a,index:o++,criteria:n(a,d,p)}}).sort(function(a,d){var p=a.criteria,f=d.criteria;if(p!==f){if(p>f||void 0===p)return 1;if(p<f||void 0===f)return-1}return a.index-d.index}),"value")}function $b(t,n){return function(e,o,a){var d=n?[[],[]]:{};return o=zr(o,a),za(e,function(p,f){var m=o(p,f,e);t(d,p,m)}),d}}const X9=$b(function(t,n,e){vu(t,e)?t[e].push(n):t[e]=[n]}),Z9=$b(function(t,n,e){t[e]=n}),J9=$b(function(t,n,e){vu(t,e)?t[e]++:t[e]=1}),eQ=$b(function(t,n,e){t[e?0:1].push(n)},!0);function tQ(t){return null==t?0:vo(t)?t.length:Si(t).length}function nQ(t,n,e){return n in e}const Gk=jr(function(t,n){var e={},o=n[0];if(null==t)return e;Cr(o)?(n.length>1&&(o=pv(o,n[1])),n=uv(t)):(o=nQ,n=id(n,!1,!1),t=Object(t));for(var a=0,d=n.length;a<d;a++){var p=n[a],f=t[p];o(f,p,t)&&(e[p]=f)}return e}),iQ=jr(function(t,n){var o,e=n[0];return Cr(e)?(e=lA(e),n.length>1&&(o=n[1])):(n=rd(id(n,!1,!1),String),e=function(a,d){return!$a(n,d)}),Gk(t,e,o)});function kk(t,n,e){return av.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))}function hA(t,n,e){return null==t||t.length<1?null==n||e?void 0:[]:null==n||e?t[0]:kk(t,t.length-n)}function Kb(t,n,e){return av.call(t,null==n||e?1:n)}function rQ(t,n,e){return null==t||t.length<1?null==n||e?void 0:[]:null==n||e?t[t.length-1]:Kb(t,Math.max(0,t.length-n))}function oQ(t){return Mh(t,Boolean)}function sQ(t,n){return id(t,n,!1)}const Vk=jr(function(t,n){return n=id(n,!0,!0),Mh(t,function(e){return!$a(n,e)})}),aQ=jr(function(t,n){return Vk(t,n)});function fA(t,n,e,o){jG(n)||(o=e,e=n,n=!1),null!=e&&(e=zr(e,o));for(var a=[],d=[],p=0,f=Ur(t);p<f;p++){var m=t[p],v=e?e(m,p,t):m;n&&!e?((!p||d!==v)&&a.push(m),d=v):e?$a(d,v)||(d.push(v),a.push(m)):$a(a,m)||a.push(m)}return a}const lQ=jr(function(t){return fA(id(t,!0,!0))});function uQ(t){for(var n=[],e=arguments.length,o=0,a=Ur(t);o<a;o++){var d=t[o];if(!$a(n,d)){var p;for(p=1;p<e&&$a(arguments[p],d);p++);p===e&&n.push(d)}}return n}function gA(t){for(var n=t&&xk(t,Ur).length||0,e=Array(n),o=0;o<n;o++)e[o]=pA(t,o);return e}const cQ=jr(gA);function dQ(t,n){for(var e={},o=0,a=Ur(t);o<a;o++)n?e[t[o]]=n[o]:e[t[o][0]]=t[o][1];return e}function pQ(t,n,e){null==n&&(n=t||0,t=0),e||(e=n<t?-1:1);for(var o=Math.max(Math.ceil((n-t)/e),0),a=Array(o),d=0;d<o;d++,t+=e)a[d]=t;return a}function hQ(t,n){if(null==n||n<1)return[];for(var e=[],o=0,a=t.length;o<a;)e.push(av.call(t,o,o+=n));return e}function mA(t,n){return t._chain?Wt(n).chain():n}function Hk(t){return za(JT(t),function(n){var e=Wt[n]=t[n];Wt.prototype[n]=function(){var o=[this._wrapped];return kY.apply(o,arguments),mA(this,e.apply(Wt,o))}}),Wt}za(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=Bb[t];Wt.prototype[t]=function(){var e=this._wrapped;return null!=e&&(n.apply(e,arguments),("shift"===t||"splice"===t)&&0===e.length&&delete e[0]),mA(this,e)}}),za(["concat","join","slice"],function(t){var n=Bb[t];Wt.prototype[t]=function(){var e=this._wrapped;return null!=e&&(e=n.apply(e,arguments)),mA(this,e)}});const fQ=Wt;var Bk=Hk(Rr);function gQ(t,n){1&t&&(Q(0,"div",11),ve(1,"Nothing matches this search."),X())}function mQ(t,n){if(1&t&&(Q(0,"div",16),pt(1,"div",17),Q(2,"a",18),pt(3,"img",19),Q(4,"h4",20),ve(5),vm(6,"slice"),X()(),Q(7,"p",21),ve(8),vm(9,"slice"),X()()),2&t){const e=Ee().$implicit;Y(2),bi("href","#/specific-movie/",e.id,"",Rn),Y(1),Li("src",e.poster_path,Rn),Li("alt",e.title),Y(2),sh("",e.title," (",ym(6,7,e.release_date,0,4),")"),Y(3),sh("",ym(9,11,e.overview,0,200),"",e.overview.length>200?"...":"","")}}function vQ(t,n){if(1&t&&(Q(0,"div",14),ce(1,mQ,10,15,"div",15),X()),2&t){const e=n.$implicit;Y(1),re("ngIf","https://image.tmdb.org/t/p/w400null"!==e.poster_path)}}function yQ(t,n){if(1&t&&(Q(0,"div",12),ce(1,vQ,2,1,"div",13),X()),2&t){const e=Ee();Y(1),re("ngForOf",e.results)}}function _Q(t,n){if(1&t&&pt(0,"img",19),2&t){const e=Ee().$implicit;Li("src",e.profile_path,Rn),Li("alt",e.name)}}function CQ(t,n){1&t&&pt(0,"div",27)}function wQ(t,n){if(1&t&&(Q(0,"a",30),ve(1),X()),2&t){const e=Ee().$implicit;bi("href","#/specific-movie/",e.id,"",Rn),Y(1),$n(e.title)}}function bQ(t,n){if(1&t&&(Q(0,"div",28),ce(1,wQ,2,2,"a",29),X()),2&t){const e=n.$implicit;Y(1),re("ngIf",""!==e.title)}}function EQ(t,n){if(1&t&&(Q(0,"div",23)(1,"div",16),pt(2,"div",17),Q(3,"a",18),ce(4,_Q,1,2,"img",24),ce(5,CQ,1,0,"div",25),Q(6,"h4",20),ve(7),X()(),ce(8,bQ,2,1,"div",26),X()()),2&t){const e=n.$implicit;Y(3),bi("href","#/specific-actor/",e.id,"",Rn),Y(1),re("ngIf","https://image.tmdb.org/t/p/w200null"!==e.profile_path),Y(1),re("ngIf","https://image.tmdb.org/t/p/w200null"===e.profile_path),Y(2),$n(e.name),Y(1),re("ngForOf",e.known_for)}}function SQ(t,n){if(1&t&&(Q(0,"div",12),ce(1,EQ,9,5,"div",22),X()),2&t){const e=Ee();Y(1),re("ngForOf",e.results)}}Bk._=Bk;let DQ=(()=>{class t{constructor(e,o){this.tmdbService=e,this.util=o,this.loading=!1,this.results=[],this.searchType="movies",this.search=bk(this.search,1e3)}ngOnInit(){}clearResults(){this.results=[]}search(e){e.target.value.length>2&&(this.loading=!0,"movies"===this.searchType?this.tmdbService.searchMovie(e.target.value).subscribe(o=>{this.results=this.util.sanitizeMovies(o.results)}):"people"===this.searchType&&this.tmdbService.searchPeople(e.target.value).subscribe(o=>{this.results=this.util.sanitizePeople(o.results)})),0==e.target.value.length&&(this.results=[],this.loading=!1)}}return t.\u0275fac=function(e){return new(e||t)(H(qc),H(Eh))},t.\u0275cmp=Rt({type:t,selectors:[["app-search"]],decls:16,vars:5,consts:[[1,"flex-column","d-flex","align-items-center","justify-content-center"],[1,"text-center"],[1,"row","w-50","center"],[1,"col-9","pe-0"],["type","search","placeholder","Search text",1,"form-control",3,"input"],[1,"col-3","ps-0"],[1,"form-select","form-control",3,"ngModel","ngModelChange"],["value","movies"],["value","people"],["class","no-res",4,"ngIf"],["class","row wrapper m-1",4,"ngIf"],[1,"no-res"],[1,"row","wrapper","m-1"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],["class","search-item",4,"ngIf"],[1,"search-item"],[1,"pb-1"],[3,"href"],[1,"rounded",3,"src","alt"],[1,"align-middle","text-center"],[1,"px-1","fst-italic"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],["class","rounded",3,"src","alt",4,"ngIf"],["class","rounded","style","width:200px; height: 200px;",4,"ngIf"],["class","list-group",4,"ngFor","ngForOf"],[1,"rounded",2,"width","200px","height","200px"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"href",4,"ngIf"],[1,"list-group-item","list-group-item-action",3,"href"]],template:function(e,o){1&e&&(Q(0,"div",0)(1,"div",1)(2,"h3"),ve(3),X()(),Q(4,"div",2)(5,"div",3)(6,"input",4),Ke("input",function(d){return o.search(d)}),X()(),Q(7,"div",5)(8,"select",6),Ke("ngModelChange",function(d){return o.searchType=d})("ngModelChange",function(){return o.clearResults()}),Q(9,"option",7),ve(10,"Movies"),X(),Q(11,"option",8),ve(12,"People"),X()()()(),ce(13,gQ,2,0,"div",9),ce(14,yQ,2,1,"div",10),ce(15,SQ,2,1,"div",10),X()),2&e&&(Y(3),Gi("Search for ",o.searchType,""),Y(5),re("ngModel",o.searchType),Y(5),re("ngIf",0===(null==o.results?null:o.results.length)&&o.loading),Y(1),re("ngIf","movies"===o.searchType),Y(1),re("ngIf","people"===o.searchType))},directives:[Sb,jm,aT,qF,QF,co,Go],pipes:[Bw],styles:["img[_ngcontent-%COMP%]{width:95%}.search-item[_ngcontent-%COMP%]{padding:5px}a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}"]}),t})(),RQ=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Rt({type:t,selectors:[["app-home"]],decls:11,vars:0,consts:[[1,"container","align-items-center","justify-content-center"],[1,"text-center"]],template:function(e,o){1&e&&(Q(0,"div",0)(1,"h1",1),ve(2,"MovieStar \u2b50"),X(),Q(3,"div")(4,"p",1),ve(5,"This is a website for movie enthusiasts \u{1f37f}, let's all get together to create the best, and most awesome community for movies! "),pt(6,"br"),ve(7,"On MovieStar, you're able to lookup movies and actors \u{1f50e}, rate them \u{1f320}, comment on them \u270f and find some amazing statistics \u{1f4c8}, that even the most nerdy movie enthusiasts would enjoy. "),pt(8,"br"),ve(9," Go on ahead and create an account, so you can start exploring this community centered around movies \u{1f3ac}. "),X()()(),pt(10,"app-search"))},directives:[DQ],styles:[""]}),t})();function OQ(t,n){if(1&t&&(Q(0,"div",7)(1,"div",8)(2,"h5"),ve(3,"Birth date"),X()(),Q(4,"div",9)(5,"h6"),ve(6),X()()()),2&t){const e=Ee();Y(6),$n(e.actor.birthday)}}function TQ(t,n){if(1&t&&(Q(0,"div",7)(1,"div",8)(2,"h5"),ve(3,"Birth place"),X()(),Q(4,"div",9)(5,"h6"),ve(6),X()()()),2&t){const e=Ee();Y(6),$n(e.actor.place_of_birth)}}function AQ(t,n){if(1&t&&(Q(0,"div",7)(1,"div",8)(2,"h5"),ve(3,"Biography"),X()(),Q(4,"div",9)(5,"h6"),ve(6),X()()()),2&t){const e=Ee();Y(6),$n(e.actor.biography)}}function PQ(t,n){if(1&t&&(Q(0,"div",7)(1,"div",8)(2,"h5"),ve(3,"Professions"),X()(),Q(4,"div",9)(5,"h6"),ve(6),X()()()),2&t){const e=Ee();Y(6),$n(e.actor.known_for_department)}}function NQ(t,n){if(1&t&&(Q(0,"div",7)(1,"div",8)(2,"h5"),ve(3,"Date of death"),X()(),Q(4,"div",9)(5,"h6"),ve(6),X()()()),2&t){const e=Ee();Y(6),$n(e.actor.deathday)}}let MQ=(()=>{class t{constructor(e,o,a){this.route=e,this.tmdbService=o,this.util=a,this.actor=new C4,this.responsiveOptions=[{breakpoint:"4096px",numVisible:3,numScroll:1},{breakpoint:"768px",numVisible:2,numScroll:1},{breakpoint:"560px",numVisible:1,numScroll:1}]}ngOnInit(){this.routeSub=this.route.params.subscribe(e=>{this.getActor(e.Id)})}getActor(e){var o=this;return fT(function*(){o.actor=yield o.tmdbService.getActorById(e)})()}ngOnDestroy(){this.routeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(H(Ha),H(qc),H(Eh))},t.\u0275cmp=Rt({type:t,selectors:[["app-specific-actor"]],decls:13,vars:8,consts:[[1,"container"],[1,"row-1"],[1,"align-middle","text-center"],["class","row",4,"ngIf"],[1,"column"],[1,"row",3,"href"],[1,"align-middle","text-center",2,"height","20px"],[1,"row"],[1,"col"],[1,"col-sm"]],template:function(e,o){1&e&&(Q(0,"div",0)(1,"div",1)(2,"h1",2),ve(3),X()(),ce(4,OQ,7,1,"div",3),ce(5,TQ,7,1,"div",3),ce(6,AQ,7,1,"div",3),ce(7,PQ,7,1,"div",3),ce(8,NQ,7,1,"div",3),Q(9,"div",4)(10,"a",5)(11,"h4",6),ve(12),X()()()()),2&e&&(Y(3),$n(o.actor.name),Y(1),re("ngIf",null!=o.actor.birthday),Y(1),re("ngIf",null!=o.actor.place_of_birth),Y(1),re("ngIf",null!=o.actor.biography),Y(1),re("ngIf",null!=o.actor.known_for_department),Y(1),re("ngIf",null!=o.actor.deathday),Y(2),bi("href","#/known-for/",o.actor.name,"",Rn),Y(2),Gi(" Click here to check out what ",o.actor.name," is also known for! "))},directives:[co],styles:[".row[_ngcontent-%COMP%]{margin-top:20px;border-radius:25px;border:2px solid;padding:20px;background:#F1FFE1}a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.container[_ngcontent-%COMP%]{width:100%;margin-top:100px;border-radius:25px;border:2px solid;padding:20px;margin-bottom:100px}"]}),t})();const Wk="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function jk(t,n,e){const o=e||(p=>Array.prototype.slice.call(p));let a=!1,d=[];return function(...p){d=o(p),a||(a=!0,Wk.call(window,()=>{a=!1,t.apply(n,d)}))}}const vA=t=>"start"===t?"left":"end"===t?"right":"center",er=(t,n,e)=>"start"===t?n:"end"===t?e:(n+e)/2;function Ka(){}const FQ=function(){let t=0;return function(){return t++}}();function Ft(t){return null==t}function sn(t){if(Array.isArray&&Array.isArray(t))return!0;const n=Object.prototype.toString.call(t);return"[object"===n.substr(0,7)&&"Array]"===n.substr(-6)}function Dt(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const Vn=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function Ho(t,n){return Vn(t)?t:n}function dt(t,n){return void 0===t?n:t}const Uk=(t,n)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*n:+t;function an(t,n,e){if(t&&"function"==typeof t.call)return t.apply(e,n)}function Kt(t,n,e,o){let a,d,p;if(sn(t))if(d=t.length,o)for(a=d-1;a>=0;a--)n.call(e,t[a],a);else for(a=0;a<d;a++)n.call(e,t[a],a);else if(Dt(t))for(p=Object.keys(t),d=p.length,a=0;a<d;a++)n.call(e,t[p[a]],p[a])}function qb(t,n){let e,o,a,d;if(!t||!n||t.length!==n.length)return!1;for(e=0,o=t.length;e<o;++e)if(a=t[e],d=n[e],a.datasetIndex!==d.datasetIndex||a.index!==d.index)return!1;return!0}function Yb(t){if(sn(t))return t.map(Yb);if(Dt(t)){const n=Object.create(null),e=Object.keys(t),o=e.length;let a=0;for(;a<o;++a)n[e[a]]=Yb(t[e[a]]);return n}return t}function zk(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function GQ(t,n,e,o){if(!zk(t))return;const a=n[t],d=e[t];Dt(a)&&Dt(d)?fv(a,d,o):n[t]=Yb(d)}function fv(t,n,e){const o=sn(n)?n:[n],a=o.length;if(!Dt(t))return t;const d=(e=e||{}).merger||GQ;for(let p=0;p<a;++p){if(!Dt(n=o[p]))continue;const f=Object.keys(n);for(let m=0,v=f.length;m<v;++m)d(f[m],t,n,e)}return t}function gv(t,n){return fv(t,n,{merger:kQ})}function kQ(t,n,e){if(!zk(t))return;const o=n[t],a=e[t];Dt(o)&&Dt(a)?gv(o,a):Object.prototype.hasOwnProperty.call(n,t)||(n[t]=Yb(a))}function $k(t,n){const e=t.indexOf(".",n);return-1===e?t.length:e}function od(t,n){if(""===n)return t;let e=0,o=$k(n,e);for(;t&&o>e;)t=t[n.substr(e,o-e)],e=o+1,o=$k(n,e);return t}function yA(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Bo=t=>void 0!==t,yu=t=>"function"==typeof t,Kk=(t,n)=>{if(t.size!==n.size)return!1;for(const e of t)if(!n.has(e))return!1;return!0},En=Math.PI,en=2*En,WQ=en+En,Qb=Number.POSITIVE_INFINITY,jQ=En/180,xn=En/2,mv=En/4,qk=2*En/3,Wo=Math.log10,na=Math.sign;function Yk(t){const n=Math.round(t);t=yv(t,n,t/1e3)?n:t;const e=Math.pow(10,Math.floor(Wo(t))),o=t/e;return(o<=1?1:o<=2?2:o<=5?5:10)*e}function vv(t){return!isNaN(parseFloat(t))&&isFinite(t)}function yv(t,n,e){return Math.abs(t-n)<e}function Qk(t,n,e){let o,a,d;for(o=0,a=t.length;o<a;o++)d=t[o][e],isNaN(d)||(n.min=Math.min(n.min,d),n.max=Math.max(n.max,d))}function Cs(t){return t*(En/180)}function _A(t){return t*(180/En)}function Xk(t){if(!Vn(t))return;let n=1,e=0;for(;Math.round(t*n)/n!==t;)n*=10,e++;return e}function Zk(t,n){const e=n.x-t.x,o=n.y-t.y,a=Math.sqrt(e*e+o*o);let d=Math.atan2(o,e);return d<-.5*En&&(d+=en),{angle:d,distance:a}}function CA(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function $Q(t,n){return(t-n+WQ)%en-En}function yo(t){return(t%en+en)%en}function _v(t,n,e,o){const a=yo(t),d=yo(n),p=yo(e),f=yo(d-a),m=yo(p-a),v=yo(a-d),y=yo(a-p);return a===d||a===p||o&&d===p||f>m&&v<y}function Di(t,n,e){return Math.max(n,Math.min(e,t))}function qa(t,n,e,o=1e-6){return t>=Math.min(n,e)-o&&t<=Math.max(n,e)+o}const Xb=t=>0===t||1===t,Jk=(t,n,e)=>-Math.pow(2,10*(t-=1))*Math.sin((t-n)*en/e),eV=(t,n,e)=>Math.pow(2,-10*t)*Math.sin((t-n)*en/e)+1,Cv={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*xn),easeOutSine:t=>Math.sin(t*xn),easeInOutSine:t=>-.5*(Math.cos(En*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Xb(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Xb(t)?t:Jk(t,.075,.3),easeOutElastic:t=>Xb(t)?t:eV(t,.075,.3),easeInOutElastic:t=>Xb(t)?t:t<.5?.5*Jk(2*t,.1125,.45):.5+.5*eV(2*t-1,.1125,.45),easeInBack:t=>t*t*(2.70158*t-1.70158),easeOutBack:t=>(t-=1)*t*(2.70158*t+1.70158)+1,easeInOutBack(t){let n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},easeInBounce:t=>1-Cv.easeOutBounce(1-t),easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInOutBounce:t=>t<.5?.5*Cv.easeInBounce(2*t):.5*Cv.easeOutBounce(2*t-1)+.5},jo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wA="0123456789ABCDEF",qQ=t=>wA[15&t],YQ=t=>wA[(240&t)>>4]+wA[15&t],Zb=t=>(240&t)>>4==(15&t);function wv(t){return t+.5|0}const Jb=(t,n,e)=>Math.max(Math.min(t,e),n);function bv(t){return Jb(wv(2.55*t),0,255)}function Ev(t){return Jb(wv(255*t),0,255)}function bA(t){return Jb(wv(t/2.55)/100,0,1)}function tV(t){return Jb(wv(100*t),0,100)}const JQ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,nX=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nV(t,n,e){const o=n*Math.min(e,1-e),a=(d,p=(d+t/30)%12)=>e-o*Math.max(Math.min(p-3,9-p,1),-1);return[a(0),a(8),a(4)]}function iX(t,n,e){const o=(a,d=(a+t/60)%6)=>e-e*n*Math.max(Math.min(d,4-d,1),0);return[o(5),o(3),o(1)]}function rX(t,n,e){const o=nV(t,1,.5);let a;for(n+e>1&&(a=1/(n+e),n*=a,e*=a),a=0;a<3;a++)o[a]*=1-n-e,o[a]+=n;return o}function EA(t){const e=t.r/255,o=t.g/255,a=t.b/255,d=Math.max(e,o,a),p=Math.min(e,o,a),f=(d+p)/2;let m,v,y;return d!==p&&(y=d-p,v=f>.5?y/(2-d-p):y/(d+p),m=d===e?(o-a)/y+(o<a?6:0):d===o?(a-e)/y+2:(e-o)/y+4,m=60*m+.5),[0|m,v||0,f]}function SA(t,n,e,o){return(Array.isArray(n)?t(n[0],n[1],n[2]):t(n,e,o)).map(Ev)}function DA(t,n,e){return SA(nV,t,n,e)}function iV(t){return(t%360+360)%360}const rV={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oV={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let eE;function tE(t,n,e){if(t){let o=EA(t);o[n]=Math.max(0,Math.min(o[n]+o[n]*e,0===n?360:1)),o=DA(o),t.r=o[0],t.g=o[1],t.b=o[2]}}function sV(t,n){return t&&Object.assign(n||{},t)}function aV(t){var n={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(n={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(n.a=Ev(t[3]))):(n=sV(t,{r:0,g:0,b:0,a:1})).a=Ev(n.a),n}function pX(t){return"r"===t.charAt(0)?function eX(t){const n=JQ.exec(t);let o,a,d,e=255;if(n){if(n[7]!==o){const p=+n[7];e=255&(n[8]?bv(p):255*p)}return o=+n[1],a=+n[3],d=+n[5],o=255&(n[2]?bv(o):o),a=255&(n[4]?bv(a):a),d=255&(n[6]?bv(d):d),{r:o,g:a,b:d,a:e}}}(t):function aX(t){const n=nX.exec(t);let o,e=255;if(!n)return;n[5]!==o&&(e=n[6]?bv(+n[5]):Ev(+n[5]));const a=iV(+n[2]),d=+n[3]/100,p=+n[4]/100;return o="hwb"===n[1]?function oX(t,n,e){return SA(rX,t,n,e)}(a,d,p):"hsv"===n[1]?function sX(t,n,e){return SA(iX,t,n,e)}(a,d,p):DA(a,d,p),{r:o[0],g:o[1],b:o[2],a:e}}(t)}class nE{constructor(n){if(n instanceof nE)return n;const e=typeof n;let o;"object"===e?o=aV(n):"string"===e&&(o=function XQ(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*jo[t[1]],g:255&17*jo[t[2]],b:255&17*jo[t[3]],a:5===n?17*jo[t[4]]:255}:(7===n||9===n)&&(e={r:jo[t[1]]<<4|jo[t[2]],g:jo[t[3]]<<4|jo[t[4]],b:jo[t[5]]<<4|jo[t[6]],a:9===n?jo[t[7]]<<4|jo[t[8]]:255})),e}(n)||function dX(t){eE||(eE=function cX(){const t={},n=Object.keys(oV),e=Object.keys(rV);let o,a,d,p,f;for(o=0;o<n.length;o++){for(p=f=n[o],a=0;a<e.length;a++)d=e[a],f=f.replace(d,rV[d]);d=parseInt(oV[p],16),t[f]=[d>>16&255,d>>8&255,255&d]}return t}(),eE.transparent=[0,0,0,0]);const n=eE[t.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:4===n.length?n[3]:255}}(n)||pX(n)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var n=sV(this._rgb);return n&&(n.a=bA(n.a)),n}set rgb(n){this._rgb=aV(n)}rgbString(){return this._valid?function tX(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${bA(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}(this._rgb):this._rgb}hexString(){return this._valid?function ZQ(t){var n=function QQ(t){return Zb(t.r)&&Zb(t.g)&&Zb(t.b)&&Zb(t.a)}(t)?qQ:YQ;return t&&"#"+n(t.r)+n(t.g)+n(t.b)+(t.a<255?n(t.a):"")}(this._rgb):this._rgb}hslString(){return this._valid?function uX(t){if(!t)return;const n=EA(t),e=n[0],o=tV(n[1]),a=tV(n[2]);return t.a<255?`hsla(${e}, ${o}%, ${a}%, ${bA(t.a)})`:`hsl(${e}, ${o}%, ${a}%)`}(this._rgb):this._rgb}mix(n,e){const o=this;if(n){const a=o.rgb,d=n.rgb;let p;const f=e===p?.5:e,m=2*f-1,v=a.a-d.a,y=((m*v==-1?m:(m+v)/(1+m*v))+1)/2;p=1-y,a.r=255&y*a.r+p*d.r+.5,a.g=255&y*a.g+p*d.g+.5,a.b=255&y*a.b+p*d.b+.5,a.a=f*a.a+(1-f)*d.a,o.rgb=a}return o}clone(){return new nE(this.rgb)}alpha(n){return this._rgb.a=Ev(n),this}clearer(n){return this._rgb.a*=1-n,this}greyscale(){const n=this._rgb,e=wv(.3*n.r+.59*n.g+.11*n.b);return n.r=n.g=n.b=e,this}opaquer(n){return this._rgb.a*=1+n,this}negate(){const n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return tE(this._rgb,2,n),this}darken(n){return tE(this._rgb,2,-n),this}saturate(n){return tE(this._rgb,1,n),this}desaturate(n){return tE(this._rgb,1,-n),this}rotate(n){return function lX(t,n){var e=EA(t);e[0]=iV(e[0]+n),e=DA(e),t.r=e[0],t.g=e[1],t.b=e[2]}(this._rgb,n),this}}function lV(t){return new nE(t)}const uV=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function cV(t){return uV(t)?t:lV(t)}function RA(t){return uV(t)?t:lV(t).saturate(.5).darken(.1).hexString()}const sd=Object.create(null),OA=Object.create(null);function Sv(t,n){if(!n)return t;const e=n.split(".");for(let o=0,a=e.length;o<a;++o){const d=e[o];t=t[d]||(t[d]=Object.create(null))}return t}function TA(t,n,e){return"string"==typeof n?fv(Sv(t,n),e):fv(Sv(t,""),n)}var bt=new class hX{constructor(n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,o)=>RA(o.backgroundColor),this.hoverBorderColor=(e,o)=>RA(o.borderColor),this.hoverColor=(e,o)=>RA(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n)}set(n,e){return TA(this,n,e)}get(n){return Sv(this,n)}describe(n,e){return TA(OA,n,e)}override(n,e){return TA(sd,n,e)}route(n,e,o,a){const d=Sv(this,n),p=Sv(this,o),f="_"+e;Object.defineProperties(d,{[f]:{value:d[e],writable:!0},[e]:{enumerable:!0,get(){const m=this[f],v=p[a];return Dt(m)?Object.assign({},v,m):dt(m,v)},set(m){this[f]=m}}})}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function iE(t,n,e,o,a){let d=n[a];return d||(d=n[a]=t.measureText(a).width,e.push(a)),d>o&&(o=d),o}function gX(t,n,e,o){let a=(o=o||{}).data=o.data||{},d=o.garbageCollect=o.garbageCollect||[];o.font!==n&&(a=o.data={},d=o.garbageCollect=[],o.font=n),t.save(),t.font=n;let p=0;const f=e.length;let m,v,y,C,b;for(m=0;m<f;m++)if(C=e[m],null!=C&&!0!==sn(C))p=iE(t,a,d,p,C);else if(sn(C))for(v=0,y=C.length;v<y;v++)b=C[v],null!=b&&!sn(b)&&(p=iE(t,a,d,p,b));t.restore();const S=d.length/2;if(S>e.length){for(m=0;m<S;m++)delete a[d[m]];d.splice(0,S)}return p}function ad(t,n,e){const o=t.currentDevicePixelRatio,a=0!==e?Math.max(e/2,.5):0;return Math.round((n-a)*o)/o+a}function dV(t,n){(n=n||t.getContext("2d")).save(),n.resetTransform(),n.clearRect(0,0,t.width,t.height),n.restore()}function rE(t,n,e,o){let a,d,p,f,m;const v=n.pointStyle,y=n.rotation,C=n.radius;let b=(y||0)*jQ;if(v&&"object"==typeof v&&(a=v.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return t.save(),t.translate(e,o),t.rotate(b),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),void t.restore();if(!(isNaN(C)||C<=0)){switch(t.beginPath(),v){default:t.arc(e,o,C,0,en),t.closePath();break;case"triangle":t.moveTo(e+Math.sin(b)*C,o-Math.cos(b)*C),b+=qk,t.lineTo(e+Math.sin(b)*C,o-Math.cos(b)*C),b+=qk,t.lineTo(e+Math.sin(b)*C,o-Math.cos(b)*C),t.closePath();break;case"rectRounded":m=.516*C,f=C-m,d=Math.cos(b+mv)*f,p=Math.sin(b+mv)*f,t.arc(e-d,o-p,m,b-En,b-xn),t.arc(e+p,o-d,m,b-xn,b),t.arc(e+d,o+p,m,b,b+xn),t.arc(e-p,o+d,m,b+xn,b+En),t.closePath();break;case"rect":if(!y){f=Math.SQRT1_2*C,t.rect(e-f,o-f,2*f,2*f);break}b+=mv;case"rectRot":d=Math.cos(b)*C,p=Math.sin(b)*C,t.moveTo(e-d,o-p),t.lineTo(e+p,o-d),t.lineTo(e+d,o+p),t.lineTo(e-p,o+d),t.closePath();break;case"crossRot":b+=mv;case"cross":d=Math.cos(b)*C,p=Math.sin(b)*C,t.moveTo(e-d,o-p),t.lineTo(e+d,o+p),t.moveTo(e+p,o-d),t.lineTo(e-p,o+d);break;case"star":d=Math.cos(b)*C,p=Math.sin(b)*C,t.moveTo(e-d,o-p),t.lineTo(e+d,o+p),t.moveTo(e+p,o-d),t.lineTo(e-p,o+d),b+=mv,d=Math.cos(b)*C,p=Math.sin(b)*C,t.moveTo(e-d,o-p),t.lineTo(e+d,o+p),t.moveTo(e+p,o-d),t.lineTo(e-p,o+d);break;case"line":d=Math.cos(b)*C,p=Math.sin(b)*C,t.moveTo(e-d,o-p),t.lineTo(e+d,o+p);break;case"dash":t.moveTo(e,o),t.lineTo(e+Math.cos(b)*C,o+Math.sin(b)*C)}t.fill(),n.borderWidth>0&&t.stroke()}}function ld(t,n,e){return e=e||.5,!n||t&&t.x>n.left-e&&t.x<n.right+e&&t.y>n.top-e&&t.y<n.bottom+e}function oE(t,n){t.save(),t.beginPath(),t.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),t.clip()}function sE(t){t.restore()}function mX(t,n,e,o,a){if(!n)return t.lineTo(e.x,e.y);if("middle"===a){const d=(n.x+e.x)/2;t.lineTo(d,n.y),t.lineTo(d,e.y)}else"after"===a!=!!o?t.lineTo(n.x,e.y):t.lineTo(e.x,n.y);t.lineTo(e.x,e.y)}function vX(t,n,e,o){if(!n)return t.lineTo(e.x,e.y);t.bezierCurveTo(o?n.cp1x:n.cp2x,o?n.cp1y:n.cp2y,o?e.cp2x:e.cp1x,o?e.cp2y:e.cp1y,e.x,e.y)}function ud(t,n,e,o,a,d={}){const p=sn(n)?n:[n],f=d.strokeWidth>0&&""!==d.strokeColor;let m,v;for(t.save(),t.font=a.string,function yX(t,n){n.translation&&t.translate(n.translation[0],n.translation[1]),Ft(n.rotation)||t.rotate(n.rotation),n.color&&(t.fillStyle=n.color),n.textAlign&&(t.textAlign=n.textAlign),n.textBaseline&&(t.textBaseline=n.textBaseline)}(t,d),m=0;m<p.length;++m)v=p[m],f&&(d.strokeColor&&(t.strokeStyle=d.strokeColor),Ft(d.strokeWidth)||(t.lineWidth=d.strokeWidth),t.strokeText(v,e,o,d.maxWidth)),t.fillText(v,e,o,d.maxWidth),_X(t,e,o,v,d),o+=a.lineHeight;t.restore()}function _X(t,n,e,o,a){if(a.strikethrough||a.underline){const d=t.measureText(o),p=n-d.actualBoundingBoxLeft,f=n+d.actualBoundingBoxRight,m=e-d.actualBoundingBoxAscent,v=e+d.actualBoundingBoxDescent,y=a.strikethrough?(m+v)/2:v;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(p,y),t.lineTo(f,y),t.stroke()}}function aE(t,n){const{x:e,y:o,w:a,h:d,radius:p}=n;t.arc(e+p.topLeft,o+p.topLeft,p.topLeft,-xn,En,!0),t.lineTo(e,o+d-p.bottomLeft),t.arc(e+p.bottomLeft,o+d-p.bottomLeft,p.bottomLeft,En,xn,!0),t.lineTo(e+a-p.bottomRight,o+d),t.arc(e+a-p.bottomRight,o+d-p.bottomRight,p.bottomRight,xn,0,!0),t.lineTo(e+a,o+p.topRight),t.arc(e+a-p.topRight,o+p.topRight,p.topRight,0,-xn,!0),t.lineTo(e+p.topLeft,o)}const CX=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),wX=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function bX(t,n){const e=(""+t).match(CX);if(!e||"normal"===e[1])return 1.2*n;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100}return n*t}const EX=t=>+t||0;function AA(t,n){const e={},o=Dt(n),a=o?Object.keys(n):n,d=Dt(t)?o?p=>dt(t[p],t[n[p]]):p=>t[p]:()=>t;for(const p of a)e[p]=EX(d(p));return e}function pV(t){return AA(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ih(t){return AA(t,["topLeft","topRight","bottomLeft","bottomRight"])}function tr(t){const n=pV(t);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function fi(t,n){let e=dt((t=t||{}).size,(n=n||bt.font).size);"string"==typeof e&&(e=parseInt(e,10));let o=dt(t.style,n.style);o&&!(""+o).match(wX)&&(console.warn('Invalid font style specified: "'+o+'"'),o="");const a={family:dt(t.family,n.family),lineHeight:bX(dt(t.lineHeight,n.lineHeight),e),size:e,style:o,weight:dt(t.weight,n.weight),string:""};return a.string=function fX(t){return!t||Ft(t.size)||Ft(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(a),a}function Dv(t,n,e,o){let d,p,f,a=!0;for(d=0,p=t.length;d<p;++d)if(f=t[d],void 0!==f&&(void 0!==n&&"function"==typeof f&&(f=f(n),a=!1),void 0!==e&&sn(f)&&(f=f[e%f.length],a=!1),void 0!==f))return o&&!a&&(o.cacheable=!1),f}function _u(t,n){return Object.assign(Object.create(t),n)}function PA(t,n,e){e=e||(p=>t[p]<n);let d,o=t.length-1,a=0;for(;o-a>1;)d=a+o>>1,e(d)?a=d:o=d;return{lo:a,hi:o}}const Ya=(t,n,e)=>PA(t,e,o=>t[o][n]<e),DX=(t,n,e)=>PA(t,e,o=>t[o][n]>=e),hV=["push","pop","shift","splice","unshift"];function fV(t,n){const e=t._chartjs;if(!e)return;const o=e.listeners,a=o.indexOf(n);-1!==a&&o.splice(a,1),!(o.length>0)&&(hV.forEach(d=>{delete t[d]}),delete t._chartjs)}function gV(t){const n=new Set;let e,o;for(e=0,o=t.length;e<o;++e)n.add(t[e]);return n.size===o?t:Array.from(n)}function NA(t,n=[""],e=t,o,a=(()=>t[0])){Bo(o)||(o=CV("_fallback",t));const d={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:e,_fallback:o,_getTarget:a,override:p=>NA([p,...t],n,e,o)};return new Proxy(d,{deleteProperty:(p,f)=>(delete p[f],delete p._keys,delete t[0][f],!0),get:(p,f)=>vV(p,f,()=>function FX(t,n,e,o){let a;for(const d of n)if(a=CV(TX(d,t),e),Bo(a))return MA(t,a)?IA(e,o,t,a):a}(f,n,t,p)),getOwnPropertyDescriptor:(p,f)=>Reflect.getOwnPropertyDescriptor(p._scopes[0],f),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(p,f)=>wV(p).includes(f),ownKeys:p=>wV(p),set(p,f,m){const v=p._storage||(p._storage=a());return p[f]=v[f]=m,delete p._keys,!0}})}function xh(t,n,e,o){const a={_cacheable:!1,_proxy:t,_context:n,_subProxy:e,_stack:new Set,_descriptors:mV(t,o),setContext:d=>xh(t,d,e,o),override:d=>xh(t.override(d),n,e,o)};return new Proxy(a,{deleteProperty:(d,p)=>(delete d[p],delete t[p],!0),get:(d,p,f)=>vV(d,p,()=>function AX(t,n,e){const{_proxy:o,_context:a,_subProxy:d,_descriptors:p}=t;let f=o[n];return yu(f)&&p.isScriptable(n)&&(f=function PX(t,n,e,o){const{_proxy:a,_context:d,_subProxy:p,_stack:f}=e;if(f.has(t))throw new Error("Recursion detected: "+Array.from(f).join("->")+"->"+t);return f.add(t),n=n(d,p||o),f.delete(t),MA(t,n)&&(n=IA(a._scopes,a,t,n)),n}(n,f,t,e)),sn(f)&&f.length&&(f=function NX(t,n,e,o){const{_proxy:a,_context:d,_subProxy:p,_descriptors:f}=e;if(Bo(d.index)&&o(t))n=n[d.index%n.length];else if(Dt(n[0])){const m=n,v=a._scopes.filter(y=>y!==m);n=[];for(const y of m){const C=IA(v,a,t,y);n.push(xh(C,d,p&&p[t],f))}}return n}(n,f,t,p.isIndexable)),MA(n,f)&&(f=xh(f,a,d&&d[n],p)),f}(d,p,f)),getOwnPropertyDescriptor:(d,p)=>d._descriptors.allKeys?Reflect.has(t,p)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,p),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(d,p)=>Reflect.has(t,p),ownKeys:()=>Reflect.ownKeys(t),set:(d,p,f)=>(t[p]=f,delete d[p],!0)})}function mV(t,n={scriptable:!0,indexable:!0}){const{_scriptable:e=n.scriptable,_indexable:o=n.indexable,_allKeys:a=n.allKeys}=t;return{allKeys:a,scriptable:e,indexable:o,isScriptable:yu(e)?e:()=>e,isIndexable:yu(o)?o:()=>o}}const TX=(t,n)=>t?t+yA(n):n,MA=(t,n)=>Dt(n)&&"adapters"!==t&&(null===Object.getPrototypeOf(n)||n.constructor===Object);function vV(t,n,e){if(Object.prototype.hasOwnProperty.call(t,n))return t[n];const o=e();return t[n]=o,o}function yV(t,n,e){return yu(t)?t(n,e):t}const MX=(t,n)=>!0===t?n:"string"==typeof t?od(n,t):void 0;function IX(t,n,e,o,a){for(const d of n){const p=MX(e,d);if(p){t.add(p);const f=yV(p._fallback,e,a);if(Bo(f)&&f!==e&&f!==o)return f}else if(!1===p&&Bo(o)&&e!==o)return null}return!1}function IA(t,n,e,o){const a=n._rootScopes,d=yV(n._fallback,e,o),p=[...t,...a],f=new Set;f.add(o);let m=_V(f,p,e,d||e,o);return!(null===m||Bo(d)&&d!==e&&(m=_V(f,p,d,m,o),null===m))&&NA(Array.from(f),[""],a,d,()=>function xX(t,n,e){const o=t._getTarget();n in o||(o[n]={});const a=o[n];return sn(a)&&Dt(e)?e:a}(n,e,o))}function _V(t,n,e,o,a){for(;e;)e=IX(t,n,e,o,a);return e}function CV(t,n){for(const e of n){if(!e)continue;const o=e[t];if(Bo(o))return o}}function wV(t){let n=t._keys;return n||(n=t._keys=function LX(t){const n=new Set;for(const e of t)for(const o of Object.keys(e).filter(a=>!a.startsWith("_")))n.add(o);return Array.from(n)}(t._scopes)),n}const GX=Number.EPSILON||1e-14,Fh=(t,n)=>n<t.length&&!t[n].skip&&t[n],bV=t=>"x"===t?"y":"x";function kX(t,n,e,o){const a=t.skip?n:t,d=n,p=e.skip?n:e,f=CA(d,a),m=CA(p,d);let v=f/(f+m),y=m/(f+m);v=isNaN(v)?0:v,y=isNaN(y)?0:y;const C=o*v,b=o*y;return{previous:{x:d.x-C*(p.x-a.x),y:d.y-C*(p.y-a.y)},next:{x:d.x+b*(p.x-a.x),y:d.y+b*(p.y-a.y)}}}function lE(t,n,e){return Math.max(Math.min(t,e),n)}function jX(t,n,e,o,a){let d,p,f,m;if(n.spanGaps&&(t=t.filter(v=>!v.skip)),"monotone"===n.cubicInterpolationMode)!function BX(t,n="x"){const e=bV(n),o=t.length,a=Array(o).fill(0),d=Array(o);let p,f,m,v=Fh(t,0);for(p=0;p<o;++p)if(f=m,m=v,v=Fh(t,p+1),m){if(v){const y=v[n]-m[n];a[p]=0!==y?(v[e]-m[e])/y:0}d[p]=f?v?na(a[p-1])!==na(a[p])?0:(a[p-1]+a[p])/2:a[p-1]:a[p]}(function VX(t,n,e){const o=t.length;let a,d,p,f,m,v=Fh(t,0);for(let y=0;y<o-1;++y)if(m=v,v=Fh(t,y+1),m&&v){if(yv(n[y],0,GX)){e[y]=e[y+1]=0;continue}a=e[y]/n[y],d=e[y+1]/n[y],f=Math.pow(a,2)+Math.pow(d,2),!(f<=9)&&(p=3/Math.sqrt(f),e[y]=a*p*n[y],e[y+1]=d*p*n[y])}})(t,a,d),function HX(t,n,e="x"){const o=bV(e),a=t.length;let d,p,f,m=Fh(t,0);for(let v=0;v<a;++v){if(p=f,f=m,m=Fh(t,v+1),!f)continue;const y=f[e],C=f[o];p&&(d=(y-p[e])/3,f[`cp1${e}`]=y-d,f[`cp1${o}`]=C-d*n[v]),m&&(d=(m[e]-y)/3,f[`cp2${e}`]=y+d,f[`cp2${o}`]=C+d*n[v])}}(t,d,n)}(t,a);else{let v=o?t[t.length-1]:t[0];for(d=0,p=t.length;d<p;++d)f=t[d],m=kX(v,f,t[Math.min(d+1,p-(o?0:1))%p],n.tension),f.cp1x=m.previous.x,f.cp1y=m.previous.y,f.cp2x=m.next.x,f.cp2y=m.next.y,v=f}n.capBezierPoints&&function WX(t,n){let e,o,a,d,p,f=ld(t[0],n);for(e=0,o=t.length;e<o;++e)p=d,d=f,f=e<o-1&&ld(t[e+1],n),d&&(a=t[e],p&&(a.cp1x=lE(a.cp1x,n.left,n.right),a.cp1y=lE(a.cp1y,n.top,n.bottom)),f&&(a.cp2x=lE(a.cp2x,n.left,n.right),a.cp2y=lE(a.cp2y,n.top,n.bottom)))}(t,e)}function EV(){return"undefined"!=typeof window&&"undefined"!=typeof document}function xA(t){let n=t.parentNode;return n&&"[object ShadowRoot]"===n.toString()&&(n=n.host),n}function uE(t,n,e){let o;return"string"==typeof t?(o=parseInt(t,10),-1!==t.indexOf("%")&&(o=o/100*n.parentNode[e])):o=t,o}const cE=t=>window.getComputedStyle(t,null),zX=["top","right","bottom","left"];function cd(t,n,e){const o={};e=e?"-"+e:"";for(let a=0;a<4;a++){const d=zX[a];o[d]=parseFloat(t[n+"-"+d+e])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function SV(t,n){const{canvas:e,currentDevicePixelRatio:o}=n,a=cE(e),d="border-box"===a.boxSizing,p=cd(a,"padding"),f=cd(a,"border","width"),{x:m,y:v,box:y}=function KX(t,n){const e=t.native||t,o=e.touches,a=o&&o.length?o[0]:e,{offsetX:d,offsetY:p}=a;let m,v,f=!1;if(((t,n,e)=>(t>0||n>0)&&(!e||!e.shadowRoot))(d,p,e.target))m=d,v=p;else{const y=n.getBoundingClientRect();m=a.clientX-y.left,v=a.clientY-y.top,f=!0}return{x:m,y:v,box:f}}(t,e),C=p.left+(y&&f.left),b=p.top+(y&&f.top);let{width:S,height:R}=n;return d&&(S-=p.width+f.width,R-=p.height+f.height),{x:Math.round((m-C)/S*e.width/o),y:Math.round((v-b)/R*e.height/o)}}const FA=t=>Math.round(10*t)/10;function DV(t,n,e){const o=n||1,a=Math.floor(t.height*o),d=Math.floor(t.width*o);t.height=a/o,t.width=d/o;const p=t.canvas;return p.style&&(e||!p.style.height&&!p.style.width)&&(p.style.height=`${t.height}px`,p.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==o||p.height!==a||p.width!==d)&&(t.currentDevicePixelRatio=o,p.height=a,p.width=d,t.ctx.setTransform(o,0,0,o,0,0),!0)}const QX=function(){let t=!1;try{const n={get passive(){return t=!0,!1}};window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch(n){}return t}();function RV(t,n){const e=function UX(t,n){return cE(t).getPropertyValue(n)}(t,n),o=e&&e.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function dd(t,n,e,o){return{x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)}}function XX(t,n,e,o){return{x:t.x+e*(n.x-t.x),y:"middle"===o?e<.5?t.y:n.y:"after"===o?e<1?t.y:n.y:e>0?n.y:t.y}}function ZX(t,n,e,o){const a={x:t.cp2x,y:t.cp2y},d={x:n.cp1x,y:n.cp1y},p=dd(t,a,e),f=dd(a,d,e),m=dd(d,n,e),v=dd(p,f,e),y=dd(f,m,e);return dd(v,y,e)}const OV=new Map;function Rv(t,n,e){return function JX(t,n){n=n||{};const e=t+JSON.stringify(n);let o=OV.get(e);return o||(o=new Intl.NumberFormat(t,n),OV.set(e,o)),o}(n,e).format(t)}function Lh(t,n,e){return t?function(t,n){return{x:e=>t+t+n-e,setWidth(e){n=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,o)=>e-o,leftForLtr:(e,o)=>e-o}}(n,e):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,n)=>t+n,leftForLtr:(t,n)=>t}}function TV(t,n){let e,o;("ltr"===n||"rtl"===n)&&(e=t.canvas.style,o=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",n,"important"),t.prevTextDirection=o)}function AV(t,n){void 0!==n&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",n[0],n[1]))}function PV(t){return"angle"===t?{between:_v,compare:$Q,normalize:yo}:{between:qa,compare:(n,e)=>n-e,normalize:n=>n}}function NV({start:t,end:n,count:e,loop:o,style:a}){return{start:t%e,end:n%e,loop:o&&(n-t+1)%e==0,style:a}}function MV(t,n,e){if(!e)return[t];const{property:o,start:a,end:d}=e,p=n.length,{compare:f,between:m,normalize:v}=PV(o),{start:y,end:C,loop:b,style:S}=function nZ(t,n,e){const{property:o,start:a,end:d}=e,{between:p,normalize:f}=PV(o),m=n.length;let b,S,{start:v,end:y,loop:C}=t;if(C){for(v+=m,y+=m,b=0,S=m;b<S&&p(f(n[v%m][o]),a,d);++b)v--,y--;v%=m,y%=m}return y<v&&(y+=m),{start:v,end:y,loop:C,style:t.style}}(t,n,e),R=[];let F,k,z,A=!1,I=null;for(let he=y,ye=y;he<=C;++he)k=n[he%p],!k.skip&&(F=v(k[o]),F!==z&&(A=m(F,a,d),null===I&&(A||m(a,z,F)&&0!==f(a,z))&&(I=0===f(F,a)?he:ye),null!==I&&(!A||0===f(d,F)||m(d,z,F))&&(R.push(NV({start:I,end:he,loop:b,count:p,style:S})),I=null),ye=he,z=F));return null!==I&&R.push(NV({start:I,end:C,loop:b,count:p,style:S})),R}function IV(t,n){const e=[],o=t.segments;for(let a=0;a<o.length;a++){const d=MV(o[a],t.points,n);d.length&&e.push(...d)}return e}function FV(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function aZ(t,n){return n&&JSON.stringify(t)!==JSON.stringify(n)}var Qa=new class lZ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,e,o,a){const p=e.duration;e.listeners[a].forEach(f=>f({chart:n,initial:e.initial,numSteps:p,currentStep:Math.min(o-e.start,p)}))}_refresh(){this._request||(this._running=!0,this._request=Wk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let e=0;this._charts.forEach((o,a)=>{if(!o.running||!o.items.length)return;const d=o.items;let m,p=d.length-1,f=!1;for(;p>=0;--p)m=d[p],m._active?(m._total>o.duration&&(o.duration=m._total),m.tick(n),f=!0):(d[p]=d[d.length-1],d.pop());f&&(a.draw(),this._notify(a,o,n,"progress")),d.length||(o.running=!1,this._notify(a,o,n,"complete"),o.initial=!1),e+=d.length}),this._lastDate=n,0===e&&(this._running=!1)}_getAnims(n){const e=this._charts;let o=e.get(n);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(n,o)),o}listen(n,e,o){this._getAnims(n).listeners[e].push(o)}add(n,e){!e||!e.length||this._getAnims(n).items.push(...e)}has(n){return this._getAnims(n).items.length>0}start(n){const e=this._charts.get(n);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((o,a)=>Math.max(o,a._duration),0),this._refresh())}running(n){if(!this._running)return!1;const e=this._charts.get(n);return!(!e||!e.running||!e.items.length)}stop(n){const e=this._charts.get(n);if(!e||!e.items.length)return;const o=e.items;let a=o.length-1;for(;a>=0;--a)o[a].cancel();e.items=[],this._notify(n,e,Date.now(),"complete")}remove(n){return this._charts.delete(n)}};const LV="transparent",uZ={boolean:(t,n,e)=>e>.5?n:t,color(t,n,e){const o=cV(t||LV),a=o.valid&&cV(n||LV);return a&&a.valid?a.mix(o,e).hexString():n},number:(t,n,e)=>t+(n-t)*e};class cZ{constructor(n,e,o,a){const d=e[o];a=Dv([n.to,a,d,n.from]);const p=Dv([n.from,d,a]);this._active=!0,this._fn=n.fn||uZ[n.type||typeof p],this._easing=Cv[n.easing]||Cv.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=e,this._prop=o,this._from=p,this._to=a,this._promises=void 0}active(){return this._active}update(n,e,o){if(this._active){this._notify(!1);const a=this._target[this._prop],d=o-this._start,p=this._duration-d;this._start=o,this._duration=Math.floor(Math.max(p,n.duration)),this._total+=d,this._loop=!!n.loop,this._to=Dv([n.to,e,a,n.from]),this._from=Dv([n.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){const e=n-this._start,o=this._duration,a=this._prop,d=this._from,p=this._loop,f=this._to;let m;if(this._active=d!==f&&(p||e<o),!this._active)return this._target[a]=f,void this._notify(!0);e<0?this._target[a]=d:(m=e/o%2,m=p&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[a]=this._fn(d,f,m))}wait(){const n=this._promises||(this._promises=[]);return new Promise((e,o)=>{n.push({res:e,rej:o})})}_notify(n){const e=n?"res":"rej",o=this._promises||[];for(let a=0;a<o.length;a++)o[a][e]()}}bt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const hZ=Object.keys(bt.animation);bt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),bt.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),bt.describe("animations",{_fallback:"animation"}),bt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class GV{constructor(n,e){this._chart=n,this._properties=new Map,this.configure(e)}configure(n){if(!Dt(n))return;const e=this._properties;Object.getOwnPropertyNames(n).forEach(o=>{const a=n[o];if(!Dt(a))return;const d={};for(const p of hZ)d[p]=a[p];(sn(a.properties)&&a.properties||[o]).forEach(p=>{(p===o||!e.has(p))&&e.set(p,d)})})}_animateOptions(n,e){const o=e.options,a=function gZ(t,n){if(!n)return;let e=t.options;if(e)return e.$shared&&(t.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;t.options=n}(n,o);if(!a)return[];const d=this._createAnimations(a,o);return o.$shared&&function fZ(t,n){const e=[],o=Object.keys(n);for(let a=0;a<o.length;a++){const d=t[o[a]];d&&d.active()&&e.push(d.wait())}return Promise.all(e)}(n.options.$animations,o).then(()=>{n.options=o},()=>{}),d}_createAnimations(n,e){const o=this._properties,a=[],d=n.$animations||(n.$animations={}),p=Object.keys(e),f=Date.now();let m;for(m=p.length-1;m>=0;--m){const v=p[m];if("$"===v.charAt(0))continue;if("options"===v){a.push(...this._animateOptions(n,e));continue}const y=e[v];let C=d[v];const b=o.get(v);if(C){if(b&&C.active()){C.update(b,y,f);continue}C.cancel()}b&&b.duration?(d[v]=C=new cZ(b,n,v,y),a.push(C)):n[v]=y}return a}update(n,e){if(0===this._properties.size)return void Object.assign(n,e);const o=this._createAnimations(n,e);return o.length?(Qa.add(this._chart,o),!0):void 0}}function kV(t,n){const e=t&&t.options||{},o=e.reverse,a=void 0===e.min?n:0,d=void 0===e.max?n:0;return{start:o?d:a,end:o?a:d}}function VV(t,n){const e=[],o=t._getSortedDatasetMetas(n);let a,d;for(a=0,d=o.length;a<d;++a)e.push(o[a].index);return e}function HV(t,n,e,o={}){const a=t.keys,d="single"===o.mode;let p,f,m,v;if(null!==n){for(p=0,f=a.length;p<f;++p){if(m=+a[p],m===e){if(o.all)continue;break}v=t.values[m],Vn(v)&&(d||0===n||na(n)===na(v))&&(n+=v)}return n}}function BV(t,n){const e=t&&t.options.stacked;return e||void 0===e&&void 0!==n.stack}function wZ(t,n,e){const o=t[n]||(t[n]={});return o[e]||(o[e]={})}function WV(t,n,e,o){for(const a of n.getMatchingVisibleMetas(o).reverse()){const d=t[a.index];if(e&&d>0||!e&&d<0)return a.index}return null}function jV(t,n){const{chart:e,_cachedMeta:o}=t,a=e._stacks||(e._stacks={}),{iScale:d,vScale:p,index:f}=o,m=d.axis,v=p.axis,y=function _Z(t,n,e){return`${t.id}.${n.id}.${e.stack||e.type}`}(d,p,o),C=n.length;let b;for(let S=0;S<C;++S){const R=n[S],{[m]:A,[v]:I}=R;b=(R._stacks||(R._stacks={}))[v]=wZ(a,y,A),b[f]=I,b._top=WV(b,p,!0,o.type),b._bottom=WV(b,p,!1,o.type)}}function LA(t,n){const e=t.scales;return Object.keys(e).filter(o=>e[o].axis===n).shift()}function Ov(t,n){const e=t.controller.index,o=t.vScale&&t.vScale.axis;if(o){n=n||t._parsed;for(const a of n){const d=a._stacks;if(!d||void 0===d[o]||void 0===d[o][e])return;delete d[o][e]}}}const GA=t=>"reset"===t||"none"===t,UV=(t,n)=>n?t:Object.assign({},t);let Xa=(()=>{class t{constructor(e,o){this.chart=e,this._ctx=e.ctx,this.index=o,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=BV(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Ov(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,o=this._cachedMeta,a=this.getDataset(),d=(b,S,R,A)=>"x"===b?S:"r"===b?A:R,p=o.xAxisID=dt(a.xAxisID,LA(e,"x")),f=o.yAxisID=dt(a.yAxisID,LA(e,"y")),m=o.rAxisID=dt(a.rAxisID,LA(e,"r")),v=o.indexAxis,y=o.iAxisID=d(v,p,f,m),C=o.vAxisID=d(v,f,p,m);o.xScale=this.getScaleForId(p),o.yScale=this.getScaleForId(f),o.rScale=this.getScaleForId(m),o.iScale=this.getScaleForId(y),o.vScale=this.getScaleForId(C)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const o=this._cachedMeta;return e===o.iScale?o.vScale:o.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&fV(this._data,this),e._stacked&&Ov(e)}_dataCheck(){const e=this.getDataset(),o=e.data||(e.data=[]),a=this._data;if(Dt(o))this._data=function yZ(t){const n=Object.keys(t),e=new Array(n.length);let o,a,d;for(o=0,a=n.length;o<a;++o)d=n[o],e[o]={x:d,y:t[d]};return e}(o);else if(a!==o){if(a){fV(a,this);const d=this._cachedMeta;Ov(d),d._parsed=[]}o&&Object.isExtensible(o)&&function OX(t,n){t._chartjs?t._chartjs.listeners.push(n):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),hV.forEach(e=>{const o="_onData"+yA(e),a=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...d){const p=a.apply(this,d);return t._chartjs.listeners.forEach(f=>{"function"==typeof f[o]&&f[o](...d)}),p}})}))}(o,this),this._syncList=[],this._data=o}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const o=this._cachedMeta,a=this.getDataset();let d=!1;this._dataCheck();const p=o._stacked;o._stacked=BV(o.vScale,o),o.stack!==a.stack&&(d=!0,Ov(o),o.stack=a.stack),this._resyncElements(e),(d||p!==o._stacked)&&jV(this,o._parsed)}configure(){const e=this.chart.config,o=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),o,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,o){const{_cachedMeta:a,_data:d}=this,{iScale:p,_stacked:f}=a,m=p.axis;let C,b,S,v=0===e&&o===d.length||a._sorted,y=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=d,a._sorted=!0,S=d;else{S=sn(d[e])?this.parseArrayData(a,d,e,o):Dt(d[e])?this.parseObjectData(a,d,e,o):this.parsePrimitiveData(a,d,e,o);const R=()=>null===b[m]||y&&b[m]<y[m];for(C=0;C<o;++C)a._parsed[C+e]=b=S[C],v&&(R()&&(v=!1),y=b);a._sorted=v}f&&jV(this,S)}parsePrimitiveData(e,o,a,d){const{iScale:p,vScale:f}=e,m=p.axis,v=f.axis,y=p.getLabels(),C=p===f,b=new Array(d);let S,R,A;for(S=0,R=d;S<R;++S)A=S+a,b[S]={[m]:C||p.parse(y[A],A),[v]:f.parse(o[A],A)};return b}parseArrayData(e,o,a,d){const{xScale:p,yScale:f}=e,m=new Array(d);let v,y,C,b;for(v=0,y=d;v<y;++v)C=v+a,b=o[C],m[v]={x:p.parse(b[0],C),y:f.parse(b[1],C)};return m}parseObjectData(e,o,a,d){const{xScale:p,yScale:f}=e,{xAxisKey:m="x",yAxisKey:v="y"}=this._parsing,y=new Array(d);let C,b,S,R;for(C=0,b=d;C<b;++C)S=C+a,R=o[S],y[C]={x:p.parse(od(R,m),S),y:f.parse(od(R,v),S)};return y}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,o,a){const p=this._cachedMeta,f=o[e.axis];return HV({keys:VV(this.chart,!0),values:o._stacks[e.axis]},f,p.index,{mode:a})}updateRangeFromParsed(e,o,a,d){const p=a[o.axis];let f=null===p?NaN:p;const m=d&&a._stacks[o.axis];d&&m&&(d.values=m,f=HV(d,p,this._cachedMeta.index)),e.min=Math.min(e.min,f),e.max=Math.max(e.max,f)}getMinMax(e,o){const a=this._cachedMeta,d=a._parsed,p=a._sorted&&e===a.iScale,f=d.length,m=this._getOtherScale(e),v=((t,n,e)=>t&&!n.hidden&&n._stacked&&{keys:VV(this.chart,!0),values:null})(o,a),y={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:C,max:b}=function CZ(t){const{min:n,max:e,minDefined:o,maxDefined:a}=t.getUserBounds();return{min:o?n:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}(m);let S,R;function A(){R=d[S];const I=R[m.axis];return!Vn(R[e.axis])||C>I||b<I}for(S=0;S<f&&(A()||(this.updateRangeFromParsed(y,e,R,v),!p));++S);if(p)for(S=f-1;S>=0;--S)if(!A()){this.updateRangeFromParsed(y,e,R,v);break}return y}getAllParsedValues(e){const o=this._cachedMeta._parsed,a=[];let d,p,f;for(d=0,p=o.length;d<p;++d)f=o[d][e.axis],Vn(f)&&a.push(f);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const o=this._cachedMeta,a=o.iScale,d=o.vScale,p=this.getParsed(e);return{label:a?""+a.getLabelForValue(p[a.axis]):"",value:d?""+d.getLabelForValue(p[d.axis]):""}}_update(e){const o=this._cachedMeta;this.update(e||"default"),o._clip=function vZ(t){let n,e,o,a;return Dt(t)?(n=t.top,e=t.right,o=t.bottom,a=t.left):n=e=o=a=t,{top:n,right:e,bottom:o,left:a,disabled:!1===t}}(dt(this.options.clip,function mZ(t,n,e){if(!1===e)return!1;const o=kV(t,e),a=kV(n,e);return{top:a.end,right:o.end,bottom:a.start,left:o.start}}(o.xScale,o.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,a=this._cachedMeta,d=a.data||[],p=this.chart.chartArea,f=[],m=this._drawStart||0,v=this._drawCount||d.length-m,y=this.options.drawActiveElementsOnTop;let C;for(a.dataset&&a.dataset.draw(e,p,m,v),C=m;C<m+v;++C){const b=d[C];b.hidden||(b.active&&y?f.push(b):b.draw(e,p))}for(C=0;C<f.length;++C)f[C].draw(e,p)}getStyle(e,o){const a=o?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,o,a){const d=this.getDataset();let p;if(e>=0&&e<this._cachedMeta.data.length){const f=this._cachedMeta.data[e];p=f.$context||(f.$context=function EZ(t,n,e){return _u(t,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:e,index:n,mode:"default",type:"data"})}(this.getContext(),e,f)),p.parsed=this.getParsed(e),p.raw=d.data[e],p.index=p.dataIndex=e}else p=this.$context||(this.$context=function bZ(t,n){return _u(t,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),p.dataset=d,p.index=p.datasetIndex=this.index;return p.active=!!o,p.mode=a,p}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,o){return this._resolveElementOptions(this.dataElementType.id,o,e)}_resolveElementOptions(e,o="default",a){const d="active"===o,p=this._cachedDataOpts,f=e+"-"+o,m=p[f],v=this.enableOptionSharing&&Bo(a);if(m)return UV(m,v);const y=this.chart.config,C=y.datasetElementScopeKeys(this._type,e),b=d?[`${e}Hover`,"hover",e,""]:[e,""],S=y.getOptionScopes(this.getDataset(),C),R=Object.keys(bt.elements[e]),I=y.resolveNamedOptions(S,R,()=>this.getContext(a,d),b);return I.$shared&&(I.$shared=v,p[f]=Object.freeze(UV(I,v))),I}_resolveAnimations(e,o,a){const d=this.chart,p=this._cachedDataOpts,f=`animation-${o}`,m=p[f];if(m)return m;let v;if(!1!==d.options.animation){const C=this.chart.config,b=C.datasetAnimationScopeKeys(this._type,o),S=C.getOptionScopes(this.getDataset(),b);v=C.createResolver(S,this.getContext(e,a,o))}const y=new GV(d,v&&v.animations);return v&&v._cacheable&&(p[f]=Object.freeze(y)),y}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,o){return!o||GA(e)||this.chart._animationsDisabled}updateElement(e,o,a,d){GA(d)?Object.assign(e,a):this._resolveAnimations(o,d).update(e,a)}updateSharedOptions(e,o,a){e&&!GA(o)&&this._resolveAnimations(void 0,o).update(e,a)}_setStyle(e,o,a,d){e.active=d;const p=this.getStyle(o,d);this._resolveAnimations(o,a,d).update(e,{options:!d&&this.getSharedOptions(p)||p})}removeHoverStyle(e,o,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,o,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const o=this._data,a=this._cachedMeta.data;for(const[m,v,y]of this._syncList)this[m](v,y);this._syncList=[];const d=a.length,p=o.length,f=Math.min(p,d);f&&this.parse(0,f),p>d?this._insertElements(d,p-d,e):p<d&&this._removeElements(p,d-p)}_insertElements(e,o,a=!0){const d=this._cachedMeta,p=d.data,f=e+o;let m;const v=y=>{for(y.length+=o,m=y.length-1;m>=f;m--)y[m]=y[m-o]};for(v(p),m=e;m<f;++m)p[m]=new this.dataElementType;this._parsing&&v(d._parsed),this.parse(e,o),a&&this.updateElements(p,e,o,"reset")}updateElements(e,o,a,d){}_removeElements(e,o){const a=this._cachedMeta;if(this._parsing){const d=a._parsed.splice(e,o);a._stacked&&Ov(a,d)}a.data.splice(e,o)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[o,a,d]=e;this[o](a,d)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,o){o&&this._sync(["_removeElements",e,o]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t.defaults={},t})();function RZ(t){const n=t.iScale,e=function DZ(t,n){if(!t._cache.$bar){const e=t.getMatchingVisibleMetas(n);let o=[];for(let a=0,d=e.length;a<d;a++)o=o.concat(e[a].controller.getAllParsedValues(t));t._cache.$bar=gV(o.sort((a,d)=>a-d))}return t._cache.$bar}(n,t.type);let a,d,p,f,o=n._length;const m=()=>{32767===p||-32768===p||(Bo(f)&&(o=Math.min(o,Math.abs(p-f)||o)),f=p)};for(a=0,d=e.length;a<d;++a)p=n.getPixelForValue(e[a]),m();for(f=void 0,a=0,d=n.ticks.length;a<d;++a)p=n.getPixelForTick(a),m();return o}function zV(t,n,e,o){return sn(t)?function AZ(t,n,e,o){const a=e.parse(t[0],o),d=e.parse(t[1],o),p=Math.min(a,d),f=Math.max(a,d);let m=p,v=f;Math.abs(p)>Math.abs(f)&&(m=f,v=p),n[e.axis]=v,n._custom={barStart:m,barEnd:v,start:a,end:d,min:p,max:f}}(t,n,e,o):n[e.axis]=e.parse(t,o),n}function $V(t,n,e,o){const a=t.iScale,d=t.vScale,p=a.getLabels(),f=a===d,m=[];let v,y,C,b;for(v=e,y=e+o;v<y;++v)b=n[v],C={},C[a.axis]=f||a.parse(p[v],v),m.push(zV(b,C,d,v));return m}function kA(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function MZ(t,n,e,o){let a=n.borderSkipped;const d={};if(!a)return void(t.borderSkipped=d);const{start:p,end:f,reverse:m,top:v,bottom:y}=function NZ(t){let n,e,o,a,d;return t.horizontal?(n=t.base>t.x,e="left",o="right"):(n=t.base<t.y,e="bottom",o="top"),n?(a="end",d="start"):(a="start",d="end"),{start:e,end:o,reverse:n,top:a,bottom:d}}(t);"middle"===a&&e&&(t.enableBorderRadius=!0,(e._top||0)===o?a=v:(e._bottom||0)===o?a=y:(d[KV(y,p,f,m)]=!0,a=v)),d[KV(a,p,f,m)]=!0,t.borderSkipped=d}function KV(t,n,e,o){return o?(t=function IZ(t,n,e){return t===n?e:t===e?n:t}(t,n,e),t=qV(t,e,n)):t=qV(t,n,e),t}function qV(t,n,e){return"start"===t?n:"end"===t?e:t}function xZ(t,{inflateAmount:n},e){t.inflateAmount="auto"===n?1===e?.33:0:n}Xa.prototype.datasetElementType=null,Xa.prototype.dataElementType=null;let YV=(()=>{class t extends Xa{parsePrimitiveData(e,o,a,d){return $V(e,o,a,d)}parseArrayData(e,o,a,d){return $V(e,o,a,d)}parseObjectData(e,o,a,d){const{iScale:p,vScale:f}=e,{xAxisKey:m="x",yAxisKey:v="y"}=this._parsing,y="x"===p.axis?m:v,C="x"===f.axis?m:v,b=[];let S,R,A,I;for(S=a,R=a+d;S<R;++S)I=o[S],A={},A[p.axis]=p.parse(od(I,y),S),b.push(zV(od(I,C),A,f,S));return b}updateRangeFromParsed(e,o,a,d){super.updateRangeFromParsed(e,o,a,d);const p=a._custom;p&&o===this._cachedMeta.vScale&&(e.min=Math.min(e.min,p.min),e.max=Math.max(e.max,p.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const o=this._cachedMeta,{iScale:a,vScale:d}=o,p=this.getParsed(e),f=p._custom,m=kA(f)?"["+f.start+", "+f.end+"]":""+d.getLabelForValue(p[d.axis]);return{label:""+a.getLabelForValue(p[a.axis]),value:m}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const o=this._cachedMeta;this.updateElements(o.data,0,o.data.length,e)}updateElements(e,o,a,d){const p="reset"===d,{index:f,_cachedMeta:{vScale:m}}=this,v=m.getBasePixel(),y=m.isHorizontal(),C=this._getRuler(),b=this.resolveDataElementOptions(o,d),S=this.getSharedOptions(b),R=this.includeOptions(d,S);this.updateSharedOptions(S,d,b);for(let A=o;A<o+a;A++){const I=this.getParsed(A),F=p||Ft(I[m.axis])?{base:v,head:v}:this._calculateBarValuePixels(A),k=this._calculateBarIndexPixels(A,C),z=(I._stacks||{})[m.axis],W={horizontal:y,base:F.base,enableBorderRadius:!z||kA(I._custom)||f===z._top||f===z._bottom,x:y?F.head:k.center,y:y?k.center:F.head,height:y?k.size:Math.abs(F.size),width:y?Math.abs(F.size):k.size};R&&(W.options=S||this.resolveDataElementOptions(A,e[A].active?"active":d));const $=W.options||e[A].options;MZ(W,$,z,f),xZ(W,$,C.ratio),this.updateElement(e[A],A,W,d)}}_getStacks(e,o){const d=this._cachedMeta.iScale,p=d.getMatchingVisibleMetas(this._type),f=d.options.stacked,m=p.length,v=[];let y,C;for(y=0;y<m;++y)if(C=p[y],C.controller.options.grouped){if(void 0!==o){const b=C.controller.getParsed(o)[C.controller._cachedMeta.vScale.axis];if(Ft(b)||isNaN(b))continue}if((!1===f||-1===v.indexOf(C.stack)||void 0===f&&void 0===C.stack)&&v.push(C.stack),C.index===e)break}return v.length||v.push(void 0),v}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,o,a){const d=this._getStacks(e,a),p=void 0!==o?d.indexOf(o):-1;return-1===p?d.length-1:p}_getRuler(){const e=this.options,o=this._cachedMeta,a=o.iScale,d=[];let p,f;for(p=0,f=o.data.length;p<f;++p)d.push(a.getPixelForValue(this.getParsed(p)[a.axis],p));const m=e.barThickness;return{min:m||RZ(o),pixels:d,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:m?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:o,_stacked:a},options:{base:d,minBarLength:p}}=this,f=d||0,m=this.getParsed(e),v=m._custom,y=kA(v);let R,A,C=m[o.axis],b=0,S=a?this.applyStack(o,m,a):C;S!==C&&(b=S-C,S=C),y&&(C=v.barStart,S=v.barEnd-v.barStart,0!==C&&na(C)!==na(v.barEnd)&&(b=0),b+=C);const I=Ft(d)||y?b:d;let F=o.getPixelForValue(I);if(R=this.chart.getDataVisibility(e)?o.getPixelForValue(b+S):F,A=R-F,Math.abs(A)<p&&(A=function PZ(t,n,e){return 0!==t?na(t):(n.isHorizontal()?1:-1)*(n.min>=e?1:-1)}(A,o,f)*p,C===f&&(F-=A/2),R=F+A),F===o.getPixelForValue(f)){const k=na(A)*o.getLineWidthForValue(f)/2;F+=k,A-=k}return{size:A,base:F,head:R,center:R+A/2}}_calculateBarIndexPixels(e,o){const a=o.scale,d=this.options,p=d.skipNull,f=dt(d.maxBarThickness,1/0);let m,v;if(o.grouped){const y=p?this._getStackCount(e):o.stackCount,C="flex"===d.barThickness?function TZ(t,n,e,o){const a=n.pixels,d=a[t];let p=t>0?a[t-1]:null,f=t<a.length-1?a[t+1]:null;const m=e.categoryPercentage;null===p&&(p=d-(null===f?n.end-n.start:f-d)),null===f&&(f=d+d-p);const v=d-(d-Math.min(p,f))/2*m;return{chunk:Math.abs(f-p)/2*m/o,ratio:e.barPercentage,start:v}}(e,o,d,y):function OZ(t,n,e,o){const a=e.barThickness;let d,p;return Ft(a)?(d=n.min*e.categoryPercentage,p=e.barPercentage):(d=a*o,p=1),{chunk:d/o,ratio:p,start:n.pixels[t]-d/2}}(e,o,d,y),b=this._getStackIndex(this.index,this._cachedMeta.stack,p?e:void 0);m=C.start+C.chunk*b+C.chunk/2,v=Math.min(f,C.chunk*C.ratio)}else m=a.getPixelForValue(this.getParsed(e)[a.axis],e),v=Math.min(f,o.min*o.ratio);return{base:m-v/2,head:m+v/2,center:m,size:v}}draw(){const e=this._cachedMeta,o=e.vScale,a=e.data,d=a.length;let p=0;for(;p<d;++p)null!==this.getParsed(p)[o.axis]&&a[p].draw(this._ctx)}}return t.id="bar",t.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},t.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},t})(),QV=(()=>{class t extends Xa{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,o,a,d){const p=super.parsePrimitiveData(e,o,a,d);for(let f=0;f<p.length;f++)p[f]._custom=this.resolveDataElementOptions(f+a).radius;return p}parseArrayData(e,o,a,d){const p=super.parseArrayData(e,o,a,d);for(let f=0;f<p.length;f++)p[f]._custom=dt(o[a+f][2],this.resolveDataElementOptions(f+a).radius);return p}parseObjectData(e,o,a,d){const p=super.parseObjectData(e,o,a,d);for(let f=0;f<p.length;f++){const m=o[a+f];p[f]._custom=dt(m&&m.r&&+m.r,this.resolveDataElementOptions(f+a).radius)}return p}getMaxOverflow(){const e=this._cachedMeta.data;let o=0;for(let a=e.length-1;a>=0;--a)o=Math.max(o,e[a].size(this.resolveDataElementOptions(a))/2);return o>0&&o}getLabelAndValue(e){const o=this._cachedMeta,{xScale:a,yScale:d}=o,p=this.getParsed(e),f=a.getLabelForValue(p.x),m=d.getLabelForValue(p.y),v=p._custom;return{label:o.label,value:"("+f+", "+m+(v?", "+v:"")+")"}}update(e){const o=this._cachedMeta.data;this.updateElements(o,0,o.length,e)}updateElements(e,o,a,d){const p="reset"===d,{iScale:f,vScale:m}=this._cachedMeta,v=this.resolveDataElementOptions(o,d),y=this.getSharedOptions(v),C=this.includeOptions(d,y),b=f.axis,S=m.axis;for(let R=o;R<o+a;R++){const A=e[R],I=!p&&this.getParsed(R),F={},k=F[b]=p?f.getPixelForDecimal(.5):f.getPixelForValue(I[b]),z=F[S]=p?m.getBasePixel():m.getPixelForValue(I[S]);F.skip=isNaN(k)||isNaN(z),C&&(F.options=this.resolveDataElementOptions(R,A.active?"active":d),p&&(F.options.radius=0)),this.updateElement(A,R,F,d)}this.updateSharedOptions(y,d,v)}resolveDataElementOptions(e,o){const a=this.getParsed(e);let d=super.resolveDataElementOptions(e,o);d.$shared&&(d=Object.assign({},d,{$shared:!1}));const p=d.radius;return"active"!==o&&(d.radius=0),d.radius+=dt(a&&a._custom,p),d}}return t.id="bubble",t.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},t.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},t})(),VA=(()=>{class t extends Xa{constructor(e,o){super(e,o),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,o){const a=this.getDataset().data,d=this._cachedMeta;if(!1===this._parsing)d._parsed=a;else{let f,m,p=v=>+a[v];if(Dt(a[e])){const{key:v="value"}=this._parsing;p=y=>+od(a[y],v)}for(f=e,m=e+o;f<m;++f)d._parsed[f]=p(f)}}_getRotation(){return Cs(this.options.rotation-90)}_getCircumference(){return Cs(this.options.circumference)}_getRotationExtents(){let e=en,o=-en;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)){const d=this.chart.getDatasetMeta(a).controller,p=d._getRotation(),f=d._getCircumference();e=Math.min(e,p),o=Math.max(o,p+f)}return{rotation:e,circumference:o-e}}update(e){const o=this.chart,{chartArea:a}=o,d=this._cachedMeta,p=d.data,f=this.getMaxBorderWidth()+this.getMaxOffset(p)+this.options.spacing,m=Math.max((Math.min(a.width,a.height)-f)/2,0),v=Math.min(((t,n)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:t/n)(this.options.cutout,m),1),y=this._getRingWeight(this.index),{circumference:C,rotation:b}=this._getRotationExtents(),{ratioX:S,ratioY:R,offsetX:A,offsetY:I}=function FZ(t,n,e){let o=1,a=1,d=0,p=0;if(n<en){const f=t,m=f+n,v=Math.cos(f),y=Math.sin(f),C=Math.cos(m),b=Math.sin(m),S=(z,W,$)=>_v(z,f,m,!0)?1:Math.max(W,W*e,$,$*e),R=(z,W,$)=>_v(z,f,m,!0)?-1:Math.min(W,W*e,$,$*e),A=S(0,v,C),I=S(xn,y,b),F=R(En,v,C),k=R(En+xn,y,b);o=(A-F)/2,a=(I-k)/2,d=-(A+F)/2,p=-(I+k)/2}return{ratioX:o,ratioY:a,offsetX:d,offsetY:p}}(b,C,v),z=Math.max(Math.min((a.width-f)/S,(a.height-f)/R)/2,0),W=Uk(this.options.radius,z),ie=(W-Math.max(W*v,0))/this._getVisibleDatasetWeightTotal();this.offsetX=A*W,this.offsetY=I*W,d.total=this.calculateTotal(),this.outerRadius=W-ie*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ie*y,0),this.updateElements(p,0,p.length,e)}_circumference(e,o){const a=this.options,d=this._cachedMeta,p=this._getCircumference();return o&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||null===d._parsed[e]||d.data[e].hidden?0:this.calculateCircumference(d._parsed[e]*p/en)}updateElements(e,o,a,d){const p="reset"===d,f=this.chart,m=f.chartArea,C=(m.left+m.right)/2,b=(m.top+m.bottom)/2,S=p&&f.options.animation.animateScale,R=S?0:this.innerRadius,A=S?0:this.outerRadius,I=this.resolveDataElementOptions(o,d),F=this.getSharedOptions(I),k=this.includeOptions(d,F);let W,z=this._getRotation();for(W=0;W<o;++W)z+=this._circumference(W,p);for(W=o;W<o+a;++W){const $=this._circumference(W,p),ie=e[W],se={x:C+this.offsetX,y:b+this.offsetY,startAngle:z,endAngle:z+$,circumference:$,outerRadius:A,innerRadius:R};k&&(se.options=F||this.resolveDataElementOptions(W,ie.active?"active":d)),z+=$,this.updateElement(ie,W,se,d)}this.updateSharedOptions(F,d,I)}calculateTotal(){const e=this._cachedMeta,o=e.data;let d,a=0;for(d=0;d<o.length;d++){const p=e._parsed[d];null!==p&&!isNaN(p)&&this.chart.getDataVisibility(d)&&!o[d].hidden&&(a+=Math.abs(p))}return a}calculateCircumference(e){const o=this._cachedMeta.total;return o>0&&!isNaN(e)?en*(Math.abs(e)/o):0}getLabelAndValue(e){const a=this.chart,d=a.data.labels||[],p=Rv(this._cachedMeta._parsed[e],a.options.locale);return{label:d[e]||"",value:p}}getMaxBorderWidth(e){let o=0;const a=this.chart;let d,p,f,m,v;if(!e)for(d=0,p=a.data.datasets.length;d<p;++d)if(a.isDatasetVisible(d)){f=a.getDatasetMeta(d),e=f.data,m=f.controller;break}if(!e)return 0;for(d=0,p=e.length;d<p;++d)v=m.resolveDataElementOptions(d),"inner"!==v.borderAlign&&(o=Math.max(o,v.borderWidth||0,v.hoverBorderWidth||0));return o}getMaxOffset(e){let o=0;for(let a=0,d=e.length;a<d;++a){const p=this.resolveDataElementOptions(a);o=Math.max(o,p.offset||0,p.hoverOffset||0)}return o}_getRingWeightOffset(e){let o=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(o+=this._getRingWeight(a));return o}_getRingWeight(e){return Math.max(dt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t.id="doughnut",t.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},t.descriptors={_scriptable:n=>"spacing"!==n,_indexable:n=>"spacing"!==n},t.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const e=n.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:o}}=n.legend.options;return e.labels.map((a,d)=>{const f=n.getDatasetMeta(0).controller.getStyle(d);return{text:a,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,lineWidth:f.borderWidth,pointStyle:o,hidden:!n.getDataVisibility(d),index:d}})}return[]}},onClick(n,e,o){o.chart.toggleDataVisibility(e.index),o.chart.update()}},tooltip:{callbacks:{title:()=>"",label(n){let e=n.label;const o=": "+n.formattedValue;return sn(e)?(e=e.slice(),e[0]+=o):e+=o,e}}}}},t})(),HA=(()=>{class t extends Xa{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const o=this._cachedMeta,{dataset:a,data:d=[],_dataset:p}=o,f=this.chart._animationsDisabled;let{start:m,count:v}=function LZ(t,n,e){const o=n.length;let a=0,d=o;if(t._sorted){const{iScale:p,_parsed:f}=t,m=p.axis,{min:v,max:y,minDefined:C,maxDefined:b}=p.getUserBounds();C&&(a=Di(Math.min(Ya(f,p.axis,v).lo,e?o:Ya(n,m,p.getPixelForValue(v)).lo),0,o-1)),d=b?Di(Math.max(Ya(f,p.axis,y).hi+1,e?0:Ya(n,m,p.getPixelForValue(y)).hi+1),a,o)-a:o-a}return{start:a,count:d}}(o,d,f);this._drawStart=m,this._drawCount=v,function GZ(t){const{xScale:n,yScale:e,_scaleRanges:o}=t,a={xmin:n.min,xmax:n.max,ymin:e.min,ymax:e.max};if(!o)return t._scaleRanges=a,!0;const d=o.xmin!==n.min||o.xmax!==n.max||o.ymin!==e.min||o.ymax!==e.max;return Object.assign(o,a),d}(o)&&(m=0,v=d.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!p._decimated,a.points=d;const y=this.resolveDatasetElementOptions(e);this.options.showLine||(y.borderWidth=0),y.segment=this.options.segment,this.updateElement(a,void 0,{animated:!f,options:y},e),this.updateElements(d,m,v,e)}updateElements(e,o,a,d){const p="reset"===d,{iScale:f,vScale:m,_stacked:v,_dataset:y}=this._cachedMeta,C=this.resolveDataElementOptions(o,d),b=this.getSharedOptions(C),S=this.includeOptions(d,b),R=f.axis,A=m.axis,{spanGaps:I,segment:F}=this.options,k=vv(I)?I:Number.POSITIVE_INFINITY,z=this.chart._animationsDisabled||p||"none"===d;let W=o>0&&this.getParsed(o-1);for(let $=o;$<o+a;++$){const ie=e[$],se=this.getParsed($),he=z?ie:{},ye=Ft(se[A]),xe=he[R]=f.getPixelForValue(se[R],$),Ne=he[A]=p||ye?m.getBasePixel():m.getPixelForValue(v?this.applyStack(m,se,v):se[A],$);he.skip=isNaN(xe)||isNaN(Ne)||ye,he.stop=$>0&&se[R]-W[R]>k,F&&(he.parsed=se,he.raw=y.data[$]),S&&(he.options=b||this.resolveDataElementOptions($,ie.active?"active":d)),z||this.updateElement(ie,$,he,d),W=se}this.updateSharedOptions(b,d,C)}getMaxOverflow(){const e=this._cachedMeta,o=e.dataset,a=o.options&&o.options.borderWidth||0,d=e.data||[];if(!d.length)return a;const p=d[0].size(this.resolveDataElementOptions(0)),f=d[d.length-1].size(this.resolveDataElementOptions(d.length-1));return Math.max(a,p,f)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return t.id="line",t.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},t.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},t})(),XV=(()=>{class t extends Xa{constructor(e,o){super(e,o),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const a=this.chart,d=a.data.labels||[],p=Rv(this._cachedMeta._parsed[e].r,a.options.locale);return{label:d[e]||"",value:p}}update(e){const o=this._cachedMeta.data;this._updateRadius(),this.updateElements(o,0,o.length,e)}_updateRadius(){const e=this.chart,o=e.chartArea,a=e.options,d=Math.min(o.right-o.left,o.bottom-o.top),p=Math.max(d/2,0),m=(p-Math.max(a.cutoutPercentage?p/100*a.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=p-m*this.index,this.innerRadius=this.outerRadius-m}updateElements(e,o,a,d){const p="reset"===d,f=this.chart,m=this.getDataset(),y=f.options.animation,C=this._cachedMeta.rScale,b=C.xCenter,S=C.yCenter,R=C.getIndexAngle(0)-.5*En;let I,A=R;const F=360/this.countVisibleElements();for(I=0;I<o;++I)A+=this._computeAngle(I,d,F);for(I=o;I<o+a;I++){const k=e[I];let z=A,W=A+this._computeAngle(I,d,F),$=f.getDataVisibility(I)?C.getDistanceFromCenterForValue(m.data[I]):0;A=W,p&&(y.animateScale&&($=0),y.animateRotate&&(z=W=R));const ie={x:b,y:S,innerRadius:0,outerRadius:$,startAngle:z,endAngle:W,options:this.resolveDataElementOptions(I,k.active?"active":d)};this.updateElement(k,I,ie,d)}}countVisibleElements(){const e=this.getDataset();let a=0;return this._cachedMeta.data.forEach((d,p)=>{!isNaN(e.data[p])&&this.chart.getDataVisibility(p)&&a++}),a}_computeAngle(e,o,a){return this.chart.getDataVisibility(e)?Cs(this.resolveDataElementOptions(e,o).angle||a):0}}return t.id="polarArea",t.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},t.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const e=n.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:o}}=n.legend.options;return e.labels.map((a,d)=>{const f=n.getDatasetMeta(0).controller.getStyle(d);return{text:a,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,lineWidth:f.borderWidth,pointStyle:o,hidden:!n.getDataVisibility(d),index:d}})}return[]}},onClick(n,e,o){o.chart.toggleDataVisibility(e.index),o.chart.update()}},tooltip:{callbacks:{title:()=>"",label:n=>n.chart.data.labels[n.dataIndex]+": "+n.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},t})(),ZV=(()=>{class t extends VA{}return t.id="pie",t.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},t})(),JV=(()=>{class t extends Xa{getLabelAndValue(e){const o=this._cachedMeta.vScale,a=this.getParsed(e);return{label:o.getLabels()[e],value:""+o.getLabelForValue(a[o.axis])}}update(e){const o=this._cachedMeta,a=o.dataset,d=o.data||[],p=o.iScale.getLabels();if(a.points=d,"resize"!==e){const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),this.updateElement(a,void 0,{_loop:!0,_fullLoop:p.length===d.length,options:f},e)}this.updateElements(d,0,d.length,e)}updateElements(e,o,a,d){const p=this.getDataset(),f=this._cachedMeta.rScale,m="reset"===d;for(let v=o;v<o+a;v++){const y=e[v],C=this.resolveDataElementOptions(v,y.active?"active":d),b=f.getPointPositionForValue(v,p.data[v]),S=m?f.xCenter:b.x,R=m?f.yCenter:b.y,A={x:S,y:R,angle:b.angle,skip:isNaN(S)||isNaN(R),options:C};this.updateElement(y,v,A,d)}}}return t.id="radar",t.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},t.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},t})(),eH=(()=>{class t extends HA{}return t.id="scatter",t.defaults={showLine:!1,fill:!1},t.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:n=>"("+n.label+", "+n.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},t})();function pd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var VZ={_date:(()=>{class t{constructor(e){this.options=e||{}}formats(){return pd()}parse(e,o){return pd()}format(e,o){return pd()}add(e,o,a){return pd()}diff(e,o,a){return pd()}startOf(e,o,a){return pd()}endOf(e,o){return pd()}}return t.override=function(n){Object.assign(t.prototype,n)},t})()};function Tv(t,n){return"native"in t?{x:t.x,y:t.y}:SV(t,n)}function BZ(t,n,e,o){const{controller:a,data:d,_sorted:p}=t,f=a._cachedMeta.iScale;if(f&&n===f.axis&&"r"!==n&&p&&d.length){const m=f._reversePixels?DX:Ya;if(!o)return m(d,n,e);if(a._sharedOptions){const v=d[0],y="function"==typeof v.getRange&&v.getRange(n);if(y){const C=m(d,n,e-y),b=m(d,n,e+y);return{lo:C.lo,hi:b.hi}}}}return{lo:0,hi:d.length-1}}function BA(t,n,e,o,a){const d=t.getSortedVisibleDatasetMetas(),p=e[n];for(let f=0,m=d.length;f<m;++f){const{index:v,data:y}=d[f],{lo:C,hi:b}=BZ(d[f],n,p,a);for(let S=C;S<=b;++S){const R=y[S];R.skip||o(R,v,S)}}}function WA(t,n,e,o){const a=[];return ld(n,t.chartArea,t._minPadding)&&BA(t,e,n,function(p,f,m){p.inRange(n.x,n.y,o)&&a.push({element:p,datasetIndex:f,index:m})},!0),a}function jA(t,n,e,o,a){return ld(n,t.chartArea,t._minPadding)?"r"!==e||o?function UZ(t,n,e,o,a){let d=[];const p=function WZ(t){const n=-1!==t.indexOf("x"),e=-1!==t.indexOf("y");return function(o,a){const d=n?Math.abs(o.x-a.x):0,p=e?Math.abs(o.y-a.y):0;return Math.sqrt(Math.pow(d,2)+Math.pow(p,2))}}(e);let f=Number.POSITIVE_INFINITY;return BA(t,e,n,function m(v,y,C){const b=v.inRange(n.x,n.y,a);if(o&&!b)return;const S=v.getCenterPoint(a);if(!ld(S,t.chartArea,t._minPadding)&&!b)return;const A=p(n,S);A<f?(d=[{element:v,datasetIndex:y,index:C}],f=A):A===f&&d.push({element:v,datasetIndex:y,index:C})}),d}(t,n,e,o,a):function jZ(t,n,e,o){let a=[];return BA(t,e,n,function d(p,f,m){const{startAngle:v,endAngle:y}=p.getProps(["startAngle","endAngle"],o),{angle:C}=Zk(p,{x:n.x,y:n.y});_v(C,v,y)&&a.push({element:p,datasetIndex:f,index:m})}),a}(t,n,e,a):[]}function tH(t,n,e,o){const a=Tv(n,t),d=[],p=e.axis,f="x"===p?"inXRange":"inYRange";let m=!1;return function HZ(t,n){const e=t.getSortedVisibleDatasetMetas();let o,a,d;for(let p=0,f=e.length;p<f;++p){({index:o,data:a}=e[p]);for(let m=0,v=a.length;m<v;++m)d=a[m],d.skip||n(d,o,m)}}(t,(v,y,C)=>{v[f](a[p],o)&&d.push({element:v,datasetIndex:y,index:C}),v.inRange(a.x,a.y,o)&&(m=!0)}),e.intersect&&!m?[]:d}var zZ={modes:{index(t,n,e,o){const a=Tv(n,t),d=e.axis||"x",p=e.intersect?WA(t,a,d,o):jA(t,a,d,!1,o),f=[];return p.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const v=p[0].index,y=m.data[v];y&&!y.skip&&f.push({element:y,datasetIndex:m.index,index:v})}),f):[]},dataset(t,n,e,o){const a=Tv(n,t),d=e.axis||"xy";let p=e.intersect?WA(t,a,d,o):jA(t,a,d,!1,o);if(p.length>0){const f=p[0].datasetIndex,m=t.getDatasetMeta(f).data;p=[];for(let v=0;v<m.length;++v)p.push({element:m[v],datasetIndex:f,index:v})}return p},point:(t,n,e,o)=>WA(t,Tv(n,t),e.axis||"xy",o),nearest:(t,n,e,o)=>jA(t,Tv(n,t),e.axis||"xy",e.intersect,o),x:(t,n,e,o)=>tH(t,n,{axis:"x",intersect:e.intersect},o),y:(t,n,e,o)=>tH(t,n,{axis:"y",intersect:e.intersect},o)}};const nH=["left","top","right","bottom"];function Av(t,n){return t.filter(e=>e.pos===n)}function iH(t,n){return t.filter(e=>-1===nH.indexOf(e.pos)&&e.box.axis===n)}function Pv(t,n){return t.sort((e,o)=>{const a=n?o:e,d=n?e:o;return a.weight===d.weight?a.index-d.index:a.weight-d.weight})}function rH(t,n,e,o){return Math.max(t[e],n[e])+Math.max(t[o],n[o])}function oH(t,n){t.top=Math.max(t.top,n.top),t.left=Math.max(t.left,n.left),t.bottom=Math.max(t.bottom,n.bottom),t.right=Math.max(t.right,n.right)}function QZ(t,n,e,o){const{pos:a,box:d}=e,p=t.maxPadding;if(!Dt(a)){e.size&&(t[a]-=e.size);const C=o[e.stack]||{size:0,count:1};C.size=Math.max(C.size,e.horizontal?d.height:d.width),e.size=C.size/C.count,t[a]+=e.size}d.getPadding&&oH(p,d.getPadding());const f=Math.max(0,n.outerWidth-rH(p,t,"left","right")),m=Math.max(0,n.outerHeight-rH(p,t,"top","bottom")),v=f!==t.w,y=m!==t.h;return t.w=f,t.h=m,e.horizontal?{same:v,other:y}:{same:y,other:v}}function ZZ(t,n){const e=n.maxPadding;return function o(a){const d={left:0,top:0,right:0,bottom:0};return a.forEach(p=>{d[p]=Math.max(n[p],e[p])}),d}(t?["left","right"]:["top","bottom"])}function Nv(t,n,e,o){const a=[];let d,p,f,m,v,y;for(d=0,p=t.length,v=0;d<p;++d){f=t[d],m=f.box,m.update(f.width||n.w,f.height||n.h,ZZ(f.horizontal,n));const{same:C,other:b}=QZ(n,e,f,o);v|=C&&a.length,y=y||b,m.fullSize||a.push(f)}return v&&Nv(a,n,e,o)||y}function dE(t,n,e,o,a){t.top=e,t.left=n,t.right=n+o,t.bottom=e+a,t.width=o,t.height=a}function sH(t,n,e,o){const a=e.padding;let{x:d,y:p}=n;for(const f of t){const m=f.box,v=o[f.stack]||{count:1,placed:0,weight:1},y=f.stackWeight/v.weight||1;if(f.horizontal){const C=n.w*y,b=v.size||m.height;Bo(v.start)&&(p=v.start),m.fullSize?dE(m,a.left,p,e.outerWidth-a.right-a.left,b):dE(m,n.left+v.placed,p,C,b),v.start=p,v.placed+=C,p=m.bottom}else{const C=n.h*y,b=v.size||m.width;Bo(v.start)&&(d=v.start),m.fullSize?dE(m,d,a.top,b,e.outerHeight-a.bottom-a.top):dE(m,d,n.top+v.placed,b,C),v.start=d,v.placed+=C,d=m.right}}n.x=d,n.y=p}bt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var nr={addBox(t,n){t.boxes||(t.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(e){n.draw(e)}}]},t.boxes.push(n)},removeBox(t,n){const e=t.boxes?t.boxes.indexOf(n):-1;-1!==e&&t.boxes.splice(e,1)},configure(t,n,e){n.fullSize=e.fullSize,n.position=e.position,n.weight=e.weight},update(t,n,e,o){if(!t)return;const a=tr(t.options.layout.padding),d=Math.max(n-a.width,0),p=Math.max(e-a.height,0),f=function YZ(t){const n=function $Z(t){const n=[];let e,o,a,d,p,f;for(e=0,o=(t||[]).length;e<o;++e)a=t[e],({position:d,options:{stack:p,stackWeight:f=1}}=a),n.push({index:e,box:a,pos:d,horizontal:a.isHorizontal(),weight:a.weight,stack:p&&d+p,stackWeight:f});return n}(t),e=Pv(n.filter(v=>v.box.fullSize),!0),o=Pv(Av(n,"left"),!0),a=Pv(Av(n,"right")),d=Pv(Av(n,"top"),!0),p=Pv(Av(n,"bottom")),f=iH(n,"x"),m=iH(n,"y");return{fullSize:e,leftAndTop:o.concat(d),rightAndBottom:a.concat(m).concat(p).concat(f),chartArea:Av(n,"chartArea"),vertical:o.concat(a).concat(m),horizontal:d.concat(p).concat(f)}}(t.boxes),m=f.vertical,v=f.horizontal;Kt(t.boxes,A=>{"function"==typeof A.beforeLayout&&A.beforeLayout()});const y=m.reduce((A,I)=>I.box.options&&!1===I.box.options.display?A:A+1,0)||1,C=Object.freeze({outerWidth:n,outerHeight:e,padding:a,availableWidth:d,availableHeight:p,vBoxMaxWidth:d/2/y,hBoxMaxHeight:p/2}),b=Object.assign({},a);oH(b,tr(o));const S=Object.assign({maxPadding:b,w:d,h:p,x:a.left,y:a.top},a),R=function qZ(t,n){const e=function KZ(t){const n={};for(const e of t){const{stack:o,pos:a,stackWeight:d}=e;if(!o||!nH.includes(a))continue;const p=n[o]||(n[o]={count:0,placed:0,weight:0,size:0});p.count++,p.weight+=d}return n}(t),{vBoxMaxWidth:o,hBoxMaxHeight:a}=n;let d,p,f;for(d=0,p=t.length;d<p;++d){f=t[d];const{fullSize:m}=f.box,v=e[f.stack],y=v&&f.stackWeight/v.weight;f.horizontal?(f.width=y?y*o:m&&n.availableWidth,f.height=a):(f.width=o,f.height=y?y*a:m&&n.availableHeight)}return e}(m.concat(v),C);Nv(f.fullSize,S,C,R),Nv(m,S,C,R),Nv(v,S,C,R)&&Nv(m,S,C,R),function XZ(t){const n=t.maxPadding;function e(o){const a=Math.max(n[o]-t[o],0);return t[o]+=a,a}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}(S),sH(f.leftAndTop,S,C,R),S.x+=S.w,S.y+=S.h,sH(f.rightAndBottom,S,C,R),t.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Kt(f.chartArea,A=>{const I=A.box;Object.assign(I,t.chartArea),I.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class aH{acquireContext(n,e){}releaseContext(n){return!1}addEventListener(n,e,o){}removeEventListener(n,e,o){}getDevicePixelRatio(){return 1}getMaximumSize(n,e,o,a){return e=Math.max(0,e||n.width),o=o||n.height,{width:e,height:Math.max(0,a?Math.floor(e/a):o)}}isAttached(n){return!0}updateConfig(n){}}class JZ extends aH{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}const pE="$chartjs",eJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lH=t=>null===t||""===t,uH=!!QX&&{passive:!0};function iJ(t,n,e){t.canvas.removeEventListener(n,e,uH)}function hE(t,n){for(const e of t)if(e===n||e.contains(n))return!0}function oJ(t,n,e){const o=t.canvas,a=new MutationObserver(d=>{let p=!1;for(const f of d)p=p||hE(f.addedNodes,o),p=p&&!hE(f.removedNodes,o);p&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function sJ(t,n,e){const o=t.canvas,a=new MutationObserver(d=>{let p=!1;for(const f of d)p=p||hE(f.removedNodes,o),p=p&&!hE(f.addedNodes,o);p&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const Mv=new Map;let cH=0;function dH(){const t=window.devicePixelRatio;t!==cH&&(cH=t,Mv.forEach((n,e)=>{e.currentDevicePixelRatio!==t&&n()}))}function uJ(t,n,e){const o=t.canvas,a=o&&xA(o);if(!a)return;const d=jk((f,m)=>{const v=a.clientWidth;e(f,m),v<a.clientWidth&&e()},window),p=new ResizeObserver(f=>{const m=f[0],v=m.contentRect.width,y=m.contentRect.height;0===v&&0===y||d(v,y)});return p.observe(a),function aJ(t,n){Mv.size||window.addEventListener("resize",dH),Mv.set(t,n)}(t,d),p}function UA(t,n,e){e&&e.disconnect(),"resize"===n&&function lJ(t){Mv.delete(t),Mv.size||window.removeEventListener("resize",dH)}(t)}function cJ(t,n,e){const o=t.canvas,a=jk(d=>{null!==t.ctx&&e(function rJ(t,n){const e=eJ[t.type]||t.type,{x:o,y:a}=SV(t,n);return{type:e,chart:n,native:t,x:void 0!==o?o:null,y:void 0!==a?a:null}}(d,t))},t,d=>{const p=d[0];return[p,p.offsetX,p.offsetY]});return function nJ(t,n,e){t.addEventListener(n,e,uH)}(o,n,a),a}class dJ extends aH{acquireContext(n,e){const o=n&&n.getContext&&n.getContext("2d");return o&&o.canvas===n?(function tJ(t,n){const e=t.style,o=t.getAttribute("height"),a=t.getAttribute("width");if(t[pE]={initial:{height:o,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",lH(a)){const d=RV(t,"width");void 0!==d&&(t.width=d)}if(lH(o))if(""===t.style.height)t.height=t.width/(n||2);else{const d=RV(t,"height");void 0!==d&&(t.height=d)}}(n,e),o):null}releaseContext(n){const e=n.canvas;if(!e[pE])return!1;const o=e[pE].initial;["height","width"].forEach(d=>{const p=o[d];Ft(p)?e.removeAttribute(d):e.setAttribute(d,p)});const a=o.style||{};return Object.keys(a).forEach(d=>{e.style[d]=a[d]}),e.width=e.width,delete e[pE],!0}addEventListener(n,e,o){this.removeEventListener(n,e),(n.$proxies||(n.$proxies={}))[e]=({attach:oJ,detach:sJ,resize:uJ}[e]||cJ)(n,e,o)}removeEventListener(n,e){const o=n.$proxies||(n.$proxies={}),a=o[e];a&&(({attach:UA,detach:UA,resize:UA}[e]||iJ)(n,e,a),o[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,e,o,a){return function YX(t,n,e,o){const a=cE(t),d=cd(a,"margin"),p=uE(a.maxWidth,t,"clientWidth")||Qb,f=uE(a.maxHeight,t,"clientHeight")||Qb,m=function qX(t,n,e){let o,a;if(void 0===n||void 0===e){const d=xA(t);if(d){const p=d.getBoundingClientRect(),f=cE(d),m=cd(f,"border","width"),v=cd(f,"padding");n=p.width-v.width-m.width,e=p.height-v.height-m.height,o=uE(f.maxWidth,d,"clientWidth"),a=uE(f.maxHeight,d,"clientHeight")}else n=t.clientWidth,e=t.clientHeight}return{width:n,height:e,maxWidth:o||Qb,maxHeight:a||Qb}}(t,n,e);let{width:v,height:y}=m;if("content-box"===a.boxSizing){const C=cd(a,"border","width"),b=cd(a,"padding");v-=b.width+C.width,y-=b.height+C.height}return v=Math.max(0,v-d.width),y=Math.max(0,o?Math.floor(v/o):y-d.height),v=FA(Math.min(v,p,m.maxWidth)),y=FA(Math.min(y,f,m.maxHeight)),v&&!y&&(y=FA(v/2)),{width:v,height:y}}(n,e,o,a)}isAttached(n){const e=xA(n);return!(!e||!e.isConnected)}}class ws{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(n){const{x:e,y:o}=this.getProps(["x","y"],n);return{x:e,y:o}}hasValue(){return vv(this.x)&&vv(this.y)}getProps(n,e){const o=this.$animations;if(!e||!o)return this;const a={};return n.forEach(d=>{a[d]=o[d]&&o[d].active()?o[d]._to:this[d]}),a}}ws.defaults={},ws.defaultRoutes=void 0;const pH={values:t=>sn(t)?t:""+t,numeric(t,n,e){if(0===t)return"0";const o=this.chart.options.locale;let a,d=t;if(e.length>1){const v=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(v<1e-4||v>1e15)&&(a="scientific"),d=function hJ(t,n){let e=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(e)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),e}(t,e)}const p=Wo(Math.abs(d)),f=Math.max(Math.min(-1*Math.floor(p),20),0),m={notation:a,minimumFractionDigits:f,maximumFractionDigits:f};return Object.assign(m,this.options.ticks.format),Rv(t,o,m)},logarithmic(t,n,e){if(0===t)return"0";const o=t/Math.pow(10,Math.floor(Wo(t)));return 1===o||2===o||5===o?pH.numeric.call(this,t,n,e):""}};var fE={formatters:pH};function gE(t,n,e,o,a){const d=dt(o,0),p=Math.min(dt(a,t.length),t.length);let m,v,y,f=0;for(e=Math.ceil(e),a&&(m=a-o,e=m/Math.floor(m/e)),y=d;y<0;)f++,y=Math.round(d+f*e);for(v=Math.max(d,0);v<p;v++)v===y&&(n.push(t[v]),f++,y=Math.round(d+f*e))}bt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),bt.route("scale.ticks","color","","color"),bt.route("scale.grid","color","","borderColor"),bt.route("scale.grid","borderColor","","borderColor"),bt.route("scale.title","color","","color"),bt.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),bt.describe("scales",{_fallback:"scale"}),bt.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const hH=(t,n,e)=>"top"===n||"left"===n?t[n]+e:t[n]-e;function fH(t,n){const e=[],o=t.length/n,a=t.length;let d=0;for(;d<a;d+=o)e.push(t[Math.floor(d)]);return e}function wJ(t,n,e){const o=t.ticks.length,a=Math.min(n,o-1),d=t._startPixel,p=t._endPixel,f=1e-6;let v,m=t.getPixelForTick(a);if(!(e&&(v=1===o?Math.max(m-d,p-m):0===n?(t.getPixelForTick(1)-m)/2:(m-t.getPixelForTick(a-1))/2,m+=a<n?v:-v,m<d-f||m>p+f)))return m}function Iv(t){return t.drawTicks?t.tickLength:0}function gH(t,n){if(!t.display)return 0;const e=fi(t.font,n),o=tr(t.padding);return(sn(t.text)?t.text.length:1)*e.lineHeight+o.height}function DJ(t,n,e){let o=vA(t);return(e&&"right"!==n||!e&&"right"===n)&&(o=(t=>"left"===t?"right":"right"===t?"left":t)(o)),o}class hd extends ws{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,e){return n}getUserBounds(){let{_userMin:n,_userMax:e,_suggestedMin:o,_suggestedMax:a}=this;return n=Ho(n,Number.POSITIVE_INFINITY),e=Ho(e,Number.NEGATIVE_INFINITY),o=Ho(o,Number.POSITIVE_INFINITY),a=Ho(a,Number.NEGATIVE_INFINITY),{min:Ho(n,o),max:Ho(e,a),minDefined:Vn(n),maxDefined:Vn(e)}}getMinMax(n){let p,{min:e,max:o,minDefined:a,maxDefined:d}=this.getUserBounds();if(a&&d)return{min:e,max:o};const f=this.getMatchingVisibleMetas();for(let m=0,v=f.length;m<v;++m)p=f[m].controller.getMinMax(this,n),a||(e=Math.min(e,p.min)),d||(o=Math.max(o,p.max));return e=d&&e>o?o:e,o=a&&e>o?e:o,{min:Ho(e,Ho(o,e)),max:Ho(o,Ho(e,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){an(this.options.beforeUpdate,[this])}update(n,e,o){const{beginAtZero:a,grace:d,ticks:p}=this.options,f=p.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=e,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function SX(t,n,e){const{min:o,max:a}=t,d=Uk(n,(a-o)/2),p=(f,m)=>e&&0===f?0:f+m;return{min:p(o,-Math.abs(d)),max:p(a,d)}}(this,d,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const m=f<this.ticks.length;this._convertTicksToLabels(m?fH(this.ticks,f):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),p.display&&(p.autoSkip||"auto"===p.source)&&(this.ticks=function fJ(t,n){const e=t.options.ticks,o=e.maxTicksLimit||function gJ(t){const n=t.options.offset,e=t._tickSize();return Math.floor(Math.min(t._length/e+(n?0:1),t._maxLength/e))}(t),a=e.major.enabled?function vJ(t){const n=[];let e,o;for(e=0,o=t.length;e<o;e++)t[e].major&&n.push(e);return n}(n):[],d=a.length,p=a[0],f=a[d-1],m=[];if(d>o)return function yJ(t,n,e,o){let p,a=0,d=e[0];for(o=Math.ceil(o),p=0;p<t.length;p++)p===d&&(n.push(t[p]),a++,d=e[a*o])}(n,m,a,d/o),m;const v=function mJ(t,n,e){const o=function _J(t){const n=t.length;let e,o;if(n<2)return!1;for(o=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==o)return!1;return o}(t),a=n.length/e;if(!o)return Math.max(a,1);const d=function UQ(t){const n=[],e=Math.sqrt(t);let o;for(o=1;o<e;o++)t%o==0&&(n.push(o),n.push(t/o));return e===(0|e)&&n.push(e),n.sort((a,d)=>a-d).pop(),n}(o);for(let p=0,f=d.length-1;p<f;p++){const m=d[p];if(m>a)return m}return Math.max(a,1)}(a,n,o);if(d>0){let y,C;const b=d>1?Math.round((f-p)/(d-1)):null;for(gE(n,m,v,Ft(b)?0:p-b,p),y=0,C=d-1;y<C;y++)gE(n,m,v,a[y],a[y+1]);return gE(n,m,v,f,Ft(b)?n.length:f+b),m}return gE(n,m,v),m}(this,this.ticks),this._labelSizes=null),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,o,n=this.options.reverse;this.isHorizontal()?(e=this.left,o=this.right):(e=this.top,o=this.bottom,n=!n),this._startPixel=e,this._endPixel=o,this._reversePixels=n,this._length=o-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){an(this.options.afterUpdate,[this])}beforeSetDimensions(){an(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){an(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),an(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){an(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){const e=this.options.ticks;let o,a,d;for(o=0,a=n.length;o<a;o++)d=n[o],d.label=an(e.callback,[d.value,o,n],this)}afterTickToLabelConversion(){an(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){an(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const n=this.options,e=n.ticks,o=this.ticks.length,a=e.minRotation||0,d=e.maxRotation;let f,m,v,p=a;if(!this._isVisible()||!e.display||a>=d||o<=1||!this.isHorizontal())return void(this.labelRotation=a);const y=this._getLabelSizes(),C=y.widest.width,b=y.highest.height,S=Di(this.chart.width-C,0,this.maxWidth);f=n.offset?this.maxWidth/o:S/(o-1),C+6>f&&(f=S/(o-(n.offset?.5:1)),m=this.maxHeight-Iv(n.grid)-e.padding-gH(n.title,this.chart.options.font),v=Math.sqrt(C*C+b*b),p=_A(Math.min(Math.asin(Di((y.highest.height+6)/f,-1,1)),Math.asin(Di(m/v,-1,1))-Math.asin(Di(b/v,-1,1)))),p=Math.max(a,Math.min(d,p))),this.labelRotation=p}afterCalculateLabelRotation(){an(this.options.afterCalculateLabelRotation,[this])}beforeFit(){an(this.options.beforeFit,[this])}fit(){const n={width:0,height:0},{chart:e,options:{ticks:o,title:a,grid:d}}=this,p=this._isVisible(),f=this.isHorizontal();if(p){const m=gH(a,e.options.font);if(f?(n.width=this.maxWidth,n.height=Iv(d)+m):(n.height=this.maxHeight,n.width=Iv(d)+m),o.display&&this.ticks.length){const{first:v,last:y,widest:C,highest:b}=this._getLabelSizes(),S=2*o.padding,R=Cs(this.labelRotation),A=Math.cos(R),I=Math.sin(R);f?n.height=Math.min(this.maxHeight,n.height+(o.mirror?0:I*C.width+A*b.height)+S):n.width=Math.min(this.maxWidth,n.width+(o.mirror?0:A*C.width+I*b.height)+S),this._calculatePadding(v,y,I,A)}}this._handleMargins(),f?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,e,o,a){const{ticks:{align:d,padding:p},position:f}=this.options,m=0!==this.labelRotation,v="top"!==f&&"x"===this.axis;if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,C=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;m?v?(b=a*n.width,S=o*e.height):(b=o*n.height,S=a*e.width):"start"===d?S=e.width:"end"===d?b=n.width:(b=n.width/2,S=e.width/2),this.paddingLeft=Math.max((b-y+p)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-C+p)*this.width/(this.width-C),0)}else{let y=e.height/2,C=n.height/2;"start"===d?(y=0,C=n.height):"end"===d&&(y=e.height,C=0),this.paddingTop=y+p,this.paddingBottom=C+p}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){an(this.options.afterFit,[this])}isHorizontal(){const{axis:n,position:e}=this.options;return"top"===e||"bottom"===e||"x"===n}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){let e,o;for(this.beforeTickToLabelConversion(),this.generateTickLabels(n),e=0,o=n.length;e<o;e++)Ft(n[e].label)&&(n.splice(e,1),o--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){const e=this.options.ticks.sampleSize;let o=this.ticks;e<o.length&&(o=fH(o,e)),this._labelSizes=n=this._computeLabelSizes(o,o.length)}return n}_computeLabelSizes(n,e){const{ctx:o,_longestTextCache:a}=this,d=[],p=[];let v,y,C,b,S,R,A,I,F,k,z,f=0,m=0;for(v=0;v<e;++v){if(b=n[v].label,S=this._resolveTickFontOptions(v),o.font=R=S.string,A=a[R]=a[R]||{data:{},gc:[]},I=S.lineHeight,F=k=0,Ft(b)||sn(b)){if(sn(b))for(y=0,C=b.length;y<C;++y)z=b[y],!Ft(z)&&!sn(z)&&(F=iE(o,A.data,A.gc,F,z),k+=I)}else F=iE(o,A.data,A.gc,F,b),k=I;d.push(F),p.push(k),f=Math.max(F,f),m=Math.max(k,m)}!function bJ(t,n){Kt(t,e=>{const o=e.gc,a=o.length/2;let d;if(a>n){for(d=0;d<a;++d)delete e.data[o[d]];o.splice(0,a)}})}(a,e);const W=d.indexOf(f),$=p.indexOf(m),ie=se=>({width:d[se]||0,height:p[se]||0});return{first:ie(0),last:ie(e-1),widest:ie(W),highest:ie($),widths:d,heights:p}}getLabelForValue(n){return n}getPixelForValue(n,e){return NaN}getValueForPixel(n){}getPixelForTick(n){const e=this.ticks;return n<0||n>e.length-1?null:this.getPixelForValue(e[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);const e=this._startPixel+n*this._length;return function KQ(t){return Di(t,-32768,32767)}(this._alignToPixels?ad(this.chart,e,0):e)}getDecimalForPixel(n){const e=(n-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:n,max:e}=this;return n<0&&e<0?e:n>0&&e>0?n:0}getContext(n){const e=this.ticks||[];if(n>=0&&n<e.length){const o=e[n];return o.$context||(o.$context=function SJ(t,n,e){return _u(t,{tick:e,index:n,type:"tick"})}(this.getContext(),n,o))}return this.$context||(this.$context=function EJ(t,n){return _u(t,{scale:n,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const n=this.options.ticks,e=Cs(this.labelRotation),o=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),d=this._getLabelSizes(),p=n.autoSkipPadding||0,f=d?d.widest.width+p:0,m=d?d.highest.height+p:0;return this.isHorizontal()?m*o>f*a?f/o:m/a:m*a<f*o?m/o:f/a}_isVisible(){const n=this.options.display;return"auto"!==n?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){const e=this.axis,o=this.chart,a=this.options,{grid:d,position:p}=a,f=d.offset,m=this.isHorizontal(),y=this.ticks.length+(f?1:0),C=Iv(d),b=[],S=d.setContext(this.getContext()),R=S.drawBorder?S.borderWidth:0,A=R/2,I=function(je){return ad(o,je,R)};let F,k,z,W,$,ie,se,he,ye,xe,Ne,Ge;if("top"===p)F=I(this.bottom),ie=this.bottom-C,he=F-A,xe=I(n.top)+A,Ge=n.bottom;else if("bottom"===p)F=I(this.top),xe=n.top,Ge=I(n.bottom)-A,ie=F+A,he=this.top+C;else if("left"===p)F=I(this.right),$=this.right-C,se=F-A,ye=I(n.left)+A,Ne=n.right;else if("right"===p)F=I(this.left),ye=n.left,Ne=I(n.right)-A,$=F+A,se=this.left+C;else if("x"===e){if("center"===p)F=I((n.top+n.bottom)/2+.5);else if(Dt(p)){const je=Object.keys(p)[0];F=I(this.chart.scales[je].getPixelForValue(p[je]))}xe=n.top,Ge=n.bottom,ie=F+A,he=ie+C}else if("y"===e){if("center"===p)F=I((n.left+n.right)/2);else if(Dt(p)){const je=Object.keys(p)[0];F=I(this.chart.scales[je].getPixelForValue(p[je]))}$=F-A,se=$-C,ye=n.left,Ne=n.right}const Ze=dt(a.ticks.maxTicksLimit,y),Yt=Math.max(1,Math.ceil(y/Ze));for(k=0;k<y;k+=Yt){const je=d.setContext(this.getContext(k)),de=je.lineWidth,Oe=je.color,Fe=d.borderDash||[],qe=je.borderDashOffset,Qt=je.tickWidth,Hn=je.tickColor,hn=je.tickBorderDash||[],gi=je.tickBorderDashOffset;z=wJ(this,k,f),void 0!==z&&(W=ad(o,z,de),m?$=se=ye=Ne=W:ie=he=xe=Ge=W,b.push({tx1:$,ty1:ie,tx2:se,ty2:he,x1:ye,y1:xe,x2:Ne,y2:Ge,width:de,color:Oe,borderDash:Fe,borderDashOffset:qe,tickWidth:Qt,tickColor:Hn,tickBorderDash:hn,tickBorderDashOffset:gi}))}return this._ticksLength=y,this._borderValue=F,b}_computeLabelItems(n){const e=this.axis,o=this.options,{position:a,ticks:d}=o,p=this.isHorizontal(),f=this.ticks,{align:m,crossAlign:v,padding:y,mirror:C}=d,b=Iv(o.grid),S=b+y,R=C?-y:S,A=-Cs(this.labelRotation),I=[];let F,k,z,W,$,ie,se,he,ye,xe,Ne,Ge,Ze="middle";if("top"===a)ie=this.bottom-R,se=this._getXAxisLabelAlignment();else if("bottom"===a)ie=this.top+R,se=this._getXAxisLabelAlignment();else if("left"===a){const je=this._getYAxisLabelAlignment(b);se=je.textAlign,$=je.x}else if("right"===a){const je=this._getYAxisLabelAlignment(b);se=je.textAlign,$=je.x}else if("x"===e){if("center"===a)ie=(n.top+n.bottom)/2+S;else if(Dt(a)){const je=Object.keys(a)[0];ie=this.chart.scales[je].getPixelForValue(a[je])+S}se=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===a)$=(n.left+n.right)/2-S;else if(Dt(a)){const je=Object.keys(a)[0];$=this.chart.scales[je].getPixelForValue(a[je])}se=this._getYAxisLabelAlignment(b).textAlign}"y"===e&&("start"===m?Ze="top":"end"===m&&(Ze="bottom"));const Yt=this._getLabelSizes();for(F=0,k=f.length;F<k;++F){z=f[F],W=z.label;const je=d.setContext(this.getContext(F));he=this.getPixelForTick(F)+d.labelOffset,ye=this._resolveTickFontOptions(F),xe=ye.lineHeight,Ne=sn(W)?W.length:1;const de=Ne/2,Oe=je.color,Fe=je.textStrokeColor,qe=je.textStrokeWidth;let Qt;if(p?($=he,Ge="top"===a?"near"===v||0!==A?-Ne*xe+xe/2:"center"===v?-Yt.highest.height/2-de*xe+xe:xe/2-Yt.highest.height:"near"===v||0!==A?xe/2:"center"===v?Yt.highest.height/2-de*xe:Yt.highest.height-Ne*xe,C&&(Ge*=-1)):(ie=he,Ge=(1-Ne)*xe/2),je.showLabelBackdrop){const Hn=tr(je.backdropPadding),hn=Yt.heights[F],gi=Yt.widths[F];let Ot=ie+Ge-Hn.top,Er=$-Hn.left;switch(Ze){case"middle":Ot-=hn/2;break;case"bottom":Ot-=hn}switch(se){case"center":Er-=gi/2;break;case"right":Er-=gi}Qt={left:Er,top:Ot,width:gi+Hn.width,height:hn+Hn.height,color:je.backdropColor}}I.push({rotation:A,label:W,font:ye,color:Oe,strokeColor:Fe,strokeWidth:qe,textOffset:Ge,textAlign:se,textBaseline:Ze,translation:[$,ie],backdrop:Qt})}return I}_getXAxisLabelAlignment(){const{position:n,ticks:e}=this.options;if(-Cs(this.labelRotation))return"top"===n?"left":"right";let a="center";return"start"===e.align?a="left":"end"===e.align&&(a="right"),a}_getYAxisLabelAlignment(n){const{position:e,ticks:{crossAlign:o,mirror:a,padding:d}}=this.options,f=n+d,m=this._getLabelSizes().widest.width;let v,y;return"left"===e?a?(y=this.right+d,"near"===o?v="left":"center"===o?(v="center",y+=m/2):(v="right",y+=m)):(y=this.right-f,"near"===o?v="right":"center"===o?(v="center",y-=m/2):(v="left",y=this.left)):"right"===e?a?(y=this.left+d,"near"===o?v="right":"center"===o?(v="center",y-=m/2):(v="left",y-=m)):(y=this.left+f,"near"===o?v="left":"center"===o?(v="center",y+=m/2):(v="right",y=this.right)):v="right",{textAlign:v,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const n=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:n.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:n.width}:void 0}drawBackground(){const{ctx:n,options:{backgroundColor:e},left:o,top:a,width:d,height:p}=this;e&&(n.save(),n.fillStyle=e,n.fillRect(o,a,d,p),n.restore())}getLineWidthForValue(n){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(d=>d.value===n);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(n){const e=this.options.grid,o=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n));let d,p;const f=(m,v,y)=>{!y.width||!y.color||(o.save(),o.lineWidth=y.width,o.strokeStyle=y.color,o.setLineDash(y.borderDash||[]),o.lineDashOffset=y.borderDashOffset,o.beginPath(),o.moveTo(m.x,m.y),o.lineTo(v.x,v.y),o.stroke(),o.restore())};if(e.display)for(d=0,p=a.length;d<p;++d){const m=a[d];e.drawOnChartArea&&f({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),e.drawTicks&&f({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){const{chart:n,ctx:e,options:{grid:o}}=this,a=o.setContext(this.getContext()),d=o.drawBorder?a.borderWidth:0;if(!d)return;const p=o.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,v,y,C;this.isHorizontal()?(m=ad(n,this.left,d)-d/2,v=ad(n,this.right,p)+p/2,y=C=f):(y=ad(n,this.top,d)-d/2,C=ad(n,this.bottom,p)+p/2,m=v=f),e.save(),e.lineWidth=a.borderWidth,e.strokeStyle=a.borderColor,e.beginPath(),e.moveTo(m,y),e.lineTo(v,C),e.stroke(),e.restore()}drawLabels(n){if(!this.options.ticks.display)return;const o=this.ctx,a=this._computeLabelArea();a&&oE(o,a);const d=this._labelItems||(this._labelItems=this._computeLabelItems(n));let p,f;for(p=0,f=d.length;p<f;++p){const m=d[p],v=m.font,y=m.label;m.backdrop&&(o.fillStyle=m.backdrop.color,o.fillRect(m.backdrop.left,m.backdrop.top,m.backdrop.width,m.backdrop.height)),ud(o,y,0,m.textOffset,v,m)}a&&sE(o)}drawTitle(){const{ctx:n,options:{position:e,title:o,reverse:a}}=this;if(!o.display)return;const d=fi(o.font),p=tr(o.padding),f=o.align;let m=d.lineHeight/2;"bottom"===e||"center"===e||Dt(e)?(m+=p.bottom,sn(o.text)&&(m+=d.lineHeight*(o.text.length-1))):m+=p.top;const{titleX:v,titleY:y,maxWidth:C,rotation:b}=function RJ(t,n,e,o){const{top:a,left:d,bottom:p,right:f,chart:m}=t,{chartArea:v,scales:y}=m;let b,S,R,C=0;const A=p-a,I=f-d;if(t.isHorizontal()){if(S=er(o,d,f),Dt(e)){const F=Object.keys(e)[0];R=y[F].getPixelForValue(e[F])+A-n}else R="center"===e?(v.bottom+v.top)/2+A-n:hH(t,e,n);b=f-d}else{if(Dt(e)){const F=Object.keys(e)[0];S=y[F].getPixelForValue(e[F])-I+n}else S="center"===e?(v.left+v.right)/2-I+n:hH(t,e,n);R=er(o,p,a),C="left"===e?-xn:xn}return{titleX:S,titleY:R,maxWidth:b,rotation:C}}(this,m,e,f);ud(n,o.text,0,0,d,{color:o.color,maxWidth:C,rotation:b,textAlign:DJ(f,e,a),textBaseline:"middle",translation:[v,y]})}draw(n){!this._isVisible()||(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){const n=this.options,e=n.ticks&&n.ticks.z||0,o=dt(n.grid&&n.grid.z,-1);return this._isVisible()&&this.draw===hd.prototype.draw?[{z:o,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o+1,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]:[{z:e,draw:a=>{this.draw(a)}}]}getMatchingVisibleMetas(n){const e=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",a=[];let d,p;for(d=0,p=e.length;d<p;++d){const f=e[d];f[o]===this.id&&(!n||f.type===n)&&a.push(f)}return a}_resolveTickFontOptions(n){return fi(this.options.ticks.setContext(this.getContext(n)).font)}_maxDigits(){const n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class mE{constructor(n,e,o){this.type=n,this.scope=e,this.override=o,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){const e=Object.getPrototypeOf(n);let o;(function AJ(t){return"id"in t&&"defaults"in t})(e)&&(o=this.register(e));const a=this.items,d=n.id,p=this.scope+"."+d;if(!d)throw new Error("class does not have id: "+n);return d in a||(a[d]=n,function OJ(t,n,e){const o=fv(Object.create(null),[e?bt.get(e):{},bt.get(n),t.defaults]);bt.set(n,o),t.defaultRoutes&&function TJ(t,n){Object.keys(n).forEach(e=>{const o=e.split("."),a=o.pop(),d=[t].concat(o).join("."),p=n[e].split("."),f=p.pop(),m=p.join(".");bt.route(d,a,m,f)})}(n,t.defaultRoutes),t.descriptors&&bt.describe(n,t.descriptors)}(n,p,o),this.override&&bt.override(n.id,n.overrides)),p}get(n){return this.items[n]}unregister(n){const e=this.items,o=n.id,a=this.scope;o in e&&delete e[o],a&&o in bt[a]&&(delete bt[a][o],this.override&&delete sd[o])}}var Za=new class PJ{constructor(){this.controllers=new mE(Xa,"datasets",!0),this.elements=new mE(ws,"elements"),this.plugins=new mE(Object,"plugins"),this.scales=new mE(hd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,e,o){[...e].forEach(a=>{const d=o||this._getRegistryForType(a);o||d.isForType(a)||d===this.plugins&&a.id?this._exec(n,d,a):Kt(a,p=>{const f=o||this._getRegistryForType(p);this._exec(n,f,p)})})}_exec(n,e,o){const a=yA(n);an(o["before"+a],[],o),e[n](o),an(o["after"+a],[],o)}_getRegistryForType(n){for(let e=0;e<this._typedRegistries.length;e++){const o=this._typedRegistries[e];if(o.isForType(n))return o}return this.plugins}_get(n,e,o){const a=e.get(n);if(void 0===a)throw new Error('"'+n+'" is not a registered '+o+".");return a}};class NJ{constructor(){this._init=[]}notify(n,e,o,a){"beforeInit"===e&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));const d=a?this._descriptors(n).filter(a):this._descriptors(n),p=this._notify(d,n,e,o);return"afterDestroy"===e&&(this._notify(d,n,"stop"),this._notify(this._init,n,"uninstall")),p}_notify(n,e,o,a){a=a||{};for(const d of n){const p=d.plugin;if(!1===an(p[o],[e,a,d.options],p)&&a.cancelable)return!1}return!0}invalidate(){Ft(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),e}_createDescriptors(n,e){const o=n&&n.config,a=dt(o.options&&o.options.plugins,{}),d=function MJ(t){const n=[],e=Object.keys(Za.plugins.items);for(let a=0;a<e.length;a++)n.push(Za.getPlugin(e[a]));const o=t.plugins||[];for(let a=0;a<o.length;a++){const d=o[a];-1===n.indexOf(d)&&n.push(d)}return n}(o);return!1!==a||e?function xJ(t,n,e,o){const a=[],d=t.getContext();for(let p=0;p<n.length;p++){const f=n[p],v=IJ(e[f.id],o);null!==v&&a.push({plugin:f,options:FJ(t.config,f,v,d)})}return a}(n,d,a,e):[]}_notifyStateChanges(n){const e=this._oldCache||[],o=this._cache,a=(d,p)=>d.filter(f=>!p.some(m=>f.plugin.id===m.plugin.id));this._notify(a(e,o),n,"stop"),this._notify(a(o,e),n,"start")}}function IJ(t,n){return n||!1!==t?!0===t?{}:t:null}function FJ(t,n,e,o){const a=t.pluginScopeKeys(n),d=t.getOptionScopes(e,a);return t.createResolver(d,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function zA(t,n){return((n.datasets||{})[t]||{}).indexAxis||n.indexAxis||(bt.datasets[t]||{}).indexAxis||"x"}function $A(t,n){return"x"===t||"y"===t?t:n.axis||function kJ(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}(n.position)||t.charAt(0).toLowerCase()}function mH(t){const n=t.options||(t.options={});n.plugins=dt(n.plugins,{}),n.scales=function VJ(t,n){const e=sd[t.type]||{scales:{}},o=n.scales||{},a=zA(t.type,n),d=Object.create(null),p=Object.create(null);return Object.keys(o).forEach(f=>{const m=o[f];if(!Dt(m))return console.error(`Invalid scale configuration for scale: ${f}`);if(m._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${f}`);const v=$A(f,m),y=function GJ(t,n){return t===n?"_index_":"_value_"}(v,a),C=e.scales||{};d[v]=d[v]||f,p[f]=gv(Object.create(null),[{axis:v},m,C[v],C[y]])}),t.data.datasets.forEach(f=>{const m=f.type||t.type,v=f.indexAxis||zA(m,n),C=(sd[m]||{}).scales||{};Object.keys(C).forEach(b=>{const S=function LJ(t,n){let e=t;return"_index_"===t?e=n:"_value_"===t&&(e="x"===n?"y":"x"),e}(b,v),R=f[S+"AxisID"]||d[S]||S;p[R]=p[R]||Object.create(null),gv(p[R],[{axis:S},o[R],C[b]])})}),Object.keys(p).forEach(f=>{const m=p[f];gv(m,[bt.scales[m.type],bt.scale])}),p}(t,n)}function vH(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const yH=new Map,_H=new Set;function vE(t,n){let e=yH.get(t);return e||(e=n(),yH.set(t,e),_H.add(e)),e}const xv=(t,n,e)=>{const o=od(n,e);void 0!==o&&t.add(o)};class BJ{constructor(n){this._config=function HJ(t){return(t=t||{}).data=vH(t.data),mH(t),t}(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=vH(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){const n=this._config;this.clearCache(),mH(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return vE(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,e){return vE(`${n}.transition.${e}`,()=>[[`datasets.${n}.transitions.${e}`,`transitions.${e}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,e){return vE(`${n}-${e}`,()=>[[`datasets.${n}.elements.${e}`,`datasets.${n}`,`elements.${e}`,""]])}pluginScopeKeys(n){const e=n.id;return vE(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,e){const o=this._scopeCache;let a=o.get(n);return(!a||e)&&(a=new Map,o.set(n,a)),a}getOptionScopes(n,e,o){const{options:a,type:d}=this,p=this._cachedScopes(n,o),f=p.get(e);if(f)return f;const m=new Set;e.forEach(y=>{n&&(m.add(n),y.forEach(C=>xv(m,n,C))),y.forEach(C=>xv(m,a,C)),y.forEach(C=>xv(m,sd[d]||{},C)),y.forEach(C=>xv(m,bt,C)),y.forEach(C=>xv(m,OA,C))});const v=Array.from(m);return 0===v.length&&v.push(Object.create(null)),_H.has(e)&&p.set(e,v),v}chartOptionScopes(){const{options:n,type:e}=this;return[n,sd[e]||{},bt.datasets[e]||{},{type:e},bt,OA]}resolveNamedOptions(n,e,o,a=[""]){const d={$shared:!0},{resolver:p,subPrefixes:f}=CH(this._resolverCache,n,a);let m=p;(function jJ(t,n){const{isScriptable:e,isIndexable:o}=mV(t);for(const a of n){const d=e(a),p=o(a),f=(p||d)&&t[a];if(d&&(yu(f)||WJ(f))||p&&sn(f))return!0}return!1})(p,e)&&(d.$shared=!1,m=xh(p,o=yu(o)?o():o,this.createResolver(n,o,f)));for(const v of e)d[v]=m[v];return d}createResolver(n,e,o=[""],a){const{resolver:d}=CH(this._resolverCache,n,o);return Dt(e)?xh(d,e,void 0,a):d}}function CH(t,n,e){let o=t.get(n);o||(o=new Map,t.set(n,o));const a=e.join();let d=o.get(a);return d||(d={resolver:NA(n,e),subPrefixes:e.filter(f=>!f.toLowerCase().includes("hover"))},o.set(a,d)),d}const WJ=t=>Dt(t)&&Object.getOwnPropertyNames(t).reduce((n,e)=>n||yu(t[e]),!1),zJ=["top","bottom","left","right","chartArea"];function wH(t,n){return"top"===t||"bottom"===t||-1===zJ.indexOf(t)&&"x"===n}function bH(t,n){return function(e,o){return e[t]===o[t]?e[n]-o[n]:e[t]-o[t]}}function EH(t){const n=t.chart,e=n.options.animation;n.notifyPlugins("afterRender"),an(e&&e.onComplete,[t],n)}function $J(t){const n=t.chart,e=n.options.animation;an(e&&e.onProgress,[t],n)}function SH(t){return EV()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const yE={},DH=t=>{const n=SH(t);return Object.values(yE).filter(e=>e.canvas===n).pop()};function KJ(t,n,e){const o=Object.keys(t);for(const a of o){const d=+a;if(d>=n){const p=t[a];delete t[a],(e>0||d>n)&&(t[d+e]=p)}}}class Fv{constructor(n,e){const o=this.config=new BJ(e),a=SH(n),d=DH(a);if(d)throw new Error("Canvas is already in use. Chart with ID '"+d.id+"' must be destroyed before the canvas can be reused.");const p=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||function pJ(t){return!EV()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?JZ:dJ}(a)),this.platform.updateConfig(o);const f=this.platform.acquireContext(a,p.aspectRatio),m=f&&f.canvas,v=m&&m.height,y=m&&m.width;this.id=FQ(),this.ctx=f,this.canvas=m,this.width=y,this.height=v,this._options=p,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new NJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function IQ(t,n){let e;return function(...o){return n?(clearTimeout(e),e=setTimeout(t,n,o)):t.apply(this,o),n}}(C=>this.update(C),p.resizeDelay||0),this._dataChanges=[],yE[this.id]=this,f&&m?(Qa.listen(this,"complete",EH),Qa.listen(this,"progress",$J),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:n,maintainAspectRatio:e},width:o,height:a,_aspectRatio:d}=this;return Ft(n)?e&&d?d:a?o/a:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():DV(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return dV(this.canvas,this.ctx),this}stop(){return Qa.stop(this),this}resize(n,e){Qa.running(this)?this._resizeBeforeDraw={width:n,height:e}:this._resize(n,e)}_resize(n,e){const o=this.options,p=this.platform.getMaximumSize(this.canvas,n,e,o.maintainAspectRatio&&this.aspectRatio),f=o.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=p.width,this.height=p.height,this._aspectRatio=this.aspectRatio,DV(this,f,!0)&&(this.notifyPlugins("resize",{size:p}),an(o.onResize,[this,p],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){Kt(this.options.scales||{},(o,a)=>{o.id=a})}buildOrUpdateScales(){const n=this.options,e=n.scales,o=this.scales,a=Object.keys(o).reduce((p,f)=>(p[f]=!1,p),{});let d=[];e&&(d=d.concat(Object.keys(e).map(p=>{const f=e[p],m=$A(p,f),v="r"===m,y="x"===m;return{options:f,dposition:v?"chartArea":y?"bottom":"left",dtype:v?"radialLinear":y?"category":"linear"}}))),Kt(d,p=>{const f=p.options,m=f.id,v=$A(m,f),y=dt(f.type,p.dtype);(void 0===f.position||wH(f.position,v)!==wH(p.dposition))&&(f.position=p.dposition),a[m]=!0;let C=null;m in o&&o[m].type===y?C=o[m]:(C=new(Za.getScale(y))({id:m,type:y,ctx:this.ctx,chart:this}),o[C.id]=C),C.init(f,n)}),Kt(a,(p,f)=>{p||delete o[f]}),Kt(o,p=>{nr.configure(this,p,p.options),nr.addBox(this,p)})}_updateMetasets(){const n=this._metasets,e=this.data.datasets.length,o=n.length;if(n.sort((a,d)=>a.index-d.index),o>e){for(let a=e;a<o;++a)this._destroyDatasetMeta(a);n.splice(e,o-e)}this._sortedMetasets=n.slice(0).sort(bH("order","index"))}_removeUnreferencedMetasets(){const{_metasets:n,data:{datasets:e}}=this;n.length>e.length&&delete this._stacks,n.forEach((o,a)=>{0===e.filter(d=>d===o._dataset).length&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const n=[],e=this.data.datasets;let o,a;for(this._removeUnreferencedMetasets(),o=0,a=e.length;o<a;o++){const d=e[o];let p=this.getDatasetMeta(o);const f=d.type||this.config.type;if(p.type&&p.type!==f&&(this._destroyDatasetMeta(o),p=this.getDatasetMeta(o)),p.type=f,p.indexAxis=d.indexAxis||zA(f,this.options),p.order=d.order||0,p.index=o,p.label=""+d.label,p.visible=this.isDatasetVisible(o),p.controller)p.controller.updateIndex(o),p.controller.linkScales();else{const m=Za.getController(f),{datasetElementType:v,dataElementType:y}=bt.datasets[f];Object.assign(m.prototype,{dataElementType:Za.getElement(y),datasetElementType:v&&Za.getElement(v)}),p.controller=new m(this,o),n.push(p.controller)}}return this._updateMetasets(),n}_resetElements(){Kt(this.data.datasets,(n,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){const e=this.config;e.update();const o=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0}))return;const d=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let p=0;for(let v=0,y=this.data.datasets.length;v<y;v++){const{controller:C}=this.getDatasetMeta(v),b=!a&&-1===d.indexOf(C);C.buildOrUpdateElements(b),p=Math.max(+C.getMaxOverflow(),p)}p=this._minPadding=o.layout.autoPadding?p:0,this._updateLayout(p),a||Kt(d,v=>{v.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(bH("z","_idx"));const{_active:f,_lastEvent:m}=this;m?this._eventHandler(m,!0):f.length&&this._updateHoverStyles(f,f,!0),this.render()}_updateScales(){Kt(this.scales,n=>{nr.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const n=this.options,e=new Set(Object.keys(this._listeners)),o=new Set(n.events);(!Kk(e,o)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:n}=this,e=this._getUniformDataChanges()||[];for(const{method:o,start:a,count:d}of e)KJ(n,a,"_removeElements"===o?-d:d)}_getUniformDataChanges(){const n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];const e=this.data.datasets.length,o=d=>new Set(n.filter(p=>p[0]===d).map((p,f)=>f+","+p.splice(1).join(","))),a=o(0);for(let d=1;d<e;d++)if(!Kk(a,o(d)))return;return Array.from(a).map(d=>d.split(",")).map(d=>({method:d[1],start:+d[2],count:+d[3]}))}_updateLayout(n){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;nr.update(this,this.width,this.height,n);const e=this.chartArea,o=e.width<=0||e.height<=0;this._layers=[],Kt(this.boxes,a=>{o&&"chartArea"===a.position||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,d)=>{a._idx=d}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})){for(let e=0,o=this.data.datasets.length;e<o;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,o=this.data.datasets.length;e<o;++e)this._updateDataset(e,yu(n)?n({datasetIndex:e}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,e){const o=this.getDatasetMeta(n),a={meta:o,index:n,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(o.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Qa.has(this)?this.attached&&!Qa.running(this)&&Qa.start(this):(this.draw(),EH({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){const{width:o,height:a}=this._resizeBeforeDraw;this._resize(o,a),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(n=0;n<e.length&&e[n].z<=0;++n)e[n].draw(this.chartArea);for(this._drawDatasets();n<e.length;++n)e[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){const e=this._sortedMetasets,o=[];let a,d;for(a=0,d=e.length;a<d;++a){const p=e[a];(!n||p.visible)&&o.push(p)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const n=this.getSortedVisibleDatasetMetas();for(let e=n.length-1;e>=0;--e)this._drawDataset(n[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){const e=this.ctx,o=n._clip,a=!o.disabled,d=this.chartArea,p={meta:n,index:n.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",p)&&(a&&oE(e,{left:!1===o.left?0:d.left-o.left,right:!1===o.right?this.width:d.right+o.right,top:!1===o.top?0:d.top-o.top,bottom:!1===o.bottom?this.height:d.bottom+o.bottom}),n.controller.draw(),a&&sE(e),p.cancelable=!1,this.notifyPlugins("afterDatasetDraw",p))}getElementsAtEventForMode(n,e,o,a){const d=zZ.modes[e];return"function"==typeof d?d(this,n,o,a):[]}getDatasetMeta(n){const e=this.data.datasets[n],o=this._metasets;let a=o.filter(d=>d&&d._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:n,_dataset:e,_parsed:[],_sorted:!1},o.push(a)),a}getContext(){return this.$context||(this.$context=_u(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){const e=this.data.datasets[n];if(!e)return!1;const o=this.getDatasetMeta(n);return"boolean"==typeof o.hidden?!o.hidden:!e.hidden}setDatasetVisibility(n,e){this.getDatasetMeta(n).hidden=!e}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,e,o){const a=o?"show":"hide",d=this.getDatasetMeta(n),p=d.controller._resolveAnimations(void 0,a);Bo(e)?(d.data[e].hidden=!o,this.update()):(this.setDatasetVisibility(n,o),p.update(d,{visible:o}),this.update(f=>f.datasetIndex===n?a:void 0))}hide(n,e){this._updateVisibility(n,e,!1)}show(n,e){this._updateVisibility(n,e,!0)}_destroyDatasetMeta(n){const e=this._metasets[n];e&&e.controller&&e.controller._destroy(),delete this._metasets[n]}_stop(){let n,e;for(this.stop(),Qa.remove(this),n=0,e=this.data.datasets.length;n<e;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:n,ctx:e}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),dV(n,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete yE[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const n=this._listeners,e=this.platform,o=(d,p)=>{e.addEventListener(this,d,p),n[d]=p},a=(d,p,f)=>{d.offsetX=p,d.offsetY=f,this._eventHandler(d)};Kt(this.options.events,d=>o(d,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const n=this._responsiveListeners,e=this.platform,o=(m,v)=>{e.addEventListener(this,m,v),n[m]=v},a=(m,v)=>{n[m]&&(e.removeEventListener(this,m,v),delete n[m])},d=(m,v)=>{this.canvas&&this.resize(m,v)};let p;const f=()=>{a("attach",f),this.attached=!0,this.resize(),o("resize",d),o("detach",p)};p=()=>{this.attached=!1,a("resize",d),this._stop(),this._resize(0,0),o("attach",f)},e.isAttached(this.canvas)?f():p()}unbindEvents(){Kt(this._listeners,(n,e)=>{this.platform.removeEventListener(this,e,n)}),this._listeners={},Kt(this._responsiveListeners,(n,e)=>{this.platform.removeEventListener(this,e,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,e,o){const a=o?"set":"remove";let d,p,f,m;for("dataset"===e&&(d=this.getDatasetMeta(n[0].datasetIndex),d.controller["_"+a+"DatasetHoverStyle"]()),f=0,m=n.length;f<m;++f){p=n[f];const v=p&&this.getDatasetMeta(p.datasetIndex).controller;v&&v[a+"HoverStyle"](p.element,p.datasetIndex,p.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){const e=this._active||[],o=n.map(({datasetIndex:d,index:p})=>{const f=this.getDatasetMeta(d);if(!f)throw new Error("No dataset found at index "+d);return{datasetIndex:d,element:f.data[p],index:p}});!qb(o,e)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,e))}notifyPlugins(n,e,o){return this._plugins.notify(this,n,e,o)}_updateHoverStyles(n,e,o){const a=this.options.hover,d=(m,v)=>m.filter(y=>!v.some(C=>y.datasetIndex===C.datasetIndex&&y.index===C.index)),p=d(e,n),f=o?n:d(n,e);p.length&&this.updateHoverStyle(p,a.mode,!1),f.length&&a.mode&&this.updateHoverStyle(f,a.mode,!0)}_eventHandler(n,e){const o={event:n,replay:e,cancelable:!0,inChartArea:ld(n,this.chartArea,this._minPadding)},a=p=>(p.options.events||this.options.events).includes(n.native.type);if(!1===this.notifyPlugins("beforeEvent",o,a))return;const d=this._handleEvent(n,e,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,a),(d||o.changed)&&this.render(),this}_handleEvent(n,e,o){const{_active:a=[],options:d}=this,f=this._getActiveElements(n,a,o,e),m=function BQ(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(n),v=function qJ(t,n,e,o){return e&&"mouseout"!==t.type?o?n:t:null}(n,this._lastEvent,o,m);o&&(this._lastEvent=null,an(d.onHover,[n,f,this],this),m&&an(d.onClick,[n,f,this],this));const y=!qb(f,a);return(y||e)&&(this._active=f,this._updateHoverStyles(f,a,e)),this._lastEvent=v,y}_getActiveElements(n,e,o,a){if("mouseout"===n.type)return[];if(!o)return e;const d=this.options.hover;return this.getElementsAtEventForMode(n,d.mode,d,a)}}const RH=()=>Kt(Fv.instances,t=>t._plugins.invalidate()),Cu=!0;function OH(t,n,e){const{startAngle:o,pixelMargin:a,x:d,y:p,outerRadius:f,innerRadius:m}=n;let v=a/f;t.beginPath(),t.arc(d,p,f,o-v,e+v),m>a?(v=a/m,t.arc(d,p,m,e+v,o-v,!0)):t.arc(d,p,a,e+xn,o-xn),t.closePath(),t.clip()}function Gh(t,n,e,o){return{x:e+t*Math.cos(n),y:o+t*Math.sin(n)}}function KA(t,n,e,o,a){const{x:d,y:p,startAngle:f,pixelMargin:m,innerRadius:v}=n,y=Math.max(n.outerRadius+o+e-m,0),C=v>0?v+o+e+m:0;let b=0;const S=a-f;if(o){const Fe=((v>0?v-o:0)+(y>0?y-o:0))/2;b=(S-(0!==Fe?S*Fe/(Fe+o):S))/2}const A=(S-Math.max(.001,S*y-e/En)/y)/2,I=f+A+b,F=a-A-b,{outerStart:k,outerEnd:z,innerStart:W,innerEnd:$}=function QJ(t,n,e,o){const a=function YJ(t){return AA(t,["outerStart","outerEnd","innerStart","innerEnd"])}(t.options.borderRadius),d=(e-n)/2,p=Math.min(d,o*n/2),f=m=>{const v=(e-Math.min(d,m))*o/2;return Di(m,0,Math.min(d,v))};return{outerStart:f(a.outerStart),outerEnd:f(a.outerEnd),innerStart:Di(a.innerStart,0,p),innerEnd:Di(a.innerEnd,0,p)}}(n,C,y,F-I),ie=y-k,se=y-z,he=I+k/ie,ye=F-z/se,xe=C+W,Ne=C+$,Ge=I+W/xe,Ze=F-$/Ne;if(t.beginPath(),t.arc(d,p,y,he,ye),z>0){const de=Gh(se,ye,d,p);t.arc(de.x,de.y,z,ye,F+xn)}const Yt=Gh(Ne,F,d,p);if(t.lineTo(Yt.x,Yt.y),$>0){const de=Gh(Ne,Ze,d,p);t.arc(de.x,de.y,$,F+xn,Ze+Math.PI)}if(t.arc(d,p,C,F-$/C,I+W/C,!0),W>0){const de=Gh(xe,Ge,d,p);t.arc(de.x,de.y,W,Ge+Math.PI,I-xn)}const je=Gh(ie,I,d,p);if(t.lineTo(je.x,je.y),k>0){const de=Gh(ie,he,d,p);t.arc(de.x,de.y,k,I-xn,he)}t.closePath()}Object.defineProperties(Fv,{defaults:{enumerable:Cu,value:bt},instances:{enumerable:Cu,value:yE},overrides:{enumerable:Cu,value:sd},registry:{enumerable:Cu,value:Za},version:{enumerable:Cu,value:"3.7.1"},getChart:{enumerable:Cu,value:DH},register:{enumerable:Cu,value:(...t)=>{Za.add(...t),RH()}},unregister:{enumerable:Cu,value:(...t)=>{Za.remove(...t),RH()}}});class Lv extends ws{constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,e,o){const a=this.getProps(["x","y"],o),{angle:d,distance:p}=Zk(a,{x:n,y:e}),{startAngle:f,endAngle:m,innerRadius:v,outerRadius:y,circumference:C}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),b=this.options.spacing/2,R=dt(C,m-f)>=en||_v(d,f,m),A=qa(p,v+b,y+b);return R&&A}getCenterPoint(n){const{x:e,y:o,startAngle:a,endAngle:d,innerRadius:p,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],n),{offset:m,spacing:v}=this.options,y=(a+d)/2,C=(p+f+v+m)/2;return{x:e+Math.cos(y)*C,y:o+Math.sin(y)*C}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:e,circumference:o}=this,a=(e.offset||0)/2,d=(e.spacing||0)/2;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=o>en?Math.floor(o/en):0,0===o||this.innerRadius<0||this.outerRadius<0)return;n.save();let p=0;if(a){p=a/2;const m=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(m)*p,Math.sin(m)*p),this.circumference>=En&&(p=a)}n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor;const f=function XJ(t,n,e,o){const{fullCircles:a,startAngle:d,circumference:p}=n;let f=n.endAngle;if(a){KA(t,n,e,o,d+en);for(let m=0;m<a;++m)t.fill();isNaN(p)||(f=d+p%en,p%en==0&&(f+=en))}return KA(t,n,e,o,f),t.fill(),f}(n,this,p,d);(function JJ(t,n,e,o,a){const{options:d}=n,{borderWidth:p,borderJoinStyle:f}=d,m="inner"===d.borderAlign;!p||(m?(t.lineWidth=2*p,t.lineJoin=f||"round"):(t.lineWidth=p,t.lineJoin=f||"bevel"),n.fullCircles&&function ZJ(t,n,e){const{x:o,y:a,startAngle:d,pixelMargin:p,fullCircles:f}=n,m=Math.max(n.outerRadius-p,0),v=n.innerRadius+p;let y;for(e&&OH(t,n,d+en),t.beginPath(),t.arc(o,a,v,d+en,d,!0),y=0;y<f;++y)t.stroke();for(t.beginPath(),t.arc(o,a,m,d,d+en),y=0;y<f;++y)t.stroke()}(t,n,m),m&&OH(t,n,a),KA(t,n,e,o,a),t.stroke())})(n,this,p,d,f),n.restore()}}function TH(t,n,e=n){t.lineCap=dt(e.borderCapStyle,n.borderCapStyle),t.setLineDash(dt(e.borderDash,n.borderDash)),t.lineDashOffset=dt(e.borderDashOffset,n.borderDashOffset),t.lineJoin=dt(e.borderJoinStyle,n.borderJoinStyle),t.lineWidth=dt(e.borderWidth,n.borderWidth),t.strokeStyle=dt(e.borderColor,n.borderColor)}function eee(t,n,e){t.lineTo(e.x,e.y)}function AH(t,n,e={}){const o=t.length,{start:a=0,end:d=o-1}=e,{start:p,end:f}=n,m=Math.max(a,p),v=Math.min(d,f);return{count:o,start:m,loop:n.loop,ilen:v<m&&!(a<p&&d<p||a>f&&d>f)?o+v-m:v-m}}function nee(t,n,e,o){const{points:a,options:d}=n,{count:p,start:f,loop:m,ilen:v}=AH(a,e,o),y=function tee(t){return t.stepped?mX:t.tension||"monotone"===t.cubicInterpolationMode?vX:eee}(d);let S,R,A,{move:C=!0,reverse:b}=o||{};for(S=0;S<=v;++S)R=a[(f+(b?v-S:S))%p],!R.skip&&(C?(t.moveTo(R.x,R.y),C=!1):y(t,A,R,b,d.stepped),A=R);return m&&(R=a[(f+(b?v:0))%p],y(t,A,R,b,d.stepped)),!!m}function iee(t,n,e,o){const a=n.points,{count:d,start:p,ilen:f}=AH(a,e,o),{move:m=!0,reverse:v}=o||{};let b,S,R,A,I,F,y=0,C=0;const k=W=>(p+(v?f-W:W))%d,z=()=>{A!==I&&(t.lineTo(y,I),t.lineTo(y,A),t.lineTo(y,F))};for(m&&(S=a[k(0)],t.moveTo(S.x,S.y)),b=0;b<=f;++b){if(S=a[k(b)],S.skip)continue;const W=S.x,$=S.y,ie=0|W;ie===R?($<A?A=$:$>I&&(I=$),y=(C*y+W)/++C):(z(),t.lineTo(W,$),R=ie,C=0,A=I=$),F=$}z()}function qA(t){const n=t.options;return t._decimated||t._loop||n.tension||"monotone"===n.cubicInterpolationMode||n.stepped||n.borderDash&&n.borderDash.length?nee:iee}Lv.id="arc",Lv.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},Lv.defaultRoutes={backgroundColor:"backgroundColor"};const aee="function"==typeof Path2D;let Gv=(()=>{class t extends ws{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,o){const a=this.options;!a.tension&&"monotone"!==a.cubicInterpolationMode||a.stepped||this._pointsUpdated||(jX(this._points,a,e,a.spanGaps?this._loop:this._fullLoop,o),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function oZ(t,n){const e=t.points,o=t.options.spanGaps,a=e.length;if(!a)return[];const d=!!t._loop,{start:p,end:f}=function iZ(t,n,e,o){let a=0,d=n-1;if(e&&!o)for(;a<n&&!t[a].skip;)a++;for(;a<n&&t[a].skip;)a++;for(a%=n,e&&(d+=a);d>a&&t[d%n].skip;)d--;return d%=n,{start:a,end:d}}(e,a,d,o);return function xV(t,n,e,o){return o&&o.setContext&&e?function sZ(t,n,e,o){const a=t._chart.getContext(),d=FV(t.options),{_datasetIndex:p,options:{spanGaps:f}}=t,m=e.length,v=[];let y=d,C=n[0].start,b=C;function S(R,A,I,F){const k=f?-1:1;if(R!==A){for(R+=m;e[R%m].skip;)R-=k;for(;e[A%m].skip;)A+=k;R%m!=A%m&&(v.push({start:R%m,end:A%m,loop:I,style:F}),y=F,C=A%m)}}for(const R of n){C=f?C:R.start;let I,A=e[C%m];for(b=C+1;b<=R.end;b++){const F=e[b%m];I=FV(o.setContext(_u(a,{type:"segment",p0:A,p1:F,p0DataIndex:(b-1)%m,p1DataIndex:b%m,datasetIndex:p}))),aZ(I,y)&&S(C,b-1,R.loop,y),A=F,y=I}C<b-1&&S(C,b-1,R.loop,y)}return v}(t,n,e,o):n}(t,!0===o?[{start:p,end:f,loop:d}]:function rZ(t,n,e,o){const a=t.length,d=[];let m,p=n,f=t[n];for(m=n+1;m<=e;++m){const v=t[m%a];v.skip||v.stop?f.skip||(d.push({start:n%a,end:(m-1)%a,loop:o=!1}),n=p=v.stop?m:null):(p=m,f.skip&&(n=m)),f=v}return null!==p&&d.push({start:n%a,end:p%a,loop:o}),d}(e,p,f<p?f+a:f,!!t._fullLoop&&0===p&&f===a-1),e,n)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,a=e.length;return a&&this.points[e[a-1].end]}interpolate(e,o){const a=this.options,d=e[o],p=this.points,f=IV(this,{property:o,start:d,end:d});if(!f.length)return;const m=[],v=function ree(t){return t.stepped?XX:t.tension||"monotone"===t.cubicInterpolationMode?ZX:dd}(a);let y,C;for(y=0,C=f.length;y<C;++y){const{start:b,end:S}=f[y],R=p[b],A=p[S];if(R===A){m.push(R);continue}const F=v(R,A,Math.abs((d-R[o])/(A[o]-R[o])),a.stepped);F[o]=e[o],m.push(F)}return 1===m.length?m[0]:m}pathSegment(e,o,a){return qA(this)(e,this,o,a)}path(e,o,a){const d=this.segments,p=qA(this);let f=this._loop;o=o||0,a=a||this.points.length-o;for(const m of d)f&=p(e,this,m,{start:o,end:o+a-1});return!!f}draw(e,o,a,d){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function lee(t,n,e,o){aee&&!n.options.segment?function oee(t,n,e,o){let a=n._path;a||(a=n._path=new Path2D,n.path(a,e,o)&&a.closePath()),TH(t,n.options),t.stroke(a)}(t,n,e,o):function see(t,n,e,o){const{segments:a,options:d}=n,p=qA(n);for(const f of a)TH(t,d,f.style),t.beginPath(),p(t,n,f,{start:e,end:e+o-1})&&t.closePath(),t.stroke()}(t,n,e,o)}(e,this,a,d),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t.id="line",t.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},t.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},t.descriptors={_scriptable:!0,_indexable:n=>"borderDash"!==n&&"fill"!==n},t})();function PH(t,n,e,o){const a=t.options,{[e]:d}=t.getProps([e],o);return Math.abs(n-d)<a.radius+a.hitRadius}let NH=(()=>{class t extends ws{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,o,a){const d=this.options,{x:p,y:f}=this.getProps(["x","y"],a);return Math.pow(e-p,2)+Math.pow(o-f,2)<Math.pow(d.hitRadius+d.radius,2)}inXRange(e,o){return PH(this,e,"x",o)}inYRange(e,o){return PH(this,e,"y",o)}getCenterPoint(e){const{x:o,y:a}=this.getProps(["x","y"],e);return{x:o,y:a}}size(e){let o=(e=e||this.options||{}).radius||0;return o=Math.max(o,o&&e.hoverRadius||0),2*(o+(o&&e.borderWidth||0))}draw(e,o){const a=this.options;this.skip||a.radius<.1||!ld(this,o,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,rE(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return t.id="point",t.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},t.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},t})();function MH(t,n){const{x:e,y:o,base:a,width:d,height:p}=t.getProps(["x","y","base","width","height"],n);let f,m,v,y,C;return t.horizontal?(C=p/2,f=Math.min(e,a),m=Math.max(e,a),v=o-C,y=o+C):(C=d/2,f=e-C,m=e+C,v=Math.min(o,a),y=Math.max(o,a)),{left:f,top:v,right:m,bottom:y}}function wu(t,n,e,o){return t?0:Di(n,e,o)}function YA(t,n,e,o){const a=null===n,d=null===e,f=t&&!(a&&d)&&MH(t,o);return f&&(a||qa(n,f.left,f.right))&&(d||qa(e,f.top,f.bottom))}function hee(t,n){t.rect(n.x,n.y,n.w,n.h)}function QA(t,n,e={}){const o=t.x!==e.x?-n:0,a=t.y!==e.y?-n:0;return{x:t.x+o,y:t.y+a,w:t.w+((t.x+t.w!==e.x+e.w?n:0)-o),h:t.h+((t.y+t.h!==e.y+e.h?n:0)-a),radius:t.radius}}class kv extends ws{constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){const{inflateAmount:e,options:{borderColor:o,backgroundColor:a}}=this,{inner:d,outer:p}=function dee(t){const n=MH(t),e=n.right-n.left,o=n.bottom-n.top,a=function uee(t,n,e){const a=t.borderSkipped,d=pV(t.options.borderWidth);return{t:wu(a.top,d.top,0,e),r:wu(a.right,d.right,0,n),b:wu(a.bottom,d.bottom,0,e),l:wu(a.left,d.left,0,n)}}(t,e/2,o/2),d=function cee(t,n,e){const{enableBorderRadius:o}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,d=Ih(a),p=Math.min(n,e),f=t.borderSkipped,m=o||Dt(a);return{topLeft:wu(!m||f.top||f.left,d.topLeft,0,p),topRight:wu(!m||f.top||f.right,d.topRight,0,p),bottomLeft:wu(!m||f.bottom||f.left,d.bottomLeft,0,p),bottomRight:wu(!m||f.bottom||f.right,d.bottomRight,0,p)}}(t,e/2,o/2);return{outer:{x:n.left,y:n.top,w:e,h:o,radius:d},inner:{x:n.left+a.l,y:n.top+a.t,w:e-a.l-a.r,h:o-a.t-a.b,radius:{topLeft:Math.max(0,d.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,d.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,d.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,d.bottomRight-Math.max(a.b,a.r))}}}}(this),f=function pee(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}(p.radius)?aE:hee;n.save(),(p.w!==d.w||p.h!==d.h)&&(n.beginPath(),f(n,QA(p,e,d)),n.clip(),f(n,QA(d,-e,p)),n.fillStyle=o,n.fill("evenodd")),n.beginPath(),f(n,QA(d,e)),n.fillStyle=a,n.fill(),n.restore()}inRange(n,e,o){return YA(this,n,e,o)}inXRange(n,e){return YA(this,n,null,e)}inYRange(n,e){return YA(this,null,n,e)}getCenterPoint(n){const{x:e,y:o,base:a,horizontal:d}=this.getProps(["x","y","base","horizontal"],n);return{x:d?(e+a)/2:e,y:d?o:(o+a)/2}}getRange(n){return"x"===n?this.width/2:this.height/2}}function wee(t,n,e){const o=function Cee(t){const n=t.options,e=n.fill;let o=dt(e&&e.target,e);return void 0===o&&(o=!!n.backgroundColor),!1!==o&&null!==o&&(!0===o?"origin":o)}(t);if(Dt(o))return!isNaN(o.value)&&o;let a=parseFloat(o);return Vn(a)&&Math.floor(a)===a?(("-"===o[0]||"+"===o[0])&&(a=n+a),!(a===n||a<0||a>=e)&&a):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}kv.id="bar",kv.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},kv.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class FH{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,e,o){const{x:a,y:d,radius:p}=this;return n.arc(a,d,p,(e=e||{start:0,end:en}).end,e.start,!0),!o.bounds}interpolate(n){const{x:e,y:o,radius:a}=this,d=n.angle;return{x:e+Math.cos(d)*a,y:o+Math.sin(d)*a,angle:d}}}function XA(t,n,e){for(;n>t;n--){const o=e[n];if(!isNaN(o.x)&&!isNaN(o.y))break}return n}function Tee(t,n,e){const o=[];for(let a=0;a<e.length;a++){const d=e[a],{first:p,last:f,point:m}=Aee(d,n,"x");if(!(!m||p&&f))if(p)o.unshift(m);else if(t.push(m),!f)break}t.push(...o)}function Aee(t,n,e){const o=t.interpolate(n,e);if(!o)return{};const a=o[e],d=t.segments,p=t.points;let f=!1,m=!1;for(let v=0;v<d.length;v++){const y=d[v],C=p[y.start][e],b=p[y.end][e];if(qa(a,C,b)){f=a===C,m=a===b;break}}return{first:f,last:m,point:o}}function Pee(t){const{chart:n,fill:e,line:o}=t;if(Vn(e))return function _ee(t,n){const e=t.getDatasetMeta(n);return e&&t.isDatasetVisible(n)?e.dataset:null}(n,e);if("stack"===e)return function Ree(t){const{scale:n,index:e,line:o}=t,a=[],d=o.segments,p=o.points,f=function Oee(t,n){const e=[],o=t.getMatchingVisibleMetas("line");for(let a=0;a<o.length;a++){const d=o[a];if(d.index===n)break;d.hidden||e.unshift(d.dataset)}return e}(n,e);f.push(LH({x:null,y:n.bottom},o));for(let m=0;m<d.length;m++){const v=d[m];for(let y=v.start;y<=v.end;y++)Tee(a,p[y],f)}return new Gv({points:a,options:{}})}(t);if("shape"===e)return!0;const a=function See(t){return(t.scale||{}).getPointPositionForValue?function Eee(t){const{scale:n,fill:e}=t,o=n.options,a=n.getLabels().length,d=[],p=o.reverse?n.max:n.min;let m,v,y;if(y="start"===e?p:"end"===e?o.reverse?n.min:n.max:Dt(e)?e.value:n.getBaseValue(),o.grid.circular)return v=n.getPointPositionForValue(0,p),new FH({x:v.x,y:v.y,radius:n.getDistanceFromCenterForValue(y)});for(m=0;m<a;++m)d.push(n.getPointPositionForValue(m,y));return d}(t):function bee(t){const{scale:n={},fill:e}=t;let a,o=null;return"start"===e?o=n.bottom:"end"===e?o=n.top:Dt(e)?o=n.getPixelForValue(e.value):n.getBasePixel&&(o=n.getBasePixel()),Vn(o)?(a=n.isHorizontal(),{x:a?o:null,y:a?null:o}):null}(t)}(t);return a instanceof FH?a:LH(a,o)}function LH(t,n){let e=[],o=!1;return sn(t)?(o=!0,e=t):e=function Dee(t,n){const{x:e=null,y:o=null}=t||{},a=n.points,d=[];return n.segments.forEach(({start:p,end:f})=>{f=XA(p,f,a);const m=a[p],v=a[f];null!==o?(d.push({x:m.x,y:o}),d.push({x:v.x,y:o})):null!==e&&(d.push({x:e,y:m.y}),d.push({x:e,y:v.y}))}),d}(t,n),e.length?new Gv({points:e,options:{tension:0},_loop:o,_fullLoop:o}):null}function Nee(t,n,e){let a=t[n].fill;const d=[n];let p;if(!e)return a;for(;!1!==a&&-1===d.indexOf(a);){if(!Vn(a))return a;if(p=t[a],!p)return!1;if(p.visible)return a;d.push(a),a=p.fill}return!1}function GH(t,n,e){const{segments:o,points:a}=n;let d=!0,p=!1;t.beginPath();for(const f of o){const{start:m,end:v}=f,y=a[m],C=a[XA(m,v,a)];d?(t.moveTo(y.x,y.y),d=!1):(t.lineTo(y.x,e),t.lineTo(y.x,y.y)),p=!!n.pathSegment(t,f,{move:p}),p?t.closePath():t.lineTo(C.x,e)}t.lineTo(n.first().x,e),t.closePath(),t.clip()}function ZA(t,n,e,o){if(o)return;let a=n[t],d=e[t];return"angle"===t&&(a=yo(a),d=yo(d)),{property:t,start:a,end:d}}function kH(t,n,e,o){return t&&n?o(t[e],n[e]):t?t[e]:n?n[e]:0}function Iee(t,n,e){const{top:o,bottom:a}=n.chart.chartArea,{property:d,start:p,end:f}=e||{};"x"===d&&(t.beginPath(),t.rect(p,o,f-p,a-o),t.clip())}function VH(t,n,e,o){const a=n.interpolate(e,o);a&&t.lineTo(a.x,a.y)}function HH(t,n){const{line:e,target:o,property:a,color:d,scale:p}=n,f=function Mee(t,n,e){const o=t.segments,a=t.points,d=n.points,p=[];for(const f of o){let{start:m,end:v}=f;v=XA(m,v,a);const y=ZA(e,a[m],a[v],f.loop);if(!n.segments){p.push({source:f,target:y,start:a[m],end:a[v]});continue}const C=IV(n,y);for(const b of C){const S=ZA(e,d[b.start],d[b.end],b.loop),R=MV(f,a,S);for(const A of R)p.push({source:A,target:b,start:{[e]:kH(y,S,"start",Math.max)},end:{[e]:kH(y,S,"end",Math.min)}})}}return p}(e,o,a);for(const{source:m,target:v,start:y,end:C}of f){const{style:{backgroundColor:b=d}={}}=m,S=!0!==o;t.save(),t.fillStyle=b,Iee(t,p,S&&ZA(a,y,C)),t.beginPath();const R=!!e.pathSegment(t,m);let A;if(S){R?t.closePath():VH(t,o,C,a);const I=!!o.pathSegment(t,v,{move:R,reverse:!0});A=R&&I,A||VH(t,o,y,a)}t.closePath(),t.fill(A?"evenodd":"nonzero"),t.restore()}}function JA(t,n,e){const o=Pee(n),{line:a,scale:d,axis:p}=n,f=a.options,m=f.fill,v=f.backgroundColor,{above:y=v,below:C=v}=m||{};o&&a.points.length&&(oE(t,e),function xee(t,n){const{line:e,target:o,above:a,below:d,area:p,scale:f}=n,m=e._loop?"angle":n.axis;t.save(),"x"===m&&d!==a&&(GH(t,o,p.top),HH(t,{line:e,target:o,color:a,scale:f,property:m}),t.restore(),t.save(),GH(t,o,p.bottom)),HH(t,{line:e,target:o,color:d,scale:f,property:m}),t.restore()}(t,{line:a,target:o,above:y,below:C,area:e,scale:d,axis:p}),sE(t))}var BH={id:"filler",afterDatasetsUpdate(t,n,e){const o=(t.data.datasets||[]).length,a=[];let d,p,f,m;for(p=0;p<o;++p)d=t.getDatasetMeta(p),f=d.dataset,m=null,f&&f.options&&f instanceof Gv&&(m={visible:t.isDatasetVisible(p),index:p,fill:wee(f,p,o),chart:t,axis:d.controller.options.indexAxis,scale:d.vScale,line:f}),d.$filler=m,a.push(m);for(p=0;p<o;++p)m=a[p],m&&!1!==m.fill&&(m.fill=Nee(a,p,e.propagate))},beforeDraw(t,n,e){const o="beforeDraw"===e.drawTime,a=t.getSortedVisibleDatasetMetas(),d=t.chartArea;for(let p=a.length-1;p>=0;--p){const f=a[p].$filler;!f||(f.line.updateControlPoints(d,f.axis),o&&JA(t.ctx,f,d))}},beforeDatasetsDraw(t,n,e){if("beforeDatasetsDraw"!==e.drawTime)return;const o=t.getSortedVisibleDatasetMetas();for(let a=o.length-1;a>=0;--a){const d=o[a].$filler;d&&JA(t.ctx,d,t.chartArea)}},beforeDatasetDraw(t,n,e){const o=n.meta.$filler;!o||!1===o.fill||"beforeDatasetDraw"!==e.drawTime||JA(t.ctx,o,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const WH=(t,n)=>{let{boxHeight:e=n,boxWidth:o=n}=t;return t.usePointStyle&&(e=Math.min(e,n),o=Math.min(o,n)),{boxWidth:o,boxHeight:e,itemHeight:Math.max(n,e)}};class jH extends ws{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e,o){this.maxWidth=n,this.maxHeight=e,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const n=this.options.labels||{};let e=an(n.generateLabels,[this.chart],this)||[];n.filter&&(e=e.filter(o=>n.filter(o,this.chart.data))),n.sort&&(e=e.sort((o,a)=>n.sort(o,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:n,ctx:e}=this;if(!n.display)return void(this.width=this.height=0);const o=n.labels,a=fi(o.font),d=a.size,p=this._computeTitleHeight(),{boxWidth:f,itemHeight:m}=WH(o,d);let v,y;e.font=a.string,this.isHorizontal()?(v=this.maxWidth,y=this._fitRows(p,d,f,m)+10):(y=this.maxHeight,v=this._fitCols(p,d,f,m)+10),this.width=Math.min(v,n.maxWidth||this.maxWidth),this.height=Math.min(y,n.maxHeight||this.maxHeight)}_fitRows(n,e,o,a){const{ctx:d,maxWidth:p,options:{labels:{padding:f}}}=this,m=this.legendHitBoxes=[],v=this.lineWidths=[0],y=a+f;let C=n;d.textAlign="left",d.textBaseline="middle";let b=-1,S=-y;return this.legendItems.forEach((R,A)=>{const I=o+e/2+d.measureText(R.text).width;(0===A||v[v.length-1]+I+2*f>p)&&(C+=y,v[v.length-(A>0?0:1)]=0,S+=y,b++),m[A]={left:0,top:S,row:b,width:I,height:a},v[v.length-1]+=I+f}),C}_fitCols(n,e,o,a){const{ctx:d,maxHeight:p,options:{labels:{padding:f}}}=this,m=this.legendHitBoxes=[],v=this.columnSizes=[],y=p-n;let C=f,b=0,S=0,R=0,A=0;return this.legendItems.forEach((I,F)=>{const k=o+e/2+d.measureText(I.text).width;F>0&&S+a+2*f>y&&(C+=b+f,v.push({width:b,height:S}),R+=b+f,A++,b=S=0),m[F]={left:R,top:S,col:A,width:k,height:a},b=Math.max(b,k),S+=a+f}),C+=b,v.push({width:b,height:S}),C}adjustHitBoxes(){if(!this.options.display)return;const n=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:o,labels:{padding:a},rtl:d}}=this,p=Lh(d,this.left,this.width);if(this.isHorizontal()){let f=0,m=er(o,this.left+a,this.right-this.lineWidths[f]);for(const v of e)f!==v.row&&(f=v.row,m=er(o,this.left+a,this.right-this.lineWidths[f])),v.top+=this.top+n+a,v.left=p.leftForLtr(p.x(m),v.width),m+=v.width+a}else{let f=0,m=er(o,this.top+n+a,this.bottom-this.columnSizes[f].height);for(const v of e)v.col!==f&&(f=v.col,m=er(o,this.top+n+a,this.bottom-this.columnSizes[f].height)),v.top=m,v.left+=this.left+a,v.left=p.leftForLtr(p.x(v.left),v.width),m+=v.height+a}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const n=this.ctx;oE(n,this),this._draw(),sE(n)}}_draw(){const{options:n,columnSizes:e,lineWidths:o,ctx:a}=this,{align:d,labels:p}=n,f=bt.color,m=Lh(n.rtl,this.left,this.width),v=fi(p.font),{color:y,padding:C}=p,b=v.size,S=b/2;let R;this.drawTitle(),a.textAlign=m.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=v.string;const{boxWidth:A,boxHeight:I,itemHeight:F}=WH(p,b),W=this.isHorizontal(),$=this._computeTitleHeight();R=W?{x:er(d,this.left+C,this.right-o[0]),y:this.top+C+$,line:0}:{x:this.left+C,y:er(d,this.top+$+C,this.bottom-e[0].height),line:0},TV(this.ctx,n.textDirection);const ie=F+C;this.legendItems.forEach((se,he)=>{a.strokeStyle=se.fontColor||y,a.fillStyle=se.fontColor||y;const ye=a.measureText(se.text).width,xe=m.textAlign(se.textAlign||(se.textAlign=p.textAlign)),Ne=A+S+ye;let Ge=R.x,Ze=R.y;m.setWidth(this.width),W?he>0&&Ge+Ne+C>this.right&&(Ze=R.y+=ie,R.line++,Ge=R.x=er(d,this.left+C,this.right-o[R.line])):he>0&&Ze+ie>this.bottom&&(Ge=R.x=Ge+e[R.line].width+C,R.line++,Ze=R.y=er(d,this.top+$+C,this.bottom-e[R.line].height)),function(se,he,ye){if(isNaN(A)||A<=0||isNaN(I)||I<0)return;a.save();const xe=dt(ye.lineWidth,1);if(a.fillStyle=dt(ye.fillStyle,f),a.lineCap=dt(ye.lineCap,"butt"),a.lineDashOffset=dt(ye.lineDashOffset,0),a.lineJoin=dt(ye.lineJoin,"miter"),a.lineWidth=xe,a.strokeStyle=dt(ye.strokeStyle,f),a.setLineDash(dt(ye.lineDash,[])),p.usePointStyle){const Ne={radius:A*Math.SQRT2/2,pointStyle:ye.pointStyle,rotation:ye.rotation,borderWidth:xe},Ge=m.xPlus(se,A/2);rE(a,Ne,Ge,he+S)}else{const Ne=he+Math.max((b-I)/2,0),Ge=m.leftForLtr(se,A),Ze=Ih(ye.borderRadius);a.beginPath(),Object.values(Ze).some(Yt=>0!==Yt)?aE(a,{x:Ge,y:Ne,w:A,h:I,radius:Ze}):a.rect(Ge,Ne,A,I),a.fill(),0!==xe&&a.stroke()}a.restore()}(m.x(Ge),Ze,se),Ge=((t,n,e,o)=>t===(o?"left":"right")?e:"center"===t?(n+e)/2:n)(xe,Ge+A+S,W?Ge+Ne:this.right,n.rtl),function(se,he,ye){ud(a,ye.text,se,he+F/2,v,{strikethrough:ye.hidden,textAlign:m.textAlign(ye.textAlign)})}(m.x(Ge),Ze,se),W?R.x+=Ne+C:R.y+=ie}),AV(this.ctx,n.textDirection)}drawTitle(){const n=this.options,e=n.title,o=fi(e.font),a=tr(e.padding);if(!e.display)return;const d=Lh(n.rtl,this.left,this.width),p=this.ctx,f=e.position,v=a.top+o.size/2;let y,C=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),y=this.top+v,C=er(n.align,C,this.right-b);else{const R=this.columnSizes.reduce((A,I)=>Math.max(A,I.height),0);y=v+er(n.align,this.top,this.bottom-R-n.labels.padding-this._computeTitleHeight())}const S=er(f,C,C+b);p.textAlign=d.textAlign(vA(f)),p.textBaseline="middle",p.strokeStyle=e.color,p.fillStyle=e.color,p.font=o.string,ud(p,e.text,S,y,o)}_computeTitleHeight(){const n=this.options.title,e=fi(n.font),o=tr(n.padding);return n.display?e.lineHeight+o.height:0}_getLegendItemAt(n,e){let o,a,d;if(qa(n,this.left,this.right)&&qa(e,this.top,this.bottom))for(d=this.legendHitBoxes,o=0;o<d.length;++o)if(a=d[o],qa(n,a.left,a.left+a.width)&&qa(e,a.top,a.top+a.height))return this.legendItems[o];return null}handleEvent(n){const e=this.options;if(!function Lee(t,n){return!!("mousemove"===t&&(n.onHover||n.onLeave)||n.onClick&&("click"===t||"mouseup"===t))}(n.type,e))return;const o=this._getLegendItemAt(n.x,n.y);if("mousemove"===n.type){const a=this._hoveredItem,d=((t,n)=>null!==t&&null!==n&&t.datasetIndex===n.datasetIndex&&t.index===n.index)(a,o);a&&!d&&an(e.onLeave,[n,a,this],this),this._hoveredItem=o,o&&!d&&an(e.onHover,[n,o,this],this)}else o&&an(e.onClick,[n,o,this],this)}}var UH={id:"legend",_element:jH,start(t,n,e){const o=t.legend=new jH({ctx:t.ctx,options:e,chart:t});nr.configure(t,o,e),nr.addBox(t,o)},stop(t){nr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,n,e){const o=t.legend;nr.configure(t,o,e),o.options=e},afterUpdate(t){const n=t.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(t,n){n.replay||t.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,n,e){const o=n.datasetIndex,a=e.chart;a.isDatasetVisible(o)?(a.hide(o),n.hidden=!0):(a.show(o),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const n=t.data.datasets,{labels:{usePointStyle:e,pointStyle:o,textAlign:a,color:d}}=t.legend.options;return t._getSortedDatasetMetas().map(p=>{const f=p.controller.getStyle(e?0:void 0),m=tr(f.borderWidth);return{text:n[p.index].label,fillStyle:f.backgroundColor,fontColor:d,hidden:!p.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:o||f.pointStyle,rotation:f.rotation,textAlign:a||f.textAlign,borderRadius:0,datasetIndex:p.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class eP extends ws{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e){const o=this.options;if(this.left=0,this.top=0,!o.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=n,this.height=this.bottom=e;const a=sn(o.text)?o.text.length:1;this._padding=tr(o.padding);const d=a*fi(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=d:this.width=d}isHorizontal(){const n=this.options.position;return"top"===n||"bottom"===n}_drawArgs(n){const{top:e,left:o,bottom:a,right:d,options:p}=this,f=p.align;let v,y,C,m=0;return this.isHorizontal()?(y=er(f,o,d),C=e+n,v=d-o):("left"===p.position?(y=o+n,C=er(f,a,e),m=-.5*En):(y=d-n,C=er(f,e,a),m=.5*En),v=a-e),{titleX:y,titleY:C,maxWidth:v,rotation:m}}draw(){const n=this.ctx,e=this.options;if(!e.display)return;const o=fi(e.font),d=o.lineHeight/2+this._padding.top,{titleX:p,titleY:f,maxWidth:m,rotation:v}=this._drawArgs(d);ud(n,e.text,0,0,o,{color:e.color,maxWidth:m,rotation:v,textAlign:vA(e.align),textBaseline:"middle",translation:[p,f]})}}var zH={id:"title",_element:eP,start(t,n,e){!function Gee(t,n){const e=new eP({ctx:t.ctx,options:n,chart:t});nr.configure(t,e,n),nr.addBox(t,e),t.titleBlock=e}(t,e)},stop(t){nr.removeBox(t,t.titleBlock),delete t.titleBlock},beforeUpdate(t,n,e){const o=t.titleBlock;nr.configure(t,o,e),o.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vv={average(t){if(!t.length)return!1;let n,e,o=0,a=0,d=0;for(n=0,e=t.length;n<e;++n){const p=t[n].element;if(p&&p.hasValue()){const f=p.tooltipPosition();o+=f.x,a+=f.y,++d}}return{x:o/d,y:a/d}},nearest(t,n){if(!t.length)return!1;let d,p,f,e=n.x,o=n.y,a=Number.POSITIVE_INFINITY;for(d=0,p=t.length;d<p;++d){const m=t[d].element;if(m&&m.hasValue()){const y=CA(n,m.getCenterPoint());y<a&&(a=y,f=m)}}if(f){const m=f.tooltipPosition();e=m.x,o=m.y}return{x:e,y:o}}};function ia(t,n){return n&&(sn(n)?Array.prototype.push.apply(t,n):t.push(n)),t}function Ja(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Vee(t,n){const{element:e,datasetIndex:o,index:a}=n,d=t.getDatasetMeta(o).controller,{label:p,value:f}=d.getLabelAndValue(a);return{chart:t,label:p,parsed:d.getParsed(a),raw:t.data.datasets[o].data[a],formattedValue:f,dataset:d.getDataset(),dataIndex:a,datasetIndex:o,element:e}}function $H(t,n){const e=t.chart.ctx,{body:o,footer:a,title:d}=t,{boxWidth:p,boxHeight:f}=n,m=fi(n.bodyFont),v=fi(n.titleFont),y=fi(n.footerFont),C=d.length,b=a.length,S=o.length,R=tr(n.padding);let A=R.height,I=0,F=o.reduce((W,$)=>W+$.before.length+$.lines.length+$.after.length,0);F+=t.beforeBody.length+t.afterBody.length,C&&(A+=C*v.lineHeight+(C-1)*n.titleSpacing+n.titleMarginBottom),F&&(A+=S*(n.displayColors?Math.max(f,m.lineHeight):m.lineHeight)+(F-S)*m.lineHeight+(F-1)*n.bodySpacing),b&&(A+=n.footerMarginTop+b*y.lineHeight+(b-1)*n.footerSpacing);let k=0;const z=function(W){I=Math.max(I,e.measureText(W).width+k)};return e.save(),e.font=v.string,Kt(t.title,z),e.font=m.string,Kt(t.beforeBody.concat(t.afterBody),z),k=n.displayColors?p+2+n.boxPadding:0,Kt(o,W=>{Kt(W.before,z),Kt(W.lines,z),Kt(W.after,z)}),k=0,e.font=y.string,Kt(t.footer,z),e.restore(),I+=R.width,{width:I,height:A}}function Wee(t,n,e,o){const{x:a,width:d}=e,{width:p,chartArea:{left:f,right:m}}=t;let v="center";return"center"===o?v=a<=(f+m)/2?"left":"right":a<=d/2?v="left":a>=p-d/2&&(v="right"),function Bee(t,n,e,o){const{x:a,width:d}=o,p=e.caretSize+e.caretPadding;if("left"===t&&a+d+p>n.width||"right"===t&&a-d-p<0)return!0}(v,t,n,e)&&(v="center"),v}function KH(t,n,e){const o=e.yAlign||n.yAlign||function Hee(t,n){const{y:e,height:o}=n;return e<o/2?"top":e>t.height-o/2?"bottom":"center"}(t,e);return{xAlign:e.xAlign||n.xAlign||Wee(t,n,e,o),yAlign:o}}function qH(t,n,e,o){const{caretSize:a,caretPadding:d,cornerRadius:p}=t,{xAlign:f,yAlign:m}=e,v=a+d,{topLeft:y,topRight:C,bottomLeft:b,bottomRight:S}=Ih(p);let R=function jee(t,n){let{x:e,width:o}=t;return"right"===n?e-=o:"center"===n&&(e-=o/2),e}(n,f);const A=function Uee(t,n,e){let{y:o,height:a}=t;return"top"===n?o+=e:o-="bottom"===n?a+e:a/2,o}(n,m,v);return"center"===m?"left"===f?R+=v:"right"===f&&(R-=v):"left"===f?R-=Math.max(y,b)+a:"right"===f&&(R+=Math.max(C,S)+a),{x:Di(R,0,o.width-n.width),y:Di(A,0,o.height-n.height)}}function CE(t,n,e){const o=tr(e.padding);return"center"===n?t.x+t.width/2:"right"===n?t.x+t.width-o.right:t.x+o.left}function YH(t){return ia([],Ja(t))}function QH(t,n){const e=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return e?t.override(e):t}let XH=(()=>{class t extends ws{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const o=this.chart,a=this.options.setContext(this.getContext()),d=a.enabled&&o.options.animation&&a.animations,p=new GV(this.chart,d);return d._cacheable&&(this._cachedAnimations=Object.freeze(p)),p}getContext(){return this.$context||(this.$context=function zee(t,n,e){return _u(t,{tooltip:n,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,o){const{callbacks:a}=o,d=a.beforeTitle.apply(this,[e]),p=a.title.apply(this,[e]),f=a.afterTitle.apply(this,[e]);let m=[];return m=ia(m,Ja(d)),m=ia(m,Ja(p)),m=ia(m,Ja(f)),m}getBeforeBody(e,o){return YH(o.callbacks.beforeBody.apply(this,[e]))}getBody(e,o){const{callbacks:a}=o,d=[];return Kt(e,p=>{const f={before:[],lines:[],after:[]},m=QH(a,p);ia(f.before,Ja(m.beforeLabel.call(this,p))),ia(f.lines,m.label.call(this,p)),ia(f.after,Ja(m.afterLabel.call(this,p))),d.push(f)}),d}getAfterBody(e,o){return YH(o.callbacks.afterBody.apply(this,[e]))}getFooter(e,o){const{callbacks:a}=o,d=a.beforeFooter.apply(this,[e]),p=a.footer.apply(this,[e]),f=a.afterFooter.apply(this,[e]);let m=[];return m=ia(m,Ja(d)),m=ia(m,Ja(p)),m=ia(m,Ja(f)),m}_createItems(e){const o=this._active,a=this.chart.data,d=[],p=[],f=[];let v,y,m=[];for(v=0,y=o.length;v<y;++v)m.push(Vee(this.chart,o[v]));return e.filter&&(m=m.filter((C,b,S)=>e.filter(C,b,S,a))),e.itemSort&&(m=m.sort((C,b)=>e.itemSort(C,b,a))),Kt(m,C=>{const b=QH(e.callbacks,C);d.push(b.labelColor.call(this,C)),p.push(b.labelPointStyle.call(this,C)),f.push(b.labelTextColor.call(this,C))}),this.labelColors=d,this.labelPointStyles=p,this.labelTextColors=f,this.dataPoints=m,m}update(e,o){const a=this.options.setContext(this.getContext()),d=this._active;let p,f=[];if(d.length){const m=Vv[a.position].call(this,d,this._eventPosition);f=this._createItems(a),this.title=this.getTitle(f,a),this.beforeBody=this.getBeforeBody(f,a),this.body=this.getBody(f,a),this.afterBody=this.getAfterBody(f,a),this.footer=this.getFooter(f,a);const v=this._size=$H(this,a),y=Object.assign({},m,v),C=KH(this.chart,a,y),b=qH(a,y,C,this.chart);this.xAlign=C.xAlign,this.yAlign=C.yAlign,p={opacity:1,x:b.x,y:b.y,width:v.width,height:v.height,caretX:m.x,caretY:m.y}}else 0!==this.opacity&&(p={opacity:0});this._tooltipItems=f,this.$context=void 0,p&&this._resolveAnimations().update(this,p),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:o})}drawCaret(e,o,a,d){const p=this.getCaretPosition(e,a,d);o.lineTo(p.x1,p.y1),o.lineTo(p.x2,p.y2),o.lineTo(p.x3,p.y3)}getCaretPosition(e,o,a){const{xAlign:d,yAlign:p}=this,{caretSize:f,cornerRadius:m}=a,{topLeft:v,topRight:y,bottomLeft:C,bottomRight:b}=Ih(m),{x:S,y:R}=e,{width:A,height:I}=o;let F,k,z,W,$,ie;return"center"===p?($=R+I/2,"left"===d?(F=S,k=F-f,W=$+f,ie=$-f):(F=S+A,k=F+f,W=$-f,ie=$+f),z=F):(k="left"===d?S+Math.max(v,C)+f:"right"===d?S+A-Math.max(y,b)-f:this.caretX,"top"===p?(W=R,$=W-f,F=k-f,z=k+f):(W=R+I,$=W+f,F=k+f,z=k-f),ie=W),{x1:F,x2:k,x3:z,y1:W,y2:$,y3:ie}}drawTitle(e,o,a){const d=this.title,p=d.length;let f,m,v;if(p){const y=Lh(a.rtl,this.x,this.width);for(e.x=CE(this,a.titleAlign,a),o.textAlign=y.textAlign(a.titleAlign),o.textBaseline="middle",f=fi(a.titleFont),m=a.titleSpacing,o.fillStyle=a.titleColor,o.font=f.string,v=0;v<p;++v)o.fillText(d[v],y.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+m,v+1===p&&(e.y+=a.titleMarginBottom-m)}}_drawColorBox(e,o,a,d,p){const f=this.labelColors[a],m=this.labelPointStyles[a],{boxHeight:v,boxWidth:y,boxPadding:C}=p,b=fi(p.bodyFont),S=CE(this,"left",p),R=d.x(S),I=o.y+(v<b.lineHeight?(b.lineHeight-v)/2:0);if(p.usePointStyle){const F={radius:Math.min(y,v)/2,pointStyle:m.pointStyle,rotation:m.rotation,borderWidth:1},k=d.leftForLtr(R,y)+y/2,z=I+v/2;e.strokeStyle=p.multiKeyBackground,e.fillStyle=p.multiKeyBackground,rE(e,F,k,z),e.strokeStyle=f.borderColor,e.fillStyle=f.backgroundColor,rE(e,F,k,z)}else{e.lineWidth=f.borderWidth||1,e.strokeStyle=f.borderColor,e.setLineDash(f.borderDash||[]),e.lineDashOffset=f.borderDashOffset||0;const F=d.leftForLtr(R,y-C),k=d.leftForLtr(d.xPlus(R,1),y-C-2),z=Ih(f.borderRadius);Object.values(z).some(W=>0!==W)?(e.beginPath(),e.fillStyle=p.multiKeyBackground,aE(e,{x:F,y:I,w:y,h:v,radius:z}),e.fill(),e.stroke(),e.fillStyle=f.backgroundColor,e.beginPath(),aE(e,{x:k,y:I+1,w:y-2,h:v-2,radius:z}),e.fill()):(e.fillStyle=p.multiKeyBackground,e.fillRect(F,I,y,v),e.strokeRect(F,I,y,v),e.fillStyle=f.backgroundColor,e.fillRect(k,I+1,y-2,v-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,o,a){const{body:d}=this,{bodySpacing:p,bodyAlign:f,displayColors:m,boxHeight:v,boxWidth:y,boxPadding:C}=a,b=fi(a.bodyFont);let S=b.lineHeight,R=0;const A=Lh(a.rtl,this.x,this.width),I=function(ye){o.fillText(ye,A.x(e.x+R),e.y+S/2),e.y+=S+p},F=A.textAlign(f);let k,z,W,$,ie,se,he;for(o.textAlign=f,o.textBaseline="middle",o.font=b.string,e.x=CE(this,F,a),o.fillStyle=a.bodyColor,Kt(this.beforeBody,I),R=m&&"right"!==F?"center"===f?y/2+C:y+2+C:0,$=0,se=d.length;$<se;++$){for(k=d[$],z=this.labelTextColors[$],o.fillStyle=z,Kt(k.before,I),W=k.lines,m&&W.length&&(this._drawColorBox(o,e,$,A,a),S=Math.max(b.lineHeight,v)),ie=0,he=W.length;ie<he;++ie)I(W[ie]),S=b.lineHeight;Kt(k.after,I)}R=0,S=b.lineHeight,Kt(this.afterBody,I),e.y-=p}drawFooter(e,o,a){const d=this.footer,p=d.length;let f,m;if(p){const v=Lh(a.rtl,this.x,this.width);for(e.x=CE(this,a.footerAlign,a),e.y+=a.footerMarginTop,o.textAlign=v.textAlign(a.footerAlign),o.textBaseline="middle",f=fi(a.footerFont),o.fillStyle=a.footerColor,o.font=f.string,m=0;m<p;++m)o.fillText(d[m],v.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+a.footerSpacing}}drawBackground(e,o,a,d){const{xAlign:p,yAlign:f}=this,{x:m,y:v}=e,{width:y,height:C}=a,{topLeft:b,topRight:S,bottomLeft:R,bottomRight:A}=Ih(d.cornerRadius);o.fillStyle=d.backgroundColor,o.strokeStyle=d.borderColor,o.lineWidth=d.borderWidth,o.beginPath(),o.moveTo(m+b,v),"top"===f&&this.drawCaret(e,o,a,d),o.lineTo(m+y-S,v),o.quadraticCurveTo(m+y,v,m+y,v+S),"center"===f&&"right"===p&&this.drawCaret(e,o,a,d),o.lineTo(m+y,v+C-A),o.quadraticCurveTo(m+y,v+C,m+y-A,v+C),"bottom"===f&&this.drawCaret(e,o,a,d),o.lineTo(m+R,v+C),o.quadraticCurveTo(m,v+C,m,v+C-R),"center"===f&&"left"===p&&this.drawCaret(e,o,a,d),o.lineTo(m,v+b),o.quadraticCurveTo(m,v,m+b,v),o.closePath(),o.fill(),d.borderWidth>0&&o.stroke()}_updateAnimationTarget(e){const o=this.chart,a=this.$animations,d=a&&a.x,p=a&&a.y;if(d||p){const f=Vv[e.position].call(this,this._active,this._eventPosition);if(!f)return;const m=this._size=$H(this,e),v=Object.assign({},f,this._size),y=KH(o,e,v),C=qH(e,v,y,o);(d._to!==C.x||p._to!==C.y)&&(this.xAlign=y.xAlign,this.yAlign=y.yAlign,this.width=m.width,this.height=m.height,this.caretX=f.x,this.caretY=f.y,this._resolveAnimations().update(this,C))}}draw(e){const o=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(o);const d={width:this.width,height:this.height},p={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const f=tr(o.padding);o.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=a,this.drawBackground(p,e,d,o),TV(e,o.textDirection),p.y+=f.top,this.drawTitle(p,e,o),this.drawBody(p,e,o),this.drawFooter(p,e,o),AV(e,o.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,o){const a=this._active,d=e.map(({datasetIndex:m,index:v})=>{const y=this.chart.getDatasetMeta(m);if(!y)throw new Error("Cannot find a dataset at index "+m);return{datasetIndex:m,element:y.data[v],index:v}}),p=!qb(a,d),f=this._positionChanged(d,o);(p||f)&&(this._active=d,this._eventPosition=o,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,o,a=!0){if(o&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const d=this.options,p=this._active||[],f=this._getActiveElements(e,p,o,a),m=this._positionChanged(f,e),v=o||!qb(f,p)||m;return v&&(this._active=f,(d.enabled||d.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,o))),v}_getActiveElements(e,o,a,d){const p=this.options;if("mouseout"===e.type)return[];if(!d)return o;const f=this.chart.getElementsAtEventForMode(e,p.mode,p,a);return p.reverse&&f.reverse(),f}_positionChanged(e,o){const{caretX:a,caretY:d,options:p}=this,f=Vv[p.position].call(this,e,o);return!1!==f&&(a!==f.x||d!==f.y)}}return t.positioners=Vv,t})();var ZH={id:"tooltip",_element:XH,positioners:Vv,afterInit(t,n,e){e&&(t.tooltip=new XH({chart:t,options:e}))},beforeUpdate(t,n,e){t.tooltip&&t.tooltip.initialize(e)},reset(t,n,e){t.tooltip&&t.tooltip.initialize(e)},afterDraw(t){const n=t.tooltip,e={tooltip:n};!1!==t.notifyPlugins("beforeTooltipDraw",e)&&(n&&n.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e))},afterEvent(t,n){t.tooltip&&t.tooltip.handleEvent(n.event,n.replay,n.inChartArea)&&(n.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,n)=>n.bodyFont.size,boxWidth:(t,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ka,title(t){if(t.length>0){const n=t[0],e=n.chart.data.labels,o=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return n.dataset.label||"";if(n.label)return n.label;if(o>0&&n.dataIndex<o)return e[n.dataIndex]}return""},afterTitle:Ka,beforeBody:Ka,beforeLabel:Ka,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let n=t.dataset.label||"";n&&(n+=": ");const e=t.formattedValue;return Ft(e)||(n+=e),n},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ka,afterBody:Ka,beforeFooter:Ka,footer:Ka,afterFooter:Ka}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};class Hv extends hd{constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){const e=this._addedLabels;if(e.length){const o=this.getLabels();for(const{index:a,label:d}of e)o[a]===d&&o.splice(a,1);this._addedLabels=[]}super.init(n)}parse(n,e){if(Ft(n))return null;const o=this.getLabels();return((t,n)=>null===t?null:Di(Math.round(t),0,n))(e=isFinite(e)&&o[e]===n?e:function qee(t,n,e,o){const a=t.indexOf(n);return-1===a?((t,n,e,o)=>("string"==typeof n?(e=t.push(n)-1,o.unshift({index:e,label:n})):isNaN(n)&&(e=null),e))(t,n,e,o):a!==t.lastIndexOf(n)?e:a}(o,n,dt(e,n),this._addedLabels),o.length-1)}determineDataLimits(){const{minDefined:n,maxDefined:e}=this.getUserBounds();let{min:o,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(n||(o=0),e||(a=this.getLabels().length-1)),this.min=o,this.max=a}buildTicks(){const n=this.min,e=this.max,o=this.options.offset,a=[];let d=this.getLabels();d=0===n&&e===d.length-1?d:d.slice(n,e+1),this._valueRange=Math.max(d.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let p=n;p<=e;p++)a.push({value:p});return a}getLabelForValue(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return"number"!=typeof n&&(n=this.parse(n)),null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){const e=this.ticks;return n<0||n>e.length-1?null:this.getPixelForValue(e[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}function JH(t,n,{horizontal:e,minRotation:o}){const a=Cs(o),d=(e?Math.sin(a):Math.cos(a))||.001;return Math.min(n/d,.75*n*(""+t).length)}Hv.id="category",Hv.defaults={ticks:{callback:Hv.prototype.getLabelForValue}};class wE extends hd{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,e){return Ft(n)||("number"==typeof n||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){const{beginAtZero:n}=this.options,{minDefined:e,maxDefined:o}=this.getUserBounds();let{min:a,max:d}=this;const p=m=>a=e?a:m,f=m=>d=o?d:m;if(n){const m=na(a),v=na(d);m<0&&v<0?f(0):m>0&&v>0&&p(0)}if(a===d){let m=1;(d>=Number.MAX_SAFE_INTEGER||a<=Number.MIN_SAFE_INTEGER)&&(m=Math.abs(.05*d)),f(d+m),n||p(a-m)}this.min=a,this.max=d}getTickLimit(){const n=this.options.ticks;let a,{maxTicksLimit:e,stepSize:o}=n;return o?(a=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const n=this.options,e=n.ticks;let o=this.getTickLimit();o=Math.max(2,o);const p=function Qee(t,n){const e=[],{bounds:a,step:d,min:p,max:f,precision:m,count:v,maxTicks:y,maxDigits:C,includeBounds:b}=t,S=d||1,R=y-1,{min:A,max:I}=n,F=!Ft(p),k=!Ft(f),z=!Ft(v),W=(I-A)/(C+1);let ie,se,he,ye,$=Yk((I-A)/R/S)*S;if($<1e-14&&!F&&!k)return[{value:A},{value:I}];ye=Math.ceil(I/$)-Math.floor(A/$),ye>R&&($=Yk(ye*$/R/S)*S),Ft(m)||(ie=Math.pow(10,m),$=Math.ceil($*ie)/ie),"ticks"===a?(se=Math.floor(A/$)*$,he=Math.ceil(I/$)*$):(se=A,he=I),F&&k&&d&&function zQ(t,n){const e=Math.round(t);return e-n<=t&&e+n>=t}((f-p)/d,$/1e3)?(ye=Math.round(Math.min((f-p)/$,y)),$=(f-p)/ye,se=p,he=f):z?(se=F?p:se,he=k?f:he,ye=v-1,$=(he-se)/ye):(ye=(he-se)/$,ye=yv(ye,Math.round(ye),$/1e3)?Math.round(ye):Math.ceil(ye));const xe=Math.max(Xk($),Xk(se));ie=Math.pow(10,Ft(m)?xe:m),se=Math.round(se*ie)/ie,he=Math.round(he*ie)/ie;let Ne=0;for(F&&(b&&se!==p?(e.push({value:p}),se<p&&Ne++,yv(Math.round((se+Ne*$)*ie)/ie,p,JH(p,W,t))&&Ne++):se<p&&Ne++);Ne<ye;++Ne)e.push({value:Math.round((se+Ne*$)*ie)/ie});return k&&b&&he!==f?e.length&&yv(e[e.length-1].value,f,JH(f,W,t))?e[e.length-1].value=f:e.push({value:f}):(!k||he===f)&&e.push({value:he}),e}({maxTicks:o,bounds:n.bounds,min:n.min,max:n.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===n.bounds&&Qk(p,this,"value"),n.reverse?(p.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),p}configure(){const n=this.ticks;let e=this.min,o=this.max;if(super.configure(),this.options.offset&&n.length){const a=(o-e)/Math.max(n.length-1,1)/2;e-=a,o+=a}this._startValue=e,this._endValue=o,this._valueRange=o-e}getLabelForValue(n){return Rv(n,this.chart.options.locale,this.options.ticks.format)}}class bE extends wE{determineDataLimits(){const{min:n,max:e}=this.getMinMax(!0);this.min=Vn(n)?n:0,this.max=Vn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const n=this.isHorizontal(),e=n?this.width:this.height,o=Cs(this.options.ticks.minRotation),a=(n?Math.sin(o):Math.cos(o))||.001,d=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,d.lineHeight/a))}getPixelForValue(n){return null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}}function eB(t){return t/Math.pow(10,Math.floor(Wo(t)))==1}bE.id="linear",bE.defaults={ticks:{callback:fE.formatters.numeric}};class tP extends hd{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,e){const o=wE.prototype.parse.apply(this,[n,e]);if(0!==o)return Vn(o)&&o>0?o:null;this._zero=!0}determineDataLimits(){const{min:n,max:e}=this.getMinMax(!0);this.min=Vn(n)?Math.max(0,n):null,this.max=Vn(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:n,maxDefined:e}=this.getUserBounds();let o=this.min,a=this.max;const d=m=>o=n?o:m,p=m=>a=e?a:m,f=(m,v)=>Math.pow(10,Math.floor(Wo(m))+v);o===a&&(o<=0?(d(1),p(10)):(d(f(o,-1)),p(f(a,1)))),o<=0&&d(f(a,-1)),a<=0&&p(f(o,1)),this._zero&&this.min!==this._suggestedMin&&o===f(this.min,0)&&d(f(o,-1)),this.min=o,this.max=a}buildTicks(){const n=this.options,o=function Xee(t,n){const e=Math.floor(Wo(n.max)),o=Math.ceil(n.max/Math.pow(10,e)),a=[];let d=Ho(t.min,Math.pow(10,Math.floor(Wo(n.min)))),p=Math.floor(Wo(d)),f=Math.floor(d/Math.pow(10,p)),m=p<0?Math.pow(10,Math.abs(p)):1;do{a.push({value:d,major:eB(d)}),++f,10===f&&(f=1,++p,m=p>=0?1:m),d=Math.round(f*Math.pow(10,p)*m)/m}while(p<e||p===e&&f<o);const v=Ho(t.max,d);return a.push({value:v,major:eB(d)}),a}({min:this._userMin,max:this._userMax},this);return"ticks"===n.bounds&&Qk(o,this,"value"),n.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(n){return void 0===n?"0":Rv(n,this.chart.options.locale,this.options.ticks.format)}configure(){const n=this.min;super.configure(),this._startValue=Wo(n),this._valueRange=Wo(this.max)-Wo(n)}getPixelForValue(n){return(void 0===n||0===n)&&(n=this.min),null===n||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(Wo(n)-this._startValue)/this._valueRange)}getValueForPixel(n){const e=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+e*this._valueRange)}}function nP(t){const n=t.ticks;if(n.display&&t.display){const e=tr(n.backdropPadding);return dt(n.font&&n.font.size,bt.font.size)+e.height}return 0}function Zee(t,n,e){return e=sn(e)?e:[e],{w:gX(t,n.string,e),h:e.length*n.lineHeight}}function tB(t,n,e,o,a){return t===o||t===a?{start:n-e/2,end:n+e/2}:t<o||t>a?{start:n-e,end:n}:{start:n,end:n+e}}function ete(t,n,e,o,a){const d=Math.abs(Math.sin(e)),p=Math.abs(Math.cos(e));let f=0,m=0;o.start<n.l?(f=(n.l-o.start)/d,t.l=Math.min(t.l,n.l-f)):o.end>n.r&&(f=(o.end-n.r)/d,t.r=Math.max(t.r,n.r+f)),a.start<n.t?(m=(n.t-a.start)/p,t.t=Math.min(t.t,n.t-m)):a.end>n.b&&(m=(a.end-n.b)/p,t.b=Math.max(t.b,n.b+m))}function nte(t){return 0===t||180===t?"center":t<180?"left":"right"}function ite(t,n,e){return"right"===e?t-=n:"center"===e&&(t-=n/2),t}function rte(t,n,e){return 90===e||270===e?t-=n/2:(e>270||e<90)&&(t-=n),t}function nB(t,n,e,o){const{ctx:a}=t;if(e)a.arc(t.xCenter,t.yCenter,n,0,en);else{let d=t.getPointPosition(0,n);a.moveTo(d.x,d.y);for(let p=1;p<o;p++)d=t.getPointPosition(p,n),a.lineTo(d.x,d.y)}}tP.id="logarithmic",tP.defaults={ticks:{callback:fE.formatters.logarithmic,major:{enabled:!0}}};class kh extends wE{constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const n=this._padding=tr(nP(this.options)/2),e=this.width=this.maxWidth-n.width,o=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+e/2+n.left),this.yCenter=Math.floor(this.top+o/2+n.top),this.drawingArea=Math.floor(Math.min(e,o)/2)}determineDataLimits(){const{min:n,max:e}=this.getMinMax(!1);this.min=Vn(n)&&!isNaN(n)?n:0,this.max=Vn(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/nP(this.options))}generateTickLabels(n){wE.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((e,o)=>{const a=an(this.options.pointLabels.callback,[e,o],this);return a||0===a?a:""}).filter((e,o)=>this.chart.getDataVisibility(o))}fit(){const n=this.options;n.display&&n.pointLabels.display?function Jee(t){const n={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},e=Object.assign({},n),o=[],a=[],d=t._pointLabels.length,p=t.options.pointLabels,f=p.centerPointLabels?En/d:0;for(let m=0;m<d;m++){const v=p.setContext(t.getPointLabelContext(m));a[m]=v.padding;const y=t.getPointPosition(m,t.drawingArea+a[m],f),C=fi(v.font),b=Zee(t.ctx,C,t._pointLabels[m]);o[m]=b;const S=yo(t.getIndexAngle(m)+f),R=Math.round(_A(S));ete(e,n,S,tB(R,y.x,b.w,0,180),tB(R,y.y,b.h,90,270))}t.setCenterPoint(n.l-e.l,e.r-n.r,n.t-e.t,e.b-n.b),t._pointLabelItems=function tte(t,n,e){const o=[],a=t._pointLabels.length,d=t.options,p=nP(d)/2,f=t.drawingArea,m=d.pointLabels.centerPointLabels?En/a:0;for(let v=0;v<a;v++){const y=t.getPointPosition(v,f+p+e[v],m),C=Math.round(_A(yo(y.angle+xn))),b=n[v],S=rte(y.y,b.h,C),R=nte(C),A=ite(y.x,b.w,R);o.push({x:y.x,y:S,textAlign:R,left:A,top:S,right:A+b.w,bottom:S+b.h})}return o}(t,o,a)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,e,o,a){this.xCenter+=Math.floor((n-e)/2),this.yCenter+=Math.floor((o-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,e,o,a))}getIndexAngle(n){return yo(n*(en/(this._pointLabels.length||1))+Cs(this.options.startAngle||0))}getDistanceFromCenterForValue(n){if(Ft(n))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*e:(n-this.min)*e}getValueForDistanceFromCenter(n){if(Ft(n))return NaN;const e=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(n){const e=this._pointLabels||[];if(n>=0&&n<e.length){const o=e[n];return function ate(t,n,e){return _u(t,{label:e,index:n,type:"pointLabel"})}(this.getContext(),n,o)}}getPointPosition(n,e,o=0){const a=this.getIndexAngle(n)-xn+o;return{x:Math.cos(a)*e+this.xCenter,y:Math.sin(a)*e+this.yCenter,angle:a}}getPointPositionForValue(n,e){return this.getPointPosition(n,this.getDistanceFromCenterForValue(e))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){const{left:e,top:o,right:a,bottom:d}=this._pointLabelItems[n];return{left:e,top:o,right:a,bottom:d}}drawBackground(){const{backgroundColor:n,grid:{circular:e}}=this.options;if(n){const o=this.ctx;o.save(),o.beginPath(),nB(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),o.closePath(),o.fillStyle=n,o.fill(),o.restore()}}drawGrid(){const n=this.ctx,e=this.options,{angleLines:o,grid:a}=e,d=this._pointLabels.length;let p,f,m;if(e.pointLabels.display&&function ote(t,n){const{ctx:e,options:{pointLabels:o}}=t;for(let a=n-1;a>=0;a--){const d=o.setContext(t.getPointLabelContext(a)),p=fi(d.font),{x:f,y:m,textAlign:v,left:y,top:C,right:b,bottom:S}=t._pointLabelItems[a],{backdropColor:R}=d;if(!Ft(R)){const A=tr(d.backdropPadding);e.fillStyle=R,e.fillRect(y-A.left,C-A.top,b-y+A.width,S-C+A.height)}ud(e,t._pointLabels[a],f,m+p.lineHeight/2,p,{color:d.color,textAlign:v,textBaseline:"middle"})}}(this,d),a.display&&this.ticks.forEach((v,y)=>{0!==y&&(f=this.getDistanceFromCenterForValue(v.value),function ste(t,n,e,o){const a=t.ctx,d=n.circular,{color:p,lineWidth:f}=n;!d&&!o||!p||!f||e<0||(a.save(),a.strokeStyle=p,a.lineWidth=f,a.setLineDash(n.borderDash),a.lineDashOffset=n.borderDashOffset,a.beginPath(),nB(t,e,d,o),a.closePath(),a.stroke(),a.restore())}(this,a.setContext(this.getContext(y-1)),f,d))}),o.display){for(n.save(),p=d-1;p>=0;p--){const v=o.setContext(this.getPointLabelContext(p)),{color:y,lineWidth:C}=v;!C||!y||(n.lineWidth=C,n.strokeStyle=y,n.setLineDash(v.borderDash),n.lineDashOffset=v.borderDashOffset,f=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),m=this.getPointPosition(p,f),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(m.x,m.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){const n=this.ctx,e=this.options,o=e.ticks;if(!o.display)return;const a=this.getIndexAngle(0);let d,p;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(a),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((f,m)=>{if(0===m&&!e.reverse)return;const v=o.setContext(this.getContext(m)),y=fi(v.font);if(d=this.getDistanceFromCenterForValue(this.ticks[m].value),v.showLabelBackdrop){n.font=y.string,p=n.measureText(f.label).width,n.fillStyle=v.backdropColor;const C=tr(v.backdropPadding);n.fillRect(-p/2-C.left,-d-y.size/2-C.top,p+C.width,y.size+C.height)}ud(n,f.label,0,-d,y,{color:v.color})}),n.restore()}drawTitle(){}}kh.id="radialLinear",kh.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:fE.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}},kh.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},kh.descriptors={angleLines:{_fallback:"grid"}};const EE={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$r=Object.keys(EE);function lte(t,n){return t-n}function iB(t,n){if(Ft(n))return null;const e=t._adapter,{parser:o,round:a,isoWeekday:d}=t._parseOpts;let p=n;return"function"==typeof o&&(p=o(p)),Vn(p)||(p="string"==typeof o?e.parse(p,o):e.parse(p)),null===p?null:(a&&(p="week"!==a||!vv(d)&&!0!==d?e.startOf(p,a):e.startOf(p,"isoWeek",d)),+p)}function rB(t,n,e,o){const a=$r.length;for(let d=$r.indexOf(t);d<a-1;++d){const p=EE[$r[d]],f=p.steps?p.steps:Number.MAX_SAFE_INTEGER;if(p.common&&Math.ceil((e-n)/(f*p.size))<=o)return $r[d]}return $r[a-1]}function oB(t,n,e){if(e){if(e.length){const{lo:o,hi:a}=PA(e,n);t[e[o]>=n?e[o]:e[a]]=!0}}else t[n]=!0}function sB(t,n,e){const o=[],a={},d=n.length;let p,f;for(p=0;p<d;++p)f=n[p],a[f]=p,o.push({value:f,major:!1});return 0!==d&&e?function dte(t,n,e,o){const a=t._adapter,d=+a.startOf(n[0].value,o),p=n[n.length-1].value;let f,m;for(f=d;f<=p;f=+a.add(f,1,o))m=e[f],m>=0&&(n[m].major=!0);return n}(t,o,a,e):o}let iP=(()=>{class t extends hd{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,o){const a=e.time||(e.time={}),d=this._adapter=new VZ._date(e.adapters.date);gv(a.displayFormats,d.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=o.normalized}parse(e,o){return void 0===e?null:iB(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,o=this._adapter,a=e.time.unit||"day";let{min:d,max:p,minDefined:f,maxDefined:m}=this.getUserBounds();function v(y){!f&&!isNaN(y.min)&&(d=Math.min(d,y.min)),!m&&!isNaN(y.max)&&(p=Math.max(p,y.max))}(!f||!m)&&(v(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&v(this.getMinMax(!1))),d=Vn(d)&&!isNaN(d)?d:+o.startOf(Date.now(),a),p=Vn(p)&&!isNaN(p)?p:+o.endOf(Date.now(),a)+1,this.min=Math.min(d,p-1),this.max=Math.max(d+1,p)}_getLabelBounds(){const e=this.getLabelTimestamps();let o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(o=e[0],a=e[e.length-1]),{min:o,max:a}}buildTicks(){const e=this.options,o=e.time,a=e.ticks,d="labels"===a.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&d.length&&(this.min=this._userMin||d[0],this.max=this._userMax||d[d.length-1]);const p=this.min,m=function RX(t,n,e){let o=0,a=t.length;for(;o<a&&t[o]<n;)o++;for(;a>o&&t[a-1]>e;)a--;return o>0||a<t.length?t.slice(o,a):t}(d,p,this.max);return this._unit=o.unit||(a.autoSkip?rB(o.minUnit,this.min,this.max,this._getLabelCapacity(p)):function ute(t,n,e,o,a){for(let d=$r.length-1;d>=$r.indexOf(e);d--){const p=$r[d];if(EE[p].common&&t._adapter.diff(a,o,p)>=n-1)return p}return $r[e?$r.indexOf(e):0]}(this,m.length,o.minUnit,this.min,this.max)),this._majorUnit=a.major.enabled&&"year"!==this._unit?function cte(t){for(let n=$r.indexOf(t)+1,e=$r.length;n<e;++n)if(EE[$r[n]].common)return $r[n]}(this._unit):void 0,this.initOffsets(d),e.reverse&&m.reverse(),sB(this,m,this._majorUnit)}initOffsets(e){let d,p,o=0,a=0;this.options.offset&&e.length&&(d=this.getDecimalForValue(e[0]),o=1===e.length?1-d:(this.getDecimalForValue(e[1])-d)/2,p=this.getDecimalForValue(e[e.length-1]),a=1===e.length?p:(p-this.getDecimalForValue(e[e.length-2]))/2);const f=e.length<3?.5:.25;o=Di(o,0,f),a=Di(a,0,f),this._offsets={start:o,end:a,factor:1/(o+1+a)}}_generate(){const e=this._adapter,o=this.min,a=this.max,d=this.options,p=d.time,f=p.unit||rB(p.minUnit,o,a,this._getLabelCapacity(o)),m=dt(p.stepSize,1),v="week"===f&&p.isoWeekday,y=vv(v)||!0===v,C={};let S,R,b=o;if(y&&(b=+e.startOf(b,"isoWeek",v)),b=+e.startOf(b,y?"day":f),e.diff(a,o,f)>1e5*m)throw new Error(o+" and "+a+" are too far apart with stepSize of "+m+" "+f);const A="data"===d.ticks.source&&this.getDataTimestamps();for(S=b,R=0;S<a;S=+e.add(S,m,f),R++)oB(C,S,A);return(S===a||"ticks"===d.bounds||1===R)&&oB(C,S,A),Object.keys(C).sort((I,F)=>I-F).map(I=>+I)}getLabelForValue(e){const a=this.options.time;return this._adapter.format(e,a.tooltipFormat?a.tooltipFormat:a.displayFormats.datetime)}_tickFormatFunction(e,o,a,d){const p=this.options,f=p.time.displayFormats,m=this._unit,v=this._majorUnit,C=v&&f[v],b=a[o],R=this._adapter.format(e,d||(v&&C&&b&&b.major?C:m&&f[m])),A=p.ticks.callback;return A?an(A,[R,o,a],this):R}generateTickLabels(e){let o,a,d;for(o=0,a=e.length;o<a;++o)d=e[o],d.label=this._tickFormatFunction(d.value,o,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const o=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((o.start+a)*o.factor)}getValueForPixel(e){const o=this._offsets,a=this.getDecimalForPixel(e)/o.factor-o.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const o=this.options.ticks,a=this.ctx.measureText(e).width,d=Cs(this.isHorizontal()?o.maxRotation:o.minRotation),p=Math.cos(d),f=Math.sin(d),m=this._resolveTickFontOptions(0).size;return{w:a*p+m*f,h:a*f+m*p}}_getLabelCapacity(e){const o=this.options.time,a=o.displayFormats,d=a[o.unit]||a.millisecond,p=this._tickFormatFunction(e,0,sB(this,[e],this._majorUnit),d),f=this._getLabelSize(p),m=Math.floor(this.isHorizontal()?this.width/f.w:this.height/f.h)-1;return m>0?m:1}getDataTimestamps(){let o,a,e=this._cache.data||[];if(e.length)return e;const d=this.getMatchingVisibleMetas();if(this._normalized&&d.length)return this._cache.data=d[0].controller.getAllParsedValues(this);for(o=0,a=d.length;o<a;++o)e=e.concat(d[o].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let o,a;if(e.length)return e;const d=this.getLabels();for(o=0,a=d.length;o<a;++o)e.push(iB(this,d[o]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return gV(e.sort(lte))}}return t.id="time",t.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},t})();function SE(t,n,e){let d,p,f,m,o=0,a=t.length-1;e?(n>=t[o].pos&&n<=t[a].pos&&({lo:o,hi:a}=Ya(t,"pos",n)),({pos:d,time:f}=t[o]),({pos:p,time:m}=t[a])):(n>=t[o].time&&n<=t[a].time&&({lo:o,hi:a}=Ya(t,"time",n)),({time:d,pos:f}=t[o]),({time:p,pos:m}=t[a]));const v=p-d;return v?f+(m-f)*(n-d)/v:f}class DE extends iP{constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const n=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(n);this._minPos=SE(e,this.min),this._tableRange=SE(e,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){const{min:e,max:o}=this,a=[],d=[];let p,f,m,v,y;for(p=0,f=n.length;p<f;++p)v=n[p],v>=e&&v<=o&&a.push(v);if(a.length<2)return[{time:e,pos:0},{time:o,pos:1}];for(p=0,f=a.length;p<f;++p)y=a[p+1],m=a[p-1],v=a[p],Math.round((y+m)/2)!==v&&d.push({time:v,pos:p/(f-1)});return d}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;const e=this.getDataTimestamps(),o=this.getLabelTimestamps();return n=e.length&&o.length?this.normalize(e.concat(o)):e.length?e:o,n=this._cache.all=n,n}getDecimalForValue(n){return(SE(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){const e=this._offsets,o=this.getDecimalForPixel(n)/e.factor-e.end;return SE(this._table,o*this._tableRange+this._minPos,!0)}}DE.id="timeseries",DE.defaults=iP.defaults;const RE=function gte(t,n){return t===n||t!=t&&n!=n},OE=function mte(t,n){for(var e=t.length;e--;)if(RE(t[e][0],n))return e;return-1};var yte=Array.prototype.splice;function Vh(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var o=t[n];this.set(o[0],o[1])}}Vh.prototype.clear=function hte(){this.__data__=[],this.size=0},Vh.prototype.delete=function _te(t){var n=this.__data__,e=OE(n,t);return!(e<0||(e==n.length-1?n.pop():yte.call(n,e,1),--this.size,0))},Vh.prototype.get=function wte(t){var n=this.__data__,e=OE(n,t);return e<0?void 0:n[e][1]},Vh.prototype.has=function Ete(t){return OE(this.__data__,t)>-1},Vh.prototype.set=function Dte(t,n){var e=this.__data__,o=OE(e,t);return o<0?(++this.size,e.push([t,n])):e[o][1]=n,this};const TE=Vh,aB="object"==typeof global&&global&&global.Object===Object&&global;var Lte="object"==typeof self&&self&&self.Object===Object&&self;const Hh=aB||Lte||Function("return this")();var kte=Hh.Symbol,lB=Object.prototype,Vte=lB.hasOwnProperty,Hte=lB.toString,Bv=kte?kte.toStringTag:void 0;var Ute=Object.prototype.toString;var uB=kte?kte.toStringTag:void 0;const PE=function Yte(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":uB&&uB in Object(t)?function Bte(t){var n=Vte.call(t,Bv),e=t[Bv];try{t[Bv]=void 0;var o=!0}catch(d){}var a=Hte.call(t);return o&&(n?t[Bv]=e:delete t[Bv]),a}(t):function zte(t){return Ute.call(t)}(t)},fd=function Qte(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)},rP=function tne(t){if(!fd(t))return!1;var n=PE(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n};var t,nne=Hh["__core-js_shared__"],cB=(t=/[^.]+$/.exec(nne&&nne.keys&&nne.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";var sne=Function.prototype.toString;var cne=/^\[object .+?Constructor\]$/,gne=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const vne=function mne(t){return!(!fd(t)||function ine(t){return!!cB&&cB in t}(t))&&(rP(t)?gne:cne).test(function ane(t){if(null!=t){try{return sne.call(t)}catch(n){}try{return t+""}catch(n){}}return""}(t))},sP=function Cne(t,n){var e=function yne(t,n){return null==t?void 0:t[n]}(t,n);return vne(e)?e:void 0},dB=sP(Hh,"Map"),Wv=sP(Object,"create");var Ane=Object.prototype.hasOwnProperty;var Ine=Object.prototype.hasOwnProperty;function Bh(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var o=t[n];this.set(o[0],o[1])}}Bh.prototype.clear=function Ene(){this.__data__=Wv?Wv(null):{},this.size=0},Bh.prototype.delete=function Dne(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Bh.prototype.get=function Pne(t){var n=this.__data__;if(Wv){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return Ane.call(n,t)?n[t]:void 0},Bh.prototype.has=function xne(t){var n=this.__data__;return Wv?void 0!==n[t]:Ine.call(n,t)},Bh.prototype.set=function Gne(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Wv&&void 0===n?"__lodash_hash_undefined__":n,this};const pB=Bh,NE=function jne(t,n){var e=t.__data__;return function Bne(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?e["string"==typeof n?"string":"hash"]:e.map};function Wh(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var o=t[n];this.set(o[0],o[1])}}Wh.prototype.clear=function Vne(){this.size=0,this.__data__={hash:new pB,map:new(dB||TE),string:new pB}},Wh.prototype.delete=function Une(t){var n=NE(this,t).delete(t);return this.size-=n?1:0,n},Wh.prototype.get=function $ne(t){return NE(this,t).get(t)},Wh.prototype.has=function qne(t){return NE(this,t).has(t)},Wh.prototype.set=function Qne(t,n){var e=NE(this,t),o=e.size;return e.set(t,n),this.size+=e.size==o?0:1,this};const Zne=Wh;function jh(t){var n=this.__data__=new TE(t);this.size=n.size}jh.prototype.clear=function Ote(){this.__data__=new TE,this.size=0},jh.prototype.delete=function Ate(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},jh.prototype.get=function Nte(t){return this.__data__.get(t)},jh.prototype.has=function Ite(t){return this.__data__.has(t)},jh.prototype.set=function eie(t,n){var e=this.__data__;if(e instanceof TE){var o=e.__data__;if(!dB||o.length<199)return o.push([t,n]),this.size=++e.size,this;e=this.__data__=new Zne(o)}return e.set(t,n),this.size=e.size,this};const nie=jh;var iie=function(){try{var t=sP(Object,"defineProperty");return t({},"",{}),t}catch(n){}}();const ME=iie,aP=function rie(t,n,e){"__proto__"==n&&ME?ME(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e},lP=function oie(t,n,e){(void 0!==e&&!RE(t[n],e)||void 0===e&&!(n in t))&&aP(t,n,e)};var aie=function sie(t){return function(n,e,o){for(var a=-1,d=Object(n),p=o(n),f=p.length;f--;){var m=p[t?f:++a];if(!1===e(d[m],m,d))break}return n}}();const lie=aie;var hB="object"==typeof exports&&exports&&!exports.nodeType&&exports,fB=hB&&"object"==typeof module&&module&&!module.nodeType&&module,gB=fB&&fB.exports===hB?Hh.Buffer:void 0,mB=gB?gB.allocUnsafe:void 0;const vB=Hh.Uint8Array,mie=function gie(t,n){var e=n?function hie(t){var n=new t.constructor(t.byteLength);return new vB(n).set(new vB(t)),n}(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)};var yB=Object.create,_ie=function(){function t(){}return function(n){if(!fd(n))return{};if(yB)return yB(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}();const Cie=_ie;var bie=function wie(t,n){return function(e){return t(n(e))}}(Object.getPrototypeOf,Object);const _B=bie;var Eie=Object.prototype;const CB=function Sie(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Eie)},jv=function Oie(t){return null!=t&&"object"==typeof t},wB=function Aie(t){return jv(t)&&"[object Arguments]"==PE(t)};var bB=Object.prototype,Pie=bB.hasOwnProperty,Nie=bB.propertyIsEnumerable,Mie=wB(function(){return arguments}())?wB:function(t){return jv(t)&&Pie.call(t,"callee")&&!Nie.call(t,"callee")};const uP=Mie,cP=Array.isArray,EB=function Fie(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},dP=function Lie(t){return null!=t&&EB(t.length)&&!rP(t)};var SB="object"==typeof exports&&exports&&!exports.nodeType&&exports,DB=SB&&"object"==typeof module&&module&&!module.nodeType&&module,RB=DB&&DB.exports===SB?Hh.Buffer:void 0;const OB=(RB?RB.isBuffer:void 0)||function Vie(){return!1};var TB=Function.prototype.toString,Kie=Object.prototype.hasOwnProperty,qie=TB.call(Object);var pn={};pn["[object Float32Array]"]=pn["[object Float64Array]"]=pn["[object Int8Array]"]=pn["[object Int16Array]"]=pn["[object Int32Array]"]=pn["[object Uint8Array]"]=pn["[object Uint8ClampedArray]"]=pn["[object Uint16Array]"]=pn["[object Uint32Array]"]=!0,pn["[object Arguments]"]=pn["[object Array]"]=pn["[object ArrayBuffer]"]=pn["[object Boolean]"]=pn["[object DataView]"]=pn["[object Date]"]=pn["[object Error]"]=pn["[object Function]"]=pn["[object Map]"]=pn["[object Number]"]=pn["[object Object]"]=pn["[object RegExp]"]=pn["[object Set]"]=pn["[object String]"]=pn["[object WeakMap]"]=!1;var AB="object"==typeof exports&&exports&&!exports.nodeType&&exports,Uv=AB&&"object"==typeof module&&module&&!module.nodeType&&module,pP=Uv&&Uv.exports===AB&&aB.process,Rre=function(){try{return Uv&&Uv.require&&Uv.require("util").types||pP&&pP.binding&&pP.binding("util")}catch(n){}}(),NB=Rre&&Rre.isTypedArray;const MB=NB?function Ere(t){return function(n){return t(n)}}(NB):function wre(t){return jv(t)&&EB(t.length)&&!!pn[PE(t)]},hP=function Tre(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]};var Pre=Object.prototype.hasOwnProperty;const Mre=function Nre(t,n,e){var o=t[n];(!Pre.call(t,n)||!RE(o,e)||void 0===e&&!(n in t))&&aP(t,n,e)};var kre=/^(?:0|[1-9]\d*)$/;const IB=function Vre(t,n){var e=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&kre.test(t))&&t>-1&&t%1==0&&t<n};var Bre=Object.prototype.hasOwnProperty;const jre=function Wre(t,n){var e=cP(t),o=!e&&uP(t),a=!e&&!o&&OB(t),d=!e&&!o&&!a&&MB(t),p=e||o||a||d,f=p?function Fre(t,n){for(var e=-1,o=Array(t);++e<t;)o[e]=n(e);return o}(t.length,String):[],m=f.length;for(var v in t)(n||Bre.call(t,v))&&(!p||!("length"==v||a&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||IB(v,m)))&&f.push(v);return f};var Kre=Object.prototype.hasOwnProperty;const Yre=function qre(t){if(!fd(t))return function Ure(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}(t);var n=CB(t),e=[];for(var o in t)"constructor"==o&&(n||!Kre.call(t,o))||e.push(o);return e},xB=function Qre(t){return dP(t)?jre(t,!0):Yre(t)},Zre=function Xre(t){return function Ire(t,n,e,o){var a=!e;e||(e={});for(var d=-1,p=n.length;++d<p;){var f=n[d],m=o?o(e[f],t[f],f,e,t):void 0;void 0===m&&(m=t[f]),a?aP(e,f,m):Mre(e,f,m)}return e}(t,xB(t))},eoe=function Jre(t,n,e,o,a,d,p){var f=hP(t,e),m=hP(n,e),v=p.get(m);if(v)lP(t,e,v);else{var y=d?d(f,m,e+"",t,n,p):void 0,C=void 0===y;if(C){var b=cP(m),S=!b&&OB(m),R=!b&&!S&&MB(m);y=m,b||S||R?cP(f)?y=f:function Gie(t){return jv(t)&&dP(t)}(f)?y=function vie(t,n){var e=-1,o=t.length;for(n||(n=Array(o));++e<o;)n[e]=t[e];return n}(f):S?(C=!1,y=function cie(t,n){if(n)return t.slice();var e=t.length,o=mB?mB(e):new t.constructor(e);return t.copy(o),o}(m,!0)):R?(C=!1,y=mie(m,!0)):y=[]:function Yie(t){if(!jv(t)||"[object Object]"!=PE(t))return!1;var n=_B(t);if(null===n)return!0;var e=Kie.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&TB.call(e)==qie}(m)||uP(m)?(y=f,uP(f)?y=Zre(f):(!fd(f)||rP(f))&&(y=function Die(t){return"function"!=typeof t.constructor||CB(t)?{}:Cie(_B(t))}(m))):C=!1}C&&(p.set(m,y),a(y,m,o,d,p),p.delete(m)),lP(t,e,y)}},toe=function FB(t,n,e,o,a){t!==n&&lie(n,function(d,p){if(a||(a=new nie),fd(d))eoe(t,n,p,e,FB,o,a);else{var f=o?o(hP(t,p),d,p+"",t,n,a):void 0;void 0===f&&(f=d),lP(t,p,f)}},xB)},LB=function noe(t){return t},roe=function ioe(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)};var GB=Math.max;const loe=function aoe(t){return function(){return t}};var uoe=ME?function(t,n){return ME(t,"toString",{configurable:!0,enumerable:!1,value:loe(n),writable:!0})}:LB,hoe=Date.now,goe=function foe(t){var n=0,e=0;return function(){var o=hoe(),a=16-(o-e);if(e=o,a>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}(uoe);const moe=goe,yoe=function voe(t,n){return moe(function ooe(t,n,e){return n=GB(void 0===n?t.length-1:n,0),function(){for(var o=arguments,a=-1,d=GB(o.length-n,0),p=Array(d);++a<d;)p[a]=o[n+a];a=-1;for(var f=Array(n+1);++a<n;)f[a]=o[a];return f[n]=e(p),roe(t,this,f)}}(t,n,LB),t+"")};var boe=function woe(t){return yoe(function(n,e){var o=-1,a=e.length,d=a>1?e[a-1]:void 0,p=a>2?e[2]:void 0;for(d=t.length>3&&"function"==typeof d?(a--,d):void 0,p&&function _oe(t,n,e){if(!fd(e))return!1;var o=typeof n;return!!("number"==o?dP(e)&&IB(n,e.length):"string"==o&&n in e)&&RE(e[n],t)}(e[0],e[1],p)&&(d=a<3?void 0:d,a=1),n=Object(n);++o<a;){var f=e[o];f&&t(n,f,o,d)}return n})}(function(t,n,e){toe(t,n,e)});const kB=boe;let Eoe=(()=>{class t{constructor(){this.colorschemesOptions=new pi(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Soe=(()=>{class t{constructor(e,o,a){this.element=e,this.zone=o,this.themeService=a,this.type="bar",this.plugins=[],this.chartClick=new U,this.chartHover=new U,this.subs=[],this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(function Ob(t,n=Eo){return t=null!=t?t:L4,un((e,o)=>{let a,d=!0;e.subscribe(Ut(o,p=>{const f=n(p);(d||!t(a,f))&&(d=!1,a=f,o.next(p))}))})}()).subscribe(d=>this.themeChanged(d)))}ngOnChanges(e){const o=["type"],a=Object.getOwnPropertyNames(e);if(a.some(d=>o.includes(d))||a.every(d=>e[d].isFirstChange()))this.render();else{const d=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,d.data),Object.assign(this.chart.config.plugins,d.plugins),Object.assign(this.chart.config.options,d.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Fv(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>{var o;return null===(o=this.chart)||void 0===o?void 0:o.update(e)})}hideDataset(e,o){this.chart&&(this.chart.getDatasetMeta(e).hidden=o,this.update())}isDatasetHidden(e){var o,a;return null===(a=null===(o=this.chart)||void 0===o?void 0:o.getDatasetMeta(e))||void 0===a?void 0:a.hidden}toBase64Image(){var e;return null===(e=this.chart)||void 0===e?void 0:e.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return kB({onHover:(e,o)=>{!this.chartHover.observed&&!this.chartHover.observers.length||this.zone.run(()=>this.chartHover.emit({event:e,active:o}))},onClick:(e,o)=>{!this.chartClick.observed&&!this.chartClick.observers.length||this.zone.run(()=>this.chartClick.emit({event:e,active:o}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),plugins:this.plugins,options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return t.\u0275fac=function(e){return new(e||t)(H(kt),H(xt),H(Eoe))},t.\u0275dir=Ce({type:t,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[Ln]}),t})();const Doe=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],Roe={datasets:{line:{backgroundColor:t=>wr(br(t.datasetIndex),.4),borderColor:t=>wr(br(t.datasetIndex),1),pointBackgroundColor:t=>wr(br(t.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:t=>wr(br(t.datasetIndex),.8)},bar:{backgroundColor:t=>wr(br(t.datasetIndex),.6),borderColor:t=>wr(br(t.datasetIndex),1),hoverBackgroundColor:t=>wr(br(t.datasetIndex),.8),hoverBorderColor:t=>wr(br(t.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:t=>wr(br(t.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:t=>wr(br(t.dataIndex),1),hoverBorderColor:t=>wr(br(t.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:t=>wr(br(t.dataIndex),.6),borderColor:t=>wr(br(t.dataIndex),1),hoverBackgroundColor:t=>wr(br(t.dataIndex),.8),hoverBorderColor:t=>wr(br(t.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function wr(t,n){return"rgba("+t.concat(n).join(",")+")"}function fP(t,n){return Math.floor(Math.random()*(n-t+1))+t}function br(t=0){return Doe[t]||function Ooe(){return[fP(0,255),fP(0,255),fP(0,255)]}()}Fv.register(zH,ZH,BH,UH,HA,Gv,NH,bE,Hv,YV,kv,VA,Lv,JV,kh,ZV,XV,QV,eH,DE);let VB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Toe=(()=>{class t{constructor(e){(null==e?void 0:e.plugins)&&Fv.register(...null==e?void 0:e.plugins);const o=kB(Roe,(null==e?void 0:e.defaults)||{});bt.set(o)}static forRoot(e){return{ngModule:t,providers:[{provide:VB,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(me(VB,8))},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[]]}),t})(),Aoe=(()=>{class t{constructor(e){this.apiHttpService=e,this.popularActorsChartOptions={responsive:!0,plugins:{title:{display:!0,text:"Popular Actors"}}},this.popularMoviesChartOptions={responsive:!0,plugins:{title:{display:!0,text:"Popular Movies"}}}}ngOnInit(){this.setActorStatistics(),this.setMovieStatistics()}setActorStatistics(){this.apiHttpService.getActorStatistics().subscribe(e=>{let o=[],a=[],d=[];e=e.sort((p,f)=>p.popularity<f.popularity?1:-1);for(let p=0;p<e.length;p++)o.push(e[p].actorName),a.push(e[p].voteAverage),d.push(e[p].popularity/10);this.popularActorsData={labels:o,datasets:[{label:"Average tmdb rating for movies the actor is known for",data:a},{label:"Average tmdb popularity for the actor (divided by ten)",data:d}]}})}setMovieStatistics(){this.apiHttpService.getMovieStatistics().subscribe(e=>{let o=[],a=[],d=[];e=e.sort((p,f)=>p.movieUserRatingAvg<f.movieUserRatingAvg?1:-1);for(let p=0;p<e.length;p++)null!=e[p].movieId&&(o.push(e[p].movieName),a.push(e[p].movieUserRatingAvg),d.push(e[p].movieTmdbRatingAvg/2));this.popularMoviesData={labels:o,datasets:[{label:"Average movie rating from the MovieStar community",data:a},{label:"Average movie rating from tmdb (divided by two)",data:d}]}})}}return t.\u0275fac=function(e){return new(e||t)(H(yT))},t.\u0275cmp=Rt({type:t,selectors:[["app-statistics"]],decls:3,vars:6,consts:[[1,"charts"],["baseChart","",3,"data","type","options"]],template:function(e,o){1&e&&(Q(0,"div",0),pt(1,"canvas",1)(2,"canvas",1),X()),2&e&&(Y(1),re("data",o.popularActorsData)("type","bar")("options",o.popularActorsChartOptions),Y(1),re("data",o.popularMoviesData)("type","bar")("options",o.popularMoviesChartOptions))},directives:[Soe],styles:[".charts[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:75%}@media screen and (max-width: 700px){.charts[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 1000px){.charts[_ngcontent-%COMP%]{width:60%}}"]}),t})();function Poe(t,n){if(1&t&&(Q(0,"p",14),ve(1),X()),2&t){const e=Ee();Y(1),$n(e.errorText)}}function Noe(t,n){1&t&&(Q(0,"span"),ve(1,"Display Name is required"),X())}function Moe(t,n){1&t&&(Q(0,"span"),ve(1,"Display Name must have at least 4"),X())}function Ioe(t,n){if(1&t&&(Q(0,"div",15),ce(1,Noe,2,0,"span",16),ce(2,Moe,2,0,"span",16),X()),2&t){const e=Ee();Y(1),re("ngIf",e.displaynameControl.errors.required),Y(1),re("ngIf",e.displaynameControl.errors.minlength)}}function xoe(t,n){1&t&&(Q(0,"span"),ve(1,"Username is required"),X())}function Foe(t,n){1&t&&(Q(0,"span"),ve(1,"Username must be an email"),X())}function Loe(t,n){if(1&t&&(Q(0,"div",15),ce(1,xoe,2,0,"span",16),ce(2,Foe,2,0,"span",16),X()),2&t){const e=Ee();Y(1),re("ngIf",e.usernameControl.errors.required),Y(1),re("ngIf",e.usernameControl.errors.pattern)}}function Goe(t,n){1&t&&(Q(0,"span"),ve(1,"Password must have at least 8 characters"),X())}function koe(t,n){if(1&t&&(Q(0,"div",15),ce(1,Goe,2,0,"span",16),X()),2&t){const e=Ee();Y(1),re("ngIf",e.passwordControl.errors.minlength)}}let Voe=(()=>{class t{constructor(e,o){this.authenticationService=e,this.router=o,this.emailPattern="[a-z_A-Z0-9._%+-]+@[a-z_A-Z0-9.-]+.[a-z_A-Z]{2,4}$",this.errorText=null,this.signupForm=new wh({displayname:new Wa("",[gs.required,gs.minLength(4)]),username:new Wa("",[gs.required,gs.pattern(this.emailPattern)]),password:new Wa("",[gs.required,gs.minLength(8)])})}ngOnInit(){}get displaynameControl(){return this.signupForm.get("displayname")}get usernameControl(){return this.signupForm.get("username")}get passwordControl(){return this.signupForm.get("password")}get f(){return this.signupForm.controls}signup(){let e=this.f.displayname.value,o=this.f.username.value,a=this.f.password.value;console.log(o.toLowerCase()),this.authenticationService.signup(e,o.toLowerCase(),a).subscribe(d=>{201===d.status?this.router.navigateByUrl("/login"):this.errorText="There was an error when creating your account, please try again."})}}return t.\u0275fac=function(e){return new(e||t)(H(zc),H(Ei))},t.\u0275cmp=Rt({type:t,selectors:[["app-signup"]],decls:27,vars:9,consts:[[1,"signup","flex-column","d-flex","align-items-center","justify-content-center","h-100","mt-5"],[1,"text-center"],["class","text-danger strong",4,"ngIf"],[1,"form-floating","w-50"],[3,"formGroup","ngSubmit"],[1,"form-floating","my-2"],["type","string","id","floatingInputDisplayName",1,"form-control",3,"formControlName"],["for","floatingInputDisplayName"],["class","text-danger",4,"ngIf"],["type","email","id","floatingInput",1,"form-control",3,"formControlName"],["for","floatingInput"],["type","password","id","floatingPassword",1,"form-control",3,"formControlName"],["for","floatingPassword"],["type","submit",1,"w-100","btn","btn-lg","btn-primary",3,"disabled"],[1,"text-danger","strong"],[1,"text-danger"],[4,"ngIf"]],template:function(e,o){1&e&&(Q(0,"div",0)(1,"h2"),ve(2,"Sign up"),X(),Q(3,"p",1),ve(4,"This awesome movie service requires you to sign up. "),pt(5,"br"),ve(6," So go ahead and give us your personal details, we will do our best to keep them safe."),X(),ce(7,Poe,2,1,"p",2),Q(8,"main",3)(9,"form",4),Ke("ngSubmit",function(){return o.signup()}),Q(10,"div",5),pt(11,"input",6),Q(12,"label",7),ve(13,"Display Name"),X(),ce(14,Ioe,3,2,"div",8),X(),Q(15,"div",5),pt(16,"input",9),Q(17,"label",10),ve(18,"Username"),X(),ce(19,Loe,3,2,"div",8),X(),Q(20,"div",5),pt(21,"input",11),Q(22,"label",12),ve(23,"Password"),X(),ce(24,koe,2,1,"div",8),X(),Q(25,"button",13),ve(26,"Sign up"),X()()()()),2&e&&(Y(7),re("ngIf",o.errorText),Y(2),re("formGroup",o.signupForm),Y(2),re("formControlName","displayname"),Y(3),re("ngIf",o.signupForm.invalid&&(null==o.displaynameControl?null:o.displaynameControl.touched)&&o.displaynameControl.errors),Y(2),re("formControlName","username"),Y(3),re("ngIf",o.signupForm.invalid&&(null==o.usernameControl?null:o.usernameControl.touched)&&o.usernameControl.errors),Y(2),re("formControlName","password"),Y(3),re("ngIf",o.signupForm.invalid&&(null==o.passwordControl?null:o.passwordControl.touched)&&o.passwordControl.errors),Y(1),re("disabled",o.signupForm.invalid))},directives:[co,Eb,fb,bh,_h,jm,qm],styles:[".signup[_ngcontent-%COMP%]{height:100vh}"]}),t})();function Hoe(t,n){if(1&t&&(Q(0,"div",2)(1,"div",3)(2,"a",4)(3,"p"),ve(4),X()()()()),2&t){const e=n.$implicit;Y(2),bi("href","#/specific-movie/",e.movieid,"",Rn),Y(2),Gi("\u{1f4fd}\ufe0f ",e.moviename," ")}}let Boe=(()=>{class t{constructor(e,o,a,d){this.apiHttpService=e,this.tmdbService=o,this.util=a,this.authService=d,this.movies=[]}ngOnInit(){this.getMyFavouriteMovies()}getMyFavouriteMovies(){this.apiHttpService.getFavourites(this.authService.getCurrentEmail()).subscribe(e=>{this.movies=e})}}return t.\u0275fac=function(e){return new(e||t)(H(yT),H(qc),H(Eh),H(zc))},t.\u0275cmp=Rt({type:t,selectors:[["app-favourites"]],decls:4,vars:1,consts:[[1,"favourites","flex-column","d-flex","align-items-center","justify-content-center","m-2","p-2"],["class","list-group",4,"ngFor","ngForOf"],[1,"list-group"],[1,"list-group-item","border-0","m-auto"],[3,"href"]],template:function(e,o){1&e&&(Q(0,"div",0)(1,"h2"),ve(2,"My Favourite Movies"),X(),ce(3,Hoe,5,2,"div",1),X()),2&e&&(Y(3),re("ngForOf",o.movies))},directives:[Go],styles:["a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}"]}),t})();function Woe(t,n){if(1&t&&(Mc(0),Q(1,"h4",12),ve(2),X(),Ic()),2&t){const e=Ee().$implicit;Y(2),Gi(" ",e.name," ")}}function joe(t,n){if(1&t&&(Mc(0),Q(1,"h4",12),ve(2),X(),Ic()),2&t){const e=Ee(2).$implicit;Y(2),Gi(" ",e.title," ")}}function Uoe(t,n){1&t&&ce(0,joe,3,1,"ng-container",13),2&t&&re("ngIf",Ee().$implicit.title)}function zoe(t,n){if(1&t&&(Q(0,"div")(1,"div",5)(2,"div",6)(3,"a",7)(4,"div",8)(5,"a",7),pt(6,"img",9),ce(7,Woe,3,1,"ng-container",10),ce(8,Uoe,1,1,"ng-template",null,11,lo),X()()()()()()),2&t){const e=n.$implicit,o=hr(9);Y(3),bi("href","#/specific-movie/",e.id,"",Rn),Y(2),bi("href","#/specific-movie/",e.id,"",Rn),Y(1),bi("src","https://image.tmdb.org/t/p/w200 ",e.backdrop_path,"",Rn),Y(1),re("ngIf",e.name)("ngIfElse",o)}}const $oe=[{path:"movies",component:y4},{path:"home",component:RQ},{path:"specific-movie/:tmdbId",component:GY,canActivate:[Wm]},{path:"specific-actor/:Id",component:MQ,canActivate:[Wm]},{path:"known-for/:Id",component:(()=>{class t{constructor(e,o,a){this.route=e,this.tmdbService=o,this.util=a,this.actors=new w4,this.responsiveOptions=[{breakpoint:"4096px",numVisible:3,numScroll:1},{breakpoint:"768px",numVisible:2,numScroll:1},{breakpoint:"560px",numVisible:1,numScroll:1}]}ngOnInit(){this.routeSub=this.route.params.subscribe(e=>{this.getKnownFor(e.Id)})}ngOnDestroy(){this.routeSub.unsubscribe()}getKnownFor(e){var o=this;return fT(function*(){o.tmdbService.people(e).subscribe(a=>{o.actors=o.util.sanitizePeople(a.results)[0]})})()}}return t.\u0275fac=function(e){return new(e||t)(H(Ha),H(qc),H(Eh))},t.\u0275cmp=Rt({type:t,selectors:[["app-known-for"]],decls:7,vars:3,consts:[[1,"container",2,"margin-top","100px"],[4,"ngFor","ngForOf"],[1,"container",2,"margin-bottom","100px"],[1,"border-mine",2,"padding","20px","margin","20px"],[1,"align-middle","text-center",3,"href"],[1,"col"],[1,"card",2,"padding","20px","margin","20px"],[3,"href"],[1,"card-body",2,"padding","10px"],["alt","Movie Poster",1,"card-img-bottom",3,"src"],[4,"ngIf","ngIfElse"],["elseif1",""],[1,"align-middle","text-center",2,"height","10px","margin-top","10px"],[4,"ngIf"]],template:function(e,o){1&e&&(Q(0,"div",0),ce(1,zoe,10,5,"div",1),X(),Q(2,"div",2)(3,"div",3)(4,"a",4)(5,"h2"),ve(6),X()()()()),2&e&&(Y(1),re("ngForOf",o.actors.known_for),Y(3),bi("href","#/specific-actor/",o.actors.id,"",Rn),Y(2),Gi("Back to ",o.actors.name,""))},directives:[Go,co],styles:["a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.container[_ngcontent-%COMP%]{width:40%}.card[_ngcontent-%COMP%]{width:100%;margin-top:20px;border-radius:25px;border:2px solid;padding:20px;background:#F1FFE1}.border-mine[_ngcontent-%COMP%]{width:100%;margin-top:20px;border-radius:25px;border:2px solid;padding:20px;background:#D1FFE1}"]}),t})(),canActivate:[Wm]},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:x6},{path:"signup",component:Voe},{path:"statistics",component:Aoe,canActivate:[Wm]},{path:"favourites",component:Boe,canActivate:[Wm]}];let Koe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[FO.forRoot($oe)],FO]}),t})();function qoe(t,n){if(1&t&&(Q(0,"li",7)(1,"p",14),ve(2),X()()),2&t){const e=Ee();Y(2),Gi("Hi\u{1f44b} ",e.username,"")}}function Yoe(t,n){1&t&&(Q(0,"li",7)(1,"a",15),ve(2,"My favourites"),X()())}function Qoe(t,n){if(1&t){const e=li();Q(0,"li",7)(1,"a",16),Ke("click",function(){return ni(e),Ee().logout()}),ve(2,"Logout"),X()()}}function Xoe(t,n){1&t&&(Q(0,"li",7)(1,"a",17),ve(2,"Sign up"),X()())}function Zoe(t,n){1&t&&(Q(0,"li",7)(1,"a",18),ve(2,"Sign in"),X()())}let Joe=(()=>{class t{constructor(e,o){this.authService=e,this.router=o,this.title="MovieStar",this.isLoggedIn=!1,this.username=null}ngOnInit(){this.isLoggedIn=this.authService.isUserLoggedIn(),this.username=this.authService.getCurrentUser()}logout(){this.isLoggedIn=!1,this.authService.logout(),this.router.navigateByUrl("/login")}}return t.\u0275fac=function(e){return new(e||t)(H(zc),H(Ei))},t.\u0275cmp=Rt({type:t,selectors:[["app-root"]],decls:24,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["routerLink","/movies",1,"nav-link"],["routerLink","/statistics",1,"nav-link"],["id","navbarNavDropdown",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav","justify-content-end"],["class","nav-item",4,"ngIf"],[1,"pt-2","pe-2"],["routerLink","/favourites",1,"nav-link"],["routerLink","/",1,"nav-link",3,"click"],["routerLink","/signup",1,"nav-link"],["routerLink","/login",1,"nav-link"]],template:function(e,o){1&e&&(Q(0,"nav",0)(1,"div",1),pt(2,"a",2),Q(3,"button",3),pt(4,"span",4),X(),Q(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),ve(9,"Home"),X()(),Q(10,"li",7)(11,"a",9),ve(12,"Movies"),X()(),Q(13,"li",7)(14,"a",10),ve(15,"Statistics"),X()()()(),Q(16,"div",11)(17,"ul",12),ce(18,qoe,3,1,"li",13),ce(19,Yoe,3,0,"li",13),ce(20,Qoe,3,0,"li",13),ce(21,Xoe,3,0,"li",13),ce(22,Zoe,3,0,"li",13),X()()()(),pt(23,"router-outlet")),2&e&&(Y(18),re("ngIf",o.isLoggedIn),Y(1),re("ngIf",o.isLoggedIn),Y(1),re("ngIf",o.isLoggedIn),Y(1),re("ngIf",!o.isLoggedIn),Y(1),re("ngIf",!o.isLoggedIn))},directives:[HT,ub,co,TO],styles:[""]}),t})();class HB{}const el="*";function BB(t,n=null){return{type:2,steps:t,options:n}}function WB(t){return{type:6,styles:t,offset:null}}function jB(t){Promise.resolve(null).then(t)}class zv{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){jB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class UB{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,o=0,a=0;const d=this.players.length;0==d?jB(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++e==d&&this._onFinish()}),p.onDestroy(()=>{++o==d&&this._onDestroy()}),p.onStart(()=>{++a==d&&this._onStart()})}),this.totalTime=this.players.reduce((p,f)=>Math.max(p,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(o=>{const a=o.totalTime?Math.min(1,e/o.totalTime):1;o.setPosition(a)})}getPosition(){const n=this.players.reduce((e,o)=>null===e||o.totalTime>e.totalTime?o:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}const Et=!1;function zB(t){return new Ae(3e3,Et)}function xse(){return"undefined"!=typeof window&&void 0!==window.document}function mP(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function bu(t){switch(t.length){case 0:return new zv;case 1:return t[0];default:return new UB(t)}}function $B(t,n,e,o,a={},d={}){const p=[],f=[];let m=-1,v=null;if(o.forEach(y=>{const C=y.offset,b=C==m,S=b&&v||{};Object.keys(y).forEach(R=>{let A=R,I=y[R];if("offset"!==R)switch(A=n.normalizePropertyName(A,p),I){case"!":I=a[R];break;case el:I=d[R];break;default:I=n.normalizeStyleValue(R,A,I,p)}S[A]=I}),b||f.push(S),v=S,m=C}),p.length)throw function Ese(t){return new Ae(3502,Et)}();return f}function vP(t,n,e,o){switch(n){case"start":t.onStart(()=>o(e&&yP(e,"start",t)));break;case"done":t.onDone(()=>o(e&&yP(e,"done",t)));break;case"destroy":t.onDestroy(()=>o(e&&yP(e,"destroy",t)))}}function yP(t,n,e){const o=e.totalTime,d=_P(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,null==o?t.totalTime:o,!!e.disabled),p=t._data;return null!=p&&(d._data=p),d}function _P(t,n,e,o,a="",d=0,p){return{element:t,triggerName:n,fromState:e,toState:o,phaseName:a,totalTime:d,disabled:!!p}}function _o(t,n,e){let o;return t instanceof Map?(o=t.get(n),o||t.set(n,o=e)):(o=t[n],o||(o=t[n]=e)),o}function KB(t){const n=t.indexOf(":");return[t.substring(1,n),t.substr(n+1)]}let CP=(t,n)=>!1,qB=(t,n,e)=>[],YB=null;function wP(t){const n=t.parentNode||t.host;return n===YB?null:n}(mP()||"undefined"!=typeof Element)&&(xse()?(YB=(()=>document.documentElement)(),CP=(t,n)=>{for(;n;){if(n===t)return!0;n=wP(n)}return!1}):CP=(t,n)=>t.contains(n),qB=(t,n,e)=>{if(e)return Array.from(t.querySelectorAll(n));const o=t.querySelector(n);return o?[o]:[]});let gd=null,QB=!1;function XB(t){gd||(gd=function Lse(){return"undefined"!=typeof document?document.body:null}()||{},QB=!!gd.style&&"WebkitAppearance"in gd.style);let n=!0;return gd.style&&!function Fse(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in gd.style,!n&&QB&&(n="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in gd.style)),n}const ZB=CP,JB=qB;let eW=(()=>{class t{validateStyleProperty(e){return XB(e)}matchesElement(e,o){return!1}containsElement(e,o){return ZB(e,o)}getParentElement(e){return wP(e)}query(e,o,a){return JB(e,o,a)}computeStyle(e,o,a){return a||""}animate(e,o,a,d,p,f=[],m){return new zv(a,d)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})(),bP=(()=>{class t{}return t.NOOP=new eW,t})();const EP="ng-enter",xE="ng-leave",FE="ng-trigger",LE=".ng-trigger",nW="ng-animating",SP=".ng-animating";function md(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:DP(parseFloat(n[1]),n[2])}function DP(t,n){return"s"===n?1e3*t:t}function GE(t,n,e){return t.hasOwnProperty("duration")?t:function Vse(t,n,e){let a,d=0,p="";if("string"==typeof t){const f=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return n.push(zB()),{duration:0,delay:0,easing:""};a=DP(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(d=DP(parseFloat(m),f[4]));const v=f[5];v&&(p=v)}else a=t;if(!e){let f=!1,m=n.length;a<0&&(n.push(function tse(){return new Ae(3100,Et)}()),f=!0),d<0&&(n.push(function nse(){return new Ae(3101,Et)}()),f=!0),f&&n.splice(m,0,zB())}return{duration:a,delay:d,easing:p}}(t,n,e)}function Uh(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function Eu(t,n,e={}){if(n)for(let o in t)e[o]=t[o];else Uh(t,e);return e}function rW(t,n,e){return e?n+":"+e+";":""}function oW(t){let n="";for(let e=0;e<t.style.length;e++){const o=t.style.item(e);n+=rW(0,o,t.style.getPropertyValue(o))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=rW(0,Wse(e),t.style[e]));t.setAttribute("style",n)}function ra(t,n,e){t.style&&(Object.keys(n).forEach(o=>{const a=OP(o);e&&!e.hasOwnProperty(o)&&(e[o]=t.style[a]),t.style[a]=n[o]}),mP()&&oW(t))}function vd(t,n){t.style&&(Object.keys(n).forEach(e=>{const o=OP(e);t.style[o]=""}),mP()&&oW(t))}function $v(t){return Array.isArray(t)?1==t.length?t[0]:BB(t):t}const RP=new RegExp("{{\\s*(.+?)\\s*}}","g");function sW(t){let n=[];if("string"==typeof t){let e;for(;e=RP.exec(t);)n.push(e[1]);RP.lastIndex=0}return n}function kE(t,n,e){const o=t.toString(),a=o.replace(RP,(d,p)=>{let f=n[p];return n.hasOwnProperty(p)||(e.push(function rse(t){return new Ae(3003,Et)}()),f=""),f.toString()});return a==o?t:a}function VE(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const Bse=/-+([a-z0-9])/g;function OP(t){return t.replace(Bse,(...n)=>n[1].toUpperCase())}function Wse(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Co(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function ose(t){return new Ae(3004,Et)}()}}function aW(t,n){return window.getComputedStyle(t)[n]}function qse(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(o=>function Yse(t,n,e){if(":"==t[0]){const m=function Qse(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,o)=>parseFloat(o)>parseFloat(e);case":decrement":return(e,o)=>parseFloat(o)<parseFloat(e);default:return n.push(function _se(t){return new Ae(3016,Et)}()),"* => *"}}(t,e);if("function"==typeof m)return void n.push(m);t=m}const o=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return e.push(function yse(t){return new Ae(3015,Et)}()),n;const a=o[1],d=o[2],p=o[3];n.push(lW(a,p));"<"==d[0]&&!("*"==a&&"*"==p)&&n.push(lW(p,a))}(o,e,n)):e.push(t),e}const jE=new Set(["true","1"]),UE=new Set(["false","0"]);function lW(t,n){const e=jE.has(t)||UE.has(t),o=jE.has(n)||UE.has(n);return(a,d)=>{let p="*"==t||t==a,f="*"==n||n==d;return!p&&e&&"boolean"==typeof a&&(p=a?jE.has(t):UE.has(t)),!f&&o&&"boolean"==typeof d&&(f=d?jE.has(n):UE.has(n)),p&&f}}const Xse=new RegExp("s*:selfs*,?","g");function TP(t,n,e,o){return new Zse(t).build(n,e,o)}class Zse{constructor(n){this._driver=n}build(n,e,o){const a=new tae(e);this._resetContextStyleTimingState(a);const d=Co(this,$v(n),a);return a.unsupportedCSSPropertiesFound.size&&a.unsupportedCSSPropertiesFound.keys(),d}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,e){let o=e.queryCount=0,a=e.depCount=0;const d=[],p=[];return"@"==n.name.charAt(0)&&e.errors.push(function ase(){return new Ae(3006,Et)}()),n.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const m=f,v=m.name;v.toString().split(/\s*,\s*/).forEach(y=>{m.name=y,d.push(this.visitState(m,e))}),m.name=v}else if(1==f.type){const m=this.visitTransition(f,e);o+=m.queryCount,a+=m.depCount,p.push(m)}else e.errors.push(function lse(){return new Ae(3007,Et)}())}),{type:7,name:n.name,states:d,transitions:p,queryCount:o,depCount:a,options:null}}visitState(n,e){const o=this.visitStyle(n.styles,e),a=n.options&&n.options.params||null;if(o.containsDynamicStyles){const d=new Set,p=a||{};o.styles.forEach(f=>{if(zE(f)){const m=f;Object.keys(m).forEach(v=>{sW(m[v]).forEach(y=>{p.hasOwnProperty(y)||d.add(y)})})}}),d.size&&(VE(d.values()),e.errors.push(function use(t,n){return new Ae(3008,Et)}()))}return{type:0,name:n.name,style:o,options:a?{params:a}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const o=Co(this,$v(n.animation),e);return{type:1,matchers:qse(n.expr,e.errors),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:yd(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(o=>Co(this,o,e)),options:yd(n.options)}}visitGroup(n,e){const o=e.currentTime;let a=0;const d=n.steps.map(p=>{e.currentTime=o;const f=Co(this,p,e);return a=Math.max(a,e.currentTime),f});return e.currentTime=a,{type:3,steps:d,options:yd(n.options)}}visitAnimate(n,e){const o=function iae(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return AP(GE(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=AP(0,0,"");return d.dynamic=!0,d.strValue=e,d}const a=GE(e,n);return AP(a.duration,a.delay,a.easing)}(n.timings,e.errors);e.currentAnimateTimings=o;let a,d=n.styles?n.styles:WB({});if(5==d.type)a=this.visitKeyframes(d,e);else{let p=n.styles,f=!1;if(!p){f=!0;const v={};o.easing&&(v.easing=o.easing),p=WB(v)}e.currentTime+=o.duration+o.delay;const m=this.visitStyle(p,e);m.isEmptyStep=f,a=m}return e.currentAnimateTimings=null,{type:4,timings:o,style:a,options:null}}visitStyle(n,e){const o=this._makeStyleAst(n,e);return this._validateStyleAst(o,e),o}_makeStyleAst(n,e){const o=[];Array.isArray(n.styles)?n.styles.forEach(p=>{"string"==typeof p?p==el?o.push(p):e.errors.push(function cse(t){return new Ae(3002,Et)}()):o.push(p)}):o.push(n.styles);let a=!1,d=null;return o.forEach(p=>{if(zE(p)){const f=p,m=f.easing;if(m&&(d=m,delete f.easing),!a)for(let v in f)if(f[v].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:o,easing:d,offset:n.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(n,e){const o=e.currentAnimateTimings;let a=e.currentTime,d=e.currentTime;o&&d>0&&(d-=o.duration+o.delay),n.styles.forEach(p=>{"string"!=typeof p&&Object.keys(p).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete p[f],void e.unsupportedCSSPropertiesFound.add(f);const m=e.collectedStyles[e.currentQuerySelector],v=m[f];let y=!0;v&&(d!=a&&d>=v.startTime&&a<=v.endTime&&(e.errors.push(function dse(t,n,e,o,a){return new Ae(3010,Et)}()),y=!1),d=v.startTime),y&&(m[f]={startTime:d,endTime:a}),e.options&&function Hse(t,n,e){const o=n.params||{},a=sW(t);a.length&&a.forEach(d=>{o.hasOwnProperty(d)||e.push(function ise(t){return new Ae(3001,Et)}())})}(p[f],e.options,e.errors)})})}visitKeyframes(n,e){const o={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function pse(){return new Ae(3011,Et)}()),o;let d=0;const p=[];let f=!1,m=!1,v=0;const y=n.steps.map(F=>{const k=this._makeStyleAst(F,e);let z=null!=k.offset?k.offset:function nae(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(zE(e)&&e.hasOwnProperty("offset")){const o=e;n=parseFloat(o.offset),delete o.offset}});else if(zE(t)&&t.hasOwnProperty("offset")){const e=t;n=parseFloat(e.offset),delete e.offset}return n}(k.styles),W=0;return null!=z&&(d++,W=k.offset=z),m=m||W<0||W>1,f=f||W<v,v=W,p.push(W),k});m&&e.errors.push(function hse(){return new Ae(3012,Et)}()),f&&e.errors.push(function fse(){return new Ae(3200,Et)}());const C=n.steps.length;let b=0;d>0&&d<C?e.errors.push(function gse(){return new Ae(3202,Et)}()):0==d&&(b=1/(C-1));const S=C-1,R=e.currentTime,A=e.currentAnimateTimings,I=A.duration;return y.forEach((F,k)=>{const z=b>0?k==S?1:b*k:p[k],W=z*I;e.currentTime=R+A.delay+W,A.duration=W,this._validateStyleAst(F,e),F.offset=z,o.styles.push(F)}),o}visitReference(n,e){return{type:8,animation:Co(this,$v(n.animation),e),options:yd(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:yd(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:yd(n.options)}}visitQuery(n,e){const o=e.currentQuerySelector,a=n.options||{};e.queryCount++,e.currentQuery=n;const[d,p]=function Jse(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(Xse,"")),t=t.replace(/@\*/g,LE).replace(/@\w+/g,e=>LE+"-"+e.substr(1)).replace(/:animating/g,SP),[t,n]}(n.selector);e.currentQuerySelector=o.length?o+" "+d:d,_o(e.collectedStyles,e.currentQuerySelector,{});const f=Co(this,$v(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=o,{type:11,selector:d,limit:a.limit||0,optional:!!a.optional,includeSelf:p,animation:f,originalSelector:n.selector,options:yd(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function mse(){return new Ae(3013,Et)}());const o="full"===n.timings?{duration:0,delay:0,easing:"full"}:GE(n.timings,e.errors,!0);return{type:12,animation:Co(this,$v(n.animation),e),timings:o,options:null}}}class tae{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zE(t){return!Array.isArray(t)&&"object"==typeof t}function yd(t){return t?(t=Uh(t)).params&&(t.params=function eae(t){return t?Uh(t):null}(t.params)):t={},t}function AP(t,n,e){return{duration:t,delay:n,easing:e}}function PP(t,n,e,o,a,d,p=null,f=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:o,duration:a,delay:d,totalTime:a+d,easing:p,subTimeline:f}}class $E{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let o=this._map.get(n);o||this._map.set(n,o=[]),o.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const sae=new RegExp(":enter","g"),lae=new RegExp(":leave","g");function NP(t,n,e,o,a,d={},p={},f,m,v=[]){return(new uae).buildKeyframes(t,n,e,o,a,d,p,f,m,v)}class uae{buildKeyframes(n,e,o,a,d,p,f,m,v,y=[]){v=v||new $E;const C=new MP(n,e,v,a,d,y,[]);C.options=m,C.currentTimeline.setStyles([p],null,C.errors,m),Co(this,o,C);const b=C.timelines.filter(S=>S.containsAnimation());if(Object.keys(f).length){let S;for(let R=b.length-1;R>=0;R--){const A=b[R];if(A.element===e){S=A;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([f],null,C.errors,m)}return b.length?b.map(S=>S.buildKeyframes()):[PP(e,[],[],[],0,0,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const o=e.subInstructions.get(e.element);if(o){const a=e.createSubContext(n.options),d=e.currentTimeline.currentTime,p=this._visitSubInstructions(o,a,a.options);d!=p&&e.transformIntoNewTimeline(p)}e.previousNode=n}visitAnimateRef(n,e){const o=e.createSubContext(n.options);o.transformIntoNewTimeline(),this.visitReference(n.animation,o),e.transformIntoNewTimeline(o.currentTimeline.currentTime),e.previousNode=n}_visitSubInstructions(n,e,o){let d=e.currentTimeline.currentTime;const p=null!=o.duration?md(o.duration):null,f=null!=o.delay?md(o.delay):null;return 0!==p&&n.forEach(m=>{const v=e.appendInstructionToTimeline(m,p,f);d=Math.max(d,v.duration+v.delay)}),d}visitReference(n,e){e.updateOptions(n.options,!0),Co(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const o=e.subContextCount;let a=e;const d=n.options;if(d&&(d.params||d.delay)&&(a=e.createSubContext(d),a.transformIntoNewTimeline(),null!=d.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=KE);const p=md(d.delay);a.delayNextStep(p)}n.steps.length&&(n.steps.forEach(p=>Co(this,p,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>o&&a.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const o=[];let a=e.currentTimeline.currentTime;const d=n.options&&n.options.delay?md(n.options.delay):0;n.steps.forEach(p=>{const f=e.createSubContext(n.options);d&&f.delayNextStep(d),Co(this,p,f),a=Math.max(a,f.currentTimeline.currentTime),o.push(f.currentTimeline)}),o.forEach(p=>e.currentTimeline.mergeTimelineCollectedStyles(p)),e.transformIntoNewTimeline(a),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const o=n.strValue;return GE(e.params?kE(o,e.params,e.errors):o,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const o=e.currentAnimateTimings=this._visitTiming(n.timings,e),a=e.currentTimeline;o.delay&&(e.incrementTime(o.delay),a.snapshotCurrentStyles());const d=n.style;5==d.type?this.visitKeyframes(d,e):(e.incrementTime(o.duration),this.visitStyle(d,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const o=e.currentTimeline,a=e.currentAnimateTimings;!a&&o.getCurrentStyleProperties().length&&o.forwardFrame();const d=a&&a.easing||n.easing;n.isEmptyStep?o.applyEmptyStep(d):o.setStyles(n.styles,d,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const o=e.currentAnimateTimings,a=e.currentTimeline.duration,d=o.duration,f=e.createSubContext().currentTimeline;f.easing=o.easing,n.styles.forEach(m=>{f.forwardTime((m.offset||0)*d),f.setStyles(m.styles,m.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(a+d),e.previousNode=n}visitQuery(n,e){const o=e.currentTimeline.currentTime,a=n.options||{},d=a.delay?md(a.delay):0;d&&(6===e.previousNode.type||0==o&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=KE);let p=o;const f=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=f.length;let m=null;f.forEach((v,y)=>{e.currentQueryIndex=y;const C=e.createSubContext(n.options,v);d&&C.delayNextStep(d),v===e.element&&(m=C.currentTimeline),Co(this,n.animation,C),C.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,C.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(p),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const o=e.parentContext,a=e.currentTimeline,d=n.timings,p=Math.abs(d.duration),f=p*(e.currentQueryTotal-1);let m=p*e.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":m=f-m;break;case"full":m=o.currentStaggerTime}const y=e.currentTimeline;m&&y.delayNextStep(m);const C=y.currentTime;Co(this,n.animation,e),e.previousNode=n,o.currentStaggerTime=a.currentTime-C+(a.startTime-o.currentTimeline.startTime)}}const KE={};class MP{constructor(n,e,o,a,d,p,f,m){this._driver=n,this.element=e,this.subInstructions=o,this._enterClassName=a,this._leaveClassName=d,this.errors=p,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=KE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new qE(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const o=n;let a=this.options;null!=o.duration&&(a.duration=md(o.duration)),null!=o.delay&&(a.delay=md(o.delay));const d=o.params;if(d){let p=a.params;p||(p=this.options.params={}),Object.keys(d).forEach(f=>{(!e||!p.hasOwnProperty(f))&&(p[f]=kE(d[f],p,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const o=n.params={};Object.keys(e).forEach(a=>{o[a]=e[a]})}}return n}createSubContext(n=null,e,o){const a=e||this.element,d=new MP(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,o||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(n),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(n){return this.previousNode=KE,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,o){const a={duration:null!=e?e:n.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+n.delay,easing:""},d=new cae(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,a,n.stretchStartingKeyframe);return this.timelines.push(d),a}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,o,a,d,p){let f=[];if(a&&f.push(this.element),n.length>0){n=(n=n.replace(sae,"."+this._enterClassName)).replace(lae,"."+this._leaveClassName);let v=this._driver.query(this.element,n,1!=o);0!==o&&(v=o<0?v.slice(v.length+o,v.length):v.slice(0,o)),f.push(...v)}return!d&&0==f.length&&p.push(function vse(t){return new Ae(3014,Et)}()),f}}class qE{constructor(n,e,o,a){this._driver=n,this.element=e,this.startTime=o,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new qE(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles[n]=e,this._globalTimelineStyles[n]=e,this._styleSummary[n]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||el,this._currentKeyframe[e]=el}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,o,a){e&&(this._previousKeyframe.easing=e);const d=a&&a.params||{},p=function dae(t,n){const e={};let o;return t.forEach(a=>{"*"===a?(o=o||Object.keys(n),o.forEach(d=>{e[d]=el})):Eu(a,!1,e)}),e}(n,this._globalTimelineStyles);Object.keys(p).forEach(f=>{const m=kE(p[f],d,o);this._pendingStyles[f]=m,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:el),this._updateStyle(f,m)})}applyStylesToKeyframe(){const n=this._pendingStyles,e=Object.keys(n);0!=e.length&&(this._pendingStyles={},e.forEach(o=>{this._currentKeyframe[o]=n[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const e=this._localTimelineStyles[n];this._pendingStyles[n]=e,this._updateStyle(n,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(e=>{const o=this._styleSummary[e],a=n._styleSummary[e];(!o||a.time>o.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,o=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((f,m)=>{const v=Eu(f,!0);Object.keys(v).forEach(y=>{const C=v[y];"!"==C?n.add(y):C==el&&e.add(y)}),o||(v.offset=m/this.duration),a.push(v)});const d=n.size?VE(n.values()):[],p=e.size?VE(e.values()):[];if(o){const f=a[0],m=Uh(f);f.offset=0,m.offset=1,a=[f,m]}return PP(this.element,a,d,p,this.duration,this.startTime,this.easing,!1)}}class cae extends qE{constructor(n,e,o,a,d,p,f=!1){super(n,e,p.delay),this.keyframes=o,this.preStyleProps=a,this.postStyleProps=d,this._stretchStartingKeyframe=f,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:o,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const d=[],p=o+e,f=e/p,m=Eu(n[0],!1);m.offset=0,d.push(m);const v=Eu(n[0],!1);v.offset=dW(f),d.push(v);const y=n.length-1;for(let C=1;C<=y;C++){let b=Eu(n[C],!1);b.offset=dW((e+b.offset*o)/p),d.push(b)}o=p,e=0,a="",n=d}return PP(this.element,n,this.preStyleProps,this.postStyleProps,o,e,a,!0)}}function dW(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class IP{}class pae extends IP{normalizePropertyName(n,e){return OP(n)}normalizeStyleValue(n,e,o,a){let d="";const p=o.toString().trim();if(hae[e]&&0!==o&&"0"!==o)if("number"==typeof o)d="px";else{const f=o.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&a.push(function sse(t,n){return new Ae(3005,Et)}())}return p+d}}const hae=(()=>function fae(t){const n={};return t.forEach(e=>n[e]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function pW(t,n,e,o,a,d,p,f,m,v,y,C,b){return{type:0,element:t,triggerName:n,isRemovalTransition:a,fromState:e,fromStyles:d,toState:o,toStyles:p,timelines:f,queriedElements:m,preStyleProps:v,postStyleProps:y,totalTime:C,errors:b}}const xP={};class hW{constructor(n,e,o){this._triggerName=n,this.ast=e,this._stateStyles=o}match(n,e,o,a){return function gae(t,n,e,o,a){return t.some(d=>d(n,e,o,a))}(this.ast.matchers,n,e,o,a)}buildStyles(n,e,o){const a=this._stateStyles["*"],d=this._stateStyles[n],p=a?a.buildStyles(e,o):{};return d?d.buildStyles(e,o):p}build(n,e,o,a,d,p,f,m,v,y){const C=[],b=this.ast.options&&this.ast.options.params||xP,R=this.buildStyles(o,f&&f.params||xP,C),A=m&&m.params||xP,I=this.buildStyles(a,A,C),F=new Set,k=new Map,z=new Map,W="void"===a,$={params:Object.assign(Object.assign({},b),A)},ie=y?[]:NP(n,e,this.ast.animation,d,p,R,I,$,v,C);let se=0;if(ie.forEach(ye=>{se=Math.max(ye.duration+ye.delay,se)}),C.length)return pW(e,this._triggerName,o,a,W,R,I,[],[],k,z,se,C);ie.forEach(ye=>{const xe=ye.element,Ne=_o(k,xe,{});ye.preStyleProps.forEach(Ze=>Ne[Ze]=!0);const Ge=_o(z,xe,{});ye.postStyleProps.forEach(Ze=>Ge[Ze]=!0),xe!==e&&F.add(xe)});const he=VE(F.values());return pW(e,this._triggerName,o,a,W,R,I,ie,he,k,z,se)}}class mae{constructor(n,e,o){this.styles=n,this.defaultParams=e,this.normalizer=o}buildStyles(n,e){const o={},a=Uh(this.defaultParams);return Object.keys(n).forEach(d=>{const p=n[d];null!=p&&(a[d]=p)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const p=d;Object.keys(p).forEach(f=>{let m=p[f];m.length>1&&(m=kE(m,a,e));const v=this.normalizer.normalizePropertyName(f,e);m=this.normalizer.normalizeStyleValue(f,v,m,e),o[v]=m})}}),o}}class yae{constructor(n,e,o){this.name=n,this.ast=e,this._normalizer=o,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new mae(a.style,a.options&&a.options.params||{},o)}),fW(this.states,"true","1"),fW(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new hW(n,a,this.states))}),this.fallbackTransition=function _ae(t,n,e){return new hW(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,f)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,o,a){return this.transitionFactories.find(p=>p.match(n,e,o,a))||null}matchStyles(n,e,o){return this.fallbackTransition.buildStyles(n,e,o)}}function fW(t,n,e){t.hasOwnProperty(n)?t.hasOwnProperty(e)||(t[e]=t[n]):t.hasOwnProperty(e)&&(t[n]=t[e])}const Cae=new $E;class wae{constructor(n,e,o){this.bodyNode=n,this._driver=e,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(n,e){const o=[],d=TP(this._driver,e,o,[]);if(o.length)throw function Sse(t){return new Ae(3503,Et)}();this._animations[n]=d}_buildPlayer(n,e,o){const a=n.element,d=$B(0,this._normalizer,0,n.keyframes,e,o);return this._driver.animate(a,d,n.duration,n.delay,n.easing,[],!0)}create(n,e,o={}){const a=[],d=this._animations[n];let p;const f=new Map;if(d?(p=NP(this._driver,e,d,EP,xE,{},{},o,Cae,a),p.forEach(y=>{const C=_o(f,y.element,{});y.postStyleProps.forEach(b=>C[b]=null)})):(a.push(function Dse(){return new Ae(3300,Et)}()),p=[]),a.length)throw function Rse(t){return new Ae(3504,Et)}();f.forEach((y,C)=>{Object.keys(y).forEach(b=>{y[b]=this._driver.computeStyle(C,b,el)})});const v=bu(p.map(y=>{const C=f.get(y.element);return this._buildPlayer(y,{},C)}));return this._playersById[n]=v,v.onDestroy(()=>this.destroy(n)),this.players.push(v),v}destroy(n){const e=this._getPlayer(n);e.destroy(),delete this._playersById[n];const o=this.players.indexOf(e);o>=0&&this.players.splice(o,1)}_getPlayer(n){const e=this._playersById[n];if(!e)throw function Ose(t){return new Ae(3301,Et)}();return e}listen(n,e,o,a){const d=_P(e,"","","");return vP(this._getPlayer(n),o,d,a),()=>{}}command(n,e,o,a){if("register"==o)return void this.register(n,a[0]);if("create"==o)return void this.create(n,e,a[0]||{});const d=this._getPlayer(n);switch(o){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(n)}}}const gW="ng-animate-queued",FP="ng-animate-disabled",Rae=[],mW={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Oae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Uo="__ng_removed";class LP{constructor(n,e=""){this.namespaceId=e;const o=n&&n.hasOwnProperty("value");if(this.value=function Nae(t){return null!=t?t:null}(o?n.value:n),o){const d=Uh(n);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const e=n.params;if(e){const o=this.options.params;Object.keys(e).forEach(a=>{null==o[a]&&(o[a]=e[a])})}}}const Kv="void",GP=new LP(Kv);class Tae{constructor(n,e,o){this.id=n,this.hostElement=e,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,zo(e,this._hostClassName)}listen(n,e,o,a){if(!this._triggers.hasOwnProperty(e))throw function Tse(t,n){return new Ae(3302,Et)}();if(null==o||0==o.length)throw function Ase(t){return new Ae(3303,Et)}();if(!function Mae(t){return"start"==t||"done"==t}(o))throw function Pse(t,n){return new Ae(3400,Et)}();const d=_o(this._elementListeners,n,[]),p={name:e,phase:o,callback:a};d.push(p);const f=_o(this._engine.statesByElement,n,{});return f.hasOwnProperty(e)||(zo(n,FE),zo(n,FE+"-"+e),f[e]=GP),()=>{this._engine.afterFlush(()=>{const m=d.indexOf(p);m>=0&&d.splice(m,1),this._triggers[e]||delete f[e]})}}register(n,e){return!this._triggers[n]&&(this._triggers[n]=e,!0)}_getTrigger(n){const e=this._triggers[n];if(!e)throw function Nse(t){return new Ae(3401,Et)}();return e}trigger(n,e,o,a=!0){const d=this._getTrigger(e),p=new kP(this.id,e,n);let f=this._engine.statesByElement.get(n);f||(zo(n,FE),zo(n,FE+"-"+e),this._engine.statesByElement.set(n,f={}));let m=f[e];const v=new LP(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),f[e]=v,m||(m=GP),v.value!==Kv&&m.value===v.value){if(!function Fae(t,n){const e=Object.keys(t),o=Object.keys(n);if(e.length!=o.length)return!1;for(let a=0;a<e.length;a++){const d=e[a];if(!n.hasOwnProperty(d)||t[d]!==n[d])return!1}return!0}(m.params,v.params)){const A=[],I=d.matchStyles(m.value,m.params,A),F=d.matchStyles(v.value,v.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{vd(n,I),ra(n,F)})}return}const b=_o(this._engine.playersByElement,n,[]);b.forEach(A=>{A.namespaceId==this.id&&A.triggerName==e&&A.queued&&A.destroy()});let S=d.matchTransition(m.value,v.value,n,v.params),R=!1;if(!S){if(!a)return;S=d.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:S,fromState:m,toState:v,player:p,isFallbackTransition:R}),R||(zo(n,gW),p.onStart(()=>{zh(n,gW)})),p.onDone(()=>{let A=this.players.indexOf(p);A>=0&&this.players.splice(A,1);const I=this._engine.playersByElement.get(n);if(I){let F=I.indexOf(p);F>=0&&I.splice(F,1)}}),this.players.push(p),b.push(p),p}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((e,o)=>{delete e[n]}),this._elementListeners.forEach((e,o)=>{this._elementListeners.set(o,e.filter(a=>a.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(o=>o.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const o=this._engine.driver.query(n,LE,!0);o.forEach(a=>{if(a[Uo])return;const d=this._engine.fetchNamespacesByElement(a);d.size?d.forEach(p=>p.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(n,e,o,a){const d=this._engine.statesByElement.get(n),p=new Map;if(d){const f=[];if(Object.keys(d).forEach(m=>{if(p.set(m,d[m].value),this._triggers[m]){const v=this.trigger(n,m,Kv,a);v&&f.push(v)}}),f.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,p),o&&bu(f).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),o=this._engine.statesByElement.get(n);if(e&&o){const a=new Set;e.forEach(d=>{const p=d.name;if(a.has(p))return;a.add(p);const m=this._triggers[p].fallbackTransition,v=o[p]||GP,y=new LP(Kv),C=new kP(this.id,p,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:p,transition:m,fromState:v,toState:y,player:C,isFallbackTransition:!0})})}}removeNode(n,e){const o=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let a=!1;if(o.totalAnimations){const d=o.players.length?o.playersByQueriedElement.get(n):[];if(d&&d.length)a=!0;else{let p=n;for(;p=p.parentNode;)if(o.statesByElement.get(p)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(n),a)o.markElementAsRemoved(this.id,n,!1,e);else{const d=n[Uo];(!d||d===mW)&&(o.afterFlush(()=>this.clearElementCache(n)),o.destroyInnerAnimations(n),o._onRemovalComplete(n,e))}}insertNode(n,e){zo(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(o=>{const a=o.player;if(a.destroyed)return;const d=o.element,p=this._elementListeners.get(d);p&&p.forEach(f=>{if(f.name==o.triggerName){const m=_P(d,o.triggerName,o.fromState.value,o.toState.value);m._data=n,vP(o.player,f.phase,m,f.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(o)}),this._queue=[],e.sort((o,a)=>{const d=o.transition.ast.depCount,p=a.transition.ast.depCount;return 0==d||0==p?d-p:this._engine.driver.containsElement(o.element,a.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(o=>o.element===n)||e,e}}class Aae{constructor(n,e,o){this.bodyNode=n,this.driver=e,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,d)=>{}}_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(o=>{o.queued&&n.push(o)})}),n}createNamespace(n,e){const o=new Tae(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(o,e):(this.newHostElements.set(e,o),this.collectEnterElement(e)),this._namespaceLookup[n]=o}_balanceNamespaceList(n,e){const o=this._namespaceList,a=this.namespacesByHostElement,d=o.length-1;if(d>=0){let p=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(e);for(;f;){const m=a.get(f);if(m){const v=o.indexOf(m);o.splice(v+1,0,n),p=!0;break}f=this.driver.getParentElement(f)}}else for(let f=d;f>=0;f--)if(this.driver.containsElement(o[f].hostElement,e)){o.splice(f+1,0,n),p=!0;break}p||o.unshift(n)}else o.push(n);return a.set(e,n),n}register(n,e){let o=this._namespaceLookup[n];return o||(o=this.createNamespace(n,e)),o}registerTrigger(n,e,o){let a=this._namespaceLookup[n];a&&a.register(e,o)&&this.totalAnimations++}destroy(n,e){if(!n)return;const o=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[n];const a=this._namespaceList.indexOf(o);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>o.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,o=this.statesByElement.get(n);if(o){const a=Object.keys(o);for(let d=0;d<a.length;d++){const p=o[a[d]].namespaceId;if(p){const f=this._fetchNamespace(p);f&&e.add(f)}}}return e}trigger(n,e,o,a){if(YE(e)){const d=this._fetchNamespace(n);if(d)return d.trigger(e,o,a),!0}return!1}insertNode(n,e,o,a){if(!YE(e))return;const d=e[Uo];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const p=this.collectedLeaveElements.indexOf(e);p>=0&&this.collectedLeaveElements.splice(p,1)}if(n){const p=this._fetchNamespace(n);p&&p.insertNode(e,o)}a&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),zo(n,FP)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),zh(n,FP))}removeNode(n,e,o,a){if(YE(e)){const d=n?this._fetchNamespace(n):null;if(d?d.removeNode(e,a):this.markElementAsRemoved(n,e,!1,a),o){const p=this.namespacesByHostElement.get(e);p&&p.id!==n&&p.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(n,e,o,a,d){this.collectedLeaveElements.push(e),e[Uo]={namespaceId:n,setForRemoval:a,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:d}}listen(n,e,o,a,d){return YE(e)?this._fetchNamespace(n).listen(e,o,a,d):()=>{}}_buildInstruction(n,e,o,a,d){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,o,a,n.fromState.options,n.toState.options,e,d)}destroyInnerAnimations(n){let e=this.driver.query(n,LE,!0);e.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,SP,!0),e.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return bu(this.players).onDone(()=>n());n()})}processLeaveNode(n){var e;const o=n[Uo];if(o&&o.setForRemoval){if(n[Uo]=mW,o.namespaceId){this.destroyInnerAnimations(n);const a=this._fetchNamespace(o.namespaceId);a&&a.clearElementCache(n)}this._onRemovalComplete(n,o.setForRemoval)}(null===(e=n.classList)||void 0===e?void 0:e.contains(FP))&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,a)=>this._balanceNamespaceList(o,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)zo(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{e=this._flushAnimations(o,n)}finally{for(let a=0;a<o.length;a++)o[a]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],e.length?bu(e).onDone(()=>{o.forEach(a=>a())}):o.forEach(a=>a())}}reportError(n){throw function Mse(t){return new Ae(3402,Et)}()}_flushAnimations(n,e){const o=new $E,a=[],d=new Map,p=[],f=new Map,m=new Map,v=new Map,y=new Set;this.disabledNodes.forEach(de=>{y.add(de);const Oe=this.driver.query(de,".ng-animate-queued",!0);for(let Fe=0;Fe<Oe.length;Fe++)y.add(Oe[Fe])});const C=this.bodyNode,b=Array.from(this.statesByElement.keys()),S=_W(b,this.collectedEnterElements),R=new Map;let A=0;S.forEach((de,Oe)=>{const Fe=EP+A++;R.set(Oe,Fe),de.forEach(qe=>zo(qe,Fe))});const I=[],F=new Set,k=new Set;for(let de=0;de<this.collectedLeaveElements.length;de++){const Oe=this.collectedLeaveElements[de],Fe=Oe[Uo];Fe&&Fe.setForRemoval&&(I.push(Oe),F.add(Oe),Fe.hasAnimation?this.driver.query(Oe,".ng-star-inserted",!0).forEach(qe=>F.add(qe)):k.add(Oe))}const z=new Map,W=_W(b,Array.from(F));W.forEach((de,Oe)=>{const Fe=xE+A++;z.set(Oe,Fe),de.forEach(qe=>zo(qe,Fe))}),n.push(()=>{S.forEach((de,Oe)=>{const Fe=R.get(Oe);de.forEach(qe=>zh(qe,Fe))}),W.forEach((de,Oe)=>{const Fe=z.get(Oe);de.forEach(qe=>zh(qe,Fe))}),I.forEach(de=>{this.processLeaveNode(de)})});const $=[],ie=[];for(let de=this._namespaceList.length-1;de>=0;de--)this._namespaceList[de].drainQueuedTransitions(e).forEach(Fe=>{const qe=Fe.player,Qt=Fe.element;if($.push(qe),this.collectedEnterElements.length){const Xn=Qt[Uo];if(Xn&&Xn.setForMove){if(Xn.previousTriggersValues&&Xn.previousTriggersValues.has(Fe.triggerName)){const Sr=Xn.previousTriggersValues.get(Fe.triggerName),$o=this.statesByElement.get(Fe.element);$o&&$o[Fe.triggerName]&&($o[Fe.triggerName].value=Sr)}return void qe.destroy()}}const Hn=!C||!this.driver.containsElement(C,Qt),hn=z.get(Qt),gi=R.get(Qt),Ot=this._buildInstruction(Fe,o,gi,hn,Hn);if(Ot.errors&&Ot.errors.length)return void ie.push(Ot);if(Hn)return qe.onStart(()=>vd(Qt,Ot.fromStyles)),qe.onDestroy(()=>ra(Qt,Ot.toStyles)),void a.push(qe);if(Fe.isFallbackTransition)return qe.onStart(()=>vd(Qt,Ot.fromStyles)),qe.onDestroy(()=>ra(Qt,Ot.toStyles)),void a.push(qe);const Er=[];Ot.timelines.forEach(Xn=>{Xn.stretchStartingKeyframe=!0,this.disabledNodes.has(Xn.element)||Er.push(Xn)}),Ot.timelines=Er,o.append(Qt,Ot.timelines),p.push({instruction:Ot,player:qe,element:Qt}),Ot.queriedElements.forEach(Xn=>_o(f,Xn,[]).push(qe)),Ot.preStyleProps.forEach((Xn,Sr)=>{const $o=Object.keys(Xn);if($o.length){let tl=m.get(Sr);tl||m.set(Sr,tl=new Set),$o.forEach(wd=>tl.add(wd))}}),Ot.postStyleProps.forEach((Xn,Sr)=>{const $o=Object.keys(Xn);let tl=v.get(Sr);tl||v.set(Sr,tl=new Set),$o.forEach(wd=>tl.add(wd))})});if(ie.length){const de=[];ie.forEach(Oe=>{de.push(function Ise(t,n){return new Ae(3505,Et)}())}),$.forEach(Oe=>Oe.destroy()),this.reportError(de)}const se=new Map,he=new Map;p.forEach(de=>{const Oe=de.element;o.has(Oe)&&(he.set(Oe,Oe),this._beforeAnimationBuild(de.player.namespaceId,de.instruction,se))}),a.forEach(de=>{const Oe=de.element;this._getPreviousPlayers(Oe,!1,de.namespaceId,de.triggerName,null).forEach(qe=>{_o(se,Oe,[]).push(qe),qe.destroy()})});const ye=I.filter(de=>wW(de,m,v)),xe=new Map;yW(xe,this.driver,k,v,el).forEach(de=>{wW(de,m,v)&&ye.push(de)});const Ge=new Map;S.forEach((de,Oe)=>{yW(Ge,this.driver,new Set(de),m,"!")}),ye.forEach(de=>{const Oe=xe.get(de),Fe=Ge.get(de);xe.set(de,Object.assign(Object.assign({},Oe),Fe))});const Ze=[],Yt=[],je={};p.forEach(de=>{const{element:Oe,player:Fe,instruction:qe}=de;if(o.has(Oe)){if(y.has(Oe))return Fe.onDestroy(()=>ra(Oe,qe.toStyles)),Fe.disabled=!0,Fe.overrideTotalTime(qe.totalTime),void a.push(Fe);let Qt=je;if(he.size>1){let hn=Oe;const gi=[];for(;hn=hn.parentNode;){const Ot=he.get(hn);if(Ot){Qt=Ot;break}gi.push(hn)}gi.forEach(Ot=>he.set(Ot,Qt))}const Hn=this._buildAnimation(Fe.namespaceId,qe,se,d,Ge,xe);if(Fe.setRealPlayer(Hn),Qt===je)Ze.push(Fe);else{const hn=this.playersByElement.get(Qt);hn&&hn.length&&(Fe.parentPlayer=bu(hn)),a.push(Fe)}}else vd(Oe,qe.fromStyles),Fe.onDestroy(()=>ra(Oe,qe.toStyles)),Yt.push(Fe),y.has(Oe)&&a.push(Fe)}),Yt.forEach(de=>{const Oe=d.get(de.element);if(Oe&&Oe.length){const Fe=bu(Oe);de.setRealPlayer(Fe)}}),a.forEach(de=>{de.parentPlayer?de.syncPlayerEvents(de.parentPlayer):de.destroy()});for(let de=0;de<I.length;de++){const Oe=I[de],Fe=Oe[Uo];if(zh(Oe,xE),Fe&&Fe.hasAnimation)continue;let qe=[];if(f.size){let Hn=f.get(Oe);Hn&&Hn.length&&qe.push(...Hn);let hn=this.driver.query(Oe,SP,!0);for(let gi=0;gi<hn.length;gi++){let Ot=f.get(hn[gi]);Ot&&Ot.length&&qe.push(...Ot)}}const Qt=qe.filter(Hn=>!Hn.destroyed);Qt.length?Iae(this,Oe,Qt):this.processLeaveNode(Oe)}return I.length=0,Ze.forEach(de=>{this.players.push(de),de.onDone(()=>{de.destroy();const Oe=this.players.indexOf(de);this.players.splice(Oe,1)}),de.play()}),Ze}elementContainsData(n,e){let o=!1;const a=e[Uo];return a&&a.setForRemoval&&(o=!0),this.playersByElement.has(e)&&(o=!0),this.playersByQueriedElement.has(e)&&(o=!0),this.statesByElement.has(e)&&(o=!0),this._fetchNamespace(n).elementContainsData(e)||o}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,o,a,d){let p=[];if(e){const f=this.playersByQueriedElement.get(n);f&&(p=f)}else{const f=this.playersByElement.get(n);if(f){const m=!d||d==Kv;f.forEach(v=>{v.queued||!m&&v.triggerName!=a||p.push(v)})}}return(o||a)&&(p=p.filter(f=>!(o&&o!=f.namespaceId||a&&a!=f.triggerName))),p}_beforeAnimationBuild(n,e,o){const d=e.element,p=e.isRemovalTransition?void 0:n,f=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const v=m.element,y=v!==d,C=_o(o,v,[]);this._getPreviousPlayers(v,y,p,f,e.toState).forEach(S=>{const R=S.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),S.destroy(),C.push(S)})}vd(d,e.fromStyles)}_buildAnimation(n,e,o,a,d,p){const f=e.triggerName,m=e.element,v=[],y=new Set,C=new Set,b=e.timelines.map(R=>{const A=R.element;y.add(A);const I=A[Uo];if(I&&I.removedBeforeQueried)return new zv(R.duration,R.delay);const F=A!==m,k=function xae(t){const n=[];return CW(t,n),n}((o.get(A)||Rae).map(se=>se.getRealPlayer())).filter(se=>!!se.element&&se.element===A),z=d.get(A),W=p.get(A),$=$B(0,this._normalizer,0,R.keyframes,z,W),ie=this._buildPlayer(R,$,k);if(R.subTimeline&&a&&C.add(A),F){const se=new kP(n,f,A);se.setRealPlayer(ie),v.push(se)}return ie});v.forEach(R=>{_o(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function Pae(t,n,e){let o;if(t instanceof Map){if(o=t.get(n),o){if(o.length){const a=o.indexOf(e);o.splice(a,1)}0==o.length&&t.delete(n)}}else if(o=t[n],o){if(o.length){const a=o.indexOf(e);o.splice(a,1)}0==o.length&&delete t[n]}return o}(this.playersByQueriedElement,R.element,R))}),y.forEach(R=>zo(R,nW));const S=bu(b);return S.onDestroy(()=>{y.forEach(R=>zh(R,nW)),ra(m,e.toStyles)}),C.forEach(R=>{_o(a,R,[]).push(S)}),S}_buildPlayer(n,e,o){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,o):new zv(n.duration,n.delay)}}class kP{constructor(n,e,o){this.namespaceId=n,this.triggerName=e,this.element=o,this._player=new zv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(o=>vP(n,e,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){_o(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function YE(t){return t&&1===t.nodeType}function vW(t,n){const e=t.style.display;return t.style.display=null!=n?n:"none",e}function yW(t,n,e,o,a){const d=[];e.forEach(m=>d.push(vW(m)));const p=[];o.forEach((m,v)=>{const y={};m.forEach(C=>{const b=y[C]=n.computeStyle(v,C,a);(!b||0==b.length)&&(v[Uo]=Oae,p.push(v))}),t.set(v,y)});let f=0;return e.forEach(m=>vW(m,d[f++])),p}function _W(t,n){const e=new Map;if(t.forEach(f=>e.set(f,[])),0==n.length)return e;const a=new Set(n),d=new Map;function p(f){if(!f)return 1;let m=d.get(f);if(m)return m;const v=f.parentNode;return m=e.has(v)?v:a.has(v)?1:p(v),d.set(f,m),m}return n.forEach(f=>{const m=p(f);1!==m&&e.get(m).push(f)}),e}function zo(t,n){var e;null===(e=t.classList)||void 0===e||e.add(n)}function zh(t,n){var e;null===(e=t.classList)||void 0===e||e.remove(n)}function Iae(t,n,e){bu(e).onDone(()=>t.processLeaveNode(n))}function CW(t,n){for(let e=0;e<t.length;e++){const o=t[e];o instanceof UB?CW(o.players,n):n.push(o)}}function wW(t,n,e){const o=e.get(t);if(!o)return!1;let a=n.get(t);return a?o.forEach(d=>a.add(d)):n.set(t,o),e.delete(t),!0}class QE{constructor(n,e,o){this.bodyNode=n,this._driver=e,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(a,d)=>{},this._transitionEngine=new Aae(n,e,o),this._timelineEngine=new wae(n,e,o),this._transitionEngine.onRemovalComplete=(a,d)=>this.onRemovalComplete(a,d)}registerTrigger(n,e,o,a,d){const p=n+"-"+a;let f=this._triggerCache[p];if(!f){const m=[],y=TP(this._driver,d,m,[]);if(m.length)throw function bse(t,n){return new Ae(3404,Et)}();f=function vae(t,n,e){return new yae(t,n,e)}(a,y,this._normalizer),this._triggerCache[p]=f}this._transitionEngine.registerTrigger(e,a,f)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,o,a){this._transitionEngine.insertNode(n,e,o,a)}onRemove(n,e,o,a){this._transitionEngine.removeNode(n,e,a||!1,o)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,o,a){if("@"==o.charAt(0)){const[d,p]=KB(o);this._timelineEngine.command(d,e,p,a)}else this._transitionEngine.trigger(n,e,o,a)}listen(n,e,o,a,d){if("@"==o.charAt(0)){const[p,f]=KB(o);return this._timelineEngine.listen(p,e,f,d)}return this._transitionEngine.listen(n,e,o,a,d)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Gae=(()=>{class t{constructor(e,o,a){this._element=e,this._startStyles=o,this._endStyles=a,this._state=0;let d=t.initialStylesByElement.get(e);d||t.initialStylesByElement.set(e,d={}),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&ra(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ra(this._element,this._initialStyles),this._endStyles&&(ra(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(vd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vd(this._element,this._endStyles),this._endStyles=null),ra(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function VP(t){let n=null;const e=Object.keys(t);for(let o=0;o<e.length;o++){const a=e[o];kae(a)&&(n=n||{},n[a]=t[a])}return n}function kae(t){return"display"===t||"position"===t}class bW{constructor(n,e,o,a){this.element=n,this.keyframes=e,this.options=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,e,o){return n.animate(e,o)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(o=>{"offset"!=o&&(n[o]=this._finished?e[o]:aW(this.element,o))})}this.currentSnapshot=n}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class Vae{validateStyleProperty(n){return XB(n)}matchesElement(n,e){return!1}containsElement(n,e){return ZB(n,e)}getParentElement(n){return wP(n)}query(n,e,o){return JB(n,e,o)}computeStyle(n,e,o){return window.getComputedStyle(n)[e]}animate(n,e,o,a,d,p=[]){const m={duration:o,delay:a,fill:0==a?"both":"forwards"};d&&(m.easing=d);const v={},y=p.filter(b=>b instanceof bW);(function jse(t,n){return 0===t||0===n})(o,a)&&y.forEach(b=>{let S=b.currentSnapshot;Object.keys(S).forEach(R=>v[R]=S[R])}),e=function Use(t,n,e){const o=Object.keys(e);if(o.length&&n.length){let d=n[0],p=[];if(o.forEach(f=>{d.hasOwnProperty(f)||p.push(f),d[f]=e[f]}),p.length)for(var a=1;a<n.length;a++){let f=n[a];p.forEach(function(m){f[m]=aW(t,m)})}}return n}(n,e=e.map(b=>Eu(b,!1)),v);const C=function Lae(t,n){let e=null,o=null;return Array.isArray(n)&&n.length?(e=VP(n[0]),n.length>1&&(o=VP(n[n.length-1]))):n&&(e=VP(n)),e||o?new Gae(t,e,o):null}(n,e);return new bW(n,e,m,C)}}let Hae=(()=>{class t extends HB{constructor(e,o){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(o.body,{id:"0",encapsulation:Hi.None,styles:[],data:{animation:[]}})}build(e){const o=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?BB(e):e;return EW(this._renderer,null,o,"register",[a]),new Bae(o,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(me(ch),me(Kn))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();class Bae extends class ese{}{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new Wae(this._id,n,e||{},this._renderer)}}class Wae{constructor(n,e,o,a){this.id=n,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return EW(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,e;return null!==(e=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==e?e:0}}function EW(t,n,e,o,a){return t.setProperty(n,`@@${e}:${o}`,a)}const SW="@.disabled";let jae=(()=>{class t{constructor(e,o,a){this.delegate=e,this.engine=o,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(d,p)=>{const f=null==p?void 0:p.parentNode(d);f&&p.removeChild(f,d)}}createRenderer(e,o){const d=this.delegate.createRenderer(e,o);if(!(e&&o&&o.data&&o.data.animation)){let y=this._rendererCache.get(d);return y||(y=new DW("",d,this.engine),this._rendererCache.set(d,y)),y}const p=o.id,f=o.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const m=y=>{Array.isArray(y)?y.forEach(m):this.engine.registerTrigger(p,f,e,y.name,y)};return o.data.animation.forEach(m),new Uae(this,f,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,o,a){e>=0&&e<this._microtaskId?this._zone.run(()=>o(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[p,f]=d;p(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(me(ch),me(QE),me(xt))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();class DW{constructor(n,e,o){this.namespaceId=n,this.delegate=e,this.engine=o,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,o,a=!0){this.delegate.insertBefore(n,e,o),this.engine.onInsert(this.namespaceId,e,n,a)}removeChild(n,e,o){this.engine.onRemove(this.namespaceId,e,this.delegate,o)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,o,a){this.delegate.setAttribute(n,e,o,a)}removeAttribute(n,e,o){this.delegate.removeAttribute(n,e,o)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,o,a){this.delegate.setStyle(n,e,o,a)}removeStyle(n,e,o){this.delegate.removeStyle(n,e,o)}setProperty(n,e,o){"@"==e.charAt(0)&&e==SW?this.disableAnimations(n,!!o):this.delegate.setProperty(n,e,o)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,o){return this.delegate.listen(n,e,o)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class Uae extends DW{constructor(n,e,o,a){super(e,o,a),this.factory=n,this.namespaceId=e}setProperty(n,e,o){"@"==e.charAt(0)?"."==e.charAt(1)&&e==SW?this.disableAnimations(n,o=void 0===o||!!o):this.engine.process(this.namespaceId,n,e.substr(1),o):this.delegate.setProperty(n,e,o)}listen(n,e,o){if("@"==e.charAt(0)){const a=function zae(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let d=e.substr(1),p="";return"@"!=d.charAt(0)&&([d,p]=function $ae(t){const n=t.indexOf(".");return[t.substring(0,n),t.substr(n+1)]}(d)),this.engine.listen(this.namespaceId,a,d,p,f=>{this.factory.scheduleListenerCallback(f._data||-1,o,f)})}return this.delegate.listen(n,e,o)}}let Kae=(()=>{class t extends QE{constructor(e,o,a){super(e.body,o,a)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(me(Kn),me(bP),me(IP))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();const RW=new it("AnimationModuleType"),OW=[{provide:HB,useClass:Hae},{provide:IP,useFactory:function qae(){return new pae}},{provide:QE,useClass:Kae},{provide:ch,useFactory:function Yae(t,n,e){return new jae(t,n,e)},deps:[$w,QE,xt]}],TW=[{provide:bP,useFactory:()=>new Vae},{provide:RW,useValue:"BrowserAnimations"},...OW],Qae=[{provide:bP,useClass:eW},{provide:RW,useValue:"NoopAnimations"},...OW];let Xae=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Qae:TW}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({providers:TW,imports:[Mx]}),t})(),Zae=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Rt({type:t,selectors:[["app-page-not-found"]],decls:7,vars:0,consts:[[1,"notfound","flex-column","d-flex","align-items-center","justify-content-center"],[1,"text-center"]],template:function(e,o){1&e&&(Q(0,"div",0)(1,"h2"),ve(2,"Page Not Found"),X(),Q(3,"p",1),ve(4,"Sorry but we couldn't find that page \u{1f928} "),pt(5,"br"),ve(6,"Not even with the help of a trained monkey \u{1f435} equipped with x-ray goggles \u{1f576}."),X()())},styles:[".notfound[_ngcontent-%COMP%]{height:100vh}"]}),t})(),ele=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di,mT]]}),t})(),nle=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t}),t.\u0275inj=tt({imports:[[di,mT],gT]}),t})(),ile=(()=>{class t{constructor(e,o){this.authService=e,this.router=o}intercept(e,o){return o.handle(e).pipe(Qi(a=>{},a=>{if(a instanceof BO)switch(a.status){case 401:case 403:this.authService.logout(),this.router.navigateByUrl("/login")}}))}}return t.\u0275fac=function(e){return new(e||t)(me(zc),me(Ei))},t.\u0275prov=Te({token:t,factory:t.\u0275fac}),t})();function O(t,n,e,o){var p,a=arguments.length,d=a<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(t,n,e,o);else for(var f=t.length-1;f>=0;f--)(p=t[f])&&(d=(a<3?p(d):a>3?p(n,e,d):p(n,e))||d);return a>3&&d&&Object.defineProperty(n,e,d),d}function T(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}var BP;K(564);let te=BP=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let n=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(n.children=this.getChildColDefs(this.childColumns)),n}getChildColDefs(n){return n.filter(e=>!e.hasChildColumns()).map(e=>e.toColDef())}createColDefFromGridColumn(n){return function rle(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(t);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(e[o[a]]=t[o[a]])}return e}(n,["childColumns"])}};var UP;te.\u0275fac=function(n){return new(n||te)},te.\u0275cmp=Rt({type:te,selectors:[["ag-grid-column"]],contentQueries:function(n,e,o){if(1&n&&Jt(o,BP,4),2&n){let a;Ht(a=Bt())&&(e.childColumns=a)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",floatingFilterFramework:"floatingFilterFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",defaultAggFunc:"defaultAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(n,e){},encapsulation:2}),O([Ns(BP),T("design:type",Cm)],te.prototype,"childColumns",void 0),O([P(),T("design:type",Object)],te.prototype,"filterFramework",void 0),O([P(),T("design:type",Object)],te.prototype,"filterParams",void 0),O([P(),T("design:type",Object)],te.prototype,"floatingFilterComponent",void 0),O([P(),T("design:type",Object)],te.prototype,"floatingFilterComponentParams",void 0),O([P(),T("design:type",Object)],te.prototype,"floatingFilterComponentFramework",void 0),O([P(),T("design:type",Object)],te.prototype,"floatingFilterFramework",void 0),O([P(),T("design:type",Object)],te.prototype,"filter",void 0),O([P(),T("design:type",String)],te.prototype,"headerName",void 0),O([P(),T("design:type",Object)],te.prototype,"headerValueGetter",void 0),O([P(),T("design:type",String)],te.prototype,"headerTooltip",void 0),O([P(),T("design:type",Object)],te.prototype,"headerClass",void 0),O([P(),T("design:type",Function)],te.prototype,"suppressHeaderKeyboardEvent",void 0),O([P(),T("design:type",String)],te.prototype,"columnGroupShow",void 0),O([P(),T("design:type",Object)],te.prototype,"toolPanelClass",void 0),O([P(),T("design:type",Boolean)],te.prototype,"suppressColumnsToolPanel",void 0),O([P(),T("design:type",Boolean)],te.prototype,"suppressFiltersToolPanel",void 0),O([P(),T("design:type",Object)],te.prototype,"tooltipComponent",void 0),O([P(),T("design:type",Object)],te.prototype,"tooltipComponentFramework",void 0),O([P(),T("design:type",Object)],te.prototype,"tooltipComponentParams",void 0),O([P(),T("design:type",Array)],te.prototype,"children",void 0),O([P(),T("design:type",String)],te.prototype,"groupId",void 0),O([P(),T("design:type",Boolean)],te.prototype,"openByDefault",void 0),O([P(),T("design:type",Boolean)],te.prototype,"marryChildren",void 0),O([P(),T("design:type",Object)],te.prototype,"headerGroupComponent",void 0),O([P(),T("design:type",Object)],te.prototype,"headerGroupComponentFramework",void 0),O([P(),T("design:type",Object)],te.prototype,"headerGroupComponentParams",void 0),O([P(),T("design:type",String)],te.prototype,"colId",void 0),O([P(),T("design:type",String)],te.prototype,"field",void 0),O([P(),T("design:type",Object)],te.prototype,"type",void 0),O([P(),T("design:type",Object)],te.prototype,"valueGetter",void 0),O([P(),T("design:type",Object)],te.prototype,"valueFormatter",void 0),O([P(),T("design:type",Object)],te.prototype,"refData",void 0),O([P(),T("design:type",Function)],te.prototype,"keyCreator",void 0),O([P(),T("design:type",Function)],te.prototype,"equals",void 0),O([P(),T("design:type",String)],te.prototype,"tooltipField",void 0),O([P(),T("design:type",Function)],te.prototype,"tooltipValueGetter",void 0),O([P(),T("design:type",Object)],te.prototype,"checkboxSelection",void 0),O([P(),T("design:type",Object)],te.prototype,"icons",void 0),O([P(),T("design:type",Object)],te.prototype,"suppressNavigable",void 0),O([P(),T("design:type",Function)],te.prototype,"suppressKeyboardEvent",void 0),O([P(),T("design:type",Object)],te.prototype,"suppressPaste",void 0),O([P(),T("design:type",Boolean)],te.prototype,"suppressFillHandle",void 0),O([P(),T("design:type",Boolean)],te.prototype,"hide",void 0),O([P(),T("design:type",Boolean)],te.prototype,"initialHide",void 0),O([P(),T("design:type",Boolean)],te.prototype,"lockVisible",void 0),O([P(),T("design:type",Object)],te.prototype,"lockPosition",void 0),O([P(),T("design:type",Boolean)],te.prototype,"suppressMovable",void 0),O([P(),T("design:type",Object)],te.prototype,"editable",void 0),O([P(),T("design:type",Object)],te.prototype,"valueSetter",void 0),O([P(),T("design:type",Object)],te.prototype,"valueParser",void 0),O([P(),T("design:type",Object)],te.prototype,"cellEditor",void 0),O([P(),T("design:type",Object)],te.prototype,"cellEditorFramework",void 0),O([P(),T("design:type",Object)],te.prototype,"cellEditorParams",void 0),O([P(),T("design:type",Function)],te.prototype,"cellEditorSelector",void 0),O([P(),T("design:type",Boolean)],te.prototype,"singleClickEdit",void 0),O([P(),T("design:type",Function)],te.prototype,"newValueHandler",void 0),O([P(),T("design:type",Boolean)],te.prototype,"cellEditorPopup",void 0),O([P(),T("design:type",String)],te.prototype,"cellEditorPopupPosition",void 0),O([P(),T("design:type",Function)],te.prototype,"onCellValueChanged",void 0),O([P(),T("design:type",Function)],te.prototype,"onCellClicked",void 0),O([P(),T("design:type",Function)],te.prototype,"onCellDoubleClicked",void 0),O([P(),T("design:type",Function)],te.prototype,"onCellContextMenu",void 0),O([P(),T("design:type",Function)],te.prototype,"getQuickFilterText",void 0),O([P(),T("design:type",Object)],te.prototype,"filterValueGetter",void 0),O([P(),T("design:type",Boolean)],te.prototype,"floatingFilter",void 0),O([P(),T("design:type",Object)],te.prototype,"headerComponent",void 0),O([P(),T("design:type",Object)],te.prototype,"headerComponentFramework",void 0),O([P(),T("design:type",Object)],te.prototype,"headerComponentParams",void 0),O([P(),T("design:type",Array)],te.prototype,"menuTabs",void 0),O([P(),T("design:type",Object)],te.prototype,"columnsMenuParams",void 0),O([P(),T("design:type",Boolean)],te.prototype,"suppressMenu",void 0),O([P(),T("design:type",Object)],te.prototype,"headerCheckboxSelection",void 0),O([P(),T("design:type",Boolean)],te.prototype,"headerCheckboxSelectionFilteredOnly",void 0),O([P(),T("design:type",String)],te.prototype,"chartDataType",void 0),O([P(),T("design:type",Object)],te.prototype,"pinned",void 0),O([P(),T("design:type",Object)],te.prototype,"initialPinned",void 0),O([P(),T("design:type",Boolean)],te.prototype,"lockPinned",void 0),O([P(),T("design:type",Object)],te.prototype,"pinnedRowCellRenderer",void 0),O([P(),T("design:type",Object)],te.prototype,"pinnedRowCellRendererFramework",void 0),O([P(),T("design:type",Object)],te.prototype,"pinnedRowCellRendererParams",void 0),O([P(),T("design:type",Object)],te.prototype,"pinnedRowValueFormatter",void 0),O([P(),T("design:type",Boolean)],te.prototype,"pivot",void 0),O([P(),T("design:type",Boolean)],te.prototype,"initialPivot",void 0),O([P(),T("design:type",Number)],te.prototype,"pivotIndex",void 0),O([P(),T("design:type",Number)],te.prototype,"initialPivotIndex",void 0),O([P(),T("design:type",Function)],te.prototype,"pivotComparator",void 0),O([P(),T("design:type",Boolean)],te.prototype,"enablePivot",void 0),O([P(),T("design:type",Object)],te.prototype,"cellStyle",void 0),O([P(),T("design:type",Object)],te.prototype,"cellClass",void 0),O([P(),T("design:type",Object)],te.prototype,"cellClassRules",void 0),O([P(),T("design:type",Object)],te.prototype,"cellRenderer",void 0),O([P(),T("design:type",Object)],te.prototype,"cellRendererFramework",void 0),O([P(),T("design:type",Object)],te.prototype,"cellRendererParams",void 0),O([P(),T("design:type",Function)],te.prototype,"cellRendererSelector",void 0),O([P(),T("design:type",Boolean)],te.prototype,"autoHeight",void 0),O([P(),T("design:type",Boolean)],te.prototype,"wrapText",void 0),O([P(),T("design:type",Boolean)],te.prototype,"enableCellChangeFlash",void 0),O([P(),T("design:type",Boolean)],te.prototype,"suppressCellFlash",void 0),O([P(),T("design:type",Object)],te.prototype,"rowDrag",void 0),O([P(),T("design:type",Function)],te.prototype,"rowDragText",void 0),O([P(),T("design:type",Object)],te.prototype,"dndSource",void 0),O([P(),T("design:type",Function)],te.prototype,"dndSourceOnRowDrag",void 0),O([P(),T("design:type",Boolean)],te.prototype,"rowGroup",void 0),O([P(),T("design:type",Boolean)],te.prototype,"initialRowGroup",void 0),O([P(),T("design:type",Number)],te.prototype,"rowGroupIndex",void 0),O([P(),T("design:type",Number)],te.prototype,"initialRowGroupIndex",void 0),O([P(),T("design:type",Boolean)],te.prototype,"enableRowGroup",void 0),O([P(),T("design:type",Boolean)],te.prototype,"enableValue",void 0),O([P(),T("design:type",Object)],te.prototype,"aggFunc",void 0),O([P(),T("design:type",Object)],te.prototype,"initialAggFunc",void 0),O([P(),T("design:type",String)],te.prototype,"defaultAggFunc",void 0),O([P(),T("design:type",Array)],te.prototype,"allowedAggFuncs",void 0),O([P(),T("design:type",Object)],te.prototype,"showRowGroup",void 0),O([P(),T("design:type",Boolean)],te.prototype,"sortable",void 0),O([P(),T("design:type",String)],te.prototype,"sort",void 0),O([P(),T("design:type",String)],te.prototype,"initialSort",void 0),O([P(),T("design:type",Number)],te.prototype,"sortIndex",void 0),O([P(),T("design:type",Number)],te.prototype,"initialSortIndex",void 0),O([P(),T("design:type",Array)],te.prototype,"sortingOrder",void 0),O([P(),T("design:type",Function)],te.prototype,"comparator",void 0),O([P(),T("design:type",Boolean)],te.prototype,"unSortIcon",void 0),O([P(),T("design:type",Number)],te.prototype,"sortedAt",void 0),O([P(),T("design:type",Function)],te.prototype,"colSpan",void 0),O([P(),T("design:type",Function)],te.prototype,"rowSpan",void 0),O([P(),T("design:type",Number)],te.prototype,"width",void 0),O([P(),T("design:type",Number)],te.prototype,"initialWidth",void 0),O([P(),T("design:type",Number)],te.prototype,"minWidth",void 0),O([P(),T("design:type",Number)],te.prototype,"maxWidth",void 0),O([P(),T("design:type",Number)],te.prototype,"flex",void 0),O([P(),T("design:type",Number)],te.prototype,"initialFlex",void 0),O([P(),T("design:type",Boolean)],te.prototype,"resizable",void 0),O([P(),T("design:type",Boolean)],te.prototype,"suppressSizeToFit",void 0),O([P(),T("design:type",Boolean)],te.prototype,"suppressAutoSize",void 0);let $h=UP=class{static withComponents(n){return{ngModule:UP,providers:[{provide:ep,useValue:n,multi:!0}]}}static forRoot(n){return{ngModule:UP,providers:[{provide:ep,useValue:n,multi:!0}]}}};$h.\u0275fac=function(n){return new(n||$h)},$h.\u0275mod=Qe({type:$h}),$h.\u0275inj=tt({imports:[[]]});let ale=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qe({type:t,bootstrap:[Joe]}),t.\u0275inj=tt({providers:[qc,ile,{provide:Vc,useClass:nx}],imports:[[Mx,FO.forRoot([{path:"**",component:Zae}]),I5,Koe,OY,h4,ele,nle,Xae,lL,aL,$h,Toe]]}),t})();(function xU(){BI=!1})(),Uz().bootstrapModule(ale).catch(t=>console.error(t))},564:(Dr,x)=>{function Rr(c){return null==c||""===c?null:c}function ee(c,r){return void 0===r&&(r=!1),null!=c&&(""!==c||r)}function Pe(c){return!ee(c)}function Ri(c){return null==c||0===c.length}function nl(c){return null!=c&&"function"==typeof c.toString?c.toString():null}function tn(c){if(void 0!==c){if(null===c||""===c)return null;if("number"==typeof c)return isNaN(c)?void 0:c;var r=parseInt(c,10);return isNaN(r)?void 0:r}}function wo(c){if(void 0!==c)return null!==c&&""!==c&&("boolean"==typeof c?c:/true/i.test(c))}function bs(c){if(c instanceof Set||c instanceof Map){var r=[];return c.forEach(function(i){return r.push(i)}),r}return Object.values(c)}var rl=Object.freeze({makeNull:Rr,exists:ee,missing:Pe,missingOrEmpty:Ri,toStringOrNull:nl,attrToNumber:tn,attrToBoolean:wo,attrToString:function qv(c){if(null!=c&&""!==c)return c},referenceCompare:function Yv(c,r){return null==c&&null==r||!(null==c&&null!=r||null!=c&&null==r)&&c===r},jsonEquals:function oa(c,r){return(c?JSON.stringify(c):null)===(r?JSON.stringify(r):null)},defaultComparator:function il(c,r,i){void 0===i&&(i=!1);var s=null==c,l=null==r;if(c&&c.toNumber&&(c=c.toNumber()),r&&r.toNumber&&(r=r.toNumber()),s&&l)return 0;if(s)return-1;if(l)return 1;function u(h,g){return h>g?1:h<g?-1:0}if("string"!=typeof c||!i)return u(c,r);try{return c.localeCompare(r)}catch(h){return u(c,r)}},values:bs}),Qv=function(){function c(){this.existingKeys={}}return c.prototype.addExistingKeys=function(r){for(var i=0;i<r.length;i++)this.existingKeys[r[i]]=!0},c.prototype.getUniqueKey=function(r,i){r=nl(r);for(var s=0;;){var l=void 0;if(r?(l=r,0!==s&&(l+="_"+s)):i?(l=i,0!==s&&(l+="_"+s)):l=""+s,!this.existingKeys[l])return this.existingKeys[l]=!0,l;s++}},c}();function Tt(c,r){null!=c&&(Array.isArray(c)?c.forEach(function(i,s){return r(""+s,i)}):Object.keys(c).forEach(function(i){return r(i,c[i])}))}function Kh(c){for(var r={},i=Object.keys(c),s=0;s<i.length;s++){var l=i[s];r[l]=c[l]}return r}function bo(c,r){if(c){var i=c,s={};return Object.keys(i).forEach(function(l){if(!(r&&r.indexOf(l)>=0)){var u=i[l],h=Du(u)&&u.constructor===Object;s[l]=h?bo(u):u}}),s}}function Su(c,r){return c[r]}function Xv(c,r,i){c[r]=i}function Zv(c,r,i,s){var l=Su(c,i);void 0!==l&&Xv(r,i,s?s(l):l)}function Ed(c){var r={};return c.filter(function(i){return null!=i}).forEach(function(i){Object.keys(i).forEach(function(s){return r[s]=null})}),Object.keys(r)}function Kr(c){if(!c)return[];var r=Object;if("function"==typeof r.values)return r.values(c);var i=[];for(var s in c)c.hasOwnProperty(s)&&c.propertyIsEnumerable(s)&&i.push(c[s]);return i}function Oi(c,r,i,s){void 0===i&&(i=!0),void 0===s&&(s=!1),ee(r)&&Tt(r,function(l,u){var h=c[l];h!==u&&(s&&null==h&&null!=u&&"object"==typeof u&&u.constructor===Object&&(c[l]=h={}),Du(u)&&Du(h)&&!Array.isArray(h)?Oi(h,u,i,s):(i||void 0!==u)&&(c[l]=u))})}function ol(c,r,i){if(r&&c){if(!i)return c[r];for(var s=r.split("."),l=c,u=0;u<s.length;u++){if(null==l)return;l=l[s[u]]}return l}}function Eo(c,r){Object.keys(c).forEach(function(l){"object"==typeof c[l]&&(c[l]=void 0)});var i=Object.getPrototypeOf(c),s={};Object.keys(i).forEach(function(l){"function"==typeof i[l]&&(s[l]={value:function(){console.warn("AG Grid: "+r+" function "+l+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(c,s)}function Du(c){return"object"==typeof c&&null!==c}var ey=Object.freeze({iterateObject:Tt,cloneObject:Kh,deepCloneObject:function qh(c){return JSON.parse(JSON.stringify(c))},deepCloneDefinition:bo,getProperty:Su,setProperty:Xv,copyPropertiesIfPresent:function Yh(c,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];i.forEach(function(l){return Zv(c,r,l)})},copyPropertyIfPresent:Zv,getAllKeysInObjects:Ed,getAllValuesInObject:Kr,mergeDeep:Oi,missingOrEmptyObject:function Sd(c){return Pe(c)||0===Object.keys(c).length},get:function e0(c,r,i){if(null==c)return i;for(var s=r.split("."),l=c;s.length>1;)if(null==(l=l[s.shift()]))return i;var u=l[s[0]];return null!=u?u:i},set:function Qh(c,r,i){if(null!=c){for(var s=r.split("."),l=c;s.length>1;)if(null==(l=l[s.shift()]))return;l[s[0]]=i}},deepFreeze:function Jv(c){return Object.freeze(c),bs(c).forEach(function(r){(Du(r)||"function"==typeof r)&&Jv(r)}),c},getValueUsingField:ol,removeAllReferences:Eo,isNonNullObject:Du}),jt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ty=/([^\s,]+)/g,ny={};function At(c,r){ny[r]||(c(),ny[r]=!0)}function Dd(c){if(c.name)return c.name;var r=/function\s+([^\(]+)/.exec(c.toString());return r&&2===r.length?r[1].trim():null}function Rd(c){return!!(c&&c.constructor&&c.call&&c.apply)}function Xh(c){at(c,400)}var un=[],Ut=!1;function Zh(c){un.push(c),!Ut&&(Ut=!0,window.setTimeout(function(){var r=un.slice();un.length=0,Ut=!1,r.forEach(function(i){return i()})},0))}function at(c,r){void 0===r&&(r=0),c.length>0&&window.setTimeout(function(){return c.forEach(function(i){return i()})},r)}function qr(c,r,i){var s;return void 0===i&&(i=!1),function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];var h=this,g=i&&!s;window.clearTimeout(s),s=window.setTimeout(function(){s=null,i||c.apply(h,l)},r),g&&c.apply(h,l)}}function iy(c,r){var i=0;return function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u=this,h=(new Date).getTime();h-i<r||(i=h,c.apply(u,s))}}function Jh(c,r,i,s){void 0===i&&(i=100);var l=(new Date).getTime(),u=null,h=!1,g=function(){var _=(new Date).getTime()-l>i;(c()||_)&&(r(),h=!0,null!=u&&(window.clearInterval(u),u=null),_&&s&&console.warn(s))};g(),h||(u=window.setInterval(g,10))}function t0(c){c&&c()}var YP=Object.freeze({doOnce:At,getFunctionName:Dd,getFunctionParameters:function ln(c){var r=c.toString().replace(jt,"");return r.slice(r.indexOf("(")+1,r.indexOf(")")).match(ty)||[]},isFunction:Rd,executeInAWhile:Xh,executeNextVMTurn:Zh,executeAfter:at,debounce:qr,throttle:iy,waitUntil:Jh,compose:function qP(){for(var c=[],r=0;r<arguments.length;r++)c[r]=arguments[r];return function(i){return c.reduce(function(s,l){return l(s)},i)}},callIfPresent:t0}),n0=function(){function c(r,i){if(this.beanWrappers={},this.destroyed=!1,r&&r.beanClasses){this.contextParams=r,this.logger=i,this.logger.log(">> creating ag-Application Context"),this.createBeans();var s=this.getBeanInstances();this.wireBeans(s),this.logger.log(">> ag-Application Context ready - component is alive")}}return c.prototype.getBeanInstances=function(){return bs(this.beanWrappers).map(function(r){return r.beanInstance})},c.prototype.createBean=function(r,i){if(!r)throw Error("Can't wire to bean since it is null");return this.wireBeans([r],i),r},c.prototype.wireBeans=function(r,i){this.autoWireBeans(r),this.methodWireBeans(r),this.callLifeCycleMethods(r,"preConstructMethods"),ee(i)&&r.forEach(i),this.callLifeCycleMethods(r,"postConstructMethods")},c.prototype.createBeans=function(){var r=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Tt(this.beanWrappers,function(s,l){var u;l.bean.__agBeanMetaData&&l.bean.__agBeanMetaData.autowireMethods&&l.bean.__agBeanMetaData.autowireMethods.agConstructor&&(u=l.bean.__agBeanMetaData.autowireMethods.agConstructor);var h=r.getBeansForParameters(u,l.bean.name),g=function r0(c,r){var i=[null].concat(r);return new(c.bind.apply(c,i))}(l.bean,h);l.beanInstance=g});var i=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+i)},c.prototype.createBeanWrapper=function(r){var i=r.__agBeanMetaData;if(!i){var s;return s=r.prototype.constructor?Dd(r.prototype.constructor):""+r,void console.error("Context item "+s+" is not a bean")}this.beanWrappers[i.beanName]={bean:r,beanInstance:null,beanName:i.beanName}},c.prototype.autoWireBeans=function(r){var i=this;r.forEach(function(s){i.forEachMetaDataInHierarchy(s,function(l,u){var h=l.agClassAttributes;!h||h.forEach(function(g){var _=i.lookupBeanInstance(u,g.beanName,g.optional);s[g.attributeName]=_})})})},c.prototype.methodWireBeans=function(r){var i=this;r.forEach(function(s){i.forEachMetaDataInHierarchy(s,function(l,u){Tt(l.autowireMethods,function(h,g){if("agConstructor"!==h){var _=i.getBeansForParameters(g,u);s[h].apply(s,_)}})})})},c.prototype.forEachMetaDataInHierarchy=function(r,i){for(var s=Object.getPrototypeOf(r);null!=s;){var l=s.constructor;l.hasOwnProperty("__agBeanMetaData")&&i(l.__agBeanMetaData,this.getBeanName(l)),s=Object.getPrototypeOf(s)}},c.prototype.getBeanName=function(r){if(r.__agBeanMetaData&&r.__agBeanMetaData.beanName)return r.__agBeanMetaData.beanName;var i=r.toString();return i.substring(9,i.indexOf("("))},c.prototype.getBeansForParameters=function(r,i){var s=this,l=[];return r&&Tt(r,function(u,h){var g=s.lookupBeanInstance(i,h);l[Number(u)]=g}),l},c.prototype.lookupBeanInstance=function(r,i,s){if(void 0===s&&(s=!1),"context"===i)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(i))return this.contextParams.providedBeanInstances[i];var l=this.beanWrappers[i];return l?l.beanInstance:(s||console.error("AG Grid: unable to find bean reference "+i+" while initialising "+r),null)},c.prototype.callLifeCycleMethods=function(r,i){var s=this;r.forEach(function(l){return s.callLifeCycleMethodsOnBean(l,i)})},c.prototype.callLifeCycleMethodsOnBean=function(r,i,s){var l={};this.forEachMetaDataInHierarchy(r,function(h){var g=h[i];g&&g.forEach(function(_){_!=s&&(l[_]=!0)})}),Object.keys(l).forEach(function(h){return r[h]()})},c.prototype.getBean=function(r){return this.lookupBeanInstance("getBean",r,!0)},c.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var r=this.getBeanInstances();this.destroyBeans(r),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},c.prototype.destroyBean=function(r){!r||this.destroyBeans([r])},c.prototype.destroyBeans=function(r){var i=this;return r?(r.forEach(function(s){i.callLifeCycleMethodsOnBean(s,"preDestroyMethods","destroy"),"function"==typeof s.destroy&&s.destroy()}),[]):[]},c}();function ry(c,r,i){var s=ir(c.constructor);s.preConstructMethods||(s.preConstructMethods=[]),s.preConstructMethods.push(r)}function ge(c,r,i){var s=ir(c.constructor);s.postConstructMethods||(s.postConstructMethods=[]),s.postConstructMethods.push(r)}function Zn(c,r,i){var s=ir(c.constructor);s.preDestroyMethods||(s.preDestroyMethods=[]),s.preDestroyMethods.push(r)}function we(c){return function(r){ir(r).beanName=c}}function N(c){return function(r,i,s){o0(r,c,!1,0,i,null)}}function vt(c){return function(r,i,s){o0(r,c,!0,0,i,null)}}function o0(c,r,i,s,l,u){if(null!==r)if("number"!=typeof u){var h=ir(c.constructor);h.agClassAttributes||(h.agClassAttributes=[]),h.agClassAttributes.push({attributeName:l,beanName:r,optional:i})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Ti(c){return function(r,i,s){var u,l="function"==typeof r?r:r.constructor;if("number"==typeof s){var h=void 0;i?(u=ir(l),h=i):(u=ir(l),h="agConstructor"),u.autowireMethods||(u.autowireMethods={}),u.autowireMethods[h]||(u.autowireMethods[h]={}),u.autowireMethods[h][s]=c}}}function ir(c){return c.hasOwnProperty("__agBeanMetaData")||(c.__agBeanMetaData={}),c.__agBeanMetaData}var c,oy=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},ef=function(c,r){return function(i,s){r(i,s,c)}},Ko=function(){function c(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return c.prototype.setBeans=function(r,i,s,l){if(void 0===l&&(l=null),this.frameworkOverrides=s,l){var u=i.useAsyncEvents();this.addGlobalListener(l,u)}},c.prototype.getListeners=function(r,i,s){var l=i?this.allAsyncListeners:this.allSyncListeners,u=l.get(r);return!u&&s&&l.set(r,u=new Set),u},c.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},c.prototype.addEventListener=function(r,i,s){void 0===s&&(s=!1),this.getListeners(r,s,!0).add(i)},c.prototype.removeEventListener=function(r,i,s){void 0===s&&(s=!1);var l=this.getListeners(r,s,!1);l&&(l.delete(i),0===l.size)&&(s?this.allAsyncListeners:this.allSyncListeners).delete(r)},c.prototype.addGlobalListener=function(r,i){void 0===i&&(i=!1),(i?this.globalAsyncListeners:this.globalSyncListeners).add(r)},c.prototype.removeGlobalListener=function(r,i){void 0===i&&(i=!1),(i?this.globalAsyncListeners:this.globalSyncListeners).delete(r)},c.prototype.dispatchEvent=function(r){this.dispatchToListeners(r,!0),this.dispatchToListeners(r,!1),this.firedEvents[r.type]=!0},c.prototype.dispatchEventOnce=function(r){this.firedEvents[r.type]||this.dispatchEvent(r)},c.prototype.dispatchToListeners=function(r,i){var s=this,l=r.type,h=this.getListeners(l,i,!1);h&&h.forEach(function(w){i?s.dispatchAsync(function(){return w(r)}):w(r)}),(i?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(_){i?s.dispatchAsync(function(){return s.frameworkOverrides.dispatchEvent(l,function(){return _(l,r)},!0)}):s.frameworkOverrides.dispatchEvent(l,function(){return _(l,r)},!0)})},c.prototype.dispatchAsync=function(r){this.asyncFunctionsQueue.push(r),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},c.prototype.flushAsyncQueue=function(){this.scheduled=!1;var r=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],r.forEach(function(i){return i()})},oy([ef(0,Ti("loggerFactory")),ef(1,Ti("gridOptionsWrapper")),ef(2,Ti("frameworkOverrides")),ef(3,Ti("globalEventListener"))],c.prototype,"setBeans",null),oy([we("eventService")],c)}(),j=function(){function c(){}return c.ROW_BUFFER_SIZE=10,c.LAYOUT_INTERVAL=500,c.BATCH_WAIT_MILLIS=50,c.EXPORT_TYPE_DRAG_COPY="dragCopy",c.EXPORT_TYPE_CLIPBOARD="clipboard",c.EXPORT_TYPE_EXCEL="excel",c.EXPORT_TYPE_CSV="csv",c.ROW_MODEL_TYPE_INFINITE="infinite",c.ROW_MODEL_TYPE_VIEWPORT="viewport",c.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",c.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",c.ALWAYS="always",c.ONLY_WHEN_GROUPING="onlyWhenGrouping",c.PINNED_TOP="top",c.PINNED_BOTTOM="bottom",c.DOM_LAYOUT_NORMAL="normal",c.DOM_LAYOUT_PRINT="print",c.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",c.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",c.SOURCE_PASTE="paste",c.PINNED_RIGHT="right",c.PINNED_LEFT="left",c.SORT_ASC="asc",c.SORT_DESC="desc",c.INPUT_SELECTOR="input, select, button, textarea",c.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",c.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",c}();(c=x.GXE||(x.GXE={})).CommunityCoreModule="@ag-grid-community/core",c.CommunityAllModules="@ag-grid-community/all",c.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",c.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",c.CsvExportModule="@ag-grid-community/csv-export",c.EnterpriseCoreModule="@ag-grid-enterprise/core",c.EnterpriseAllModules="@ag-grid-enterprise/all",c.RowGroupingModule="@ag-grid-enterprise/row-grouping",c.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",c.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",c.MenuModule="@ag-grid-enterprise/menu",c.SetFilterModule="@ag-grid-enterprise/set-filter",c.MultiFilterModule="@ag-grid-enterprise/multi-filter",c.StatusBarModule="@ag-grid-enterprise/status-bar",c.SideBarModule="@ag-grid-enterprise/side-bar",c.RangeSelectionModule="@ag-grid-enterprise/range-selection",c.MasterDetailModule="@ag-grid-enterprise/master-detail",c.RichSelectModule="@ag-grid-enterprise/rich-select",c.GridChartsModule="@ag-grid-enterprise/charts",c.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",c.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",c.ExcelExportModule="@ag-grid-enterprise/excel-export",c.ClipboardModule="@ag-grid-enterprise/clipboard",c.SparklinesModule="@ag-grid-enterprise/sparklines",c.AngularModule="@ag-grid-community/angular",c.ReactModule="@ag-grid-community/react",c.VueModule="@ag-grid-community/vue",c.PolymerModule="@ag-grid-community/polymer";var He=function(){function c(){}return c.register=function(r,i){void 0===i&&(i=!0),c.modulesMap[r.moduleName]=r,void 0===c.moduleBased?c.moduleBased=i:c.moduleBased!==i&&At(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},c.registerModules=function(r,i){void 0===i&&(i=!0),r&&r.forEach(function(s){return c.register(s,i)})},c.assertRegistered=function(r,i){return!!this.isRegistered(r)||(l=c.moduleBased?"AG Grid: unable to use "+i+" as module "+r+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+i+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",At(function(){console.warn(l)},i+r),!1);var l},c.isRegistered=function(r){return!!c.modulesMap[r]},c.getRegisteredModules=function(){return bs(c.modulesMap)},c.isPackageBased=function(){return!c.moduleBased},c.modulesMap={},c}(),Ru=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},QP=0,gt=function(){function c(r,i,s,l){this.instanceId=QP++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new Ko,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=r,this.userProvidedColDef=i,this.colId=s,this.primary=l,this.setState(r)}return c.prototype.getInstanceId=function(){return this.instanceId},c.prototype.setState=function(r){void 0!==r.sort?(r.sort===j.SORT_ASC||r.sort===j.SORT_DESC)&&(this.sort=r.sort):(r.initialSort===j.SORT_ASC||r.initialSort===j.SORT_DESC)&&(this.sort=r.initialSort);var i=tn(r.sortIndex),s=tn(r.initialSortIndex);void 0!==i?null!==i&&(this.sortIndex=i):null!==s&&(this.sortIndex=s);var l=wo(r.hide),u=wo(r.initialHide);this.visible=void 0!==l?!l:!u,this.setPinned(void 0!==r.pinned?r.pinned:r.initialPinned);var h=tn(r.flex),g=tn(r.initialFlex);void 0!==h?this.flex=h:void 0!==g&&(this.flex=g)},c.prototype.setColDef=function(r,i){this.colDef=r,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation()},c.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},c.prototype.setParent=function(r){this.parent=r},c.prototype.getParent=function(){return this.parent},c.prototype.setOriginalParent=function(r){this.originalParent=r},c.prototype.getOriginalParent=function(){return this.originalParent},c.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},c.prototype.initDotNotation=function(){var r=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=ee(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!r,this.tooltipFieldContainsDots=ee(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!r},c.prototype.initMinAndMaxWidths=function(){var r=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(r),this.maxWidth=this.columnUtils.calculateColMaxWidth(r)},c.prototype.resetActualWidth=function(r){void 0===r&&(r="api");var i=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(i,r,!0)},c.prototype.isEmptyGroup=function(){return!1},c.prototype.isRowGroupDisplayed=function(r){return!(Pe(this.colDef)||Pe(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==r)},c.prototype.isPrimary=function(){return this.primary},c.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},c.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},c.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},c.prototype.validate=function(){var r=this.colDef;function i(h,g,_){At(function(){_?console.warn(h,_):At(function(){return console.warn(h)},g)},g)}this.gridOptionsWrapper.isRowModelDefault()&&!He.isRegistered(x.GXE.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(h){ee(r[h])&&(He.isPackageBased()?i("AG Grid: "+h+" is only valid in ag-grid-enterprise, your column definition should not have "+h,"ColumnRowGroupingMissing"+h):i("AG Grid: "+h+" is only valid with AG Grid Enterprise Module "+x.GXE.RowGroupingModule+" - your column definition should not have "+h,"ColumnRowGroupingMissing"+h))}),He.isRegistered(x.GXE.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(He.isPackageBased()?i("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):i("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+x.GXE.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(h){ee(r[h])&&i("AG Grid: "+h+" is not possible when doing tree data, your column definition should not have "+h,"TreeDataCannotRowGroup")}),ee(this.colDef.width)&&"number"!=typeof this.colDef.width&&i("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),r.pinnedRowCellRenderer&&i("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),r.pinnedRowCellRendererParams&&i("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),r.pinnedRowCellRendererFramework&&i("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),r.pinnedRowValueGetter&&i("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},c.prototype.addEventListener=function(r,i){this.eventService.addEventListener(r,i)},c.prototype.removeEventListener=function(r,i){this.eventService.removeEventListener(r,i)},c.prototype.createColumnFunctionCallbackParams=function(r){return{node:r,data:r.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},c.prototype.isSuppressNavigable=function(r){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var i=this.createColumnFunctionCallbackParams(r);return(0,this.colDef.suppressNavigable)(i)}return!1},c.prototype.isCellEditable=function(r){return!(r.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(r,this.colDef.editable)},c.prototype.isSuppressFillHandle=function(){return!!wo(this.colDef.suppressFillHandle)},c.prototype.isAutoHeight=function(){return!!wo(this.colDef.autoHeight)},c.prototype.isRowDrag=function(r){return this.isColumnFunc(r,this.colDef.rowDrag)},c.prototype.isDndSource=function(r){return this.isColumnFunc(r,this.colDef.dndSource)},c.prototype.isCellCheckboxSelection=function(r){return this.isColumnFunc(r,this.colDef.checkboxSelection)},c.prototype.isSuppressPaste=function(r){return this.isColumnFunc(r,this.colDef?this.colDef.suppressPaste:null)},c.prototype.isResizable=function(){return!!wo(this.colDef.resizable)},c.prototype.isColumnFunc=function(r,i){return"boolean"==typeof i?i:"function"==typeof i&&i(this.createColumnFunctionCallbackParams(r))},c.prototype.setMoving=function(r,i){void 0===i&&(i="api"),this.moving=r,this.eventService.dispatchEvent(this.createColumnEvent(c.EVENT_MOVING_CHANGED,i))},c.prototype.createColumnEvent=function(r,i){return{api:this.gridApi,columnApi:this.columnApi,type:r,column:this,columns:[this],source:i}},c.prototype.isMoving=function(){return this.moving},c.prototype.getSort=function(){return this.sort},c.prototype.setSort=function(r,i){void 0===i&&(i="api"),this.sort!==r&&(this.sort=r,this.eventService.dispatchEvent(this.createColumnEvent(c.EVENT_SORT_CHANGED,i)))},c.prototype.setMenuVisible=function(r,i){void 0===i&&(i="api"),this.menuVisible!==r&&(this.menuVisible=r,this.eventService.dispatchEvent(this.createColumnEvent(c.EVENT_MENU_VISIBLE_CHANGED,i)))},c.prototype.isMenuVisible=function(){return this.menuVisible},c.prototype.isSortAscending=function(){return this.sort===j.SORT_ASC},c.prototype.isSortDescending=function(){return this.sort===j.SORT_DESC},c.prototype.isSortNone=function(){return Pe(this.sort)},c.prototype.isSorting=function(){return ee(this.sort)},c.prototype.getSortIndex=function(){return this.sortIndex},c.prototype.setSortIndex=function(r){this.sortIndex=r},c.prototype.setAggFunc=function(r){this.aggFunc=r},c.prototype.getAggFunc=function(){return this.aggFunc},c.prototype.getLeft=function(){return this.left},c.prototype.getOldLeft=function(){return this.oldLeft},c.prototype.getRight=function(){return this.left+this.actualWidth},c.prototype.setLeft=function(r,i){void 0===i&&(i="api"),this.oldLeft=this.left,this.left!==r&&(this.left=r,this.eventService.dispatchEvent(this.createColumnEvent(c.EVENT_LEFT_CHANGED,i)))},c.prototype.isFilterActive=function(){return this.filterActive},c.prototype.setFilterActive=function(r,i,s){void 0===i&&(i="api"),this.filterActive!==r&&(this.filterActive=r,this.eventService.dispatchEvent(this.createColumnEvent(c.EVENT_FILTER_ACTIVE_CHANGED,i)));var l=this.createColumnEvent(c.EVENT_FILTER_CHANGED,i);s&&Oi(l,s),this.eventService.dispatchEvent(l)},c.prototype.setPinned=function(r){this.pinned=!0===r||r===j.PINNED_LEFT?j.PINNED_LEFT:r===j.PINNED_RIGHT?j.PINNED_RIGHT:null},c.prototype.setFirstRightPinned=function(r,i){void 0===i&&(i="api"),this.firstRightPinned!==r&&(this.firstRightPinned=r,this.eventService.dispatchEvent(this.createColumnEvent(c.EVENT_FIRST_RIGHT_PINNED_CHANGED,i)))},c.prototype.setLastLeftPinned=function(r,i){void 0===i&&(i="api"),this.lastLeftPinned!==r&&(this.lastLeftPinned=r,this.eventService.dispatchEvent(this.createColumnEvent(c.EVENT_LAST_LEFT_PINNED_CHANGED,i)))},c.prototype.isFirstRightPinned=function(){return this.firstRightPinned},c.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},c.prototype.isPinned=function(){return this.pinned===j.PINNED_LEFT||this.pinned===j.PINNED_RIGHT},c.prototype.isPinnedLeft=function(){return this.pinned===j.PINNED_LEFT},c.prototype.isPinnedRight=function(){return this.pinned===j.PINNED_RIGHT},c.prototype.getPinned=function(){return this.pinned},c.prototype.setVisible=function(r,i){void 0===i&&(i="api");var s=!0===r;this.visible!==s&&(this.visible=s,this.eventService.dispatchEvent(this.createColumnEvent(c.EVENT_VISIBLE_CHANGED,i)))},c.prototype.isVisible=function(){return this.visible},c.prototype.getColDef=function(){return this.colDef},c.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},c.prototype.getColId=function(){return this.colId},c.prototype.getId=function(){return this.getColId()},c.prototype.getUniqueId=function(){return this.getId()},c.prototype.getDefinition=function(){return this.colDef},c.prototype.getActualWidth=function(){return this.actualWidth},c.prototype.createBaseColDefParams=function(r){return{node:r,data:r.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},c.prototype.getColSpan=function(r){if(Pe(this.colDef.colSpan))return 1;var i=this.createBaseColDefParams(r),s=this.colDef.colSpan(i);return Math.max(s,1)},c.prototype.getRowSpan=function(r){if(Pe(this.colDef.rowSpan))return 1;var i=this.createBaseColDefParams(r),s=this.colDef.rowSpan(i);return Math.max(s,1)},c.prototype.setActualWidth=function(r,i,s){void 0===i&&(i="api"),void 0===s&&(s=!1),null!=this.minWidth&&(r=Math.max(r,this.minWidth)),null!=this.maxWidth&&(r=Math.min(r,this.maxWidth)),this.actualWidth!==r&&(this.actualWidth=r,this.flex&&"flex"!==i&&"gridInitializing"!==i&&(this.flex=null),s||this.fireColumnWidthChangedEvent(i))},c.prototype.fireColumnWidthChangedEvent=function(r){this.eventService.dispatchEvent(this.createColumnEvent(c.EVENT_WIDTH_CHANGED,r))},c.prototype.isGreaterThanMax=function(r){return null!=this.maxWidth&&r>this.maxWidth},c.prototype.getMinWidth=function(){return this.minWidth},c.prototype.getMaxWidth=function(){return this.maxWidth},c.prototype.getFlex=function(){return this.flex||0},c.prototype.setFlex=function(r){this.flex!==r&&(this.flex=r)},c.prototype.setMinimum=function(r){void 0===r&&(r="api"),ee(this.minWidth)&&this.setActualWidth(this.minWidth,r)},c.prototype.setRowGroupActive=function(r,i){void 0===i&&(i="api"),this.rowGroupActive!==r&&(this.rowGroupActive=r,this.eventService.dispatchEvent(this.createColumnEvent(c.EVENT_ROW_GROUP_CHANGED,i)))},c.prototype.isRowGroupActive=function(){return this.rowGroupActive},c.prototype.setPivotActive=function(r,i){void 0===i&&(i="api"),this.pivotActive!==r&&(this.pivotActive=r,this.eventService.dispatchEvent(this.createColumnEvent(c.EVENT_PIVOT_CHANGED,i)))},c.prototype.isPivotActive=function(){return this.pivotActive},c.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},c.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},c.prototype.setValueActive=function(r,i){void 0===i&&(i="api"),this.aggregationActive!==r&&(this.aggregationActive=r,this.eventService.dispatchEvent(this.createColumnEvent(c.EVENT_VALUE_CHANGED,i)))},c.prototype.isValueActive=function(){return this.aggregationActive},c.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},c.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},c.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},c.prototype.getMenuTabs=function(r){var i=this.getColDef().menuTabs;return null==i&&(i=r),i},c.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},c.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},c.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},c.EVENT_MOVING_CHANGED="movingChanged",c.EVENT_LEFT_CHANGED="leftChanged",c.EVENT_WIDTH_CHANGED="widthChanged",c.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",c.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",c.EVENT_VISIBLE_CHANGED="visibleChanged",c.EVENT_FILTER_CHANGED="filterChanged",c.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",c.EVENT_SORT_CHANGED="sortChanged",c.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",c.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",c.EVENT_PIVOT_CHANGED="columnPivotChanged",c.EVENT_VALUE_CHANGED="columnValueChanged",Ru([N("gridOptionsWrapper")],c.prototype,"gridOptionsWrapper",void 0),Ru([N("columnUtils")],c.prototype,"columnUtils",void 0),Ru([N("columnApi")],c.prototype,"columnApi",void 0),Ru([N("gridApi")],c.prototype,"gridApi",void 0),Ru([N("context")],c.prototype,"context",void 0),Ru([ge],c.prototype,"initialise",null),c}();function s0(){for(var c=[],r=0;r<arguments.length;r++)c[r]=arguments[r];for(var i=0;i<c.length;i++){var s=c[i];if(ee(s))return s}return null}function Pt(c){if(c&&c.length)return c[c.length-1]}function Es(c,r,i){return null==c&&null==r||null!=c&&null!=r&&c.length===r.length&&c.every(function(s,l){return i?i(s,r[l]):r[l]===s})}function tf(c){return c.sort(function(r,i){return r-i})}function Jn(c,r){var i=c.indexOf(r);i>=0&&c.splice(i,1)}function Od(c,r){r.forEach(function(i){return Jn(c,i)})}function sl(c,r,i){c.splice(i,0,r)}function Bn(c,r,i){Od(c,r),r.slice().reverse().forEach(function(s){return sl(c,s,i)})}function rr(c,r){return c.indexOf(r)>-1}function nf(c,r){null==r||null==c||r.forEach(function(i){return c.push(i)})}var c0=Object.freeze({firstExistingValue:s0,existsAndNotEmpty:function XP(c){return null!=c&&c.length>0},last:Pt,areEqual:Es,compareArrays:function sy(c,r){return Es(c,r)},shallowCompare:function ay(c,r){return Es(c,r)},sortNumerically:tf,removeRepeatsFromArray:function a0(c,r){if(c)for(var i=c.length-2;i>=0;i--)c[i]===r&&c[i+1]===r&&c.splice(i+1,1)},removeFromArray:Jn,removeAllFromArray:Od,insertIntoArray:sl,insertArrayIntoArray:function ly(c,r,i){if(null!=c&&null!=r)for(var s=r.length-1;s>=0;s--)sl(c,r[s],i)},moveInArray:Bn,includes:rr,flatten:function l0(c){return[].concat.apply([],c)},pushAll:nf,toStrings:function u0(c){return c.map(nl)},forEachReverse:function uy(c,r){if(null!=c)for(var i=c.length-1;i>=0;i--)r(c[i],i)}}),Xt=function(){function c(r,i,s,l){this.displayedChildren=[],this.localEventService=new Ko,this.groupId=i,this.instanceId=s,this.providedColumnGroup=r,this.pinned=l}return c.createUniqueId=function(r,i){return r+"_"+i},c.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},c.prototype.getParent=function(){return this.parent},c.prototype.setParent=function(r){this.parent=r},c.prototype.getUniqueId=function(){return c.createUniqueId(this.groupId,this.instanceId)},c.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},c.prototype.isMoving=function(){var r=this.getProvidedColumnGroup().getLeafColumns();return!(!r||0===r.length)&&r.every(function(i){return i.isMoving()})},c.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(l){l instanceof c&&l.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var i=Pt(this.displayedChildren).getLeft();this.setLeft(i)}else{var s=this.displayedChildren[0].getLeft();this.setLeft(s)}else this.setLeft(null)},c.prototype.getLeft=function(){return this.left},c.prototype.getOldLeft=function(){return this.oldLeft},c.prototype.setLeft=function(r){this.oldLeft=r,this.left!==r&&(this.left=r,this.localEventService.dispatchEvent(this.createAgEvent(c.EVENT_LEFT_CHANGED)))},c.prototype.getPinned=function(){return this.pinned},c.prototype.createAgEvent=function(r){return{type:r}},c.prototype.addEventListener=function(r,i){this.localEventService.addEventListener(r,i)},c.prototype.removeEventListener=function(r,i){this.localEventService.removeEventListener(r,i)},c.prototype.getGroupId=function(){return this.groupId},c.prototype.getInstanceId=function(){return this.instanceId},c.prototype.isChildInThisGroupDeepSearch=function(r){var i=!1;return this.children.forEach(function(s){r===s&&(i=!0),s instanceof c&&s.isChildInThisGroupDeepSearch(r)&&(i=!0)}),i},c.prototype.getActualWidth=function(){var r=0;return this.displayedChildren&&this.displayedChildren.forEach(function(i){r+=i.getActualWidth()}),r},c.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var r=!1;return this.displayedChildren.forEach(function(i){i.isResizable()&&(r=!0)}),r},c.prototype.getMinWidth=function(){var r=0;return this.displayedChildren.forEach(function(i){r+=i.getMinWidth()||0}),r},c.prototype.addChild=function(r){this.children||(this.children=[]),this.children.push(r)},c.prototype.getDisplayedChildren=function(){return this.displayedChildren},c.prototype.getLeafColumns=function(){var r=[];return this.addLeafColumns(r),r},c.prototype.getDisplayedLeafColumns=function(){var r=[];return this.addDisplayedLeafColumns(r),r},c.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},c.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},c.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},c.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},c.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},c.prototype.setExpanded=function(r){this.providedColumnGroup.setExpanded(r)},c.prototype.addDisplayedLeafColumns=function(r){this.displayedChildren.forEach(function(i){i instanceof gt?r.push(i):i instanceof c&&i.addDisplayedLeafColumns(r)})},c.prototype.addLeafColumns=function(r){this.children.forEach(function(i){i instanceof gt?r.push(i):i instanceof c&&i.addLeafColumns(r)})},c.prototype.getChildren=function(){return this.children},c.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},c.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},c.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},c.prototype.getPaddingLevel=function(){var r=this.getParent();return this.isPadding()&&r&&r.isPadding()?1+r.getPaddingLevel():0},c.prototype.calculateDisplayedColumns=function(){var r=this;this.displayedChildren=[];for(var i=this;null!=i&&i.isPadding();)i=i.getParent();if(!i||!i.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(c.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(l){if(!(l instanceof c)||l.displayedChildren&&l.displayedChildren.length)switch(l.getColumnGroupShow()){case c.HEADER_GROUP_SHOW_OPEN:i.providedColumnGroup.isExpanded()&&r.displayedChildren.push(l);break;case c.HEADER_GROUP_SHOW_CLOSED:i.providedColumnGroup.isExpanded()||r.displayedChildren.push(l);break;default:r.displayedChildren.push(l)}}),this.localEventService.dispatchEvent(this.createAgEvent(c.EVENT_DISPLAYED_CHILDREN_CHANGED))},c.HEADER_GROUP_SHOW_OPEN="open",c.HEADER_GROUP_SHOW_CLOSED="closed",c.EVENT_LEFT_CHANGED="leftChanged",c.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([N("gridOptionsWrapper")],c.prototype,"gridOptionsWrapper",void 0),c}(),cn=function(){function c(r,i,s,l){this.localEventService=new Ko,this.expandable=!1,this.colGroupDef=r,this.groupId=i,this.expanded=!!r&&!!r.openByDefault,this.padding=s,this.level=l}return c.prototype.setOriginalParent=function(r){this.originalParent=r},c.prototype.getOriginalParent=function(){return this.originalParent},c.prototype.getLevel=function(){return this.level},c.prototype.isVisible=function(){return!!this.children&&this.children.some(function(r){return r.isVisible()})},c.prototype.isPadding=function(){return this.padding},c.prototype.setExpanded=function(r){this.expanded=void 0!==r&&r,this.localEventService.dispatchEvent({type:c.EVENT_EXPANDED_CHANGED})},c.prototype.isExpandable=function(){return this.expandable},c.prototype.isExpanded=function(){return this.expanded},c.prototype.getGroupId=function(){return this.groupId},c.prototype.getId=function(){return this.getGroupId()},c.prototype.setChildren=function(r){this.children=r},c.prototype.getChildren=function(){return this.children},c.prototype.getColGroupDef=function(){return this.colGroupDef},c.prototype.getLeafColumns=function(){var r=[];return this.addLeafColumns(r),r},c.prototype.addLeafColumns=function(r){!this.children||this.children.forEach(function(i){i instanceof gt?r.push(i):i instanceof c&&i.addLeafColumns(r)})},c.prototype.getColumnGroupShow=function(){var r=this.colGroupDef;if(r)return r.columnGroupShow},c.prototype.setupExpandable=function(){var r=this;this.setExpandable(),this.getLeafColumns().forEach(function(i){return i.addEventListener(gt.EVENT_VISIBLE_CHANGED,r.onColumnVisibilityChanged.bind(r))})},c.prototype.setExpandable=function(){if(!this.isPadding()){for(var r=!1,i=!1,s=!1,l=this.findChildrenRemovingPadding(),u=0,h=l.length;u<h;u++){var g=l[u];if(g.isVisible()){var _=g.getColumnGroupShow();_===Xt.HEADER_GROUP_SHOW_OPEN?(r=!0,s=!0):_===Xt.HEADER_GROUP_SHOW_CLOSED?(i=!0,s=!0):(r=!0,i=!0)}}var w=r&&i&&s;this.expandable!==w&&(this.expandable=w,this.localEventService.dispatchEvent({type:c.EVENT_EXPANDABLE_CHANGED}))}},c.prototype.findChildrenRemovingPadding=function(){var r=[],i=function(s){s.forEach(function(l){l instanceof c&&l.isPadding()?i(l.children):r.push(l)})};return i(this.children),r},c.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},c.prototype.addEventListener=function(r,i){this.localEventService.addEventListener(r,i)},c.prototype.removeEventListener=function(r,i){this.localEventService.removeEventListener(r,i)},c.EVENT_EXPANDED_CHANGED="expandedChanged",c.EVENT_EXPANDABLE_CHANGED="expandableChanged",c}(),An={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},al="__ag_Grid_Stop_Propagation",Yr=["touchstart","touchend","touchmove","touchcancel"],cy={};function ll(c){c[al]=!0}function Qr(c){return!0===c[al]}var Ou=function(){var c={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(i){if("boolean"==typeof cy[i])return cy[i];var s=document.createElement(c[i]||"div");return cy[i="on"+i]=i in s}}();function sa(c,r,i){for(var s=r.target;s;){var l=c.getDomData(s,i);if(l)return l;s=s.parentElement}return null}function Td(c,r){return!(!r||!c)&&sf(r).indexOf(c)>=0}function rf(c){for(var r=[],i=c.target;i;)r.push(i),i=i.parentElement;return r}function sf(c){var r=c;return r.path?r.path:r.composedPath?r.composedPath():r.__agGridEventPath?r.__agGridEventPath:rf(c)}function py(c,r,i,s){var l=rr(Yr,i);c&&c.addEventListener&&c.addEventListener(r,i,s,l?{passive:!0}:void 0)}var p0=Object.freeze({stopPropagationForAgGrid:ll,isStopPropagationForAgGrid:Qr,isEventSupported:Ou,getCtrlForEvent:sa,addChangeListener:function Tu(c,r){c.addEventListener("changed",r),c.addEventListener("paste",r),c.addEventListener("input",r)},isElementInEventPath:Td,createEventPath:rf,addAgGridEventPath:function dy(c){c.__agGridEventPath=sf(c)},getEventPath:sf,addSafePassiveEventListener:py}),Au=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},pe=function(){function c(){var r=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!r.destroyed}}return c.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},c.prototype.getContext=function(){return this.context},c.prototype.destroy=function(){this.destroyFunctions.forEach(function(r){return r()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:c.EVENT_DESTROYED})},c.prototype.addEventListener=function(r,i){this.localEventService||(this.localEventService=new Ko),this.localEventService.addEventListener(r,i)},c.prototype.removeEventListener=function(r,i){this.localEventService&&this.localEventService.removeEventListener(r,i)},c.prototype.dispatchEventAsync=function(r){var i=this;window.setTimeout(function(){return i.dispatchEvent(r)},0)},c.prototype.dispatchEvent=function(r){this.localEventService&&this.localEventService.dispatchEvent(r)},c.prototype.addManagedListener=function(r,i,s){var l=this;if(!this.destroyed){r instanceof HTMLElement?py(this.getFrameworkOverrides(),r,i,s):r.addEventListener(i,s);var u=function(){return r.removeEventListener(i,s),l.destroyFunctions=l.destroyFunctions.filter(function(h){return h!==u}),null};return this.destroyFunctions.push(u),u}},c.prototype.addDestroyFunc=function(r){this.isAlive()?this.destroyFunctions.push(r):r()},c.prototype.createManagedBean=function(r,i){var s=this.createBean(r,i);return this.addDestroyFunc(this.destroyBean.bind(this,r,i)),s},c.prototype.createBean=function(r,i,s){return(i||this.getContext()).createBean(r,s)},c.prototype.destroyBean=function(r,i){return(i||this.getContext()).destroyBean(r)},c.prototype.destroyBeans=function(r,i){var s=this;return r&&r.forEach(function(l){return s.destroyBean(l,i)}),[]},c.EVENT_DESTROYED="destroyed",Au([N("frameworkOverrides")],c.prototype,"frameworkOverrides",void 0),Au([N("context")],c.prototype,"context",void 0),Au([N("eventService")],c.prototype,"eventService",void 0),Au([N("gridOptionsWrapper")],c.prototype,"gridOptionsWrapper",void 0),Au([Zn],c.prototype,"destroy",null),c}(),h0=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),af=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Wn=function(c,r){return function(i,s){r(i,s,c)}},hy=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return h0(r,c),r.prototype.setBeans=function(i){this.logger=i.create("ColumnFactory")},r.prototype.createColumnTree=function(i,s,l){var u=new Qv,h=this.extractExistingTreeData(l),g=h.existingCols,_=h.existingGroups;u.addExistingKeys(h.existingColKeys);var E=this.recursivelyCreateColumns(i,0,s,g,u,_),D=this.findMaxDept(E,0);this.logger.log("Number of levels for grouped columns is "+D);var M=this.balanceColumnTree(E,0,D,u);return this.columnUtils.depthFirstOriginalTreeSearch(null,M,function(V,B){V instanceof cn&&V.setupExpandable(),V.setOriginalParent(B)}),{columnTree:M,treeDept:D}},r.prototype.extractExistingTreeData=function(i){var s=[],l=[],u=[];return i&&this.columnUtils.depthFirstOriginalTreeSearch(null,i,function(h){if(h instanceof cn)l.push(h);else{var _=h;u.push(_.getId()),s.push(_)}}),{existingCols:s,existingGroups:l,existingColKeys:u}},r.prototype.createForAutoGroups=function(i,s){var l=this;return i.map(function(u){return l.createAutoGroupTreeItem(s,u)})},r.prototype.createAutoGroupTreeItem=function(i,s){for(var u=s,h=this.findDepth(i)-1;h>=0;h--){var g=new cn(null,"FAKE_PATH_"+s.getId()+"}_"+h,!0,h);this.context.createBean(g),g.setChildren([u]),u.setOriginalParent(g),u=g}return u},r.prototype.findDepth=function(i){for(var s=0,l=i;l&&l[0]&&l[0]instanceof cn;)s++,l=l[0].getChildren();return s},r.prototype.balanceColumnTree=function(i,s,l,u){for(var h=[],g=0;g<i.length;g++){var _=i[g];if(_ instanceof cn){var w=_,E=this.balanceColumnTree(w.getChildren(),s+1,l,u);w.setChildren(E),h.push(w)}else{for(var D=void 0,M=void 0,G=l-1;G>=s;G--){var V=u.getUniqueKey(null,null),B=this.createMergedColGroupDef(null),q=new cn(B,V,!0,s);this.context.createBean(q),M&&M.setChildren([q]),M=q,D||(D=M)}if(D&&M){if(h.push(D),i.some(function(J){return J instanceof cn})){M.setChildren([_]);continue}M.setChildren(i);break}h.push(_)}}return h},r.prototype.findMaxDept=function(i,s){for(var l=s,u=0;u<i.length;u++){var h=i[u];if(h instanceof cn){var _=this.findMaxDept(h.getChildren(),s+1);l<_&&(l=_)}}return l},r.prototype.recursivelyCreateColumns=function(i,s,l,u,h,g){var _=this;return(i||[]).map(function(w){return _.isColumnGroup(w)?_.createColumnGroup(l,w,s,u,h,g):_.createColumn(l,w,u,h)})},r.prototype.createColumnGroup=function(i,s,l,u,h,g){var _=this.createMergedColGroupDef(s),w=h.getUniqueKey(_.groupId||null,null),E=new cn(_,w,!1,l);this.context.createBean(E);var D=this.findExistingGroup(s,g);D&&Jn(g,D),D&&D.isExpanded()&&E.setExpanded(!0);var M=this.recursivelyCreateColumns(_.children,l+1,i,u,h,g);return E.setChildren(M),E},r.prototype.createMergedColGroupDef=function(i){var s={};return Object.assign(s,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(s,i),this.checkForDeprecatedItems(s),s},r.prototype.createColumn=function(i,s,l,u){var h=this.mergeColDefs(s);this.checkForDeprecatedItems(h);var g=this.findExistingColumn(s,l);if(l&&g&&Jn(l,g),g)g.setColDef(h,s),this.applyColumnState(g,h);else{var _=u.getUniqueKey(h.colId,h.field);g=new gt(h,s,_,i),this.context.createBean(g)}return g},r.prototype.applyColumnState=function(i,s){var l=tn(s.flex);if(void 0!==l&&i.setFlex(l),i.getFlex()<=0){var h=tn(s.width);if(null!=h)i.setActualWidth(h);else{var g=i.getActualWidth();i.setActualWidth(g)}}void 0!==s.sort&&i.setSort(s.sort==j.SORT_ASC||s.sort==j.SORT_DESC?s.sort:void 0);var _=tn(s.sortIndex);void 0!==_&&i.setSortIndex(_);var w=wo(s.hide);void 0!==w&&i.setVisible(!w),void 0!==s.pinned&&i.setPinned(s.pinned)},r.prototype.findExistingColumn=function(i,s){return(s||[]).find(function(l){var u=l.getUserProvidedColDef();if(!u)return!1;var g=null!=i.field;return null!=i.colId?l.getId()===i.colId:g?u.field===i.field:u===i})},r.prototype.findExistingGroup=function(i,s){return s.find(function(l){return!(!l.getColGroupDef()||null==i.groupId||l.getId()!==i.groupId)})},r.prototype.mergeColDefs=function(i){var s={},l=this.gridOptionsWrapper.getDefaultColDef();Oi(s,l,!1,!0);var u=i.type;return u||(u=l&&l.type),u&&this.assignColumnTypes(u,s),Oi(s,i,!1,!0),s},r.prototype.assignColumnTypes=function(i,s){var l=[];if(i instanceof Array)i.some(function(_){return"string"!=typeof _})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):l=i;else{if("string"!=typeof i)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");l=i.split(",")}var h=Object.assign({},An);Tt(this.gridOptionsWrapper.getColumnTypes()||{},function(_,w){_ in h?console.warn("AG Grid: the column type '"+_+"' is a default column type and cannot be overridden."):h[_]=w}),l.forEach(function(_){var w=h[_.trim()];w?Oi(s,w,!1,!0):console.warn("AG Grid: colDef.type '"+_+"' does not correspond to defined gridOptions.columnTypes")})},r.prototype.checkForDeprecatedItems=function(i){if(i){var s=i;void 0!==s.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==s.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(s.suppressRowGroup||s.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),s.displayName&&(console.warn("AG Grid: Found displayName "+s.displayName+", please use headerName instead, displayName is deprecated."),s.headerName=s.displayName)}},r.prototype.isColumnGroup=function(i){return void 0!==i.children},af([N("columnUtils")],r.prototype,"columnUtils",void 0),af([Wn(0,Ti("loggerFactory"))],r.prototype,"setBeans",null),af([we("columnFactory")],r)}(pe),L=function(){function c(){}return c.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",c.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",c.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",c.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",c.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",c.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",c.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",c.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",c.EVENT_COLUMN_MOVED="columnMoved",c.EVENT_COLUMN_VISIBLE="columnVisible",c.EVENT_COLUMN_PINNED="columnPinned",c.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",c.EVENT_COLUMN_RESIZED="columnResized",c.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",c.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",c.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",c.EVENT_ROW_GROUP_OPENED="rowGroupOpened",c.EVENT_ROW_DATA_CHANGED="rowDataChanged",c.EVENT_ROW_DATA_UPDATED="rowDataUpdated",c.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",c.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",c.EVENT_CHART_CREATED="chartCreated",c.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",c.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",c.EVENT_CHART_DESTROYED="chartDestroyed",c.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",c.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",c.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",c.EVENT_MODEL_UPDATED="modelUpdated",c.EVENT_PASTE_START="pasteStart",c.EVENT_PASTE_END="pasteEnd",c.EVENT_FILL_START="fillStart",c.EVENT_FILL_END="fillEnd",c.EVENT_CELL_CLICKED="cellClicked",c.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",c.EVENT_CELL_MOUSE_DOWN="cellMouseDown",c.EVENT_CELL_CONTEXT_MENU="cellContextMenu",c.EVENT_CELL_VALUE_CHANGED="cellValueChanged",c.EVENT_CELL_EDIT_REQUEST="cellEditRequest",c.EVENT_ROW_VALUE_CHANGED="rowValueChanged",c.EVENT_CELL_FOCUSED="cellFocused",c.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",c.EVENT_ROW_SELECTED="rowSelected",c.EVENT_SELECTION_CHANGED="selectionChanged",c.EVENT_CELL_KEY_DOWN="cellKeyDown",c.EVENT_CELL_KEY_PRESS="cellKeyPress",c.EVENT_CELL_MOUSE_OVER="cellMouseOver",c.EVENT_CELL_MOUSE_OUT="cellMouseOut",c.EVENT_FILTER_CHANGED="filterChanged",c.EVENT_FILTER_MODIFIED="filterModified",c.EVENT_FILTER_OPENED="filterOpened",c.EVENT_SORT_CHANGED="sortChanged",c.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",c.EVENT_ROW_CLICKED="rowClicked",c.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",c.EVENT_GRID_READY="gridReady",c.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",c.EVENT_VIEWPORT_CHANGED="viewportChanged",c.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",c.EVENT_FIRST_DATA_RENDERED="firstDataRendered",c.EVENT_DRAG_STARTED="dragStarted",c.EVENT_DRAG_STOPPED="dragStopped",c.EVENT_CHECKBOX_CHANGED="checkboxChanged",c.EVENT_ROW_EDITING_STARTED="rowEditingStarted",c.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",c.EVENT_CELL_EDITING_STARTED="cellEditingStarted",c.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",c.EVENT_BODY_SCROLL="bodyScroll",c.EVENT_BODY_SCROLL_END="bodyScrollEnd",c.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",c.EVENT_PAGINATION_CHANGED="paginationChanged",c.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",c.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",c.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",c.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",c.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",c.EVENT_FLASH_CELLS="flashCells",c.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",c.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",c.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",c.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",c.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",c.EVENT_ROW_DRAG_ENTER="rowDragEnter",c.EVENT_ROW_DRAG_MOVE="rowDragMove",c.EVENT_ROW_DRAG_LEAVE="rowDragLeave",c.EVENT_ROW_DRAG_END="rowDragEnd",c.EVENT_POPUP_TO_FRONT="popupToFront",c.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",c.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",c.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",c.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",c.EVENT_KEYBOARD_FOCUS="keyboardFocus",c.EVENT_MOUSE_FOCUS="mouseFocus",c.EVENT_STORE_UPDATED="storeUpdated",c}(),lf=function(){function c(){this.existingIds={}}return c.prototype.getInstanceIdForKey=function(r){var s,i=this.existingIds[r];return this.existingIds[r]=s="number"!=typeof i?0:i+1,s},c}(),uf=/[&<>"']/g,zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Nt(c){return null==c?null:c.replace(/([A-Z])/g,function(r){return"-"+r[0].toLowerCase()})}function Ad(c){return null==c?null:c.replace(/-([a-z])/g,function(r){return r[1].toUpperCase()})}function df(c){return c[0].toUpperCase()+c.substr(1).toLowerCase()}function Je(c){return null==c?null:c.toString().toString().replace(uf,function(r){return zt[r]})}function et(c){return c&&null!=c?c.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(s){return s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")}).join(" "):null}var fy=Object.freeze({utf8_encode:function cf(c){var r=String.fromCharCode;function l(D,M){return r(D>>M&63|128)}function u(D){if(D>=0&&D<=31&&10!==D)return"_x"+D.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&D))return r(D);var V="";return 0==(4294965248&D)?V=r(D>>6&31|192):0==(4294901760&D)?(function s(D){if(D>=55296&&D<=57343)throw Error("Lone surrogate U+"+D.toString(16).toUpperCase()+" is not a scalar value")}(D),V=r(D>>12&15|224),V+=l(D,6)):0==(4292870144&D)&&(V=r(D>>18&7|240),V+=l(D,12),V+=l(D,6)),V+r(63&D|128)}for(var h=function i(D){var M=[];if(!D)return[];for(var B,q,G=D.length,V=0;V<G;)(B=D.charCodeAt(V++))>=55296&&B<=56319&&V<G?56320==(64512&(q=D.charCodeAt(V++)))?M.push(((1023&B)<<10)+(1023&q)+65536):(M.push(B),V--):M.push(B);return M}(c),g=h.length,_=-1,E="";++_<g;)E+=u(h[_]);return E},camelCaseToHyphen:Nt,hyphenToCamelCase:Ad,capitalise:df,escapeString:Je,camelCaseToHumanText:et});function aa(c){var r=new Map;return c.forEach(function(i){return r.set(i[0],i[1])}),r}var Ye=Object.freeze({convertToMap:aa,mapById:function Ae(c,r){var i=new Map;return c.forEach(function(s){return i.set(r(s),s)}),i},keys:function pf(c){var r=[];return c.forEach(function(i,s){return r.push(s)}),r}}),ei=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Fn=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},ZP=function(c,r){return function(i,s){r(i,s,c)}},f0=function(c){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&c[r],s=0;if(i)return i.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&s>=c.length&&(c=void 0),{value:c&&c[s++],done:!c}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Pd=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},ti=function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(Pd(arguments[r]));return c},g0=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.primaryHeaderRowCount=0,i.secondaryHeaderRowCount=0,i.gridHeaderRowCount=0,i.displayedColumnsLeft=[],i.displayedColumnsRight=[],i.displayedColumnsCenter=[],i.displayedColumns=[],i.displayedColumnsAndGroupsMap={},i.viewportColumns=[],i.viewportColumnsCenter=[],i.autoHeightActiveAtLeastOnce=!1,i.rowGroupColumns=[],i.valueColumns=[],i.pivotColumns=[],i.ready=!1,i.autoGroupsNeedBuilding=!1,i.forceRecreateAutoGroups=!1,i.pivotMode=!1,i.bodyWidth=0,i.leftWidth=0,i.rightWidth=0,i.bodyWidthDirty=!0,i.colDefVersion=0,i.flexColsCalculatedAtLestOnce=!1,i}return ei(r,c),r.prototype.init=function(){var i=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var s=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(s)&&(this.pivotMode=s),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",function(){return i.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,"defaultColDef",function(){return i.onDefaultColDefChanged()})},r.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},r.prototype.onDefaultColDefChanged=function(){this.colDefVersion++,this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},r.prototype.getColDefVersion=function(){return this.colDefVersion},r.prototype.setColumnDefs=function(i,s){void 0===s&&(s="api");var l=!!this.columnDefs;this.colDefVersion++,this.columnDefs=i,this.createColumnsFromColumnDefs(l,s)},r.prototype.createColumnsFromColumnDefs=function(i,s){var l=this;void 0===s&&(s="api");var u=i?this.compareColumnStatesAndRaiseEvents(s):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var h=this.primaryColumns,_=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=_.columnTree,this.primaryHeaderRowCount=_.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(D){return l.primaryColumnsMap[D.getId()]=D}),this.extractRowGroupColumns(s,h),this.extractPivotColumns(s,h),this.extractValueColumns(s,h),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),i&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(s),this.checkViewportColumns()),this.dispatchEverythingChanged(s),u&&u(),this.dispatchNewColumnsLoaded()},r.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:L.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},r.prototype.dispatchEverythingChanged=function(i){void 0===i&&(i="api"),this.eventService.dispatchEvent({type:L.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:i})},r.prototype.orderGridColumnsLikePrimary=function(){var i=this,s=this.primaryColumns;!s||this.gridColumns.sort(function(l,u){var h=s.indexOf(l),g=s.indexOf(u),_=h>=0,w=g>=0;return _&&w?h-g:_?1:w?-1:i.gridColumns.indexOf(l)-i.gridColumns.indexOf(u)})},r.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},r.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},r.prototype.getDisplayedColumnsStartingAt=function(i){for(var s=i,l=[];null!=s;)l.push(s),s=this.getDisplayedColAfter(s);return l},r.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var i=this.viewportColumns.map(function(u){return u.getId()}).join("#");this.extractViewport(),i!==this.viewportColumns.map(function(u){return u.getId()}).join("#")&&this.eventService.dispatchEvent({type:L.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},r.prototype.setViewportPosition=function(i,s){(i!==this.scrollWidth||s!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=i,this.scrollPosition=s,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},r.prototype.isPivotMode=function(){return this.pivotMode},r.prototype.isPivotSettingAllowed=function(i){return!i||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},r.prototype.setPivotMode=function(i,s){void 0===s&&(s="api"),i!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=i,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(s),this.eventService.dispatchEvent({type:L.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},r.prototype.getSecondaryPivotColumn=function(i,s){if(Pe(this.secondaryColumns))return null;var l=this.getPrimaryColumn(s),u=null;return this.secondaryColumns.forEach(function(h){var g=h.getColDef().pivotKeys,_=h.getColDef().pivotValueColumn;Es(g,i)&&_===l&&(u=h)}),u},r.prototype.setBeans=function(i){this.logger=i.create("columnModel")},r.prototype.setFirstRightAndLastLeftPinned=function(i){var s,l;this.gridOptionsWrapper.isEnableRtl()?(s=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,l=this.displayedColumnsRight?Pt(this.displayedColumnsRight):null):(s=this.displayedColumnsLeft?Pt(this.displayedColumnsLeft):null,l=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(u){u.setLastLeftPinned(u===s,i),u.setFirstRightPinned(u===l,i)})},r.prototype.autoSizeColumns=function(i){var s=this,l=i.columns,u=i.skipHeader,h=i.skipHeaderGroups,g=i.stopAtGroup,_=i.source,w=void 0===_?"api":_;this.animationFrameService.flushAllFrames();for(var E=[],D=-1,M=null!=u?u:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),G=null!=h?h:M;0!==D;)D=0,this.actionOnGridColumns(l,function(V){if(E.indexOf(V)>=0)return!1;var B=s.autoWidthCalculator.getPreferredWidthForColumn(V,M);if(B>0){var q=s.normaliseColumnWidth(V,B);V.setActualWidth(q,w),E.push(V),D++}return!0},w);G||this.autoSizeColumnGroupsByColumns(l,g),this.fireColumnResizedEvent(E,!0,"autosizeColumns")},r.prototype.fireColumnResizedEvent=function(i,s,l,u){void 0===u&&(u=null),i&&i.length&&this.eventService.dispatchEvent({type:L.EVENT_COLUMN_RESIZED,columns:i,column:1===i.length?i[0]:null,flexColumns:u,finished:s,api:this.gridApi,columnApi:this.columnApi,source:l})},r.prototype.autoSizeColumn=function(i,s,l){void 0===l&&(l="api"),i&&this.autoSizeColumns({columns:[i],skipHeader:s,skipHeaderGroups:!0,source:l})},r.prototype.autoSizeColumnGroupsByColumns=function(i,s){var l,u,h,g,E,_=new Set;this.getGridColumns(i).forEach(function(J){for(var oe=J.getParent();oe&&oe!=s;)oe.isPadding()||_.add(oe),oe=oe.getParent()});try{for(var M=f0(_),G=M.next();!G.done;G=M.next()){var V=G.value;try{for(var B=(h=void 0,f0(this.ctrlsService.getHeaderRowContainerCtrls())),q=B.next();!q.done&&!(E=q.value.getHeaderCtrlForColumn(V));q=B.next());}catch(J){h={error:J}}finally{try{q&&!q.done&&(g=B.return)&&g.call(B)}finally{if(h)throw h.error}}E&&E.resizeLeafColumnsToFit()}}catch(J){l={error:J}}finally{try{G&&!G.done&&(u=M.return)&&u.call(M)}finally{if(l)throw l.error}}return[]},r.prototype.autoSizeAllColumns=function(i,s){void 0===s&&(s="api");var l=this.getAllDisplayedColumns();this.autoSizeColumns({columns:l,skipHeader:i,source:s})},r.prototype.getColumnsFromTree=function(i){var s=[],l=function(u){for(var h=0;h<u.length;h++){var g=u[h];g instanceof gt?s.push(g):g instanceof cn&&l(g.getChildren())}};return l(i),s},r.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},r.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},r.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},r.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},r.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},r.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},r.prototype.isColumnDisplayed=function(i){return this.getAllDisplayedColumns().indexOf(i)>=0},r.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},r.prototype.getViewportColumns=function(){return this.viewportColumns},r.prototype.getDisplayedLeftColumnsForRow=function(i){return this.colSpanActive?this.getDisplayedColumnsForRow(i,this.displayedColumnsLeft):this.displayedColumnsLeft},r.prototype.getDisplayedRightColumnsForRow=function(i){return this.colSpanActive?this.getDisplayedColumnsForRow(i,this.displayedColumnsRight):this.displayedColumnsRight},r.prototype.getDisplayedColumnsForRow=function(i,s,l,u){for(var w,h=[],g=null,_=function(D){var J,M=s[D],G=s.length-D,V=Math.min(M.getColSpan(i),G),B=[M];if(V>1){for(var q=V-1,Z=1;Z<=q;Z++)B.push(s[D+Z]);D+=q}l?(J=!1,B.forEach(function(fe){l(fe)&&(J=!0)})):J=!0,J&&(0===h.length&&g&&u&&u(M)&&h.push(g),h.push(M)),g=M,w=D},E=0;E<s.length;E++)_(E),E=w;return h},r.prototype.getViewportCenterColumnsForRow=function(i){var s=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var u=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(i,this.displayedColumnsCenter,u,function(h){var g=h.getLeft();return ee(g)&&g>s.viewportLeft})},r.prototype.getAriaColumnIndex=function(i){return this.getAllGridColumns().indexOf(i)+1},r.prototype.isColumnInViewport=function(i){if(i.isAutoHeight())return!0;var s=i.getLeft()||0,l=s+i.getActualWidth(),u=this.viewportLeft-200,h=this.viewportRight+200;return!(s<u&&l<u||s>h&&l>h)},r.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},r.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},r.prototype.updatePrimaryColumnList=function(i,s,l,u,h,g){var _=this;if(void 0===g&&(g="api"),i&&!Ri(i)){var w=!1;i.forEach(function(D){var M=_.getPrimaryColumn(D);if(M){if(l){if(s.indexOf(M)>=0)return;s.push(M)}else{if(s.indexOf(M)<0)return;Jn(s,M)}u(M),w=!0}}),w&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(g),this.eventService.dispatchEvent({type:h,columns:s,column:1===s.length?s[0]:null,api:this.gridApi,columnApi:this.columnApi,source:g}))}},r.prototype.setRowGroupColumns=function(i,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(i,this.rowGroupColumns,L.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),s)},r.prototype.setRowGroupActive=function(i,s,l){i!==s.isRowGroupActive()&&(s.setRowGroupActive(i,l),!i&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&s.setVisible(!0,l))},r.prototype.addRowGroupColumn=function(i,s){void 0===s&&(s="api"),i&&this.addRowGroupColumns([i],s)},r.prototype.addRowGroupColumns=function(i,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(i,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),L.EVENT_COLUMN_ROW_GROUP_CHANGED,s)},r.prototype.removeRowGroupColumns=function(i,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(i,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),L.EVENT_COLUMN_ROW_GROUP_CHANGED,s)},r.prototype.removeRowGroupColumn=function(i,s){void 0===s&&(s="api"),i&&this.removeRowGroupColumns([i],s)},r.prototype.addPivotColumns=function(i,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(i,this.pivotColumns,!0,function(l){return l.setPivotActive(!0,s)},L.EVENT_COLUMN_PIVOT_CHANGED,s)},r.prototype.setPivotColumns=function(i,s){void 0===s&&(s="api"),this.setPrimaryColumnList(i,this.pivotColumns,L.EVENT_COLUMN_PIVOT_CHANGED,function(l,u){u.setPivotActive(l,s)},s)},r.prototype.addPivotColumn=function(i,s){void 0===s&&(s="api"),this.addPivotColumns([i],s)},r.prototype.removePivotColumns=function(i,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(i,this.pivotColumns,!1,function(l){return l.setPivotActive(!1,s)},L.EVENT_COLUMN_PIVOT_CHANGED,s)},r.prototype.removePivotColumn=function(i,s){void 0===s&&(s="api"),this.removePivotColumns([i],s)},r.prototype.setPrimaryColumnList=function(i,s,l,u,h){var g=this;s.length=0,ee(i)&&i.forEach(function(_){var w=g.getPrimaryColumn(_);w&&s.push(w)}),(this.primaryColumns||[]).forEach(function(_){var w=s.indexOf(_)>=0;u(w,_)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(h),this.fireColumnEvent(l,s,h)},r.prototype.setValueColumns=function(i,s){void 0===s&&(s="api"),this.setPrimaryColumnList(i,this.valueColumns,L.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),s)},r.prototype.setValueActive=function(i,s,l){if(i!==s.isValueActive()&&(s.setValueActive(i,l),i&&!s.getAggFunc())){var u=this.aggFuncService.getDefaultAggFunc(s);s.setAggFunc(u)}},r.prototype.addValueColumns=function(i,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(i,this.valueColumns,!0,this.setValueActive.bind(this,!0),L.EVENT_COLUMN_VALUE_CHANGED,s)},r.prototype.addValueColumn=function(i,s){void 0===s&&(s="api"),i&&this.addValueColumns([i],s)},r.prototype.removeValueColumn=function(i,s){void 0===s&&(s="api"),this.removeValueColumns([i],s)},r.prototype.removeValueColumns=function(i,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(i,this.valueColumns,!1,this.setValueActive.bind(this,!1),L.EVENT_COLUMN_VALUE_CHANGED,s)},r.prototype.normaliseColumnWidth=function(i,s){var l=i.getMinWidth();ee(l)&&s<l&&(s=l);var u=i.getMaxWidth();return ee(u)&&i.isGreaterThanMax(s)&&(s=u),s},r.prototype.getPrimaryOrGridColumn=function(i){return this.getPrimaryColumn(i)||this.getGridColumn(i)},r.prototype.setColumnWidths=function(i,s,l,u){var h=this;void 0===u&&(u="api");var g=[];i.forEach(function(_){var w=h.getPrimaryOrGridColumn(_.key);if(w&&(g.push({width:_.newWidth,ratios:[1],columns:[w]}),"shift"===h.gridOptionsWrapper.getColResizeDefault()&&(s=!s),s)){var D=h.getDisplayedColAfter(w);if(!D)return;var M=w.getActualWidth()-_.newWidth,G=D.getActualWidth()+M;g.push({width:G,ratios:[1],columns:[D]})}}),0!==g.length&&this.resizeColumnSets({resizeSets:g,finished:l,source:u})},r.prototype.checkMinAndMaxWidthsForSet=function(i){var l=i.width,u=0,h=0,g=!0;return i.columns.forEach(function(E){var D=E.getMinWidth();u+=D||0;var M=E.getMaxWidth();ee(M)&&M>0?h+=M:g=!1}),l>=u&&(!g||l<=h)},r.prototype.resizeColumnSets=function(i){var s=this,l=i.resizeSets,u=i.finished,h=i.source;if(!l||l.every(function(V){return s.checkMinAndMaxWidthsForSet(V)})){var w=[],E=[];l.forEach(function(V){var B=V.width,q=V.columns,Z=V.ratios,J={},oe={};q.forEach(function(Ie){return E.push(Ie)});for(var fe=!0,Se=0,ke=function(){if(++Se>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";fe=!1;var Ie=[],lt=0,ut=B;q.forEach(function(Cn,so){oe[Cn.getId()]?ut-=J[Cn.getId()]:(Ie.push(Cn),lt+=Z[so])});var _n=1/lt;Ie.forEach(function(Cn,so){var ui;so===Ie.length-1?ui=ut:(ui=Math.round(Z[so]*B*_n),ut-=ui);var ru=Cn.getMinWidth(),Ks=Cn.getMaxWidth();ee(ru)&&ui<ru?(ui=ru,oe[Cn.getId()]=!0,fe=!0):ee(Ks)&&Ks>0&&ui>Ks&&(ui=Ks,oe[Cn.getId()]=!0,fe=!0),J[Cn.getId()]=ui})};fe&&"break"!==ke(););q.forEach(function(Ie){var lt=J[Ie.getId()];Ie.getActualWidth()!==lt&&(Ie.setActualWidth(lt,h),w.push(Ie))})});var D=w.length>0,M=[];D&&(M=this.refreshFlexedColumns({resizingCols:E,skipSetLeft:!0}),this.setLeftValues(h),this.updateBodyWidths(),this.checkViewportColumns());var G=E.concat(M);(D||u)&&this.fireColumnResizedEvent(G,u,h,M)}else u&&this.fireColumnResizedEvent(l&&l.length>0?l[0].columns:null,u,h)},r.prototype.setColumnAggFunc=function(i,s,l){if(void 0===l&&(l="api"),i){var u=this.getPrimaryColumn(i);!u||(u.setAggFunc(s),this.fireColumnEvent(L.EVENT_COLUMN_VALUE_CHANGED,[u],l))}},r.prototype.fireColumnEvent=function(i,s,l){this.eventService.dispatchEvent({type:i,columns:s,column:s&&1==s.length?s[0]:null,api:this.gridApi,columnApi:this.columnApi,source:l})},r.prototype.moveRowGroupColumn=function(i,s,l){void 0===l&&(l="api");var u=this.rowGroupColumns[i];this.rowGroupColumns.splice(i,1),this.rowGroupColumns.splice(s,0,u),this.eventService.dispatchEvent({type:L.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:l})},r.prototype.moveColumns=function(i,s,l){if(void 0===l&&(l="api"),this.columnAnimationService.start(),s>this.gridColumns.length-i.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+s),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var u=this.getGridColumns(i);!this.doesMovePassRules(u,s)||(Bn(this.gridColumns,u,s),this.updateDisplayedColumns(l),this.eventService.dispatchEvent({type:L.EVENT_COLUMN_MOVED,columns:u,column:1===u.length?u[0]:null,toIndex:s,api:this.gridApi,columnApi:this.columnApi,source:l}),this.columnAnimationService.finish())},r.prototype.doesMovePassRules=function(i,s){var l=this.gridColumns.slice();return Bn(l,i,s),!(!this.doesMovePassMarryChildren(l)||!this.doesMovePassLockedPositions(l))},r.prototype.sortColumnsLikeGridColumns=function(i){var s=this;!i||i.length<=1||i.filter(function(u){return s.gridColumns.indexOf(u)<0}).length>0||i.sort(function(u,h){return s.gridColumns.indexOf(u)-s.gridColumns.indexOf(h)})},r.prototype.doesMovePassLockedPositions=function(i){var s=0,l=!0;return i.forEach(function(h){var g=function(h){return h?!0===h||"left"===h?0:2:1}(h.getColDef().lockPosition);g<s&&(l=!1),s=g}),l},r.prototype.doesMovePassMarryChildren=function(i){var s=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(l){if(l instanceof cn){var u=l,h=u.getColGroupDef();if(h&&h.marryChildren){var _=[];u.getLeafColumns().forEach(function(G){var V=i.indexOf(G);_.push(V)}),Math.max.apply(Math,_)-Math.min.apply(Math,_)>u.getLeafColumns().length-1&&(s=!1)}}}),s},r.prototype.moveColumn=function(i,s,l){void 0===l&&(l="api"),this.moveColumns([i],s,l)},r.prototype.moveColumnByIndex=function(i,s,l){void 0===l&&(l="api"),this.moveColumn(this.gridColumns[i],s,l)},r.prototype.getColumnDefs=function(){var i=this;if(this.primaryColumns){var s=this.primaryColumns.slice();return this.gridColsArePrimary?s.sort(function(l,u){return i.gridColumns.indexOf(l)-i.gridColumns.indexOf(u)}):this.lastPrimaryOrder&&s.sort(function(l,u){return i.lastPrimaryOrder.indexOf(l)-i.lastPrimaryOrder.indexOf(u)}),this.columnDefFactory.buildColumnDefs(s,this.rowGroupColumns,this.pivotColumns)}},r.prototype.getBodyContainerWidth=function(){return this.bodyWidth},r.prototype.getContainerWidth=function(i){switch(i){case j.PINNED_LEFT:return this.leftWidth;case j.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},r.prototype.updateBodyWidths=function(){var i=this.getWidthOfColsInList(this.displayedColumnsCenter),s=this.getWidthOfColsInList(this.displayedColumnsLeft),l=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==i,(this.bodyWidth!==i||this.leftWidth!==s||this.rightWidth!==l)&&(this.bodyWidth=i,this.leftWidth=s,this.rightWidth=l,this.eventService.dispatchEvent({type:L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},r.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},r.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},r.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},r.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},r.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},r.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},r.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},r.prototype.getDisplayedColumns=function(i){switch(i){case j.PINNED_LEFT:return this.getDisplayedLeftColumns();case j.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},r.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},r.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},r.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},r.prototype.getAllGridColumns=function(){return this.gridColumns},r.prototype.isEmpty=function(){return Ri(this.gridColumns)},r.prototype.isRowGroupEmpty=function(){return Ri(this.rowGroupColumns)},r.prototype.setColumnVisible=function(i,s,l){void 0===l&&(l="api"),this.setColumnsVisible([i],s,l)},r.prototype.setColumnsVisible=function(i,s,l){var u=this;void 0===s&&(s=!1),void 0===l&&(l="api"),this.columnAnimationService.start(),this.actionOnGridColumns(i,function(h){return h.isVisible()!==s&&(h.setVisible(s,l),!0)},l,function(){return{type:L.EVENT_COLUMN_VISIBLE,visible:s,column:null,columns:null,api:u.gridApi,columnApi:u.columnApi,source:l}}),this.columnAnimationService.finish()},r.prototype.setColumnPinned=function(i,s,l){void 0===l&&(l="api"),i&&this.setColumnsPinned([i],s,l)},r.prototype.setColumnsPinned=function(i,s,l){var h,u=this;void 0===l&&(l="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),h=!0===s||s===j.PINNED_LEFT?j.PINNED_LEFT:s===j.PINNED_RIGHT?j.PINNED_RIGHT:null,this.actionOnGridColumns(i,function(g){return g.getPinned()!==h&&(g.setPinned(h),!0)},l,function(){return{type:L.EVENT_COLUMN_PINNED,pinned:h,column:null,columns:null,api:u.gridApi,columnApi:u.columnApi,source:l}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},r.prototype.actionOnGridColumns=function(i,s,l,u){var h=this;if(!Ri(i)){var g=[];if(i.forEach(function(w){var E=h.getGridColumn(w);E&&!1!==s(E)&&g.push(E)}),g.length&&(this.updateDisplayedColumns(l),ee(u)&&u)){var _=u();_.columns=g,_.column=1===g.length?g[0]:null,this.eventService.dispatchEvent(_)}}},r.prototype.getDisplayedColBefore=function(i){var s=this.getAllDisplayedColumns(),l=s.indexOf(i);return l>0?s[l-1]:null},r.prototype.getDisplayedColAfter=function(i){var s=this.getAllDisplayedColumns(),l=s.indexOf(i);return l<s.length-1?s[l+1]:null},r.prototype.getDisplayedGroupAfter=function(i){return this.getDisplayedGroupAtDirection(i,"After")},r.prototype.getDisplayedGroupBefore=function(i){return this.getDisplayedGroupAtDirection(i,"Before")},r.prototype.getDisplayedGroupAtDirection=function(i,s){for(var l=i.getProvidedColumnGroup().getLevel()+i.getPaddingLevel(),u=i.getDisplayedLeafColumns(),h="After"===s?Pt(u):u[0],g="getDisplayedCol"+s;;){var _=this[g](h);if(!_)return null;var w=this.getColumnGroupAtLevel(_,l);if(w!==i)return w}},r.prototype.getColumnGroupAtLevel=function(i,s){for(var l=i.getParent();!(l.getProvidedColumnGroup().getLevel()+l.getPaddingLevel()<=s);)l=l.getParent();return l},r.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},r.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},r.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var i;return(i=[]).concat.apply(i,ti([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},r.prototype.getPrimaryAndAutoGroupCols=function(){var i;return(i=[]).concat.apply(i,ti([this.primaryColumns||[],this.groupAutoColumns||[]]))},r.prototype.getPrimaryAndSecondaryColumns=function(){var i;return(i=[]).concat.apply(i,ti([this.primaryColumns||[],this.secondaryColumns||[]]))},r.prototype.createStateItemFromColumn=function(i){var s=i.isRowGroupActive()?this.rowGroupColumns.indexOf(i):null,l=i.isPivotActive()?this.pivotColumns.indexOf(i):null,u=i.isValueActive()?i.getAggFunc():null,h=null!=i.getSort()?i.getSort():null,g=null!=i.getSortIndex()?i.getSortIndex():null,_=null!=i.getFlex()&&i.getFlex()>0?i.getFlex():null;return{colId:i.getColId(),width:i.getActualWidth(),hide:!i.isVisible(),pinned:i.getPinned(),sort:h,sortIndex:g,aggFunc:u,rowGroup:i.isRowGroupActive(),rowGroupIndex:s,pivot:i.isPivotActive(),pivotIndex:l,flex:_}},r.prototype.getColumnState=function(){if(Pe(this.primaryColumns)||!this.isAlive())return[];var s=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(s),s},r.prototype.orderColumnStateList=function(i){var s=aa(this.gridColumns.map(function(l,u){return[l.getColId(),u]}));i.sort(function(l,u){return(s.has(l.colId)?s.get(l.colId):-1)-(s.has(u.colId)?s.get(u.colId):-1)})},r.prototype.resetColumnState=function(i){void 0===i&&(i="api");var s=this.getColumnsFromTree(this.primaryColumnTree),l=[],u=1e3,h=1e3,g=[];this.groupAutoColumns&&(g=g.concat(this.groupAutoColumns)),s&&(g=g.concat(s)),g.forEach(function(_){var w=function(Ve,Ie){return null!=Ve?Ve:null!=Ie?Ie:null},E=_.getColDef(),D=w(E.sort,E.initialSort),M=w(E.sortIndex,E.initialSortIndex),G=w(E.hide,E.initialHide),V=w(E.pinned,E.initialPinned),B=w(E.width,E.initialWidth),q=w(E.flex,E.initialFlex),Z=w(E.rowGroupIndex,E.initialRowGroupIndex),J=w(E.rowGroup,E.initialRowGroup);null==Z&&(null==J||0==J)&&(Z=null,J=null);var oe=w(E.pivotIndex,E.initialPivotIndex),fe=w(E.pivot,E.initialPivot);null==oe&&(null==fe||0==fe)&&(oe=null,fe=null);var Se=w(E.aggFunc,E.initialAggFunc),ke={colId:_.getColId(),sort:D,sortIndex:M,hide:G,pinned:V,width:B,flex:q,rowGroup:J,rowGroupIndex:Z,pivot:fe,pivotIndex:oe,aggFunc:Se};Pe(Z)&&J&&(ke.rowGroupIndex=u++),Pe(oe)&&fe&&(ke.pivotIndex=h++),l.push(ke)}),this.applyColumnState({state:l,applyOrder:!0},i)},r.prototype.applyColumnState=function(i,s){var l=this;if(void 0===s&&(s="api"),Ri(this.primaryColumns))return!1;if(i&&i.state&&!i.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var u=function(w,E,D){var M=l.compareColumnStatesAndRaiseEvents(s);l.autoGroupsNeedBuilding=!0;var G=E.slice(),V={},B={},q=[],Z=[],J=0,oe=l.rowGroupColumns.slice(),fe=l.pivotColumns.slice();w.forEach(function(Ie){var lt=Ie.colId||"";if(lt.startsWith(j.GROUP_AUTO_COLUMN_ID))return q.push(Ie),void Z.push(Ie);var _n=D(lt);_n?(l.syncColumnWithStateItem(_n,Ie,i.defaultState,V,B,!1,s),Jn(G,_n)):(Z.push(Ie),J+=1)});var Se=function(Ie){return l.syncColumnWithStateItem(Ie,null,i.defaultState,V,B,!1,s)};G.forEach(Se);var ke=function(Ie,lt,ut,_n){var Cn=Ie[ut.getId()],so=Ie[_n.getId()],fr=null!=Cn,ui=null!=so;if(fr&&ui)return Cn-so;if(fr)return-1;if(ui)return 1;var ru=lt.indexOf(ut),Ks=lt.indexOf(_n),dw=ru>=0;return dw&&Ks>=0?ru-Ks:dw?-1:1};l.rowGroupColumns.sort(ke.bind(l,V,oe)),l.pivotColumns.sort(ke.bind(l,B,fe)),l.updateGridColumns();var Ve=l.groupAutoColumns?l.groupAutoColumns.slice():[];return q.forEach(function(Ie){var lt=l.getAutoColumn(Ie.colId);Jn(Ve,lt),l.syncColumnWithStateItem(lt,Ie,i.defaultState,null,null,!0,s)}),Ve.forEach(Se),l.applyOrderAfterApplyState(i),l.updateDisplayedColumns(s),l.dispatchEverythingChanged(s),M(),{unmatchedAndAutoStates:Z,unmatchedCount:J}};this.columnAnimationService.start();var h=u(i.state||[],this.primaryColumns||[],function(w){return l.getPrimaryColumn(w)}),g=h.unmatchedAndAutoStates,_=h.unmatchedCount;return(g.length>0||ee(i.defaultState))&&(_=u(g,this.secondaryColumns||[],function(w){return l.getSecondaryColumn(w)}).unmatchedCount),this.columnAnimationService.finish(),0===_},r.prototype.applyOrderAfterApplyState=function(i){var s=this;if(i.applyOrder&&i.state){var l=[],u={};i.state.forEach(function(g){if(g.colId&&!u[g.colId]){var _=s.gridColumnsMap[g.colId];_&&(l.push(_),u[g.colId]=!0)}});var h=0;if(this.gridColumns.forEach(function(g){var _=g.getColId();null!=u[_]||(_.startsWith(j.GROUP_AUTO_COLUMN_ID)?sl(l,g,h++):l.push(g))}),l=this.placeLockedColumns(l),!this.doesMovePassMarryChildren(l))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=l}},r.prototype.compareColumnStatesAndRaiseEvents=function(i){var s=this,l={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},u=this.getColumnState(),h={};return u.forEach(function(g){h[g.colId]=g}),function(){if(!s.gridOptionsWrapper.isSuppressColumnStateEvents()){var g=s.getPrimaryAndSecondaryAndAutoColumns(),_=function(Z,J,oe,fe){Es(J.map(fe),oe.map(fe))||s.eventService.dispatchEvent({type:Z,columns:oe,column:1===oe.length?oe[0]:null,api:s.gridApi,columnApi:s.columnApi,source:i})},w=function(Z){var J=[];return g.forEach(function(oe){var fe=h[oe.getColId()];fe&&Z(fe,oe)&&J.push(oe)}),J},E=function(Z){return Z.getColId()};_(L.EVENT_COLUMN_ROW_GROUP_CHANGED,l.rowGroupColumns,s.rowGroupColumns,E),_(L.EVENT_COLUMN_PIVOT_CHANGED,l.pivotColumns,s.pivotColumns,E),w(function(Z,J){var oe=null!=Z.aggFunc,fe=oe!=J.isValueActive(),Se=oe&&Z.aggFunc!=J.getAggFunc();return fe||Se}).length>0&&s.fireColumnEvent(L.EVENT_COLUMN_VALUE_CHANGED,s.valueColumns,i),s.fireColumnResizedEvent(w(function(Z,J){return Z.width!=J.getActualWidth()}),!0,i),s.raiseColumnPinnedEvent(w(function(Z,J){return Z.pinned!=J.getPinned()}),i),s.raiseColumnVisibleEvent(w(function(Z,J){return Z.hide==J.isVisible()}),i),w(function(Z,J){return Z.sort!=J.getSort()||Z.sortIndex!=J.getSortIndex()}).length>0&&s.sortController.dispatchSortChangedEvents(i),s.raiseColumnMovedEvent(u,i)}}},r.prototype.raiseColumnPinnedEvent=function(i,s){if(i.length){var l=1===i.length?i[0]:null,u=this.getCommonValue(i,function(g){return g.getPinned()});this.eventService.dispatchEvent({type:L.EVENT_COLUMN_PINNED,pinned:null!=u?u:null,columns:i,column:l,api:this.gridApi,columnApi:this.columnApi,source:s})}},r.prototype.getCommonValue=function(i,s){if(i&&0!=i.length){for(var l=s(i[0]),u=1;u<i.length;u++)if(l!==s(i[u]))return;return l}},r.prototype.raiseColumnVisibleEvent=function(i,s){if(i.length){var l=1===i.length?i[0]:null,u=this.getCommonValue(i,function(g){return g.isVisible()});this.eventService.dispatchEvent({type:L.EVENT_COLUMN_VISIBLE,visible:u,columns:i,column:l,api:this.gridApi,columnApi:this.columnApi,source:s})}},r.prototype.raiseColumnMovedEvent=function(i,s){var l=this,u=this.getColumnState(),h={};u.forEach(function(M){return h[M.colId]=M});var g={};i.forEach(function(M){h[M.colId]&&(g[M.colId]=!0)});var _=i.filter(function(M){return g[M.colId]}),w=u.filter(function(M){return g[M.colId]}),E=[];w.forEach(function(M,G){var V=_&&_[G];if(V&&V.colId!==M.colId){var B=l.getGridColumn(V.colId);B&&E.push(B)}}),E.length&&this.eventService.dispatchEvent({type:L.EVENT_COLUMN_MOVED,columns:E,column:null,api:this.gridApi,columnApi:this.columnApi,source:s})},r.prototype.syncColumnWithStateItem=function(i,s,l,u,h,g,_){if(i){var w=function(lt,ut){var _n={value1:void 0,value2:void 0},Cn=!1;return s&&(void 0!==s[lt]&&(_n.value1=s[lt],Cn=!0),ee(ut)&&void 0!==s[ut]&&(_n.value2=s[ut],Cn=!0)),!Cn&&l&&(void 0!==l[lt]&&(_n.value1=l[lt]),ee(ut)&&void 0!==l[ut]&&(_n.value2=l[ut])),_n},E=w("hide").value1;void 0!==E&&i.setVisible(!E,_);var D=w("pinned").value1;void 0!==D&&i.setPinned(D);var M=this.columnUtils.calculateColMinWidth(i.getColDef()),G=w("flex").value1;if(void 0!==G&&i.setFlex(G),i.getFlex()<=0){var B=w("width").value1;null!=B&&null!=M&&B>=M&&i.setActualWidth(B,_)}var q=w("sort").value1;void 0!==q&&i.setSort(q===j.SORT_DESC||q===j.SORT_ASC?q:void 0,_);var Z=w("sortIndex").value1;if(void 0!==Z&&i.setSortIndex(Z),!g&&i.isPrimary()){var J=w("aggFunc").value1;void 0!==J&&("string"==typeof J?(i.setAggFunc(J),i.isValueActive()||(i.setValueActive(!0,_),this.valueColumns.push(i))):(ee(J)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),i.isValueActive()&&(i.setValueActive(!1,_),Jn(this.valueColumns,i))));var oe=w("rowGroup","rowGroupIndex"),fe=oe.value1,Se=oe.value2;(void 0!==fe||void 0!==Se)&&("number"==typeof Se||fe?(i.isRowGroupActive()||(i.setRowGroupActive(!0,_),this.rowGroupColumns.push(i)),u&&"number"==typeof Se&&(u[i.getId()]=Se)):i.isRowGroupActive()&&(i.setRowGroupActive(!1,_),Jn(this.rowGroupColumns,i)));var ke=w("pivot","pivotIndex"),Ve=ke.value1,Ie=ke.value2;(void 0!==Ve||void 0!==Ie)&&("number"==typeof Ie||Ve?(i.isPivotActive()||(i.setPivotActive(!0,_),this.pivotColumns.push(i)),h&&"number"==typeof Ie&&(h[i.getId()]=Ie)):i.isPivotActive()&&(i.setPivotActive(!1,_),Jn(this.pivotColumns,i)))}}},r.prototype.getGridColumns=function(i){return this.getColumns(i,this.getGridColumn.bind(this))},r.prototype.getColumns=function(i,s){var l=[];return i&&i.forEach(function(u){var h=s(u);h&&l.push(h)}),l},r.prototype.getColumnWithValidation=function(i){if(null==i)return null;var s=this.getGridColumn(i);return s||console.warn("AG Grid: could not find column "+i),s},r.prototype.getPrimaryColumn=function(i){return this.primaryColumns?this.getColumn(i,this.primaryColumns,this.primaryColumnsMap):null},r.prototype.getGridColumn=function(i){return this.getColumn(i,this.gridColumns,this.gridColumnsMap)},r.prototype.getSecondaryColumn=function(i){return this.secondaryColumns?this.getColumn(i,this.secondaryColumns,this.secondaryColumnsMap):null},r.prototype.getColumn=function(i,s,l){if(!i)return null;if("string"==typeof i&&l[i])return l[i];for(var u=0;u<s.length;u++)if(this.columnsMatch(s[u],i))return s[u];return this.getAutoColumn(i)},r.prototype.getAutoColumn=function(i){var s=this;return this.groupAutoColumns&&ee(this.groupAutoColumns)&&!Pe(this.groupAutoColumns)&&this.groupAutoColumns.find(function(l){return s.columnsMatch(l,i)})||null},r.prototype.columnsMatch=function(i,s){var l=i===s,u=i.getColDef()===s,h=i.getColId()==s;return l||u||h},r.prototype.getDisplayNameForColumn=function(i,s,l){if(void 0===l&&(l=!1),!i)return null;var u=this.getHeaderName(i.getColDef(),i,null,null,s);return l?this.wrapHeaderNameWithAggFunc(i,u):u},r.prototype.getDisplayNameForProvidedColumnGroup=function(i,s,l){var u=s?s.getColGroupDef():null;return u?this.getHeaderName(u,null,i,s,l):null},r.prototype.getDisplayNameForColumnGroup=function(i,s){return this.getDisplayNameForProvidedColumnGroup(i,i.getProvidedColumnGroup(),s)},r.prototype.getHeaderName=function(i,s,l,u,h){var g=i.headerValueGetter;if(g){var _={colDef:i,column:s,columnGroup:l,providedColumnGroup:u,location:h,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof g?g(_):"string"==typeof g?this.expressionService.evaluate(g,_):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=i.headerName?i.headerName:i.field?et(i.field):""},r.prototype.wrapHeaderNameWithAggFunc=function(i,s){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return s;var g,l=i.getColDef().pivotValueColumn,h=null;if(ee(l)){var _=this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&1===this.valueColumns.length,w=void 0!==i.getColDef().pivotTotalColumnIds;if(_&&!w)return s;h=l?l.getAggFunc():null,g=!0}else{var E=i.isValueActive(),D=this.pivotMode||!this.isRowGroupEmpty();E&&D?(h=i.getAggFunc(),g=!0):g=!1}if(g){var M="string"==typeof h?h:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(M,M)+"("+s+")"}return s},r.prototype.getColumnGroup=function(i,s){if(!i)return null;if(i instanceof Xt)return i;var l=this.getAllDisplayedTrees(),u="number"==typeof s,h=null;return this.columnUtils.depthFirstAllColumnTreeSearch(l,function(g){if(g instanceof Xt){var _=g;(u?i===_.getGroupId()&&s===_.getInstanceId():i===_.getGroupId())&&(h=_)}}),h},r.prototype.isReady=function(){return this.ready},r.prototype.extractValueColumns=function(i,s){this.valueColumns=this.extractColumns(s,this.valueColumns,function(l,u){return l.setValueActive(u,i)},function(){},function(){},function(l){var u=l.aggFunc;return null===u||""===u?null:void 0!==u?!!u:void 0},function(l){return null!=l.initialAggFunc&&""!=l.initialAggFunc}),this.valueColumns.forEach(function(l){var u=l.getColDef();null!=u.aggFunc&&""!=u.aggFunc?l.setAggFunc(u.aggFunc):l.getAggFunc()||l.setAggFunc(u.initialAggFunc)})},r.prototype.extractRowGroupColumns=function(i,s){this.rowGroupColumns=this.extractColumns(s,this.rowGroupColumns,function(l,u){return l.setRowGroupActive(u,i)},function(l){return l.rowGroupIndex},function(l){return l.initialRowGroupIndex},function(l){return l.rowGroup},function(l){return l.initialRowGroup})},r.prototype.extractColumns=function(i,s,l,u,h,g,_){void 0===i&&(i=[]),void 0===s&&(s=[]);var w=[],E=[];(this.primaryColumns||[]).forEach(function(G){var V=i.indexOf(G)<0,B=G.getColDef(),q=wo(g(B)),Z=wo(_(B)),J=tn(u(B)),oe=tn(h(B));(void 0!==q?q:void 0!==J?null!==J&&J>=0:V?void 0!==Z?Z:void 0!==oe&&null!=oe&&oe>=0:s.indexOf(G)>=0)&&((V?null!=J||null!=oe:null!=J)?w.push(G):E.push(G))});var D=function(G){var V=u(G.getColDef()),B=h(G.getColDef());return null!=V?V:B};w.sort(function(G,V){var B=D(G),q=D(V);return B===q?0:B<q?-1:1});var M=[].concat(w);return s.forEach(function(G){E.indexOf(G)>=0&&M.push(G)}),E.forEach(function(G){M.indexOf(G)<0&&M.push(G)}),s.forEach(function(G){M.indexOf(G)<0&&l(G,!1)}),M.forEach(function(G){s.indexOf(G)<0&&l(G,!0)}),M},r.prototype.extractPivotColumns=function(i,s){this.pivotColumns=this.extractColumns(s,this.pivotColumns,function(l,u){return l.setPivotActive(u,i)},function(l){return l.pivotIndex},function(l){return l.initialPivotIndex},function(l){return l.pivot},function(l){return l.initialPivot})},r.prototype.resetColumnGroupState=function(i){void 0===i&&(i="api");var s=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(l){if(l instanceof cn){var u=l.getColGroupDef(),h={groupId:l.getGroupId(),open:u?u.openByDefault:void 0};s.push(h)}}),this.setColumnGroupState(s,i)},r.prototype.getColumnGroupState=function(){var i=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(s){s instanceof cn&&i.push({groupId:s.getGroupId(),open:s.isExpanded()})}),i},r.prototype.setColumnGroupState=function(i,s){var l=this;void 0===s&&(s="api"),this.columnAnimationService.start();var u=[];i.forEach(function(h){var _=h.open,w=l.getProvidedColumnGroup(h.groupId);!w||w.isExpanded()!==_&&(l.logger.log("columnGroupOpened("+w.getGroupId()+","+_+")"),w.setExpanded(_),u.push(w))}),this.updateGroupsAndDisplayedColumns(s),this.setFirstRightAndLastLeftPinned(s),u.forEach(function(h){l.eventService.dispatchEvent({type:L.EVENT_COLUMN_GROUP_OPENED,columnGroup:h,api:l.gridApi,columnApi:l.columnApi})}),this.columnAnimationService.finish()},r.prototype.setColumnGroupOpened=function(i,s,l){var u;void 0===l&&(l="api"),u=i instanceof cn?i.getId():i||"",this.setColumnGroupState([{groupId:u,open:s}],l)},r.prototype.getProvidedColumnGroup=function(i){"string"!=typeof i&&console.error("AG Grid: group key must be a string");var s=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(l){l instanceof cn&&l.getId()===i&&(s=l)}),s},r.prototype.calculateColumnsForDisplay=function(){var i=this;return this.pivotMode&&Pe(this.secondaryColumns)?this.gridColumns.filter(function(l){var u=i.groupAutoColumns&&rr(i.groupAutoColumns,l),h=i.valueColumns&&rr(i.valueColumns,l);return u||h}):this.gridColumns.filter(function(l){return i.groupAutoColumns&&rr(i.groupAutoColumns,l)||l.isVisible()})},r.prototype.checkColSpanActiveInCols=function(i){var s=!1;return i.forEach(function(l){ee(l.getColDef().colSpan)&&(s=!0)}),s},r.prototype.calculateColumnsForGroupDisplay=function(){var i=this;this.groupDisplayColumns=[];var s=function(l){var u=l.getColDef();u&&ee(u.showRowGroup)&&i.groupDisplayColumns.push(l)};this.gridColumns.forEach(s),this.groupAutoColumns&&this.groupAutoColumns.forEach(s)},r.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},r.prototype.updateDisplayedColumns=function(i){var s=this.calculateColumnsForDisplay();this.buildDisplayedTrees(s),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(i),this.setFirstRightAndLastLeftPinned(i)},r.prototype.isSecondaryColumnsPresent=function(){return ee(this.secondaryColumns)},r.prototype.setSecondaryColumns=function(i,s){var l=this;void 0===s&&(s="api");var u=i&&i.length>0;if(u||!Pe(this.secondaryColumns)){if(u){this.processSecondaryColumnDefinitions(i);var h=this.columnFactory.createColumnTree(i,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=h.columnTree,this.secondaryHeaderRowCount=h.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(g){return l.secondaryColumnsMap[g.getId()]=g}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(s)}},r.prototype.processSecondaryColumnDefinitions=function(i){var s=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),l=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(s||l){var u=function(h){h.forEach(function(g){if(ee(g.children)){var w=g;l&&l(w),u(w.children)}else s&&s(g)})};i&&u(i)}},r.prototype.updateGridColumns=function(){var i=this;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var s=this.secondaryColumns.every(function(u){return void 0!==i.gridColumnsMap[u.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,s&&this.orderGridColsLike(this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLike(this.lastPrimaryOrder));this.addAutoGroupToGridColumns(),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return i.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:L.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},r.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(u){return u.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var i=this.rowModel.getType();i!==j.ROW_MODEL_TYPE_CLIENT_SIDE&&i!==j.ROW_MODEL_TYPE_SERVER_SIDE&&At(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},r.prototype.orderGridColsLike=function(i){if(!Pe(i)){var s=aa(i.map(function(E,D){return[E,D]})),l=!0;if(this.gridColumns.forEach(function(E){s.has(E)&&(l=!1)}),!l){var u=aa(this.gridColumns.map(function(E){return[E,!0]})),h=i.filter(function(E){return u.has(E)}),g=aa(h.map(function(E){return[E,!0]})),_=this.gridColumns.filter(function(E){return!g.has(E)}),w=h.slice();_.forEach(function(E){var D=E.getOriginalParent();if(D){for(var M=[];!M.length&&D;)D.getLeafColumns().forEach(function(q){var Z=w.indexOf(q)>=0,J=M.indexOf(q)<0;Z&&J&&M.push(q)}),D=D.getOriginalParent();if(M.length){var V=M.map(function(q){return w.indexOf(q)}),B=Math.max.apply(Math,ti(V));sl(w,E,B+1)}else w.push(E)}else w.push(E)}),this.gridColumns=w}}},r.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},r.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},r.prototype.placeLockedColumns=function(i){var s=[],l=[],u=[];return i.forEach(function(h){var g=h.getColDef().lockPosition;"right"===g?u.push(h):"left"===g||!0===g?s.push(h):l.push(h)}),ti(s,l,u)},r.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!Pe(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var i=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=i.concat(this.gridBalancedTree)}},r.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},r.prototype.updateGroupsAndDisplayedColumns=function(i){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(i),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:L.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},r.prototype.deriveDisplayedColumns=function(i){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(i),this.displayedAutoHeightCols=this.displayedColumns.filter(function(s){return s.isAutoHeight()})},r.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},r.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},r.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},r.prototype.setLeftValues=function(i){this.setLeftValuesOfColumns(i),this.setLeftValuesOfGroups()},r.prototype.setLeftValuesOfColumns=function(i){var s=this;if(this.primaryColumns){var l=this.primaryColumns.slice(0),u=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(h){if(u){var g=s.getWidthOfColsInList(h);h.forEach(function(w){g-=w.getActualWidth(),w.setLeft(g,i)})}else{var _=0;h.forEach(function(w){w.setLeft(_,i),_+=w.getActualWidth()})}Od(l,h)}),l.forEach(function(h){h.setLeft(null,i)})}},r.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(i){i.forEach(function(s){s instanceof Xt&&s.checkLeft()})})},r.prototype.derivedDisplayedColumnsFromDisplayedTree=function(i,s){s.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(i,function(l){l instanceof gt&&s.push(l)})},r.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},r.prototype.getVirtualHeaderGroupRow=function(i,s){var l;switch(i){case j.PINNED_LEFT:l=this.viewportRowLeft[s];break;case j.PINNED_RIGHT:l=this.viewportRowRight[s];break;default:l=this.viewportRowCenter[s]}return Pe(l)&&(l=[]),l},r.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var i={};this.viewportColumns.forEach(function(l){return i[l.getId()]=!0});var s=function(l,u,h){for(var g=!1,_=0;_<l.length;_++){var w=l[_],E=!1;if(w instanceof gt)E=!0===i[w.getId()];else{var M=w.getDisplayedChildren();M&&(E=s(M,u,h+1))}E&&(g=!0,u[h]||(u[h]=[]),u[h].push(w))}return g};s(this.displayedTreeLeft,this.viewportRowLeft,0),s(this.displayedTreeRight,this.viewportRowRight,0),s(this.displayedTreeCentre,this.viewportRowCenter,0)},r.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},r.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},r.prototype.refreshFlexedColumns=function(i){var s=this;void 0===i&&(i={});var l=i.source?i.source:"flex";if(null!=i.viewportWidth&&(this.flexViewportWidth=i.viewportWidth),!this.flexViewportWidth)return[];var u=-1;i.resizingCols&&i.resizingCols.forEach(function(fe){var Se=s.displayedColumnsCenter.indexOf(fe);u<Se&&(u=Se)});var h=function(fe){var Se=s.displayedColumnsCenter.indexOf(fe)>u;return fe.getFlex()&&Se},g=this.displayedColumnsCenter.filter(function(fe){return!h(fe)}),_=this.displayedColumnsCenter.filter(function(fe){return h(fe)}),w=[];if(!_.length)return[];var D,E=[];e:for(;;){var M=_.reduce(function(fe,Se){return fe+Se.getFlex()},0);D=this.flexViewportWidth-this.getWidthOfColsInList(g);for(var G=0;G<_.length;G++){var V=_[G],B=D*V.getFlex()/M,q=0,Z=V.getMinWidth(),J=V.getMaxWidth();if(ee(Z)&&B<Z?q=Z:ee(J)&&B>J&&(q=J),q){V.setActualWidth(q,l),Jn(_,V),w.push(V),g.push(V);continue e}E[G]=Math.round(B)}break}var oe=D;return _.forEach(function(fe,Se){fe.setActualWidth(Math.min(E[Se],oe),l),w.push(fe),oe-=E[Se]}),i.skipSetLeft||this.setLeftValues(l),i.updateBodyWidths&&this.updateBodyWidths(),i.fireResizedEvent&&this.fireColumnResizedEvent(w,!0,l,_),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),_},r.prototype.sizeColumnsToFit=function(i,s,l){void 0===s&&(s="sizeColumnsToFit");var u=this.getAllDisplayedColumns();if(!(i<=0)&&u.length){var h=[],g=[];u.forEach(function(oe){!0===oe.getColDef().suppressSizeToFit?g.push(oe):h.push(oe)});var _=h.slice(0),w=!1,E=function(oe){Jn(h,oe),g.push(oe)};for(h.forEach(function(oe){return oe.resetActualWidth(s)});!w;){w=!0;var D=i-this.getWidthOfColsInList(g);if(D<=0)h.forEach(function(oe){oe.setMinimum(s)});else for(var M=D/this.getWidthOfColsInList(h),G=D,V=h.length-1;V>=0;V--){var B=h[V],q=B.getMinWidth(),Z=B.getMaxWidth(),J=Math.round(B.getActualWidth()*M);ee(q)&&J<q?(J=q,E(B),w=!1):ee(Z)&&B.isGreaterThanMax(J)?(J=Z,E(B),w=!1):0===V&&(J=G),B.setActualWidth(J,s,!0),G-=J}}_.forEach(function(oe){oe.fireColumnWidthChangedEvent(s)}),this.setLeftValues(s),this.updateBodyWidths(),!l&&this.fireColumnResizedEvent(_,!0,s)}},r.prototype.buildDisplayedTrees=function(i){var s=[],l=[],u=[];i.forEach(function(g){switch(g.getPinned()){case"left":s.push(g);break;case"right":l.push(g);break;default:u.push(g)}});var h=new lf;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(s,this.gridBalancedTree,h,j.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(l,this.gridBalancedTree,h,j.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(u,this.gridBalancedTree,h,null,this.displayedTreeCentre),this.updateDisplayedMap()},r.prototype.updateDisplayedMap=function(){var i=this;this.displayedColumnsAndGroupsMap={};var s=function(l){i.displayedColumnsAndGroupsMap[l.getUniqueId()]=l};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,s),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,s),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,s)},r.prototype.isDisplayed=function(i){return this.displayedColumnsAndGroupsMap[i.getUniqueId()]===i},r.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var i=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(i,function(s){s instanceof Xt&&s.calculateDisplayedColumns()})},r.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},r.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var i=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),s=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||s||i)this.groupAutoColumns=null;else{var g=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);(!this.autoColsEqual(g,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=g)}}},r.prototype.autoColsEqual=function(i,s){return Es(i,s,function(l,u){return l.getColId()===u.getColId()})},r.prototype.getWidthOfColsInList=function(i){return i.reduce(function(s,l){return s+l.getActualWidth()},0)},r.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},r.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(s){return s.getColDef().floatingFilter})},r.prototype.getFirstDisplayedColumn=function(){var i=this.gridOptionsWrapper.isEnableRtl(),s=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];i&&s.reverse();for(var l=0;l<s.length;l++){var u=this[s[l]]();if(u.length)return i?Pt(u):u[0]}return null},Fn([N("expressionService")],r.prototype,"expressionService",void 0),Fn([N("columnFactory")],r.prototype,"columnFactory",void 0),Fn([N("displayedGroupCreator")],r.prototype,"displayedGroupCreator",void 0),Fn([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Fn([N("autoWidthCalculator")],r.prototype,"autoWidthCalculator",void 0),Fn([N("columnUtils")],r.prototype,"columnUtils",void 0),Fn([N("columnAnimationService")],r.prototype,"columnAnimationService",void 0),Fn([N("autoGroupColService")],r.prototype,"autoGroupColService",void 0),Fn([vt("aggFuncService")],r.prototype,"aggFuncService",void 0),Fn([vt("valueCache")],r.prototype,"valueCache",void 0),Fn([vt("animationFrameService")],r.prototype,"animationFrameService",void 0),Fn([N("rowModel")],r.prototype,"rowModel",void 0),Fn([N("columnApi")],r.prototype,"columnApi",void 0),Fn([N("gridApi")],r.prototype,"gridApi",void 0),Fn([N("sortController")],r.prototype,"sortController",void 0),Fn([N("columnDefFactory")],r.prototype,"columnDefFactory",void 0),Fn([ge],r.prototype,"init",null),Fn([ZP(0,Ti("loggerFactory"))],r.prototype,"setBeans",null),Fn([we("columnModel")],r)}(pe),m0=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),So=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return m0(r,c),r.prototype.calculateColMinWidth=function(i){return null!=i.minWidth?i.minWidth:this.gridOptionsWrapper.getMinColWidth()},r.prototype.calculateColMaxWidth=function(i){return null!=i.maxWidth?i.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},r.prototype.calculateColInitialWidth=function(i){var u,s=this.calculateColMinWidth(i),l=this.calculateColMaxWidth(i),h=tn(i.width),g=tn(i.initialWidth);return u=null!=h?h:null!=g?g:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(u,l),s)},r.prototype.getOriginalPathForColumn=function(i,s){var l=[],u=!1,h=function(g,_){for(var w=0;w<g.length;w++){if(u)return;var E=g[w];E instanceof cn?(h(E.getChildren(),_+1),l[_]=E):E===i&&(u=!0)}};return h(s,0),u?l:null},r.prototype.depthFirstOriginalTreeSearch=function(i,s,l){var u=this;!s||s.forEach(function(h){h instanceof cn&&u.depthFirstOriginalTreeSearch(h,h.getChildren(),l),l(h,i)})},r.prototype.depthFirstAllColumnTreeSearch=function(i,s){var l=this;!i||i.forEach(function(u){u instanceof Xt&&l.depthFirstAllColumnTreeSearch(u.getChildren(),s),s(u)})},r.prototype.depthFirstDisplayedColumnTreeSearch=function(i,s){var l=this;!i||i.forEach(function(u){u instanceof Xt&&l.depthFirstDisplayedColumnTreeSearch(u.getDisplayedChildren(),s),s(u)})},r=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u}([we("columnUtils")],r),r}(pe),eN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),v0=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return eN(r,c),r.prototype.createDisplayedGroups=function(i,s,l,u,h){var w,E,g=this,_=[],D=this.mapOldGroupsById(h);return i.forEach(function(M){for(var G=g.getOriginalPathForColumn(s,M),V=[],B=!E,q=0;q<G.length;q++)if(B||G[q]!==E[q]){var Z=g.createColumnGroup(G[q],l,D,u);V[q]=Z,0==q?_.push(Z):V[q-1].addChild(Z)}else V[q]=w[q];0===V.length?_.push(M):Pt(V).addChild(M),w=V,E=G}),this.setupParentsIntoColumns(_,null),_},r.prototype.createColumnGroup=function(i,s,l,u){var h=i.getGroupId(),g=s.getInstanceIdForKey(h),w=l[Xt.createUniqueId(h,g)];return w&&w.getProvidedColumnGroup()!==i&&(w=null),ee(w)?w.reset():(w=new Xt(i,h,g,u),this.context.createBean(w)),w},r.prototype.mapOldGroupsById=function(i){var s={},l=function(u){u.forEach(function(h){if(h instanceof Xt){var g=h;s[h.getUniqueId()]=g,l(g.getChildren())}})};return i&&l(i),s},r.prototype.setupParentsIntoColumns=function(i,s){var l=this;i.forEach(function(u){if(u.setParent(s),u instanceof Xt){var h=u;l.setupParentsIntoColumns(h.getChildren(),h)}})},r.prototype.getOriginalPathForColumn=function(i,s){var l=[],u=!1,h=function(g,_){for(var w=0;w<g.length;w++){if(u)return;var E=g[w];E instanceof cn?(h(E.getChildren(),_+1),l[_]=E):E===s&&(u=!0)}};return h(i,0),u?l:(console.warn("AG Grid: could not get path"),null)},r=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u}([we("displayedGroupCreator")],r),r}(pe),nN=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},qo=function(){function c(){}return c.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],c.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],c.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],c.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],c.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges"],c.ALL_PROPERTIES=function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(nN(arguments[r]));return c}(c.ARRAY_PROPERTIES,c.OBJECT_PROPERTIES,c.STRING_PROPERTIES,c.NUMBER_PROPERTIES,c.FUNCTION_PROPERTIES=["localeTextFunc","getLocaleText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getGroupRowAgg","getRowNodeId","isFullWidthCell","isFullWidthRow","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],c.BOOLEAN_PROPERTIES),c.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],c}(),hf=function(){return hf=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},hf.apply(this,arguments)},iN=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},Vi=function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(iN(arguments[r]));return c},yt=function(){function c(){}return c.getEventCallbacks=function(){return c.EVENT_CALLBACKS||(c.EVENT_CALLBACKS=c.EVENTS.map(function(r){return c.getCallbackForEvent(r)})),c.EVENT_CALLBACKS},c.copyAttributesToGridOptions=function(r,i,s){"object"!=typeof r&&(r={});var l=r,u=function(h){return void 0!==i[h]};return u("groupAggFiltering")&&"function"!=typeof i.groupAggFiltering&&(l.groupAggFiltering=c.toBoolean(i.groupAggFiltering),delete i.groupAggFiltering),Vi(c.ARRAY_PROPERTIES,c.STRING_PROPERTIES,c.OBJECT_PROPERTIES,c.FUNCTION_PROPERTIES,c.getEventCallbacks()).filter(u).forEach(function(h){return l[h]=i[h]}),c.BOOLEAN_PROPERTIES.filter(u).forEach(function(h){return l[h]=c.toBoolean(i[h])}),c.NUMBER_PROPERTIES.filter(u).forEach(function(h){return l[h]=c.toNumber(i[h])}),r},c.getCallbackForEvent=function(r){return!r||r.length<2?r:"on"+r[0].toUpperCase()+r.substr(1)},c.processOnChange=function(r,i,s,l){if(r){var u=hf({},r),h=i,g=function(E){return u[E]};g("groupAggFiltering")&&(h.groupAggFiltering="function"==typeof u.groupAggFiltering?u.groupAggFiltering:c.toBoolean(u.groupAggFiltering),delete u.groupAggFiltering),u.rowClass&&(s.setRowClass(u.rowClass.currentValue),delete u.rowClass),Vi(c.ARRAY_PROPERTIES,c.OBJECT_PROPERTIES,c.STRING_PROPERTIES,c.getEventCallbacks()).filter(g).forEach(function(E){return h[E]=u[E].currentValue}),c.BOOLEAN_PROPERTIES.filter(g).forEach(function(E){return h[E]=c.toBoolean(u[E].currentValue)}),c.NUMBER_PROPERTIES.filter(g).forEach(function(E){return h[E]=c.toNumber(u[E].currentValue)}),u.enableCellTextSelection&&(s.setEnableCellTextSelection(c.toBoolean(u.enableCellTextSelection.currentValue)),delete u.enableCellTextSelection),u.quickFilterText&&(s.setQuickFilter(u.quickFilterText.currentValue),delete u.quickFilterText),u.autoGroupColumnDef&&(s.setAutoGroupColumnDef(u.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete u.autoGroupColumnDef),u.columnDefs&&(s.setColumnDefs(u.columnDefs.currentValue,"gridOptionsChanged"),delete u.columnDefs),u.defaultColDef&&(s.setDefaultColDef(u.defaultColDef.currentValue,"gridOptionsChanged"),delete u.defaultColDef),u.paginationPageSize&&(s.paginationSetPageSize(c.toNumber(u.paginationPageSize.currentValue)),delete u.paginationPageSize),u.pivotMode&&(l.setPivotMode(c.toBoolean(u.pivotMode.currentValue)),delete u.pivotMode),u.groupRemoveSingleChildren&&(s.setGroupRemoveSingleChildren(c.toBoolean(u.groupRemoveSingleChildren.currentValue)),delete u.groupRemoveSingleChildren),u.suppressRowDrag&&(s.setSuppressRowDrag(c.toBoolean(u.suppressRowDrag.currentValue)),delete u.suppressRowDrag),u.suppressMoveWhenRowDragging&&(s.setSuppressMoveWhenRowDragging(c.toBoolean(u.suppressMoveWhenRowDragging.currentValue)),delete u.suppressMoveWhenRowDragging),u.suppressRowClickSelection&&(s.setSuppressRowClickSelection(c.toBoolean(u.suppressRowClickSelection.currentValue)),delete u.suppressRowClickSelection),u.suppressClipboardPaste&&(s.setSuppressClipboardPaste(c.toBoolean(u.suppressClipboardPaste.currentValue)),delete u.suppressClipboardPaste),u.headerHeight&&(s.setHeaderHeight(c.toNumber(u.headerHeight.currentValue)),delete u.headerHeight);var _=s;Object.keys(u).forEach(function(E){var D="set"+E.charAt(0).toUpperCase()+E.substring(1);_[D]&&_[D](r[E].currentValue)});var w={type:L.EVENT_COMPONENT_STATE_CHANGED,api:i.api,columnApi:i.columnApi};Tt(r,function(E,D){w[E]=D}),s.dispatchEvent(w)}},c.toBoolean=function(r){return"boolean"==typeof r?r:"string"==typeof r&&("TRUE"===r.toUpperCase()||""==r)},c.toNumber=function(r){return"number"==typeof r?r:"string"==typeof r?Number(r):void 0},c.EVENTS=[],c.PUBLIC_EVENTS=[],c.EXCLUDED_INTERNAL_EVENTS=[],c.STRING_PROPERTIES=qo.STRING_PROPERTIES,c.OBJECT_PROPERTIES=qo.OBJECT_PROPERTIES,c.ARRAY_PROPERTIES=qo.ARRAY_PROPERTIES,c.NUMBER_PROPERTIES=qo.NUMBER_PROPERTIES,c.BOOLEAN_PROPERTIES=qo.BOOLEAN_PROPERTIES,c.FUNCTION_PROPERTIES=qo.FUNCTION_PROPERTIES,c.ALL_PROPERTIES=qo.ALL_PROPERTIES,c}();yt.EVENTS=bs(L),yt.EXCLUDED_INTERNAL_EVENTS=[L.EVENT_SCROLLBAR_WIDTH_CHANGED,L.EVENT_CHECKBOX_CHANGED,L.EVENT_HEIGHT_SCALE_CHANGED,L.EVENT_BODY_HEIGHT_CHANGED,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,L.EVENT_SCROLL_VISIBILITY_CHANGED,L.EVENT_COLUMN_HOVER_CHANGED,L.EVENT_FLASH_CELLS,L.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,L.EVENT_DISPLAYED_ROWS_CHANGED,L.EVENT_LEFT_PINNED_WIDTH_CHANGED,L.EVENT_RIGHT_PINNED_WIDTH_CHANGED,L.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,L.EVENT_POPUP_TO_FRONT,L.EVENT_KEYBOARD_FOCUS,L.EVENT_MOUSE_FOCUS,L.EVENT_STORE_UPDATED,L.EVENT_COLUMN_PANEL_ITEM_DRAG_START,L.EVENT_COLUMN_PANEL_ITEM_DRAG_END,L.EVENT_FILL_START,L.EVENT_FILL_END,L.EVENT_FULL_WIDTH_ROW_FOCUSED],yt.PUBLIC_EVENTS=yt.EVENTS.filter(function(c){return!rr(yt.EXCLUDED_INTERNAL_EVENTS,c)});var rN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),_0=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.componentsMappedByName={},i}return rN(r,c),r.prototype.setupComponents=function(i){var s=this;i&&i.forEach(function(l){return s.addComponent(l)})},r.prototype.addComponent=function(i){var l=i.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[l]=i.componentClass},r.prototype.getComponentClass=function(i){return this.componentsMappedByName[i]},r=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u}([we("agStackComponentsRegistry")],r),r}(pe),Te=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},tt=function(){function c(){}return c.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],c.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],c.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],c.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],c.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],c.ALL_PROPERTIES=function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(Te(arguments[r]));return c}(c.ARRAY_PROPERTIES,c.OBJECT_PROPERTIES,c.STRING_PROPERTIES,c.NUMBER_PROPERTIES,c.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],c.BOOLEAN_PROPERTIES),c.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],c}(),Nd=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},la=function(){function c(r,i,s,l){void 0===l&&(l=1),this.r=Math.min(1,Math.max(0,r||0)),this.g=Math.min(1,Math.max(0,i||0)),this.b=Math.min(1,Math.max(0,s||0)),this.a=Math.min(1,Math.max(0,l||0))}return c.fromString=function(r){if(r.indexOf("#")>=0)return c.fromHexString(r);var i=c.nameToHex[r];if(i)return c.fromHexString(i);if(r.indexOf("rgb")>=0)return c.fromRgbaString(r);throw new Error("Invalid color string: '"+r+"'")},c.parseHex=function(r){var i;switch((r=r.replace(/ /g,"").slice(1)).length){case 6:case 8:i=[];for(var s=0;s<r.length;s+=2)i.push(parseInt(""+r[s]+r[s+1],16));break;case 3:case 4:i=r.split("").map(function(l){return parseInt(l,16)}).map(function(l){return l+16*l})}if(i.length>=3&&i.every(function(l){return l>=0}))return 3===i.length&&i.push(255),i},c.fromHexString=function(r){var i=c.parseHex(r);if(i){var s=Nd(i,4);return new c(s[0]/255,s[1]/255,s[2]/255,s[3]/255)}throw new Error("Malformed hexadecimal color string: '"+r+"'")},c.stringToRgba=function(r){for(var i=Nd([NaN,NaN],2),s=i[0],l=i[1],u=0;u<r.length;u++){var h=r[u];if(s||"("!==h){if(")"===h){l=u;break}}else s=u}var g=s&&l&&r.substring(s+1,l);if(g){var _=g.split(","),w=[];for(u=0;u<_.length;u++){var E=_[u],D=parseFloat(E);if(isNaN(D))return;E.indexOf("%")>=0?(D=Math.max(0,Math.min(100,D)),D/=100):3===u?D=Math.max(0,Math.min(1,D)):(D=Math.max(0,Math.min(255,D)),D/=255),w.push(D)}return w}},c.fromRgbaString=function(r){var i=c.stringToRgba(r);if(i){if(3===i.length)return new c(i[0],i[1],i[2]);if(4===i.length)return new c(i[0],i[1],i[2],i[3])}throw new Error("Malformed rgb/rgba color string: '"+r+"'")},c.fromArray=function(r){if(4===r.length)return new c(r[0],r[1],r[2],r[3]);if(3===r.length)return new c(r[0],r[1],r[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},c.fromHSB=function(r,i,s,l){void 0===l&&(l=1);var u=c.HSBtoRGB(r,i,s);return new c(u[0],u[1],u[2],l)},c.padHex=function(r){return 1===r.length?"0"+r:r},c.prototype.toHexString=function(){var r="#"+c.padHex(Math.round(255*this.r).toString(16))+c.padHex(Math.round(255*this.g).toString(16))+c.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(r+=c.padHex(Math.round(255*this.a).toString(16))),r},c.prototype.toRgbaString=function(r){void 0===r&&(r=3);var i=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],s=Math.pow(10,r);return 1!==this.a?(i.push(Math.round(this.a*s)/s),"rgba("+i.join(", ")+")"):"rgb("+i.join(", ")+")"},c.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},c.prototype.toHSB=function(){return c.RGBtoHSB(this.r,this.g,this.b)},c.RGBtoHSB=function(r,i,s){var l=Math.min(r,i,s),u=Math.max(r,i,s),g=NaN;if(l!==u){var _=u-l,w=(u-r)/_,E=(u-i)/_,D=(u-s)/_;g=r===u?D-E:i===u?2+w-D:4+E-w,(g/=6)<0&&(g+=1)}return[360*g,0!==u?(u-l)/u:0,u]},c.HSBtoRGB=function(r,i,s){isNaN(r)&&(r=0),r=(r%360+360)%360/360;var l=0,u=0,h=0;if(0===i)l=u=h=s;else{var g=6*(r-Math.floor(r)),_=g-Math.floor(g),w=s*(1-i),E=s*(1-i*_),D=s*(1-i*(1-_));switch(g>>0){case 0:l=s,u=D,h=w;break;case 1:l=E,u=s,h=w;break;case 2:l=w,u=s,h=D;break;case 3:l=w,u=E,h=s;break;case 4:l=D,u=w,h=s;break;case 5:l=s,u=w,h=E}}return[l,u,h]},c.prototype.derive=function(r,i,s,l){var u=c.RGBtoHSB(this.r,this.g,this.b),h=u[2];0==h&&s>1&&(h=.05);var g=((u[0]+r)%360+360)%360,_=Math.max(Math.min(u[1]*i,1),0);h=Math.max(Math.min(h*s,1),0);var w=Math.max(Math.min(this.a*l,1),0),E=c.HSBtoRGB(g,_,h);return E.push(w),c.fromArray(E)},c.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},c.prototype.darker=function(){return this.derive(0,1,.7,1)},c.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),c}();var ul,Pu,Md,ff,Ue,Nu,gf,Do,C0=Object.freeze({stringToArray:function gy(c,r){void 0===r&&(r=",");var i=[],s=function(M){return"\r"===M||"\n"===M},l=!1;if(""===c)return[[""]];for(var h,g,_,u=function(M,G,V){var B=c[V-1],q=c[V],Z=c[V+1],J=function(){i[M]||(i[M]=[]),i[M][G]||(i[M][G]="")};if(J(),'"'===q){if(l)return'"'===Z?(i[M][G]+='"',V++):l=!1,h=M,g=G,_=V,"continue";if(void 0===B||B===r||s(B))return l=!0,h=M,g=G,_=V,"continue"}if(!l){if(q===r)return G++,J(),h=M,g=G,_=V,"continue";if(s(q))return G=0,M++,J(),"\r"===q&&"\n"===Z&&V++,h=M,g=G,_=V,"continue"}i[M][G]+=q,h=M,g=G,_=V},w=0,E=0,D=0;D<c.length;D++)u(w,E,D),w=h,E=g,D=_;return i}});function mf(){return void 0===Md&&(Md=!function vy(){return void 0===Pu&&(Pu=!!document.documentMode),Pu}()&&!!window.StyleMedia),Md}function Or(){return void 0===ul&&(ul=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),ul}function Ai(){if(void 0===ff){var c=window;ff=!!c.chrome&&(!!c.chrome.webstore||!!c.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return ff}function yy(){if(void 0===Ue){var c=window;Ue=void 0!==c.InstallTrigger}return Ue}function Mu(){return void 0===Nu&&(Nu=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),Nu}function Hi(c){if(!c)return null;var r=c.tabIndex,i=c.getAttribute("tabIndex");return-1!==r||null!==i&&(""!==i||yy())?r.toString():null}function _y(){if(!document.body)return-1;var c=1e6,r=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){var s=2*c;if(i.style.height=s+"px",s>r||i.clientHeight!==s)break;c=s}return document.body.removeChild(i),c}function Cy(){return null==Do&&wy(),Do}function wy(){var c=document.body,r=document.createElement("div");r.style.width=r.style.height="100px",r.style.opacity="0",r.style.overflow="scroll",r.style.msOverflowStyle="scrollbar",r.style.position="absolute",c.appendChild(r);var i=r.offsetWidth-r.clientWidth;0===i&&0===r.clientWidth&&(i=null),r.parentNode&&r.parentNode.removeChild(r),null!=i&&(Do=i,gf=0===i)}function w0(){return null==gf&&wy(),gf}function b0(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function E0(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var Mt,cl=Object.freeze({isBrowserEdge:mf,isBrowserSafari:Or,isBrowserChrome:Ai,isBrowserFirefox:yy,isIOSUserAgent:Mu,getTabIndex:Hi,getMaxDivHeight:_y,getScrollbarWidth:Cy,isInvisibleScrollbar:w0,hasOverflowScrolling:function Vt(){var c,r,i=["webkit","moz","o","ms"],s=document.createElement("div"),u=!1;document.getElementsByTagName("body")[0].appendChild(s),s.setAttribute("style",i.map(function(E){return"-"+E+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var g=window.getComputedStyle(s);if("touch"===g.overflowScrolling&&(u=!0),!u)try{for(var _=function(c){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&c[r],s=0;if(i)return i.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&s>=c.length&&(c=void 0),{value:c&&c[s++],done:!c}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),w=_.next();!w.done;w=_.next())if("touch"===g[w.value+"OverflowScrolling"]){u=!0;break}}catch(E){c={error:E}}finally{try{w&&!w.done&&(r=_.return)&&r.call(_)}finally{if(c)throw c.error}}return s.parentNode&&s.parentNode.removeChild(s),u},getBodyWidth:b0,getBodyHeight:E0});function xd(c){var r=Element.prototype.matches||Element.prototype.msMatchesSelector,i=r.call(c,j.INPUT_SELECTOR),s=r.call(c,j.FOCUSABLE_EXCLUDE),l=Sn(c);return i&&!s&&l}function Lt(c,r){c.classList.toggle("ag-hidden",!r)}function vf(c,r){c.classList.toggle("ag-invisible",!r)}function Bi(c,r){var i="disabled",s=r?function(l){return l.setAttribute(i,"")}:function(l){return l.removeAttribute(i)};s(c),Fu(c.querySelectorAll("input"),function(l){return s(l)})}function Ss(c,r,i){for(var s=0;c;){if(c.classList.contains(r))return!0;if(c=c.parentElement,i&&++s>i)break}return!1}function dl(c){var r=window.getComputedStyle(c),s=r.width,l=r.paddingTop,u=r.paddingRight,h=r.paddingBottom,g=r.paddingLeft,_=r.marginTop,w=r.marginRight,E=r.marginBottom,D=r.marginLeft,M=r.boxSizing;return{height:parseFloat(r.height),width:parseFloat(s),paddingTop:parseFloat(l),paddingRight:parseFloat(u),paddingBottom:parseFloat(h),paddingLeft:parseFloat(g),marginTop:parseFloat(_),marginRight:parseFloat(w),marginBottom:parseFloat(E),marginLeft:parseFloat(D),boxSizing:M}}function Rt(c){var r=dl(c);return"border-box"===r.boxSizing?r.height-r.paddingTop-r.paddingBottom:r.height}function Fd(c){var r=dl(c);return"border-box"===r.boxSizing?r.width-r.paddingLeft-r.paddingRight:r.width}function Ld(c){var r=dl(c);return Math.ceil(c.offsetHeight+(r.marginBottom+r.marginTop))}function Iu(c){var r=dl(c);return Math.ceil(c.offsetWidth+(r.marginLeft+r.marginRight))}function pl(){if("boolean"==typeof Mt)return Mt;var c=document.createElement("div");return c.style.direction="rtl",c.style.width="1px",c.style.height="1px",c.style.position="fixed",c.style.top="0px",c.style.overflow="hidden",c.dir="rtl",c.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(c),c.scrollLeft=1,Mt=0===Math.floor(c.scrollLeft),document.body.removeChild(c),Mt}function Qe(c,r){var i=c.scrollLeft;return r&&(i=Math.abs(i),Ai()&&!pl()&&(i=c.scrollWidth-c.clientWidth-i)),i}function Gd(c,r,i){i&&(pl()?r*=-1:(Or()||Ai())&&(r=c.scrollWidth-c.clientWidth-r)),c.scrollLeft=r}function Wi(c){for(;c&&c.firstChild;)c.removeChild(c.firstChild)}function nn(c){c&&c.parentNode&&c.parentNode.removeChild(c)}function Sn(c){return null!==c.offsetParent}function Zt(c){if(null!==DOMParser)return(new DOMParser).parseFromString(c,"text/html").body.firstChild;var s=document.createElement("div");return s.innerHTML=(c||"").trim(),s.firstChild}function hl(c){return c&&c.clientHeight?c.clientHeight:0}function xu(c){return c&&c.clientWidth?c.clientWidth:0}function ca(c,r,i){i&&i.nextSibling===r||(i?i.nextSibling?c.insertBefore(r,i.nextSibling):c.appendChild(r):c.firstChild&&c.firstChild!==r&&c.insertAdjacentElement("afterbegin",r))}function fl(c,r){for(var i=0;i<r.length;i++){var s=r[i],l=c.children[i];l!==s&&c.insertBefore(s,l)}}function Ds(c,r,i){i?i.insertAdjacentElement("afterend",r):c.firstChild?c.insertAdjacentElement("afterbegin",r):c.appendChild(r)}function yf(c,r){!r||Object.keys(r).forEach(function(i){var s=Ad(i);s&&(c.style[s]=r[i])})}function ji(c){return c.clientWidth<c.scrollWidth}function be(c){return c.clientHeight<c.scrollHeight}function ot(c,r){"flex"===r?(c.style.removeProperty("width"),c.style.removeProperty("minWidth"),c.style.removeProperty("maxWidth"),c.style.flex="1 1 auto"):St(c,r)}function St(c,r){r=Pn(r),c.style.width=r.toString(),c.style.maxWidth=r.toString(),c.style.minWidth=r.toString()}function sr(c,r){r=Pn(r),c.style.height=r.toString(),c.style.maxHeight=r.toString(),c.style.minHeight=r.toString()}function Pn(c){return"number"==typeof c?c+"px":c}function Rs(c){return"function"==typeof Node?c instanceof Node:c&&"object"==typeof c&&"number"==typeof c.nodeType&&"string"==typeof c.nodeName}function fn(c){return"function"==typeof HTMLElement?c instanceof HTMLElement:c&&Du(c)&&1===c.nodeType&&"string"==typeof c.nodeName}function Yo(c){return Rs(c)||fn(c)}function da(c){if(null==c)return[];var r=[];return Fu(c,function(i){return r.push(i)}),r}function st(c,r){if(c)for(var i=0;i<c.length;i++){var s=c[i];r(s.name,s.value)}}function Ro(c,r,i){null==i?c.removeAttribute(r):c.setAttribute(r,i.toString())}function Fu(c,r){if(null!=c)for(var i=0;i<c.length;i++)r(c[i])}var gl=Object.freeze({radioCssClass:function Id(c,r,i){for(var s=c.parentElement,l=s&&s.firstChild;l;)r&&l.classList.toggle(r,l===c),i&&l.classList.toggle(i,l!==c),l=l.nextSibling},isFocusableFormField:xd,setDisplayed:Lt,setVisible:vf,setDisabled:Bi,isElementChildOfClass:Ss,getElementSize:dl,getInnerHeight:Rt,getInnerWidth:Fd,getAbsoluteHeight:Ld,getAbsoluteWidth:Iu,isRtlNegativeScroll:pl,getScrollLeft:Qe,setScrollLeft:Gd,clearElement:Wi,removeElement:function Ce(c,r){nn(c.querySelector(r))},removeFromParent:nn,isVisible:Sn,loadTemplate:Zt,appendHtml:function ua(c,r){c.lastChild?c.insertAdjacentHTML("afterbegin",r):c.innerHTML=r},getElementAttribute:function Tr(c,r){return c.attributes&&c.attributes[r]?c.attributes[r].value:null},offsetHeight:hl,offsetWidth:xu,ensureDomOrder:ca,setDomChildOrder:fl,insertWithDomOrder:Ds,prependDC:function mi(c,r){ee(c.firstChild)?c.insertBefore(r,c.firstChild):c.appendChild(r)},addStylesToElement:yf,isHorizontalScrollShowing:ji,isVerticalScrollShowing:be,setElementWidth:ot,setFixedWidth:St,setElementHeight:function or(c,r){"flex"===r?(c.style.removeProperty("height"),c.style.removeProperty("minHeight"),c.style.removeProperty("maxHeight"),c.style.flex="1 1 auto"):sr(c,r)},setFixedHeight:sr,formatSize:Pn,isNode:Rs,isElement:fn,isNodeOrElement:Yo,copyNodeList:da,iterateNamedNodeMap:st,setCheckboxState:function kd(c,r){"boolean"==typeof r?(c.checked=r,c.indeterminate=!1):c.indeterminate=!0},addOrRemoveAttribute:Ro,nodeListForEach:Fu}),S0=Object.freeze({getNameOfClass:function Ui(c){var i=c.toString(),s=/function (.{1,})\(/.exec(i);return s&&s.length>1?s[1]:""},findLineByLeastSquares:function Lu(c){var r=c.length,i=0;if(r<=1)return c;for(var s=0;s<c.length;s++){var l=c[s],u=l.toString().split("e-");u.length>1?i=Math.max(i,parseInt(u[1],10)):Math.floor(l)!==l&&(i=Math.max(i,l.toString().split(".")[1].length))}for(var h=0,g=0,_=0,w=0,E=0,D=0;D<r;D++)h+=D,g+=E=c[D],w+=D*D,_+=D*E;var M=(r*_-h*g)/(r*w-h*h),G=g/r-M*h/r,V=[];for(D=0;D<=r;D++)V.push(parseFloat((D*M+G).toFixed(i)));return V},cssStyleObjectToMarkup:function ml(c){if(!c)return"";var r=[];return Tt(c,function(i,s){var l=Nt(i);r.push(l+": "+s+";")}),r.join(" ")},message:function Xr(c){var r=document.createElement("div"),i=document.querySelector("#__ag__message");r.innerHTML=c,i||(i=Zt('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(i)),i.insertBefore(r,i.children[0])},bindCellRendererToHtmlElement:function qt(c,r){c.then(function(i){var s=i.getGui();null!=s&&("object"==typeof s?r.appendChild(s):r.innerHTML=s)})}});function jn(c,r,i){c.setAttribute(Ar(r),i.toString())}function vi(c,r){c.removeAttribute(Ar(r))}function Ar(c){return"aria-"+c}function Un(c,r){r?c.setAttribute("role",r):c.removeAttribute("role")}function Gu(c){return c.isSortAscending()?"ascending":c.isSortDescending()?"descending":"none"}function ku(c){return parseInt(c.getAttribute("aria-level"),10)}function Pr(c){return parseInt(c.getAttribute("aria-posinset"),10)}function vl(c,r){var i="label";r?jn(c,i,r):vi(c,i)}function _f(c,r){var i="labelledby";r?jn(c,i,r):vi(c,i)}function by(c,r){var i="description";r?jn(c,i,r):vi(c,i)}function Ey(c,r){var i="describedby";r?jn(c,i,r):vi(c,i)}function R0(c,r){jn(c,"level",r)}function Sy(c,r){jn(c,"disabled",r)}function Nr(c,r){jn(c,"expanded",r)}function O0(c){vi(c,"expanded")}function Dy(c,r){jn(c,"setsize",r)}function Ry(c,r){jn(c,"posinset",r)}function T0(c,r){jn(c,"multiselectable",r)}function A0(c,r){jn(c,"rowcount",r)}function Oy(c,r){jn(c,"rowindex",r)}function P0(c,r){jn(c,"colcount",r)}function Ty(c,r){jn(c,"colindex",r)}function N0(c,r){jn(c,"colspan",r)}function M0(c,r){jn(c,"sort",r)}function Cf(c){vi(c,"sort")}function Os(c,r){var i="selected";r?jn(c,i,r):vi(c,i)}function I0(c,r){jn(c,"checked",void 0===r?"mixed":r)}var aN=Object.freeze({setAriaRole:Un,getAriaSortState:Gu,getAriaLevel:ku,getAriaPosInSet:Pr,getAriaDescribedBy:function D0(c){return c.getAttribute("aria-describedby")||""},setAriaLabel:vl,setAriaLabelledBy:_f,setAriaDescription:by,setAriaDescribedBy:Ey,setAriaLevel:R0,setAriaDisabled:Sy,setAriaExpanded:Nr,removeAriaExpanded:O0,setAriaSetSize:Dy,setAriaPosInSet:Ry,setAriaMultiSelectable:T0,setAriaRowCount:A0,setAriaRowIndex:Oy,setAriaColCount:P0,setAriaColIndex:Ty,setAriaColSpan:N0,setAriaSort:M0,removeAriaSort:Cf,setAriaSelected:Os,setAriaChecked:I0});function Ay(c,r){return c.toString().padStart(r,"0")}function Ts(c,r){for(var i=[],s=c;s<=r;s++)i.push(s);return i}function Vd(c){return""!==c&&!isNaN(parseFloat(c))&&isFinite(c)}function wf(c,r,i){return"number"!=typeof c?"":c.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+r)}var My=Object.freeze({padStartWidthZeros:Ay,createArrayOfNumbers:Ts,isNumeric:Vd,cleanNumber:function Ln(c){return"string"==typeof c&&(c=parseInt(c,10)),"number"==typeof c?Math.floor(c):null},decToHex:function Py(c,r){for(var i="",s=0;s<r;s++)i+=String.fromCharCode(255&c),c>>>=8;return i},formatNumberTwoDecimalPlacesAndCommas:function x0(c,r,i){return"number"!=typeof c?"":wf(Math.round(100*c)/100,r,i)},formatNumberCommas:wf,sum:function Ny(c){return null==c?null:c.reduce(function(r,i){return r+i},0)}}),bf=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u};function Oo(c,r,i){if(void 0===r&&(r=!0),void 0===i&&(i="-"),!c)return null;var s=[c.getFullYear(),c.getMonth()+1,c.getDate()].map(function(l){return Ay(l,2)}).join(i);return r&&(s+=" "+[c.getHours(),c.getMinutes(),c.getSeconds()].map(function(l){return Ay(l,2)}).join(":")),s}function As(c){if(!c)return null;var r=bf(c.split(" "),2),i=r[0],s=r[1];if(!i)return null;var l=i.split("-").map(function(V){return parseInt(V,10)});if(3!==l.filter(function(V){return!isNaN(V)}).length)return null;var u=bf(l,3),h=u[0],g=u[1],_=u[2],w=new Date(h,g-1,_);if(w.getFullYear()!==h||w.getMonth()!==g-1||w.getDate()!==_)return null;if(!s||"00:00:00"===s)return w;var E=bf(s.split(":").map(function(V){return parseInt(V,10)}),3),D=E[0],M=E[1],G=E[2];return D>=0&&D<24&&w.setHours(D),M>=0&&M<60&&w.setMinutes(M),G>=0&&G<60&&w.setSeconds(G),w}var Mr=Object.freeze({serialiseDate:Oo,parseDateTimeFromString:As});function Hd(c,r,i){var s={},l=c.filter(function(u){return!r.some(function(h){return h===u})});return l.length>0&&l.forEach(function(u){return s[u]=Iy(u,i)}),s}function Iy(c,r,i,s){var l=s?Fy:xy,u=r.map(function(h){return{value:h,relevance:l(c.toLowerCase(),h.toLocaleLowerCase())}});return u.sort(function(h,g){return g.relevance-h.relevance}),i&&(u=u.filter(function(h){return 0!==h.relevance})),u.map(function(h){return h.value})}function Vu(c){var s,l,u,r=c.toLowerCase(),i=new Array(r.length-1);for(s=l=0,u=i.length;l<=u;s=l+=1)i[s]=r.slice(s,s+2);return i}function xy(c,r){if(0===c.length&&0===r.length)return 0;var h,g,i=Vu(c),s=Vu(r),l=i.length+s.length,u=0;for(h=0,g=i.length;h<g;h++){var E,_=i[h],w=void 0;for(w=0,E=s.length;w<E;w++)_===s[w]&&u++}return u>0?2*u/l:0}function Fy(c,r){for(var i=c.replace(/\s/g,""),s=r.replace(/\s/g,""),l=0,u=0,h=0;h<i.length;h++){var g=s.indexOf(i[h],u);-1!==g&&(l+=100-100*(u=g)/1e4*100)}return l}var Ef=Object.freeze({fuzzyCheckStrings:Hd,fuzzySuggestions:Iy,get_bigrams:Vu,string_distances:xy,string_weighted_distances:Fy}),Ly={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function zi(c,r,i){var s=Gn(c,r,i);if(s&&s.className.indexOf("ag-icon")>-1)return s;var l=document.createElement("span");return l.appendChild(s),l}function Gn(c,r,i,s){var l=null,u=i&&i.getColDef().icons;if(u&&(l=u[c]),r&&!l){var h=r.getIcons();h&&(l=h[c])}if(!l){var _=document.createElement("span"),w=Ly[c];return w||(s?w=c:(console.warn("AG Grid: Did not find icon "+c),w="")),_.setAttribute("class","ag-icon ag-icon-"+w),_.setAttribute("unselectable","on"),Un(_,"presentation"),_}var g=void 0;if("function"==typeof l)g=l();else{if("string"!=typeof l)throw new Error("icon from grid options needs to be a string or a function");g=l}return"string"==typeof g?Zt(g):Yo(g)?g:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var gn=Object.freeze({iconNameClassMap:Ly,createIcon:zi,createIconNoSpan:Gn});function Dn(c){if(c.altKey||c.ctrlKey||c.metaKey)return!1;var r=1===c.key.length,i=function Wd(c){return mf()&&"Del"===c.key&&46===c.charCode}(c);return r||i}function Bd(c,r,i,s,l){var u=c.getSuppressKeyboardEventFunc(),h=s?s.getColDef().suppressKeyboardEvent:void 0;if(!u&&!h)return!1;var g={event:r,editing:l,column:s,api:c.getApi(),node:i,data:i.data,colDef:s.getColDef(),context:c.getContext(),columnApi:c.getColumnApi()};return!(!h||!h(g))||!!u&&u(g)}function L0(c,r,i,s){var l=s.getDefinition(),u=l&&l.suppressHeaderKeyboardEvent;return!!ee(u)&&!!u({api:c.getApi(),columnApi:c.getColumnApi(),context:c.getContext(),colDef:l,column:s,headerRowIndex:i,event:r})}var Ir=Object.freeze({isEventFromPrintableCharacter:Dn,isUserSuppressingKeyboardEvent:Bd,isUserSuppressingHeaderKeyboardEvent:L0});function Sf(c,r,i){if(0===i)return!1;var s=Math.abs(c.clientX-r.clientX),l=Math.abs(c.clientY-r.clientY);return Math.max(s,l)<=i}var Df=Object.freeze({areEventsNear:Sf}),ky=Object.freeze({sortRowNodesByOrder:function yl(c,r){if(c){for(var i=function(g,_){var w=r[g.id],E=r[_.id],D=void 0!==w,M=void 0!==E;return D&&M?w-E:D||M?D?1:-1:g.__objectId-_.__objectId},u=!1,h=0;h<c.length-1;h++)if(i(c[h],c[h+1])>0){u=!0;break}u&&c.sort(i)}},traverseNodesWithKey:function ar(c,r){var i=[];!function s(l){!l||l.forEach(function(u){if(u.group||u.hasChildren()){i.push(u.key);var h=i.join("|");r(u,h),s(u.childrenAfterGroup),i.pop()}})}(c)}});function Hu(c){var r=new Set;return c.forEach(function(i){return r.add(i)}),r}var G0=Object.freeze({convertToSet:Hu}),Gt=function(){return Gt=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},Gt.apply(this,arguments)},Le=Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt({},S0),aN),c0),cl),C0),Mr),gl),p0),YP),Ef),rl),gn),Ir),Ye),Df),My),ey),ky),G0),fy),Be=function(){function c(r,i){void 0===r&&(r=0),void 0===i&&(i=1),this.nextValue=r,this.step=i}return c.prototype.next=function(){var r=this.nextValue;return this.nextValue+=this.step,r},c.prototype.peek=function(){return this.nextValue},c.prototype.skip=function(r){this.nextValue+=r},c}();!function(c){c[c.IN_PROGRESS=0]="IN_PROGRESS",c[c.RESOLVED=1]="RESOLVED"}(x.Ws0||(x.Ws0={}));var Pi=function(){function c(r){var i=this;this.status=x.Ws0.IN_PROGRESS,this.resolution=null,this.waiters=[],r(function(s){return i.onDone(s)},function(s){return i.onReject(s)})}return c.all=function(r){return new c(function(i){var s=r.length,l=new Array(s);r.forEach(function(u,h){u.then(function(g){l[h]=g,0==--s&&i(l)})})})},c.resolve=function(r){return void 0===r&&(r=null),new c(function(i){return i(r)})},c.prototype.then=function(r){var i=this;return new c(function(s){i.status===x.Ws0.RESOLVED?s(r(i.resolution)):i.waiters.push(function(l){return s(r(l))})})},c.prototype.resolveNow=function(r,i){return this.status===x.Ws0.RESOLVED?i(this.resolution):r},c.prototype.onDone=function(r){this.status=x.Ws0.RESOLVED,this.resolution=r,this.waiters.forEach(function(i){return i(r)})},c.prototype.onReject=function(r){console.warn("TBI")},c}(),k0=(function(){function c(){this.timestamp=(new Date).getTime()}c.prototype.print=function(r){var i=(new Date).getTime()-this.timestamp;console.info(r+" = "+i),this.timestamp=(new Date).getTime()}}(),function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),Rf=function(){return Rf=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},Rf.apply(this,arguments)},Bu=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},lr=(()=>(function(c){c[c.NOTHING=0]="NOTHING",c[c.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",c[c.SHOWING=2]="SHOWING"}(lr||(lr={})),lr))(),jd=function(c){function r(i){var s=c.call(this)||this;return s.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,s.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,s.SHOW_QUICK_TOOLTIP_DIFF=1e3,s.FADE_OUT_TOOLTIP_TIMEOUT=1e3,s.state=lr.NOTHING,s.tooltipInstanceCount=0,s.tooltipMouseTrack=!1,s.parentComp=i,s}return k0(r,c),r.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var i=this.parentComp.getGui();this.addManagedListener(i,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(i,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(i,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(i,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(i,"keydown",this.onKeyDown.bind(this))},r.prototype.destroy=function(){this.setToDoNothing(),c.prototype.destroy.call(this)},r.prototype.onMouseEnter=function(i){if(!Mu()&&this.state==lr.NOTHING){var s=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),s),this.lastMouseEvent=i,this.state=lr.WAITING_TO_SHOW}},r.prototype.onMouseLeave=function(){this.setToDoNothing()},r.prototype.onKeyDown=function(){this.setToDoNothing()},r.prototype.setToDoNothing=function(){this.state===lr.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=lr.NOTHING},r.prototype.onMouseMove=function(i){this.lastMouseEvent=i,this.tooltipMouseTrack&&this.state===lr.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},r.prototype.onMouseDown=function(){this.setToDoNothing()},r.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),r.lastTooltipHideTime=(new Date).getTime()),this.state=lr.NOTHING},r.prototype.destroyTooltipComp=function(){var i=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var s=this.tooltipPopupDestroyFunc,l=this.tooltipComp;window.setTimeout(function(){s(),i.getContext().destroyBean(l)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},r.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-r.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},r.prototype.showTooltip=function(){var i=Rf({},this.parentComp.getTooltipParams());if(ee(i.value)){this.state=lr.SHOWING,this.tooltipInstanceCount++;var s=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(i).newAgStackInstance().then(s)}else this.setToDoNothing()},r.prototype.newTooltipComponentCallback=function(i,s){if(this.state!==lr.SHOWING||this.tooltipInstanceCount!==i)this.getContext().destroyBean(s);else{var u=s.getGui();this.tooltipComp=s,u.classList.contains("ag-tooltip")||u.classList.add("ag-tooltip-custom");var h=this.gridOptionsWrapper.getLocaleTextFunc(),g=this.popupService.addPopup({eChild:u,ariaLabel:h("ariaLabelTooltip","Tooltip")});g&&(this.tooltipPopupDestroyFunc=g.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},r.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},r.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Bu([N("popupService")],r.prototype,"popupService",void 0),Bu([N("userComponentFactory")],r.prototype,"userComponentFactory",void 0),Bu([N("columnApi")],r.prototype,"columnApi",void 0),Bu([N("gridApi")],r.prototype,"gridApi",void 0),Bu([ge],r.prototype,"postConstruct",null),r}(pe),V0=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ue=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},_t=new Be,ni=function(){function c(r){this.cssClassStates={},this.getGui=r}return c.prototype.addCssClass=function(r){var i=this,s=(r||"").split(" ");s.length>1?s.forEach(function(u){return i.addCssClass(u)}):!0!==this.cssClassStates[r]&&r.length&&(this.getGui().classList.add(r),this.cssClassStates[r]=!0)},c.prototype.removeCssClass=function(r){var i=this,s=(r||"").split(" ");s.length>1?s.forEach(function(u){return i.removeCssClass(u)}):!1!==this.cssClassStates[r]&&r.length&&(this.getGui().classList.remove(r),this.cssClassStates[r]=!1)},c.prototype.containsCssClass=function(r){return this.getGui().classList.contains(r)},c.prototype.addOrRemoveCssClass=function(r,i){var s=this,l=(r||"").split(" ");l.length>1?l.forEach(function(h){return s.addOrRemoveCssClass(h,i)}):this.cssClassStates[r]!==i&&r.length&&(this.getGui().classList.toggle(r,i),this.cssClassStates[r]=i)},c}(),Me=function(c){function r(i){var s=c.call(this)||this;return s.displayed=!0,s.visible=!0,s.compId=_t.next(),s.cssClassManager=new ni(function(){return s.eGui}),i&&s.setTemplate(i),s}return V0(r,c),r.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},r.prototype.getCompId=function(){return this.compId},r.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},r.prototype.setTooltip=function(i){var s=this;this.tooltipText!=i&&(this.tooltipText&&(s.usingBrowserTooltips?s.getGui().removeAttribute("title"):s.tooltipFeature=s.destroyBean(s.tooltipFeature)),null!=i&&(this.tooltipText=i,this.tooltipText&&(s.usingBrowserTooltips?s.getGui().setAttribute("title",s.tooltipText):s.tooltipFeature=s.createBean(new jd(s)))))},r.prototype.createChildComponentsFromTags=function(i,s){var l=this;da(i.childNodes).forEach(function(h){if(h instanceof HTMLElement){var g=l.createComponentFromElement(h,function(w){w.getGui()&&l.copyAttributesFromNode(h,w.getGui())},s);if(g){if(g.addItems&&h.children.length){l.createChildComponentsFromTags(h,s);var _=Array.prototype.slice.call(h.children);g.addItems(_)}l.swapComponentForNode(g,i,h)}else h.childNodes&&l.createChildComponentsFromTags(h,s)}})},r.prototype.createComponentFromElement=function(i,s,l){var u=i.nodeName,h=l?l[i.getAttribute("ref")]:void 0,g=this.agStackComponentsRegistry.getComponentClass(u);if(g){r.elementGettingCreated=i;var _=new g(h);return _.setParentComponent(this),this.createBean(_,null,s),_}return null},r.prototype.copyAttributesFromNode=function(i,s){st(i.attributes,function(l,u){return s.setAttribute(l,u)})},r.prototype.swapComponentForNode=function(i,s,l){var u=i.getGui();s.replaceChild(u,l),s.insertBefore(document.createComment(l.nodeName),u),this.addDestroyFunc(this.destroyBean.bind(this,i)),this.swapInComponentForQuerySelectors(i,l)},r.prototype.swapInComponentForQuerySelectors=function(i,s){var l=this;this.iterateOverQuerySelectors(function(u){l[u.attributeName]===s&&(l[u.attributeName]=i)})},r.prototype.iterateOverQuerySelectors=function(i){for(var s=Object.getPrototypeOf(this);null!=s;){var l=s.__agComponentMetaData,u=Dd(s.constructor);l&&l[u]&&l[u].querySelectors&&l[u].querySelectors.forEach(function(h){return i(h)}),s=Object.getPrototypeOf(s)}},r.prototype.setTemplate=function(i,s){var l=Zt(i);this.setTemplateFromElement(l,s)},r.prototype.setTemplateFromElement=function(i,s){this.eGui=i,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),s)},r.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},r.prototype.wireQuerySelectors=function(){var i=this;if(this.eGui){var s=this;this.iterateOverQuerySelectors(function(l){var u=function(_){return s[l.attributeName]=_};if(l.refSelector&&i.eGui.getAttribute("ref")===l.refSelector)u(i.eGui);else{var g=i.eGui.querySelector(l.querySelector);g&&u(g.__agComponent||g)}})}},r.prototype.getGui=function(){return this.eGui},r.prototype.getFocusableElement=function(){return this.eGui},r.prototype.setParentComponent=function(i){this.parentComponent=i},r.prototype.getParentComponent=function(){return this.parentComponent},r.prototype.setGui=function(i){this.eGui=i},r.prototype.queryForHtmlElement=function(i){return this.eGui.querySelector(i)},r.prototype.queryForHtmlInputElement=function(i){return this.eGui.querySelector(i)},r.prototype.appendChild=function(i,s){if(s||(s=this.eGui),null!=i)if(Yo(i))s.appendChild(i);else{var l=i;s.appendChild(l.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,l))}},r.prototype.isDisplayed=function(){return this.displayed},r.prototype.setVisible=function(i){i!==this.visible&&(this.visible=i,vf(this.eGui,i))},r.prototype.setDisplayed=function(i){i!==this.displayed&&(this.displayed=i,Lt(this.eGui,i),this.dispatchEvent({type:r.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},r.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),c.prototype.destroy.call(this)},r.prototype.addGuiEventListener=function(i,s){var l=this;this.eGui.addEventListener(i,s),this.addDestroyFunc(function(){return l.eGui.removeEventListener(i,s)})},r.prototype.addCssClass=function(i){this.cssClassManager.addCssClass(i)},r.prototype.removeCssClass=function(i){this.cssClassManager.removeCssClass(i)},r.prototype.containsCssClass=function(i){return this.cssClassManager.containsCssClass(i)},r.prototype.addOrRemoveCssClass=function(i,s){this.cssClassManager.addOrRemoveCssClass(i,s)},r.prototype.getAttribute=function(i){var s=this.eGui;return s?s.getAttribute(i):null},r.prototype.getRefElement=function(i){return this.queryForHtmlElement('[ref="'+i+'"]')},r.EVENT_DISPLAYED_CHANGED="displayedChanged",ue([N("agStackComponentsRegistry")],r.prototype,"agStackComponentsRegistry",void 0),ue([ry],r.prototype,"preConstructOnComponent",null),ue([ry],r.prototype,"createChildComponentsPreConstruct",null),r}(pe);function ae(c){return Zr.bind(this,"[ref="+c+"]",c)}function Zr(c,r,i,s,l){null!==c?"number"!=typeof l?function Of(c,r,i){var s=function Tf(c,r){return c.__agComponentMetaData||(c.__agComponentMetaData={}),c.__agComponentMetaData[r]||(c.__agComponentMetaData[r]={}),c.__agComponentMetaData[r]}(c,Dd(c.constructor));s[r]||(s[r]=[]),s[r].push(i)}(i,"querySelectors",{attributeName:s,querySelector:c,refSelector:r}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var uN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),By=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},cN=function(c){function r(){return c.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return uN(r,c),r.prototype.destroy=function(){c.prototype.destroy.call(this)},r.prototype.init=function(i){this.params=i;var s=this.columnModel.getDisplayNameForColumn(i.column,"header",!0),l=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(s+" "+l("ariaFilterInput","Filter Input"))},r.prototype.onParentModelChanged=function(i){var s=this;i?this.params.parentFilterInstance(function(l){if(l.getModelAsString){var u=l.getModelAsString(i);s.eFloatingFilterText.setValue(u)}}):this.eFloatingFilterText.setValue("")},By([ae("eFloatingFilterText")],r.prototype,"eFloatingFilterText",void 0),By([N("columnModel")],r.prototype,"columnModel",void 0),r}(Me),Wu=function(){function c(r,i,s,l){var u=this;this.alive=!0,this.context=r,this.eParent=l,i.getDateCompDetails(s).newAgStackInstance().then(function(_){u.alive?(u.dateComp=_,_&&(l.appendChild(_.getGui()),_.afterGuiAttached&&_.afterGuiAttached(),u.tempValue&&_.setDate(u.tempValue),null!=u.disabled&&u.setDateCompDisabled(u.disabled))):r.destroyBean(_)})}return c.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},c.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},c.prototype.setDate=function(r){this.dateComp?this.dateComp.setDate(r):this.tempValue=r},c.prototype.setDisabled=function(r){this.dateComp?this.setDateCompDisabled(r):this.disabled=r},c.prototype.setDisplayed=function(r){Lt(this.eParent,r)},c.prototype.setInputPlaceholder=function(r){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(r)},c.prototype.setInputAriaLabel=function(r){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(r)},c.prototype.afterGuiAttached=function(r){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(r)},c.prototype.setDateCompDisabled=function(r){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(r)},c}(),ii=function(){return ii=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},ii.apply(this,arguments)},To=function(){function c(){this.customFilterOptions={}}return c.prototype.init=function(r,i){this.filterOptions=r.filterOptions||i,this.mapCustomOptions(),this.selectDefaultItem(r),this.checkForDeprecatedParams()},c.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(r){return"string"!=typeof r&&null!=r.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(r){return"string"!=typeof r&&null!=r.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},c.prototype.getFilterOptions=function(){return this.filterOptions},c.prototype.mapCustomOptions=function(){var r=this;!this.filterOptions||this.filterOptions.forEach(function(i){if("string"!=typeof i){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(g){return!!g.some(function(_){return null!=i[_]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+g+"'"),!1)}))return void(r.filterOptions=r.filterOptions.filter(function(g){return g===i})||[]);var u=i.test,h=ii({},i);null!=u&&null==i.predicate&&(h.predicate=function(g,_){return u(g[0],_)},delete h.test),h.hideFilterInput&&null==h.numberOfInputs&&(h.numberOfInputs=0,delete h.hideFilterInput),r.customFilterOptions[i.displayKey]=h}})},c.prototype.selectDefaultItem=function(r){if(r.defaultOption)this.defaultOption=r.defaultOption;else if(this.filterOptions.length>=1){var i=this.filterOptions[0];"string"==typeof i?this.defaultOption=i:i.displayKey?this.defaultOption=i.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},c.prototype.getDefaultOption=function(){return this.defaultOption},c.prototype.getCustomOption=function(r){return this.customFilterOptions[r]},c}(),Wy={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},le=function(){function c(){}return c.BACKSPACE="Backspace",c.TAB="Tab",c.ENTER="Enter",c.ESCAPE="Escape",c.SPACE=" ",c.LEFT="ArrowLeft",c.UP="ArrowUp",c.RIGHT="ArrowRight",c.DOWN="ArrowDown",c.DELETE="Delete",c.F2="F2",c.PAGE_UP="PageUp",c.PAGE_DOWN="PageDown",c.PAGE_HOME="Home",c.PAGE_END="End",c.A="KeyA",c.C="KeyC",c.V="KeyV",c.D="KeyD",c.Z="KeyZ",c.Y="KeyY",c}(),Qo=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Af=function(){return Af=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},Af.apply(this,arguments)},Pf=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Xo=function(c){function r(i,s){void 0===s&&(s={});var l=c.call(this)||this;return l.eFocusableElement=i,l.callbacks=s,l.callbacks=Af({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(u){if(!u.defaultPrevented){var h=l.focusService.findNextFocusableElement(l.eFocusableElement,!1,u.shiftKey);!h||(h.focus(),u.preventDefault())}}},s),l}return Qo(r,c),r.prototype.postConstruct=function(){this.eFocusableElement.classList.add(r.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},r.prototype.addKeyDownListeners=function(i){var s=this;this.addManagedListener(i,"keydown",function(l){if(!l.defaultPrevented&&!Qr(l)){if(s.callbacks.shouldStopEventPropagation(l))return void ll(l);l.key===le.TAB?s.callbacks.onTabKeyDown(l):s.callbacks.handleKeyDown&&s.callbacks.handleKeyDown(l)}})},r.FOCUS_MANAGED_CLASS="ag-focus-managed",Pf([N("focusService")],r.prototype,"focusService",void 0),Pf([ge],r.prototype,"postConstruct",null),r}(pe),H0=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ju=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},pa=function(c){function r(i){var s=c.call(this)||this;return s.filterNameKey=i,s.applyActive=!1,s.hidePopup=null,s.appliedModel=null,s}return H0(r,c),r.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new Xo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},r.prototype.handleKeyDown=function(i){},r.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},r.prototype.isFilterActive=function(){return!!this.appliedModel},r.prototype.resetTemplate=function(i){var s='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(s,i)},r.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},r.prototype.init=function(i){var s=this;this.setParams(i),this.resetUiToDefaults(!0).then(function(){s.updateUiVisibility(),s.setupOnBtApplyDebounce()})},r.prototype.setParams=function(i){this.providedFilterParams=i,this.applyActive=r.isUseApplyButton(i),this.createButtonPanel()},r.prototype.createButtonPanel=function(){var i=this,s=this.providedFilterParams.buttons;if(!(!s||s.length<1||this.isReadOnly())){var l=document.createElement("div");l.classList.add("ag-filter-apply-panel"),Hu(s).forEach(function(h){return function(h){var g,_;switch(h){case"apply":g=i.translate("applyFilter"),_=function(E){return i.onBtApply(!1,!1,E)};break;case"clear":g=i.translate("clearFilter"),_=function(){return i.onBtClear()};break;case"reset":g=i.translate("resetFilter"),_=function(){return i.onBtReset()};break;case"cancel":g=i.translate("cancelFilter"),_=function(E){i.onBtCancel(E)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var w=Zt('<button\n                    type="button"\n                    ref="'+h+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+g+"\n                </button>");l.appendChild(w),i.addManagedListener(w,"click",_)}(h)}),this.getGui().appendChild(l)}},r.prototype.getDefaultDebounceMs=function(){return 0},r.prototype.setupOnBtApplyDebounce=function(){var i=r.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=qr(this.onBtApply.bind(this),i)},r.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},r.prototype.setModel=function(i){var s=this;return(null!=i?this.setModelIntoUi(i):this.resetUiToDefaults()).then(function(){s.updateUiVisibility(),s.applyModel()})},r.prototype.onBtCancel=function(i){var s=this,l=this.getModel(),u=function(){s.onUiChanged(!1,"prevent"),s.providedFilterParams.closeOnApply&&s.close(i)};null!=l?this.setModelIntoUi(l).then(u):this.resetUiToDefaults().then(u)},r.prototype.onBtClear=function(){var i=this;this.resetUiToDefaults().then(function(){return i.onUiChanged()})},r.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},r.prototype.applyModel=function(){var i=this.getModelFromUi();if(!this.isModelValid(i))return!1;var s=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(s,i)},r.prototype.isModelValid=function(i){return!0},r.prototype.onBtApply=function(i,s,l){void 0===i&&(i=!1),void 0===s&&(s=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:i,afterDataChange:s}),this.providedFilterParams.closeOnApply&&this.applyActive&&!i&&!s&&this.close(l)},r.prototype.onNewRowsLoaded=function(){},r.prototype.close=function(i){if(this.hidePopup){var u,l=i&&i.key;("Enter"===l||"Space"===l)&&(u={keyboardEvent:i}),this.hidePopup(u),this.hidePopup=null}},r.prototype.onUiChanged=function(i,s){if(void 0===i&&(i=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var l=this.isModelValid(this.getModelFromUi());Bi(this.getRefElement("applyFilterButton"),!l)}i&&!s||"immediately"===s?this.onBtApply(i):(!this.applyActive&&!s||"debounce"===s)&&this.onBtApplyDebounce()},r.prototype.afterGuiAttached=function(i){null!=i&&(this.hidePopup=i.hidePopup)},r.getDebounceMs=function(i,s){return r.isUseApplyButton(i)?(null!=i.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=i.debounceMs?i.debounceMs:s},r.isUseApplyButton=function(i){return!!i.buttons&&i.buttons.indexOf("apply")>=0},r.prototype.destroy=function(){this.hidePopup=null,c.prototype.destroy.call(this)},r.prototype.translate=function(i){return this.gridOptionsWrapper.getLocaleTextFunc()(i,Wy[i])},r.prototype.getCellValue=function(i){var s=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:s.api,colDef:s.colDef,column:s.column,columnApi:s.columnApi,context:s.context,data:i.data,getValue:function(w){return i.data[w]},node:i})},ju([N("rowModel")],r.prototype,"rowModel",void 0),ju([N("valueService")],r.prototype,"valueService",void 0),ju([ge],r.prototype,"postConstruct",null),r}(Me),jy=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Mf=function(c){function r(i,s){var l=c.call(this,s)||this;return l.labelSeparator="",l.labelAlignment="left",l.label="",l.config=i||{},l}return jy(r,c),r.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var i=this.config,s=i.labelSeparator,l=i.label,u=i.labelWidth,h=i.labelAlignment;null!=s&&this.setLabelSeparator(s),null!=l&&this.setLabel(l),null!=u&&this.setLabelWidth(u),this.setLabelAlignment(h||this.labelAlignment),this.refreshLabel()},r.prototype.refreshLabel=function(){Wi(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),Un(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),Un(this.eLabel,null))},r.prototype.setLabelSeparator=function(i){return this.labelSeparator===i||(this.labelSeparator=i,null!=this.label&&this.refreshLabel()),this},r.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},r.prototype.getLabel=function(){return this.label},r.prototype.setLabel=function(i){return this.label===i||(this.label=i,this.refreshLabel()),this},r.prototype.setLabelAlignment=function(i){var l=this.getGui().classList;return l.toggle("ag-label-align-left","left"===i),l.toggle("ag-label-align-right","right"===i),l.toggle("ag-label-align-top","top"===i),this},r.prototype.setLabelWidth=function(i){return null==this.label||ot(this.eLabel,i),this},function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([ge],r.prototype,"postConstruct",null),r}(Me),Uy=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ur=function(c){function r(i,s,l){var u=c.call(this,i,s)||this;return u.className=l,u.disabled=!1,u}return Uy(r,c),r.prototype.postConstruct=function(){c.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},r.prototype.onValueChange=function(i){var s=this;return this.addManagedListener(this,r.EVENT_CHANGED,function(){return i(s.getValue())}),this},r.prototype.getWidth=function(){return this.getGui().clientWidth},r.prototype.setWidth=function(i){return St(this.getGui(),i),this},r.prototype.getPreviousValue=function(){return this.previousValue},r.prototype.getValue=function(){return this.value},r.prototype.setValue=function(i,s){return this.value===i||(this.previousValue=this.value,this.value=i,s||this.dispatchEvent({type:r.EVENT_CHANGED})),this},r.prototype.setDisabled=function(i){i=!!i;var s=this.getGui();return Bi(s,i),s.classList.toggle("ag-disabled",i),this.disabled=i,this},r.prototype.isDisabled=function(){return!!this.disabled},r.EVENT_CHANGED="valueChange",r}(Mf),zy=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Uu=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},If=function(c){function r(i,s,l,u){var h=c.call(this,i,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(u?'role="'+u+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',s)||this;return h.pickerIcon=l,h.isPickerDisplayed=!1,h.isDestroyingPicker=!1,h.skipClick=!1,h}return zy(r,c),r.prototype.postConstruct=function(){var i=this;c.prototype.postConstruct.call(this);var s=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",s),Ey(this.eWrapper,s);var l=function(){i.skipClick?i.skipClick=!1:i.isDisabled()||(i.pickerComponent=i.showPicker())},u=this.getGui();if(this.addManagedListener(u,"mousedown",function(g){!i.skipClick&&i.pickerComponent&&i.pickerComponent.isAlive()&&Sn(i.pickerComponent.getGui())&&u.contains(g.target)&&(i.skipClick=!0)}),this.addManagedListener(u,"keydown",function(g){switch(g.key){case le.UP:case le.DOWN:case le.ENTER:case le.SPACE:l();case le.ESCAPE:i.isPickerDisplayed&&g.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",l),this.addManagedListener(this.eLabel,"click",l),this.pickerIcon){var h=Gn(this.pickerIcon,this.gridOptionsWrapper);h&&this.eIcon.appendChild(h)}},r.prototype.refreshLabel=function(){ee(this.getLabel())?_f(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),c.prototype.refreshLabel.call(this)},r.prototype.setAriaLabel=function(i){return vl(this.eWrapper,i),this},r.prototype.setInputWidth=function(i){return ot(this.eWrapper,i),this},r.prototype.getFocusableElement=function(){return this.eWrapper},Uu([ae("eLabel")],r.prototype,"eLabel",void 0),Uu([ae("eWrapper")],r.prototype,"eWrapper",void 0),Uu([ae("eDisplayField")],r.prototype,"eDisplayField",void 0),Uu([ae("eIcon")],r.prototype,"eIcon",void 0),r}(ur),$y=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ky=function(c){function r(i){void 0===i&&(i="default");var s=c.call(this,'<div class="ag-list ag-'+i+'-list" role="listbox"></div>')||this;return s.cssIdentifier=i,s.options=[],s.itemEls=[],s}return $y(r,c),r.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},r.prototype.handleKeyDown=function(i){var s=i.key;switch(s){case le.ENTER:if(this.highlightedEl){var l=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(l)}else this.setValue(this.getValue());break;case le.DOWN:case le.UP:var u=s===le.DOWN,h=void 0;if(i.preventDefault(),this.highlightedEl){var _=this.itemEls.indexOf(this.highlightedEl)+(u?1:-1);_=Math.min(Math.max(_,0),this.itemEls.length-1),h=this.itemEls[_]}else h=this.itemEls[u?0:this.itemEls.length-1];this.highlightItem(h)}},r.prototype.addOptions=function(i){var s=this;return i.forEach(function(l){return s.addOption(l)}),this},r.prototype.addOption=function(i){var s=i.value,u=Je(i.text||s);return this.options.push({value:s,text:u}),this.renderOption(s,u),this.updateIndices(),this},r.prototype.updateIndices=function(){var i=this.getGui().querySelectorAll(".ag-list-item");i.forEach(function(s,l){Ry(s,l+1),Dy(s,i.length)})},r.prototype.renderOption=function(i,s){var l=this,u=document.createElement("div");Un(u,"option"),u.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),u.innerHTML="<span>"+s+"</span>",u.tabIndex=-1,this.itemEls.push(u),this.addManagedListener(u,"mouseover",function(){return l.highlightItem(u)}),this.addManagedListener(u,"mouseleave",function(){return l.clearHighlighted()}),this.addManagedListener(u,"click",function(){return l.setValue(i)}),this.getGui().appendChild(u)},r.prototype.setValue=function(i,s){if(this.value===i)return this.fireItemSelected(),this;if(null==i)return this.reset(),this;var l=this.options.findIndex(function(h){return h.value===i});if(-1!==l){var u=this.options[l];this.value=u.value,this.displayValue=null!=u.text?u.text:u.value,this.highlightItem(this.itemEls[l]),s||this.fireChangeEvent()}return this},r.prototype.setValueByIndex=function(i){return this.setValue(this.options[i].value)},r.prototype.getValue=function(){return this.value},r.prototype.getDisplayValue=function(){return this.displayValue},r.prototype.refreshHighlighted=function(){var i=this;this.clearHighlighted();var s=this.options.findIndex(function(l){return l.value===i.value});-1!==s&&this.highlightItem(this.itemEls[s])},r.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},r.prototype.highlightItem=function(i){!i.offsetParent||(this.clearHighlighted(),this.highlightedEl=i,this.highlightedEl.classList.add(r.ACTIVE_CLASS),Os(this.highlightedEl,!0),this.highlightedEl.focus())},r.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(r.ACTIVE_CLASS),Os(this.highlightedEl,!1),this.highlightedEl=null)},r.prototype.fireChangeEvent=function(){this.dispatchEvent({type:ur.EVENT_CHANGED}),this.fireItemSelected()},r.prototype.fireItemSelected=function(){this.dispatchEvent({type:r.EVENT_ITEM_SELECTED})},r.EVENT_ITEM_SELECTED="selectedItem",r.ACTIVE_CLASS="ag-active-item",function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([ge],r.prototype,"init",null),r}(Me),B0=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),yi=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Ao=function(c){function r(i){return c.call(this,i,"ag-select","smallDown","listbox")||this}return B0(r,c),r.prototype.init=function(){var i=this;this.listComponent=this.createBean(new Ky("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,Ky.EVENT_ITEM_SELECTED,function(){i.hideList&&i.hideList()}),this.listComponent.addManagedListener(this.listComponent,ur.EVENT_CHANGED,function(){i.setValue(i.listComponent.getValue(),!1,!0),i.hideList&&i.hideList()})},r.prototype.showPicker=function(){var i=this,s=this.listComponent.getGui(),l=this.gridOptionsWrapper.getDocument(),u=this.addManagedListener(l.body,"wheel",function(w){!s.contains(w.target)&&i.hideList&&i.hideList()}),h=this.addManagedListener(s,"focusout",function(w){!s.contains(w.relatedTarget)&&i.hideList&&i.hideList()}),g=this.gridOptionsWrapper.getLocaleTextFunc(),_=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(){i.hideList=null,i.isPickerDisplayed=!1,h(),u(),i.isAlive()&&(Nr(i.eWrapper,!1),i.getFocusableElement().focus())},ariaLabel:g("ariaLabelSelectField","Select Field")});return _&&(this.hideList=_.hideFunc),this.isPickerDisplayed=!0,ot(s,Iu(this.eWrapper)),Nr(this.eWrapper,!0),s.style.maxHeight=Rt(this.popupService.getPopupParent())+"px",s.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:s,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},r.prototype.addOptions=function(i){var s=this;return i.forEach(function(l){return s.addOption(l)}),this},r.prototype.addOption=function(i){return this.listComponent.addOption(i),this},r.prototype.setValue=function(i,s,l){return this.value===i?this:(l||this.listComponent.setValue(i,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),c.prototype.setValue.call(this,i,s)))},r.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),c.prototype.destroy.call(this)},yi([N("popupService")],r.prototype,"popupService",void 0),yi([ge],r.prototype,"init",null),r}(If),mn=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),xf=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Zo=function(c){function r(i,s,l,u){void 0===l&&(l="text"),void 0===u&&(u="input");var h=c.call(this,i,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+u+' ref="eInput" class="ag-input-field-input"></'+u+">\n                </div>\n            </div>",s)||this;return h.inputType=l,h.displayFieldTag=u,h}return mn(r,c),r.prototype.postConstruct=function(){c.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var i=this.config,s=i.width,l=i.value;null!=s&&this.setWidth(s),null!=l&&this.setValue(l),this.addInputListeners()},r.prototype.refreshLabel=function(){ee(this.getLabel())?_f(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),c.prototype.refreshLabel.call(this)},r.prototype.addInputListeners=function(){var i=this;this.addManagedListener(this.eInput,"input",function(s){return i.setValue(s.target.value)})},r.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},r.prototype.getInputElement=function(){return this.eInput},r.prototype.setInputWidth=function(i){return ot(this.eWrapper,i),this},r.prototype.setInputName=function(i){return this.getInputElement().setAttribute("name",i),this},r.prototype.getFocusableElement=function(){return this.eInput},r.prototype.setMaxLength=function(i){return this.eInput.maxLength=i,this},r.prototype.setInputPlaceholder=function(i){return Ro(this.eInput,"placeholder",i),this},r.prototype.setInputAriaLabel=function(i){return vl(this.eInput,i),this},r.prototype.setDisabled=function(i){return Bi(this.eInput,i),c.prototype.setDisabled.call(this,i)},xf([ae("eLabel")],r.prototype,"eLabel",void 0),xf([ae("eWrapper")],r.prototype,"eWrapper",void 0),xf([ae("eInput")],r.prototype,"eInput",void 0),r}(ur),W0=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ha=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},ri=(()=>(function(c){c[c.One=0]="One",c[c.Two=1]="Two"}(ri||(ri={})),ri))(),vn=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return W0(r,c),r.prototype.getNumberOfInputs=function(i){var s=this.optionsFactory.getCustomOption(i);if(s){var l=s.numberOfInputs;return null!=l?l:1}return i&&[r.EMPTY,r.NOT_BLANK,r.BLANK].indexOf(i)>=0?0:i===r.IN_RANGE?2:1},r.prototype.onFloatingFilterChanged=function(i,s){this.setTypeFromFloatingFilter(i),this.setValueFromFloatingFilter(s),this.onUiChanged(!0)},r.prototype.setTypeFromFloatingFilter=function(i){this.eType1.setValue(i),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},r.prototype.getModelFromUi=function(){return this.isConditionUiComplete(ri.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(ri.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(ri.One),condition2:this.createCondition(ri.Two)}:this.createCondition(ri.One):null},r.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},r.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},r.prototype.areModelsEqual=function(i,s){if(!i&&!s)return!0;if(!i&&s||i&&!s)return!1;var g,l=!i.operator,u=!s.operator;if(!l&&u||l&&!u)return!1;if(l)g=this.areSimpleModelsEqual(i,s);else{var E=i,D=s;g=E.operator===D.operator&&this.areSimpleModelsEqual(E.condition1,D.condition1)&&this.areSimpleModelsEqual(E.condition2,D.condition2)}return g},r.prototype.setModelIntoUi=function(i){if(i.operator){var l=i,u="OR"===l.operator;this.eJoinOperatorAnd.setValue(!u),this.eJoinOperatorOr.setValue(u),this.eType1.setValue(l.condition1.type),this.eType2.setValue(l.condition2.type),this.setConditionIntoUi(l.condition1,ri.One),this.setConditionIntoUi(l.condition2,ri.Two)}else{var h=i;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(h.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(h,ri.One),this.setConditionIntoUi(null,ri.Two)}return Pi.resolve()},r.prototype.doesFilterPass=function(i){var s=this,l=this.getModel();if(null==l)return!0;var u=l.operator,h=[];return u?h.push(l.condition1,l.condition2):h.push(l),h[u&&"OR"===u?"some":"every"](function(w){return s.individualConditionPasses(i,w)})},r.prototype.setParams=function(i){c.prototype.setParams.call(this,i),this.optionsFactory=new To,this.optionsFactory.init(i,this.getDefaultFilterOptions()),this.allowTwoConditions=!i.suppressAndOrCondition,this.alwaysShowBothConditions=!!i.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(i.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},r.prototype.getDefaultJoinOperator=function(i){return rr(["AND","OR"],i)?i:"AND"},r.prototype.putOptionsIntoDropdown=function(){var i=this,s=this.optionsFactory.getFilterOptions(),l=[this.eType1,this.eType2];s.forEach(function(u){var h="string"==typeof u?i.createBoilerplateListOption(u):i.createCustomListOption(u);l.forEach(function(g){return g.addOption(h)})}),l.forEach(function(u){return u.setDisabled(s.length<=1)})},r.prototype.createBoilerplateListOption=function(i){return{value:i,text:this.translate(i)}},r.prototype.createCustomListOption=function(i){var s=i.displayKey,l=this.optionsFactory.getCustomOption(i.displayKey);return{value:s,text:l?this.gridOptionsWrapper.getLocaleTextFunc()(l.displayKey,l.displayName):this.translate(s)}},r.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},r.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(ri.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(ri.Two)},r.prototype.getCssIdentifier=function(){return"simple-filter"},r.prototype.updateUiVisibility=function(){var i=this,l=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(u,h){var g=i.isConditionVisible(h),_=i.isConditionDisabled(h);u.forEach(function(w){w instanceof Zo||w instanceof Ao?(w.setDisabled(_),w.setDisplayed(g)):(Bi(w,_),Lt(w,g))})}),l.forEach(function(u,h){Lt(u,i.isConditionBodyVisible(h))}),this.forEachInput(function(u,h,g,_){i.setElementDisplayed(u,h<_),i.setElementDisabled(u,i.isConditionDisabled(g))}),this.resetPlaceholder()},r.prototype.afterGuiAttached=function(i){if(c.prototype.afterGuiAttached.call(this,i),this.resetPlaceholder(),!i||!i.suppressFocus&&!this.isReadOnly()){var s=this.getInputs()[0][0];if(!s)return;s instanceof Zo&&s.getInputElement().focus()}},r.prototype.resetPlaceholder=function(){var i=this,s=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(l,u,h,g){if(l instanceof Zo){var _=0===u&&g>1?"inRangeStart":0===u?"filterOoo":"inRangeEnd",w=0===u&&g>1?s("ariaFilterFromValue","Filter from value"):0===u?s("ariaFilterValue","Filter Value"):s("ariaFilterToValue","Filter to Value");l.setInputPlaceholder(i.translate(_)),l.setInputAriaLabel(w)}})},r.prototype.setElementValue=function(i,s,l){i instanceof Zo&&i.setValue(null!=s?String(s):null,l)},r.prototype.setElementDisplayed=function(i,s){i instanceof Me&&Lt(i.getGui(),s)},r.prototype.setElementDisabled=function(i,s){i instanceof Me&&Bi(i.getGui(),s)},r.prototype.attachElementOnChange=function(i,s){i instanceof Zo&&i.onValueChange(s)},r.prototype.forEachInput=function(i){var s=this,l=this.getInputs();this.getConditionTypes().forEach(function(u,h){for(var g=s.getNumberOfInputs(u),_=0;_<l[h].length;_++){var w=l[h][_];null!=w&&i(w,_,h,g)}})},r.prototype.isConditionVisible=function(i){return 0===i||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(i):!!this.alwaysShowBothConditions||this.isConditionUiComplete(i-1))},r.prototype.isConditionDisabled=function(i){return!(!this.isReadOnly()&&this.isConditionVisible(i))||0!==i&&!this.isConditionUiComplete(i-1)},r.prototype.isConditionBodyVisible=function(i){if(!this.isConditionVisible(i))return!1;var s=this.getConditionTypes()[i];return this.getNumberOfInputs(s)>0},r.prototype.isConditionUiComplete=function(i){return!(this.getConditionTypes()[i]===r.EMPTY||this.getValues(i).some(function(l){return null==l}))},r.prototype.resetUiToDefaults=function(i){var s=this,u=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),h="ag-simple-filter-and-or-"+this.getCompId(),g=this.optionsFactory.getDefaultOption();return this.eType1.setValue(g,i).setAriaLabel(u).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),i).setAriaLabel(u).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),i).setName(h).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),i).setName(h).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(_){s.setElementValue(_,null,i),s.setElementDisabled(_,s.isReadOnly())}),this.resetPlaceholder(),Pi.resolve()},r.prototype.setConditionIntoUi=function(i,s){var l=this,u=this.mapValuesFromModel(i);this.forEachInput(function(h,g,_,w){_===s&&l.setElementValue(h,null!=u[g]?u[g]:null)})},r.prototype.setValueFromFloatingFilter=function(i){var s=this;this.forEachInput(function(l,u,h,g){s.setElementValue(l,0===u&&0===h?i:null)})},r.prototype.isDefaultOperator=function(i){return i===this.defaultJoinOperator},r.prototype.addChangedListeners=function(){var i=this;if(!this.isReadOnly()){var s=function(){return i.onUiChanged()};this.eType1.onValueChange(s),this.eType2.onValueChange(s),this.eJoinOperatorOr.onValueChange(s),this.eJoinOperatorAnd.onValueChange(s),this.forEachInput(function(l){i.attachElementOnChange(l,s)})}},r.prototype.individualConditionPasses=function(i,s){var l=this.getCellValue(i.node),u=this.mapValuesFromModel(s),h=this.optionsFactory.getCustomOption(s.type),g=this.evaluateCustomFilter(h,u,l);return null!=g?g:null==l?this.evaluateNullValue(s.type):this.evaluateNonNullValue(u,l,s,i)},r.prototype.evaluateCustomFilter=function(i,s,l){if(null!=i){var u=i.predicate;if(null!=u&&!s.some(function(h){return null==h}))return u(s,l)}},r.prototype.isBlank=function(i){return null==i||"string"==typeof i&&0===i.trim().length},r.EMPTY="empty",r.BLANK="blank",r.NOT_BLANK="notBlank",r.EQUALS="equals",r.NOT_EQUAL="notEqual",r.LESS_THAN="lessThan",r.LESS_THAN_OR_EQUAL="lessThanOrEqual",r.GREATER_THAN="greaterThan",r.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",r.IN_RANGE="inRange",r.CONTAINS="contains",r.NOT_CONTAINS="notContains",r.STARTS_WITH="startsWith",r.ENDS_WITH="endsWith",ha([ae("eOptions1")],r.prototype,"eType1",void 0),ha([ae("eOptions2")],r.prototype,"eType2",void 0),ha([ae("eJoinOperatorPanel")],r.prototype,"eJoinOperatorPanel",void 0),ha([ae("eJoinOperatorAnd")],r.prototype,"eJoinOperatorAnd",void 0),ha([ae("eJoinOperatorOr")],r.prototype,"eJoinOperatorOr",void 0),ha([ae("eCondition1Body")],r.prototype,"eCondition1Body",void 0),ha([ae("eCondition2Body")],r.prototype,"eCondition2Body",void 0),r}(pa),zd=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),yn=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return zd(r,c),r.prototype.setParams=function(i){c.prototype.setParams.call(this,i),this.scalarFilterParams=i},r.prototype.evaluateNullValue=function(i){switch(i){case r.EQUALS:case r.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case r.GREATER_THAN:case r.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case r.LESS_THAN:case r.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case r.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case r.BLANK:return!0;case r.NOT_BLANK:return!1}return!1},r.prototype.evaluateNonNullValue=function(i,s,l){var u=this.comparator(),h=null!=i[0]?u(i[0],s):0;switch(l.type){case r.EQUALS:return 0===h;case r.NOT_EQUAL:return 0!==h;case r.GREATER_THAN:return h>0;case r.GREATER_THAN_OR_EQUAL:return h>=0;case r.LESS_THAN:return h<0;case r.LESS_THAN_OR_EQUAL:return h<=0;case r.IN_RANGE:var g=u(i[1],s);return this.scalarFilterParams.inRangeInclusive?h>=0&&g<=0:h>0&&g<0;case r.BLANK:return this.isBlank(s);case r.NOT_BLANK:return!this.isBlank(s);default:return console.warn('AG Grid: Unexpected type of filter "'+l.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},r}(vn),$d=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),zu=function(){return zu=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},zu.apply(this,arguments)},_l=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},fa=function(c){function r(){var i=c.call(this,"dateFilter")||this;return i.minValidYear=1e3,i.maxValidYear=1/0,i}return $d(r,c),r.prototype.afterGuiAttached=function(i){c.prototype.afterGuiAttached.call(this,i),this.dateCondition1FromComp.afterGuiAttached(i)},r.prototype.mapValuesFromModel=function(i){var s=i||{},l=s.dateFrom,u=s.dateTo,h=s.type;return[l&&As(l)||null,u&&As(u)||null].slice(0,this.getNumberOfInputs(h))},r.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},r.prototype.defaultComparator=function(i,s){return null==s||s<i?-1:s>i?1:0},r.prototype.setParams=function(i){c.prototype.setParams.call(this,i),this.dateFilterParams=i;var s=function(l,u){if(null!=i[l]){if(!isNaN(i[l]))return null==i[l]?u:Number(i[l]);console.warn("AG Grid: DateFilter "+l+" is not a number")}return u};this.minValidYear=s("minValidYear",1e3),this.maxValidYear=s("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},r.prototype.createDateComponents=function(){var i=this,s=function(l){return new Wu(i.getContext(),i.userComponentFactory,{onDateChanged:function(){return i.onUiChanged()},filterParams:i.dateFilterParams},l)};this.dateCondition1FromComp=s(this.eCondition1PanelFrom),this.dateCondition1ToComp=s(this.eCondition1PanelTo),this.dateCondition2FromComp=s(this.eCondition2PanelFrom),this.dateCondition2ToComp=s(this.eCondition2PanelTo),this.addDestroyFunc(function(){i.forEachInput(function(l){return l.destroy()})})},r.prototype.setElementValue=function(i,s,l){i.setDate(s)},r.prototype.setElementDisplayed=function(i,s){i.setDisplayed(s)},r.prototype.setElementDisabled=function(i,s){i.setDisabled(s)},r.prototype.getDefaultFilterOptions=function(){return r.DEFAULT_FILTER_OPTIONS},r.prototype.createValueTemplate=function(i){var s=i===ri.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+s+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+s+'PanelTo"></div>\n            </div>'},r.prototype.isConditionUiComplete=function(i){var s=this;if(!c.prototype.isConditionUiComplete.call(this,i))return!1;var u=!0;return this.forEachInput(function(h,g,_,w){_!==i||!u||g>=w||(u=u&&function(h){return null!=h&&h.getUTCFullYear()>=s.minValidYear&&h.getUTCFullYear()<=s.maxValidYear}(h.getDate()))}),u},r.prototype.areSimpleModelsEqual=function(i,s){return i.dateFrom===s.dateFrom&&i.dateTo===s.dateTo&&i.type===s.type},r.prototype.getFilterType=function(){return"date"},r.prototype.createCondition=function(i){var s=this.getConditionTypes()[i],l={},u=this.getValues(i);return u.length>0&&(l.dateFrom=Oo(u[0])),u.length>1&&(l.dateTo=Oo(u[1])),zu({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:s},l)},r.prototype.resetPlaceholder=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.translate("dateFormatOoo"),l=i("ariaFilterValue","Filter Value");this.forEachInput(function(u){u.setInputPlaceholder(s),u.setInputAriaLabel(l)})},r.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},r.prototype.getValues=function(i){var s=[];return this.forEachInput(function(l,u,h,g){i===h&&u<g&&s.push(l.getDate())}),s},r.DEFAULT_FILTER_OPTIONS=[yn.EQUALS,yn.GREATER_THAN,yn.LESS_THAN,yn.NOT_EQUAL,yn.IN_RANGE,yn.BLANK,yn.NOT_BLANK],_l([ae("eCondition1PanelFrom")],r.prototype,"eCondition1PanelFrom",void 0),_l([ae("eCondition1PanelTo")],r.prototype,"eCondition1PanelTo",void 0),_l([ae("eCondition2PanelFrom")],r.prototype,"eCondition2PanelFrom",void 0),_l([ae("eCondition2PanelTo")],r.prototype,"eCondition2PanelTo",void 0),_l([N("userComponentFactory")],r.prototype,"userComponentFactory",void 0),r}(yn),j0=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Yy=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return j0(r,c),r.prototype.getDefaultDebounceMs=function(){return 0},r.prototype.destroy=function(){c.prototype.destroy.call(this)},r.prototype.getTextFromModel=function(i){if(!i)return null;if(null!=i.operator){var l=i,u=l||{},h=u.condition1,g=u.condition2,_=this.optionsFactory.getCustomOption(h.type),w=this.optionsFactory.getCustomOption(g.type);return[this.conditionToString(h,_),l.operator,this.conditionToString(g,w)].join(" ")}var E=i,D=this.optionsFactory.getCustomOption(E.type),M=D||{},G=M.displayKey,V=M.displayName;return G&&V&&0===M.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(G,V),V):this.conditionToString(E,D)},r.prototype.isEventFromFloatingFilter=function(i){return i&&i.afterFloatingFilter},r.prototype.getLastType=function(){return this.lastType},r.prototype.isReadOnly=function(){return this.readOnly},r.prototype.setLastTypeFromModel=function(i){i?this.lastType=(i.operator?i.condition1:i).type:this.lastType=this.optionsFactory.getDefaultOption()},r.prototype.canWeEditAfterModelFromParentFilter=function(i){return i?!i.operator&&this.isTypeEditable(i.type):this.isTypeEditable(this.lastType)},r.prototype.init=function(i){this.optionsFactory=new To,this.optionsFactory.init(i.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!i.filterParams.readOnly;var s=this.isTypeEditable(this.lastType);this.setEditable(s)},r.prototype.doesFilterHaveSingleInput=function(i){var l=(this.optionsFactory.getCustomOption(i)||{}).numberOfInputs;return null==l||1==l},r.prototype.isTypeEditable=function(i){var s=[vn.IN_RANGE,vn.EMPTY,vn.BLANK,vn.NOT_BLANK];return!!i&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(i)&&s.indexOf(i)<0},r}(Me),$u=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ku=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},U0=function(c){function r(){return c.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return $u(r,c),r.prototype.getDefaultFilterOptions=function(){return fa.DEFAULT_FILTER_OPTIONS},r.prototype.conditionToString=function(i,s){var l=i.type,h=l==vn.IN_RANGE||2===(s||{}).numberOfInputs,g=As(i.dateFrom),_=As(i.dateTo);return h?Oo(g,!1)+"-"+Oo(_,!1):null!=g?""+Oo(g,!1):""+l},r.prototype.init=function(i){c.prototype.init.call(this,i),this.params=i,this.createDateComponent();var s=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(s("ariaDateFilterInput","Date Filter Input"))},r.prototype.setEditable=function(i){Lt(this.eDateWrapper,i),Lt(this.eReadOnlyText.getGui(),!i)},r.prototype.onParentModelChanged=function(i,s){if(!this.isEventFromFloatingFilter(s)){c.prototype.setLastTypeFromModel.call(this,i);var l=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(i);this.setEditable(l),l?(this.dateComp.setDate(i?As(i.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(i)),this.dateComp.setDate(null))}},r.prototype.onDateChanged=function(){var i=this,l=Oo(this.dateComp.getDate());this.params.parentFilterInstance(function(u){if(u){var h=As(l);u.onFloatingFilterChanged(i.getLastType()||null,h)}})},r.prototype.createDateComponent=function(){var i=this,s=pa.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),l={onDateChanged:qr(this.onDateChanged.bind(this),s),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Wu(this.getContext(),this.userComponentFactory,l,this.eDateWrapper),this.addDestroyFunc(function(){return i.dateComp.destroy()})},Ku([N("userComponentFactory")],r.prototype,"userComponentFactory",void 0),Ku([ae("eReadOnlyText")],r.prototype,"eReadOnlyText",void 0),Ku([ae("eDateWrapper")],r.prototype,"eDateWrapper",void 0),r}(Yy),z0=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),pN=function(c){function r(){return c.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return z0(r,c),r.prototype.destroy=function(){c.prototype.destroy.call(this)},r.prototype.init=function(i){var s=this,l=this.gridOptionsWrapper.getDocument(),u=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(i)&&(u.type="date"),this.addManagedListener(u,"mousedown",function(){s.eDateInput.isDisabled()||u.focus()}),this.addManagedListener(u,"input",function(w){w.target===l.activeElement&&(s.eDateInput.isDisabled()||i.onDateChanged())});var h=i.filterParams||{},g=h.minValidYear,_=h.maxValidYear;g&&(u.min=g+"-01-01"),_&&(u.max=_+"-12-31")},r.prototype.getDate=function(){return As(this.eDateInput.getValue())},r.prototype.setDate=function(i){this.eDateInput.setValue(Oo(i,!1))},r.prototype.setInputPlaceholder=function(i){this.eDateInput.setInputPlaceholder(i)},r.prototype.setDisabled=function(i){this.eDateInput.setDisabled(i)},r.prototype.afterGuiAttached=function(i){(!i||!i.suppressFocus)&&this.eDateInput.getInputElement().focus()},r.prototype.shouldUseBrowserDatePicker=function(i){return i.filterParams&&null!=i.filterParams.browserDatePicker?i.filterParams.browserDatePicker:Ai()||yy()},function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([ae("eDateInput")],r.prototype,"eDateInput",void 0),r}(Me),Kd=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),qu=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Yu=function(c){function r(){return c.call(this,"numberFilter")||this}return Kd(r,c),r.prototype.mapValuesFromModel=function(i){var s=i||{},l=s.filter,u=s.filterTo;return[null==l?null:l,null==u?null:u].slice(0,this.getNumberOfInputs(s.type))},r.prototype.getDefaultDebounceMs=function(){return 500},r.prototype.comparator=function(){return function(i,s){return i===s?0:i<s?1:-1}},r.prototype.setParams=function(i){this.numberFilterParams=i;var s=this.getAllowedCharPattern();if(s){var l={allowedCharPattern:s};this.resetTemplate({"eValue-index0-1":l,"eValue-index1-1":l,"eValue-index0-2":l,"eValue-index1-2":l})}c.prototype.setParams.call(this,i)},r.prototype.getDefaultFilterOptions=function(){return r.DEFAULT_FILTER_OPTIONS},r.prototype.createValueTemplate=function(i){var s=i===ri.One?"1":"2",u=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body" role="presentation">\n                <'+u+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+s+'"></'+u+">\n                <"+u+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+s+'"></'+u+">\n            </div>"},r.prototype.getValues=function(i){var s=this,l=[];return this.forEachInput(function(u,h,g,_){i===g&&h<_&&l.push(s.stringToFloat(u.getValue()))}),l},r.prototype.areSimpleModelsEqual=function(i,s){return i.filter===s.filter&&i.filterTo===s.filterTo&&i.type===s.type},r.prototype.getFilterType=function(){return"number"},r.prototype.stringToFloat=function(i){if("number"==typeof i)return i;var s=Rr(i);return null!=s&&""===s.trim()&&(s=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(s):null==s||"-"===s.trim()?null:parseFloat(s)},r.prototype.createCondition=function(i){var s=this.getConditionTypes()[i],l={filterType:this.getFilterType(),type:s},u=this.getValues(i);return u.length>0&&(l.filter=u[0]),u.length>1&&(l.filterTo=u[1]),l},r.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},r.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(Ai()||mf()?null:"\\d\\-\\.")},r.DEFAULT_FILTER_OPTIONS=[yn.EQUALS,yn.NOT_EQUAL,yn.LESS_THAN,yn.LESS_THAN_OR_EQUAL,yn.GREATER_THAN,yn.GREATER_THAN_OR_EQUAL,yn.IN_RANGE,yn.BLANK,yn.NOT_BLANK],qu([ae("eValue-index0-1")],r.prototype,"eValueFrom1",void 0),qu([ae("eValue-index1-1")],r.prototype,"eValueTo1",void 0),qu([ae("eValue-index0-2")],r.prototype,"eValueFrom2",void 0),qu([ae("eValue-index1-2")],r.prototype,"eValueTo2",void 0),r}(yn),qd=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Qu=function(){return Qu=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},Qu.apply(this,arguments)},Xu=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},es=function(c){function r(){return c.call(this,"textFilter")||this}return qd(r,c),r.trimInput=function(i){var s=i&&i.trim();return""===s?i:s},r.prototype.getDefaultDebounceMs=function(){return 500},r.prototype.setParams=function(i){c.prototype.setParams.call(this,i),this.textFilterParams=i,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?r.DEFAULT_FORMATTER:r.DEFAULT_LOWERCASE_FORMATTER)},r.prototype.getTextMatcher=function(){var i=this.textFilterParams.textCustomComparator;return i?(Le.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(s){return i(s.filterOption,s.value,s.filterText)}):this.textFilterParams.textMatcher||r.DEFAULT_MATCHER},r.prototype.createCondition=function(i){var s=this.getConditionTypes()[i],l={filterType:this.getFilterType(),type:s},u=this.getValues(i);return u.length>0&&(l.filter=u[0]),u.length>1&&(l.filterTo=u[1]),l},r.prototype.getFilterType=function(){return"text"},r.prototype.areSimpleModelsEqual=function(i,s){return i.filter===s.filter&&i.filterTo===s.filterTo&&i.type===s.type},r.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},r.prototype.getValues=function(i){var s=this,l=[];return this.forEachInput(function(u,h,g,_){if(i===g&&h<_){var w=Rr(u.getValue()),E=(s.textFilterParams.trimInput?r.trimInput(w):w)||null;l.push(E),u.setValue(E,!0)}}),l},r.prototype.getDefaultFilterOptions=function(){return r.DEFAULT_FILTER_OPTIONS},r.prototype.createValueTemplate=function(i){var s=i===ri.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+s+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+s+'"></ag-input-text-field>\n            </div>'},r.prototype.mapValuesFromModel=function(i){var s=i||{};return[s.filter||null,s.filterTo||null].slice(0,this.getNumberOfInputs(s.type))},r.prototype.evaluateNullValue=function(i){return!!i&&[vn.NOT_EQUAL,vn.NOT_CONTAINS,vn.BLANK].indexOf(i)>=0},r.prototype.evaluateNonNullValue=function(i,s,l,u){var h=this,g=i.map(function(Z){return h.formatter(Z)})||[],_=this.formatter(s),w=this.textFilterParams,E=w.api,D=w.colDef,M=w.column,G=w.columnApi,V=w.context,B=w.textFormatter;if(l.type===vn.BLANK)return this.isBlank(s);if(l.type===vn.NOT_BLANK)return!this.isBlank(s);var q={api:E,colDef:D,column:M,columnApi:G,context:V,node:u.node,data:u.data,filterOption:l.type,value:_,textFormatter:B};return g.some(function(Z){return h.matcher(Qu(Qu({},q),{filterText:Z}))})},r.DEFAULT_FILTER_OPTIONS=[vn.CONTAINS,vn.NOT_CONTAINS,vn.EQUALS,vn.NOT_EQUAL,vn.STARTS_WITH,vn.ENDS_WITH,vn.BLANK,vn.NOT_BLANK],r.DEFAULT_FORMATTER=function(i){return i},r.DEFAULT_LOWERCASE_FORMATTER=function(i){return null==i?null:i.toString().toLowerCase()},r.DEFAULT_MATCHER=function(i){var l=i.value,u=i.filterText;if(null==u)return!1;switch(i.filterOption){case r.CONTAINS:return l.indexOf(u)>=0;case r.NOT_CONTAINS:return l.indexOf(u)<0;case r.EQUALS:return l===u;case r.NOT_EQUAL:return l!=u;case r.STARTS_WITH:return 0===l.indexOf(u);case r.ENDS_WITH:var h=l.lastIndexOf(u);return h>=0&&h===l.length-u.length;default:return!1}},Xu([ae("eValue-index0-1")],r.prototype,"eValueFrom1",void 0),Xu([ae("eValue-index1-1")],r.prototype,"eValueTo1",void 0),Xu([ae("eValue-index0-2")],r.prototype,"eValueFrom2",void 0),Xu([ae("eValue-index1-2")],r.prototype,"eValueTo2",void 0),r}(vn),$0=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ps=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Yd=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return $0(r,c),r.prototype.postConstruct=function(){this.resetTemplate()},r.prototype.resetTemplate=function(i){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',i)},r.prototype.getDefaultDebounceMs=function(){return 500},r.prototype.onParentModelChanged=function(i,s){this.isEventFromFloatingFilter(s)||(this.setLastTypeFromModel(i),this.eFloatingFilterInput.setValue(this.getTextFromModel(i)),this.setEditable(this.canWeEditAfterModelFromParentFilter(i)))},r.prototype.init=function(i){c.prototype.init.call(this,i),this.params=i,this.applyActive=pa.isUseApplyButton(this.params.filterParams);var s=this.params.filterParams.allowedCharPattern;if(null!=s&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:s}}),!this.isReadOnly()){var l=pa.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),u=qr(this.syncUpWithParentFilter.bind(this),l),h=this.eFloatingFilterInput.getGui();this.addManagedListener(h,"input",u),this.addManagedListener(h,"keypress",u),this.addManagedListener(h,"keydown",u)}var g=i.column.getDefinition();(this.isReadOnly()||g.filterParams&&g.filterParams.filterOptions&&1===g.filterParams.filterOptions.length&&"inRange"===g.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var _=this.columnModel.getDisplayNameForColumn(i.column,"header",!0),w=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(_+" "+w("ariaFilterInput","Filter Input"))},r.prototype.syncUpWithParentFilter=function(i){var s=this;if(!this.applyActive||i.key===le.ENTER){var u=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(u=es.trimInput(u),this.eFloatingFilterInput.setValue(u,!0)),this.params.parentFilterInstance(function(h){h&&h.onFloatingFilterChanged(s.getLastType()||null,u||null)})}},r.prototype.conditionToString=function(i,s){return i.type==vn.IN_RANGE||2===(s||{}).numberOfInputs?i.filter+"-"+i.filterTo:null!=i.filter?""+i.filter:""+i.type},r.prototype.setEditable=function(i){this.eFloatingFilterInput.setDisabled(!i)},Ps([N("columnModel")],r.prototype,"columnModel",void 0),Ps([ae("eFloatingFilterInput")],r.prototype,"eFloatingFilterInput",void 0),Ps([ge],r.prototype,"postConstruct",null),r}(Yy),Qd=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),hN=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return Qd(r,c),r.prototype.getDefaultFilterOptions=function(){return Yu.DEFAULT_FILTER_OPTIONS},r}(Yd),Qy=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ff=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return Qy(r,c),r.prototype.getDefaultFilterOptions=function(){return es.DEFAULT_FILTER_OPTIONS},r}(Yd),xr=function(){function c(r,i){var s=this;void 0===i&&(i=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new Ko,this.eElement=r,this.preventMouseClick=i;var l=this.onTouchStart.bind(this),u=this.onTouchMove.bind(this),h=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",l,{passive:!0}),this.eElement.addEventListener("touchmove",u,{passive:!0}),this.eElement.addEventListener("touchend",h,{passive:!1}),this.destroyFuncs.push(function(){s.eElement.removeEventListener("touchstart",l,{passive:!0}),s.eElement.removeEventListener("touchmove",u,{passive:!0}),s.eElement.removeEventListener("touchend",h,{passive:!1})})}return c.prototype.getActiveTouch=function(r){for(var i=0;i<r.length;i++)if(r[i].identifier===this.touchStart.identifier)return r[i];return null},c.prototype.addEventListener=function(r,i){this.eventService.addEventListener(r,i)},c.prototype.removeEventListener=function(r,i){this.eventService.removeEventListener(r,i)},c.prototype.onTouchStart=function(r){var i=this;if(!this.touching){this.touchStart=r.touches[0],this.touching=!0,this.moved=!1;var s=this.touchStart;window.setTimeout(function(){i.touching&&i.touchStart===s&&!i.moved&&(i.moved=!0,i.eventService.dispatchEvent({type:c.EVENT_LONG_TAP,touchStart:i.touchStart,touchEvent:r}))},500)}},c.prototype.onTouchMove=function(r){if(this.touching){var i=this.getActiveTouch(r.touches);i&&!Sf(i,this.touchStart,4)&&(this.moved=!0)}},c.prototype.onTouchEnd=function(r){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:c.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&r.preventDefault(),this.touching=!1)},c.prototype.checkForDoubleTap=function(){var r=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&r-this.lastTapTime>c.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:c.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=r},c.prototype.destroy=function(){this.destroyFuncs.forEach(function(r){return r()})},c.EVENT_TAP="tap",c.EVENT_DOUBLE_TAP="doubleTap",c.EVENT_LONG_TAP="longTap",c.DOUBLE_TAP_MILLIS=500,c}(),K0=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),$i=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Lf=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.lastMovingChanged=0,i}return K0(r,c),r.prototype.destroy=function(){c.prototype.destroy.call(this)},r.prototype.refresh=function(i){return this.params=i,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(i),!0)},r.prototype.workOutTemplate=function(){var i=s0(this.params.template,r.TEMPLATE);return i&&i.trim?i.trim():i},r.prototype.init=function(i){this.params=i,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(i.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(i)},r.prototype.setDisplayName=function(i){if(this.currentDisplayName!=i.displayName){this.currentDisplayName=i.displayName;var s=Je(this.currentDisplayName);this.eText&&(this.eText.innerHTML=s)}},r.prototype.setupIcons=function(i){this.addInIcon("sortAscending",this.eSortAsc,i),this.addInIcon("sortDescending",this.eSortDesc,i),this.addInIcon("sortUnSort",this.eSortNone,i),this.addInIcon("menu",this.eMenu,i),this.addInIcon("filter",this.eFilter,i)},r.prototype.addInIcon=function(i,s,l){if(null!=s){var u=Gn(i,this.gridOptionsWrapper,l);u&&s.appendChild(u)}},r.prototype.setupTap=function(){var i=this,s=this.gridOptionsWrapper;if(!s.isSuppressTouch()){var l=new xr(this.getGui(),!0),u=s.isSuppressMenuHide(),h=u&&ee(this.eMenu),g=h?new xr(this.eMenu,!0):l;this.params.enableMenu&&this.addManagedListener(g,xr[h?"EVENT_TAP":"EVENT_LONG_TAP"],function(D){s.getApi().showColumnMenuAfterMouseClick(i.params.column,D.touchStart)}),this.params.enableSorting&&this.addManagedListener(l,xr.EVENT_TAP,function(D){u&&i.eMenu.contains(D.touchStart.target)||i.sortController.progressSort(i.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return l.destroy()}),h&&this.addDestroyFunc(function(){return g.destroy()})}},r.prototype.workOutShowMenu=function(){var i=!this.gridOptionsWrapper.isSuppressMenuHide(),s=Mu()&&i;return this.params.enableMenu&&!s},r.prototype.setMenu=function(){var i=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void nn(this.eMenu);var s=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return i.showMenu(i.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",s)}},r.prototype.showMenu=function(i){i||(i=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,i,"columnMenu")},r.prototype.removeSortIcons=function(){nn(this.eSortAsc),nn(this.eSortDesc),nn(this.eSortNone),nn(this.eSortOrder)},r.prototype.workOutSort=function(){return this.params.enableSorting},r.prototype.setupSort=function(){var i=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var s=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,gt.EVENT_MOVING_CHANGED,function(){i.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(l){var u=i.params.column.isMoving(),h=(new Date).getTime();u||h-i.lastMovingChanged<50||i.params.progressSort(s?l.ctrlKey||l.metaKey:l.shiftKey)}),this.addManagedListener(this.params.column,gt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,L.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},r.prototype.onSortChanged=function(){if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var i=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",i||!this.params.column.isSortNone())}},r.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var i=this.params.column,s=this.sortController.getColumnsWithSortingOrdered(),l=s.indexOf(i),u=s.length>1,h=i.isSorting()&&u;Lt(this.eSortOrder,h),l>=0?this.eSortOrder.innerHTML=(l+1).toString():Wi(this.eSortOrder)}},r.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,gt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},r.prototype.onFilterChanged=function(){var i=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!i)},r.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',$i([N("sortController")],r.prototype,"sortController",void 0),$i([N("menuFactory")],r.prototype,"menuFactory",void 0),$i([ae("eFilter")],r.prototype,"eFilter",void 0),$i([ae("eSortAsc")],r.prototype,"eSortAsc",void 0),$i([ae("eSortDesc")],r.prototype,"eSortDesc",void 0),$i([ae("eSortNone")],r.prototype,"eSortNone",void 0),$i([ae("eSortOrder")],r.prototype,"eSortOrder",void 0),$i([ae("eMenu")],r.prototype,"eMenu",void 0),$i([ae("eLabel")],r.prototype,"eLabel",void 0),$i([ae("eText")],r.prototype,"eText",void 0),r}(Me),Gf=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Cl=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Xd=function(c){function r(){return c.call(this,r.TEMPLATE)||this}return Gf(r,c),r.prototype.destroy=function(){c.prototype.destroy.call(this)},r.prototype.init=function(i){this.params=i,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},r.prototype.checkWarnings=function(){this.params.template&&At(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},r.prototype.setupExpandIcons=function(){var i=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var s=function(h){if(!Qr(h)){var g=!i.params.columnGroup.isExpanded();i.columnModel.setColumnGroupOpened(i.params.columnGroup.getProvidedColumnGroup(),g,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,s),this.addTouchAndClickListeners(this.eOpenIcon,s);var l=function(h){ll(h)};this.addManagedListener(this.eCloseIcon,"dblclick",l),this.addManagedListener(this.eOpenIcon,"dblclick",l),this.addManagedListener(this.getGui(),"dblclick",s),this.updateIconVisibility();var u=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(u,cn.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(u,cn.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},r.prototype.addTouchAndClickListeners=function(i,s){var l=new xr(i,!0);this.addManagedListener(l,xr.EVENT_TAP,s),this.addDestroyFunc(function(){return l.destroy()}),this.addManagedListener(i,"click",s)},r.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var s=this.params.columnGroup.isExpanded();Lt(this.eOpenIcon,s),Lt(this.eCloseIcon,!s)}else Lt(this.eOpenIcon,!1),Lt(this.eCloseIcon,!1)},r.prototype.addInIcon=function(i,s){var l=Gn(i,this.gridOptionsWrapper,null);l&&this.getRefElement(s).appendChild(l)},r.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Lt(this.eOpenIcon,!1),void Lt(this.eCloseIcon,!1)},r.prototype.setupLabel=function(){var i=this.params.displayName;if(ee(i)){var s=Je(i);this.getRefElement("agLabel").innerHTML=s}},r.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Cl([N("columnModel")],r.prototype,"columnModel",void 0),Cl([ae("agOpened")],r.prototype,"eOpenIcon",void 0),Cl([ae("agClosed")],r.prototype,"eCloseIcon",void 0),r}(Me),q0=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ga=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return q0(r,c),r.prototype.isPopup=function(){return!0},r.prototype.setParentComponent=function(i){i.addCssClass("ag-has-popup"),c.prototype.setParentComponent.call(this,i)},r.prototype.destroy=function(){var i=this.parentComponent;i&&i.isAlive()&&i.getGui().classList.remove("ag-has-popup"),c.prototype.destroy.call(this)},r}(Me),Xy=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),kf=function(c){function r(){return c.call(this,r.TEMPLATE)||this}return Xy(r,c),r.prototype.init=function(i){this.params=i,this.focusAfterAttached=i.cellStartedEdit,this.eTextArea.setMaxLength(i.maxLength||200).setCols(i.cols||60).setRows(i.rows||10),ee(i.value)&&this.eTextArea.setValue(i.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},r.prototype.onKeyDown=function(i){var s=i.key;(s===le.LEFT||s===le.UP||s===le.RIGHT||s===le.DOWN||i.shiftKey&&s===le.ENTER)&&i.stopPropagation()},r.prototype.afterGuiAttached=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(i("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},r.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},r.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([ae("eTextArea")],r.prototype,"eTextArea",void 0),r}(ga),Y0=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Jy=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},wl=function(c){function r(){var i=c.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return i.startedByEnter=!1,i}return Y0(r,c),r.prototype.init=function(i){var s=this;if(this.focusAfterAttached=i.cellStartedEdit,Pe(i.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=i.eventKey&&i.eventKey===le.ENTER;var l=!1;i.values.forEach(function(u){var h={value:u},g=s.valueFormatterService.formatValue(i.column,null,null,u);h.text=null!=g?g:u,s.eSelect.addOption(h),l=l||i.value===u}),l?this.eSelect.setValue(i.value,!0):i.values.length&&this.eSelect.setValue(i.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return i.stopEditing()})}},r.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},r.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},r.prototype.getValue=function(){return this.eSelect.getValue()},r.prototype.isPopup=function(){return!1},Jy([N("valueFormatterService")],r.prototype,"valueFormatterService",void 0),Jy([ae("eSelect")],r.prototype,"eSelect",void 0),r}(ga),Zu=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),e_=function(c){function r(){var i=c.call(this)||this;return At(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),i}return Zu(r,c),r.prototype.isPopup=function(){return!0},r}(wl),t_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ts=function(c){function r(){return c.call(this,r.TEMPLATE)||this}return t_(r,c),r.prototype.init=function(i){this.params=i;var l,s=this.eInput;i.cellStartedEdit?(this.focusAfterAttached=!0,i.eventKey===le.BACKSPACE||i.eventKey===le.DELETE?l="":i.charPress?l=i.charPress:(l=this.getStartValue(i),i.eventKey!==le.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=this.getStartValue(i)),null!=l&&s.setValue(l,!0),this.addManagedListener(s.getGui(),"keydown",function(u){var h=u.key;(h===le.PAGE_UP||h===le.PAGE_DOWN)&&u.preventDefault()})},r.prototype.afterGuiAttached=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.eInput;if(s.setInputAriaLabel(i("ariaInputEditor","Input Editor")),this.focusAfterAttached){Or()||s.getFocusableElement().focus();var l=s.getInputElement();if(this.highlightAllOnFocus)l.select();else{var u=s.getValue(),h=ee(u)&&u.length||0;h&&l.setSelectionRange(h,h)}}},r.prototype.focusIn=function(){var i=this.eInput,s=i.getFocusableElement(),l=i.getInputElement();s.focus(),l.select()},r.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},r.prototype.getStartValue=function(i){return i.useFormatter||i.column.getColDef().refData?i.formatValue(i.value):i.value},r.prototype.isPopup=function(){return!1},r.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([ae("eInput")],r.prototype,"eInput",void 0),r}(ga),oi=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Zd=function(c){function r(){var i=c.call(this)||this;return At(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),i}return oi(r,c),r.prototype.isPopup=function(){return!0},r}(ts),ma=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Vf=function(c){function r(){var i=c.call(this,r.TEMPLATE)||this;return i.refreshCount=0,i}return ma(r,c),r.prototype.init=function(i){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(i)},r.prototype.showDelta=function(i,s){var l=Math.abs(s),u=i.formatValue(l),h=ee(u)?u:l,g=s>=0;this.eDelta.innerHTML=g?"\u2191"+h:"\u2193"+h,this.eDelta.classList.toggle("ag-value-change-delta-up",g),this.eDelta.classList.toggle("ag-value-change-delta-down",!g)},r.prototype.setTimerToRemoveDelta=function(){var i=this;this.refreshCount++;var s=this.refreshCount;window.setTimeout(function(){s===i.refreshCount&&i.hideDeltaValue()},2e3)},r.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),Wi(this.eDelta)},r.prototype.refresh=function(i){var s=i.value;return s!==this.lastValue&&(ee(i.valueFormatted)?this.eValue.innerHTML=i.valueFormatted:ee(i.value)?this.eValue.innerHTML=s:Wi(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof s&&"number"==typeof this.lastValue&&this.showDelta(i,s-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=s,!0)},r.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([N("filterManager")],r.prototype,"filterManager",void 0),r}(Me),Hf=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Jd=function(c){function r(){var i=c.call(this,r.TEMPLATE)||this;return i.refreshCount=0,i.eCurrent=i.queryForHtmlElement(".ag-value-slide-current"),i}return Hf(r,c),r.prototype.init=function(i){this.refresh(i)},r.prototype.addSlideAnimation=function(){var i=this;this.refreshCount++;var s=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Zt('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){s===i.refreshCount&&i.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){s===i.refreshCount&&(i.getGui().removeChild(i.ePrevious),i.ePrevious=null)},3e3)},r.prototype.refresh=function(i){var s=i.value;return Pe(s)&&(s=""),s!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=s,ee(i.valueFormatted)?this.eCurrent.innerHTML=i.valueFormatted:ee(i.value)?this.eCurrent.innerHTML=s:Wi(this.eCurrent),!0)},r.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([N("filterManager")],r.prototype,"filterManager",void 0),r}(Me);!function(c){c[c.Above=0]="Above",c[c.Below=1]="Below"}(x.oh5||(x.oh5={}));var nt=function(){function c(r){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=c.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.onRowHeightChangedDebounced=qr(this.onRowHeightChanged.bind(this),100),this.beans=r}return c.prototype.setData=function(r){this.setDataCommon(r,!1)},c.prototype.updateData=function(r){this.setDataCommon(r,!0)},c.prototype.setDataCommon=function(r,i){var s=this.data;this.data=r,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var l=this.createDataChangedEvent(r,s,i);this.dispatchLocalEvent(l)},c.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},c.prototype.createDataChangedEvent=function(r,i,s){return{type:c.EVENT_DATA_CHANGED,node:this,oldData:i,newData:r,update:s}},c.prototype.createLocalRowEvent=function(r){return{type:r,node:this}},c.prototype.getRowIndexString=function(){return this.rowPinned===j.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===j.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},c.prototype.createDaemonNode=function(){var r=new c(this.beans);return r.id=this.id,r.data=this.data,r.daemon=!0,r.selected=this.selected,r.level=this.level,r},c.prototype.setDataAndId=function(r,i){var s=ee(this.id)?this.createDaemonNode():null,l=this.data;this.data=r,this.updateDataOnDetailNode(),this.setId(i),this.beans.selectionService.syncInRowNode(this,s),this.checkRowSelectable();var u=this.createDataChangedEvent(r,l,!1);this.dispatchLocalEvent(u)},c.prototype.checkRowSelectable=function(){var r=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!r||r(this))},c.prototype.setRowSelectable=function(r){this.selectable!==r&&(this.selectable=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_SELECTABLE_CHANGED)))},c.prototype.setId=function(r){var i=this.beans.gridOptionsWrapper.getRowIdFunc();if(i)if(this.data){var s=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:s.length>0?s:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(c.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+c.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=r},c.prototype.getGroupKeys=function(r){void 0===r&&(r=!1);var i=[],s=this;for(r&&(s=s.parent);s&&s.level>=0;)i.push(s.key),s=s.parent;return i.reverse(),i},c.prototype.isPixelInRange=function(r){return!(!ee(this.rowTop)||!ee(this.rowHeight))&&r>=this.rowTop&&r<this.rowTop+this.rowHeight},c.prototype.setFirstChild=function(r){this.firstChild!==r&&(this.firstChild=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_FIRST_CHILD_CHANGED)))},c.prototype.setLastChild=function(r){this.lastChild!==r&&(this.lastChild=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_LAST_CHILD_CHANGED)))},c.prototype.setChildIndex=function(r){this.childIndex!==r&&(this.childIndex=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_CHILD_INDEX_CHANGED)))},c.prototype.setRowTop=function(r){this.oldRowTop=this.rowTop,this.rowTop!==r&&(this.rowTop=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_TOP_CHANGED)),this.setDisplayed(null!==r))},c.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},c.prototype.setDisplayed=function(r){this.displayed!==r&&(this.displayed=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_DISPLAYED_CHANGED)))},c.prototype.setDragging=function(r){this.dragging!==r&&(this.dragging=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_DRAGGING_CHANGED)))},c.prototype.setHighlighted=function(r){r!==this.highlighted&&(this.highlighted=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_HIGHLIGHT_CHANGED)))},c.prototype.setAllChildrenCount=function(r){this.allChildrenCount!==r&&(this.allChildrenCount=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},c.prototype.setMaster=function(r){this.master!==r&&(this.master&&!r&&(this.expanded=!1),this.master=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_MASTER_CHANGED)))},c.prototype.setGroup=function(r){this.group!==r&&(this.group&&!r&&(this.expanded=!1),this.group=r,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_GROUP_CHANGED)))},c.prototype.setRowHeight=function(r,i){void 0===i&&(i=!1),this.rowHeight=r,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_HEIGHT_CHANGED))},c.prototype.setRowAutoHeight=function(r,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=r,null!=r&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=qr(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},c.prototype.checkAutoHeights=function(){var r=!1,i=!0,s=0,l=this.__autoHeights;null!=l&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(h){var g=l[h.getId()];null!=g?(i=!1,g>s&&(s=g)):r=!0}),!r&&((i||s<10)&&(s=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),s!=this.rowHeight&&(this.setRowHeight(s),this.onRowHeightChangedDebounced())))},c.prototype.onRowHeightChanged=function(){var r=this.beans.rowModel;r.onRowHeightChanged&&r.onRowHeightChanged()},c.prototype.setRowIndex=function(r){this.rowIndex!==r&&(this.rowIndex=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_ROW_INDEX_CHANGED)))},c.prototype.setUiLevel=function(r){this.uiLevel!==r&&(this.uiLevel=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_UI_LEVEL_CHANGED)))},c.prototype.setExpanded=function(r,i){if(this.expanded!==r){this.expanded=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_EXPANDED_CHANGED));var s=Object.assign({},this.createGlobalRowEvent(L.EVENT_ROW_GROUP_OPENED),{expanded:r,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(s),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},c.prototype.createGlobalRowEvent=function(r){return{type:r,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},c.prototype.dispatchLocalEvent=function(r){this.eventService&&this.eventService.dispatchEvent(r)},c.prototype.setDataValue=function(r,i,s){var l=this.beans.columnModel.getPrimaryColumn(r),u=this.beans.valueService.getValue(l,this),h=this.beans.valueService.setValue(this,l,i,s);return this.dispatchCellChangedEvent(l,i,u),h},c.prototype.setGroupValue=function(r,i){var s=this.beans.columnModel.getGridColumn(r);Pe(this.groupData)&&(this.groupData={});var l=s.getColId(),u=this.groupData[l];u!==i&&(this.groupData[l]=i,this.dispatchCellChangedEvent(s,i,u))},c.prototype.setAggData=function(r){var i=this,s=Ed([this.aggData,r]),l=this.aggData;this.aggData=r,this.eventService&&s.forEach(function(u){var h=i.beans.columnModel.getGridColumn(u);i.dispatchCellChangedEvent(h,i.aggData?i.aggData[u]:void 0,l?l[u]:void 0)})},c.prototype.updateHasChildren=function(){var r=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;r!==this.__hasChildren&&(this.__hasChildren=!!r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(c.EVENT_HAS_CHILDREN_CHANGED)))},c.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},c.prototype.isEmptyRowGroupNode=function(){return this.group&&Ri(this.childrenAfterGroup)},c.prototype.dispatchCellChangedEvent=function(r,i,s){this.dispatchLocalEvent({type:c.EVENT_CELL_CHANGED,node:this,column:r,newValue:i,oldValue:s})},c.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},c.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},c.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},c.prototype.depthFirstSearch=function(r){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(i){return i.depthFirstSearch(r)}),r(this)},c.prototype.calculateSelectedFromChildren=function(){var r,i=!1,s=!1,l=!1;if(null===(r=this.childrenAfterGroup)||void 0===r?void 0:r.length){for(var h=0;h<this.childrenAfterGroup.length;h++){var g=this.childrenAfterGroup[h];if(g.selectable)switch(g.isSelected()){case!0:i=!0;break;case!1:s=!0;break;default:l=!0}}this.selectThisNode(l?void 0:!(!i||s)||!(!i&&s)&&void 0)}},c.prototype.setSelectedInitialValue=function(r){this.selected=r},c.prototype.setSelected=function(r,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1),this.setSelectedParams({newValue:r,clearSelection:i,suppressFinishActions:s,rangeSelect:!1})},c.prototype.isRowPinned=function(){return this.rowPinned===j.PINNED_TOP||this.rowPinned===j.PINNED_BOTTOM},c.prototype.setSelectedParams=function(r){var i,s=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),l=!0===r.newValue,u=!0===r.clearSelection,h=!0===r.suppressFinishActions,g=!0===r.rangeSelect,_=s&&!0===r.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(r);if(g&&this.beans.selectionService.getLastSelectedNode()){var w=this.beans.selectionService.getLastSelectedNode()!==this,E=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(w&&E){var D=this.doRowRangeSelection(r.newValue);return this.beans.selectionService.setLastSelectedNode(this),D}}var M=0;return _&&this.group||this.selectThisNode(l)&&M++,s&&(null===(i=this.childrenAfterGroup)||void 0===i?void 0:i.length)&&(M+=this.selectChildNodes(l,_)),h||(l&&(u||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(M+=this.beans.selectionService.clearOtherNodes(this)),M>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:L.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),l&&this.beans.selectionService.setLastSelectedNode(this)),M},c.prototype.doRowRangeSelection=function(r){var i=this;void 0===r&&(r=!0);var s=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),l=this.beans.selectionService.getLastSelectedNode(),u=this.beans.rowModel.getNodesInRangeForSelection(this,l),h=0;return u.forEach(function(_){_.group&&s||!1===r&&i===_||_.selectThisNode(r)&&h++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:L.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),h},c.prototype.isParentOfNode=function(r){for(var i=this.parent;i;){if(i===r)return!0;i=i.parent}return!1},c.prototype.selectThisNode=function(r){if(!this.selectable&&r||this.selected===r)return!1;this.selected=r,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(c.EVENT_ROW_SELECTED));var l=this.createGlobalRowEvent(L.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(l),!0},c.prototype.selectChildNodes=function(r,i){var s=i?this.childrenAfterAggFilter:this.childrenAfterGroup;if(Pe(s))return 0;for(var l=0,u=0;u<s.length;u++)l+=s[u].setSelectedParams({newValue:r,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i});return l},c.prototype.addEventListener=function(r,i){this.eventService||(this.eventService=new Ko),this.eventService.addEventListener(r,i)},c.prototype.removeEventListener=function(r,i){!this.eventService||(this.eventService.removeEventListener(r,i),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},c.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(c.EVENT_MOUSE_ENTER))},c.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(c.EVENT_MOUSE_LEAVE))},c.prototype.getFirstChildOfFirstChild=function(r){for(var i=this,s=!0,l=!1,u=null;s&&!l;){var h=i.parent;ee(h)&&i.firstChild?h.rowGroupColumn===r&&(l=!0,u=h):s=!1,i=h}return l?u:null},c.prototype.isFullWidthCell=function(){var r=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!r&&r({rowNode:this})},c.prototype.getRoute=function(){if(null!=this.key){for(var r=[],i=this;null!=i.key;)r.push(i.key),i=i.parent;return r.reverse()}},c.ID_PREFIX_ROW_GROUP="row-group-",c.ID_PREFIX_TOP_PINNED="t-",c.ID_PREFIX_BOTTOM_PINNED="b-",c.OBJECT_ID_SEQUENCE=0,c.EVENT_ROW_SELECTED="rowSelected",c.EVENT_DATA_CHANGED="dataChanged",c.EVENT_CELL_CHANGED="cellChanged",c.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",c.EVENT_MASTER_CHANGED="masterChanged",c.EVENT_GROUP_CHANGED="groupChanged",c.EVENT_MOUSE_ENTER="mouseEnter",c.EVENT_MOUSE_LEAVE="mouseLeave",c.EVENT_HEIGHT_CHANGED="heightChanged",c.EVENT_TOP_CHANGED="topChanged",c.EVENT_DISPLAYED_CHANGED="displayedChanged",c.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",c.EVENT_LAST_CHILD_CHANGED="lastChildChanged",c.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",c.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",c.EVENT_EXPANDED_CHANGED="expandedChanged",c.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",c.EVENT_SELECTABLE_CHANGED="selectableChanged",c.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",c.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",c.EVENT_DRAGGING_CHANGED="draggingChanged",c}(),it=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ep=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Bf=function(c){function r(){return c.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return it(r,c),r.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},r.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},r.prototype.onDataChanged=function(){this.onSelectionChanged()},r.prototype.onSelectableChanged=function(){this.showOrHideSelect()},r.prototype.onSelectionChanged=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.rowNode.isSelected(),l=void 0===s?i("ariaIndeterminate","indeterminate"):!0===s?i("ariaChecked","checked"):i("ariaUnchecked","unchecked"),u=i("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(s,!0),this.eCheckbox.setInputAriaLabel(u+" ("+l+")")},r.prototype.onCheckedClicked=function(i){var s=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:i.shiftKey,groupSelectsFiltered:s})},r.prototype.onUncheckedClicked=function(i){var s=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:i.shiftKey,groupSelectsFiltered:s})},r.prototype.init=function(i){var s=this;if(this.rowNode=i.rowNode,this.column=i.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(g){return ll(g)}),this.addGuiEventListener("dblclick",function(g){return ll(g)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(g){var _=s.eCheckbox.getValue();void 0===s.eCheckbox.getPreviousValue()||void 0===_?0===s.onUncheckedClicked(g||{})&&s.onCheckedClicked(g):_?s.onCheckedClicked(g):s.onUncheckedClicked(g||{})}),this.addManagedListener(this.rowNode,nt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var h=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,h),this.addManagedListener(this.rowNode,nt.EVENT_DATA_CHANGED,h),this.addManagedListener(this.rowNode,nt.EVENT_CELL_CHANGED,h),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},r.prototype.showOrHideSelect=function(){var i=this.rowNode.selectable;i&&this.checkboxCallbackExists()&&(i=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(i)},r.prototype.checkboxCallbackExists=function(){var i=this.column?this.column.getColDef():null;return!!i&&"function"==typeof i.checkboxSelection},ep([ae("eCheckbox")],r.prototype,"eCheckbox",void 0),ep([ge],r.prototype,"postConstruct",null),r}(Me),Q0=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ns=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},X0=function(c){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&c[r],s=0;if(i)return i.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&s>=c.length&&(c=void 0),{value:c&&c[s++],done:!c}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(c){c[c.ToolPanel=0]="ToolPanel",c[c.HeaderCell=1]="HeaderCell",c[c.RowDrag=2]="RowDrag",c[c.ChartPanel=3]="ChartPanel"})(x.rvo||(x.rvo={})),function(c){c[c.Up=0]="Up",c[c.Down=1]="Down"}(x.HO_||(x.HO_={})),function(c){c[c.Left=0]="Left",c[c.Right=1]="Right"}(x.poj||(x.poj={}));var Ki=function(c){function r(){var s=null!==c&&c.apply(this,arguments)||this;return s.dragSourceAndParamsList=[],s.dropTargets=[],s}var i;return Q0(r,c),i=r,r.prototype.init=function(){this.ePinnedIcon=zi("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=zi("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=zi("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=zi("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=zi("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=zi("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=zi("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=zi("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=zi("dropNotAllowed",this.gridOptionsWrapper,null)},r.prototype.addDragSource=function(s,l){void 0===l&&(l=!1);var u={eElement:s.eElement,dragStartPixels:s.dragStartPixels,onDragStart:this.onDragStart.bind(this,s),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:u,dragSource:s}),this.dragService.addDragSource(u,l)},r.prototype.removeDragSource=function(s){var l=this.dragSourceAndParamsList.find(function(u){return u.dragSource===s});l&&(this.dragService.removeDragSource(l.params),Jn(this.dragSourceAndParamsList,l))},r.prototype.clearDragSourceParamsList=function(){var s=this;this.dragSourceAndParamsList.forEach(function(l){return s.dragService.removeDragSource(l.params)}),this.dragSourceAndParamsList.length=0},r.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},r.prototype.onDragStart=function(s,l){this.dragging=!0,this.dragSource=s,this.eventLastTime=l,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},r.prototype.onDragStop=function(s){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var l=this.createDropTargetEvent(this.lastDropTarget,s,null,null,!1);this.lastDropTarget.onDragStop(l)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},r.prototype.onDragging=function(s,l){var u=this,h=this.getHorizontalDirection(s),g=this.getVerticalDirection(s);this.eventLastTime=s,this.positionGhost(s);var _=this.dropTargets.filter(function(M){return u.isMouseOnDropTarget(s,M)}),w=_.length,E=null;if(w>0&&(E=1===w?_[0]:_.reduce(function(M,G){if(!M)return G;var V=M.getContainer(),B=G.getContainer();return V.contains(B)?G:M})),E!==this.lastDropTarget)this.leaveLastTargetIfExists(s,h,g,l),this.enterDragTargetIfExists(E,s,h,g,l),this.lastDropTarget=E;else if(E&&E.onDragging){var D=this.createDropTargetEvent(E,s,h,g,l);E.onDragging(D)}},r.prototype.enterDragTargetIfExists=function(s,l,u,h,g){if(s){if(s.onDragEnter){var _=this.createDropTargetEvent(s,l,u,h,g);s.onDragEnter(_)}this.setGhostIcon(s.getIconName?s.getIconName():null)}},r.prototype.leaveLastTargetIfExists=function(s,l,u,h){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var g=this.createDropTargetEvent(this.lastDropTarget,s,l,u,h);this.lastDropTarget.onDragLeave(g)}this.setGhostIcon(null)}},r.prototype.getAllContainersFromDropTarget=function(s){var l=s.getSecondaryContainers?s.getSecondaryContainers():null,u=[[s.getContainer()]];return l?u.concat(l):u},r.prototype.allContainersIntersect=function(s,l){var u,h;try{for(var g=X0(l),_=g.next();!_.done;_=g.next()){var E=_.value.getBoundingClientRect();if(0===E.width||0===E.height)return!1;if(!(s.clientX>=E.left&&s.clientX<E.right&&s.clientY>=E.top&&s.clientY<E.bottom))return!1}}catch(G){u={error:G}}finally{try{_&&!_.done&&(h=g.return)&&h.call(g)}finally{if(u)throw u.error}}return!0},r.prototype.isMouseOnDropTarget=function(s,l){var u,h,g=this.getAllContainersFromDropTarget(l),_=!1;try{for(var w=X0(g),E=w.next();!E.done;E=w.next())if(this.allContainersIntersect(s,E.value)){_=!0;break}}catch(M){u={error:M}}finally{try{E&&!E.done&&(h=w.return)&&h.call(w)}finally{if(u)throw u.error}}return!(l.targetContainsSource&&!l.getContainer().contains(this.dragSource.eElement))&&_&&l.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},r.prototype.addDropTarget=function(s){this.dropTargets.push(s)},r.prototype.removeDropTarget=function(s){this.dropTargets=this.dropTargets.filter(function(l){return l.getContainer()!==s.getContainer()})},r.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(s){return s.external})},r.prototype.findExternalZone=function(s){return this.dropTargets.filter(function(u){return u.external}).find(function(u){return u.getContainer()===s.getContainer()})||null},r.prototype.getHorizontalDirection=function(s){var l=this.eventLastTime&&this.eventLastTime.clientX,u=s.clientX;return l===u?null:l>u?x.poj.Left:x.poj.Right},r.prototype.getVerticalDirection=function(s){var l=this.eventLastTime&&this.eventLastTime.clientY,u=s.clientY;return l===u?null:l>u?x.HO_.Up:x.HO_.Down},r.prototype.createDropTargetEvent=function(s,l,u,h,g){var _=s.getContainer(),w=_.getBoundingClientRect(),E=this;return{event:l,x:l.clientX-w.left,y:l.clientY-w.top,vDirection:h,hDirection:u,dragSource:E.dragSource,fromNudge:g,dragItem:E.dragItem,api:E.gridApi,columnApi:E.columnApi,dropZoneTarget:_}},r.prototype.positionGhost=function(s){var l=this.eGhost;if(l){var h=l.getBoundingClientRect().height,g=b0()-2,_=E0()-2,w=s.pageY-h/2,E=s.pageX-10,D=this.gridOptionsWrapper.getDocument(),M=D.defaultView||window,G=M.pageYOffset||D.documentElement.scrollTop,V=M.pageXOffset||D.documentElement.scrollLeft;g>0&&E+l.clientWidth>g+V&&(E=g+V-l.clientWidth),E<0&&(E=0),_>0&&w+l.clientHeight>_+G&&(w=_+G-l.clientHeight),w<0&&(w=0),l.style.left=E+"px",l.style.top=w+"px"}},r.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},r.prototype.createGhost=function(){this.eGhost=Zt(i.GHOST_TEMPLATE);var s=this.environment.getTheme().theme;s&&this.eGhost.classList.add(s),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var l=this.eGhost.querySelector(".ag-dnd-ghost-label"),u=this.dragSource.dragItemName;Rd(u)&&(u=u()),l.innerHTML=Je(u)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var h=this.gridOptionsWrapper.getDocument(),g=null;try{g=h.fullscreenElement}catch(_){}finally{g||(g=h.querySelector("body"))}this.eGhostParent=g,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},r.prototype.setGhostIcon=function(s,l){void 0===l&&(l=!1),Wi(this.eGhostIcon);var u=null;switch(s||(s=this.dragSource.defaultIconName||i.ICON_NOT_ALLOWED),s){case i.ICON_PINNED:u=this.ePinnedIcon;break;case i.ICON_MOVE:u=this.eMoveIcon;break;case i.ICON_LEFT:u=this.eLeftIcon;break;case i.ICON_RIGHT:u=this.eRightIcon;break;case i.ICON_GROUP:u=this.eGroupIcon;break;case i.ICON_AGGREGATE:u=this.eAggregateIcon;break;case i.ICON_PIVOT:u=this.ePivotIcon;break;case i.ICON_NOT_ALLOWED:u=this.eDropNotAllowedIcon;break;case i.ICON_HIDE:u=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",l),(u!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&u&&this.eGhostIcon.appendChild(u)},r.ICON_PINNED="pinned",r.ICON_MOVE="move",r.ICON_LEFT="left",r.ICON_RIGHT="right",r.ICON_GROUP="group",r.ICON_AGGREGATE="aggregate",r.ICON_PIVOT="pivot",r.ICON_NOT_ALLOWED="notAllowed",r.ICON_HIDE="hide",r.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Ns([N("dragService")],r.prototype,"dragService",void 0),Ns([N("environment")],r.prototype,"environment",void 0),Ns([N("columnApi")],r.prototype,"columnApi",void 0),Ns([N("gridApi")],r.prototype,"gridApi",void 0),Ns([ge],r.prototype,"init",null),Ns([Zn],r.prototype,"clearDragSourceParamsList",null),i=Ns([we("dragAndDropService")],r)}(pe),Wf=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ns=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},jf=function(c){function r(i,s,l,u,h,g){var _=c.call(this)||this;return _.cellValueFn=i,_.rowNode=s,_.column=l,_.customGui=u,_.dragStartPixels=h,_.suppressVisibilityChange=g,_.dragSource=null,_}return Wf(r,c),r.prototype.isCustomGui=function(){return null!=this.customGui},r.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Gn("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var i=this.beans.gridOptionsWrapper.isRowDragManaged()?new Ju(this,this.beans,this.rowNode,this.column):new Uf(this,this.beans,this.rowNode,this.column);this.createManagedBean(i,this.beans.context)}},r.prototype.setDragElement=function(i,s){this.setTemplateFromElement(i),this.addDragSource(s)},r.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var s=this.beans.selectionService.getSelectedNodes();return-1!==s.indexOf(this.rowNode)?s.length:1},r.prototype.checkCompatibility=function(){var i=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&i&&At(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},r.prototype.addDragSource=function(i){var s=this;void 0===i&&(i=4),this.dragSource&&this.removeDragSource();var l={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},u=this.column&&this.column.getColDef().rowDragText,h=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:x.rvo.RowDrag,eElement:this.getGui(),dragItemName:function(){var g=s.getSelectedCount();return u?u(l,g):1===g?s.cellValueFn():g+" "+h("rowDragRows","rows")},getDragItem:function(){return l},dragStartPixels:i,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},r.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},ns([N("beans")],r.prototype,"beans",void 0),ns([ge],r.prototype,"postConstruct",null),ns([Zn],r.prototype,"removeDragSource",null),r}(Me),Nn=function(c){function r(i,s,l){var u=c.call(this)||this;return u.parent=i,u.rowNode=s,u.column=l,u}return Wf(r,c),r.prototype.setDisplayedOrVisible=function(i){if(i)this.parent.setDisplayed(!1);else{var s=!0,l=!1;this.column&&(s=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),l=Rd(this.column.getColDef().rowDrag)),l?(this.parent.setDisplayed(!0),this.parent.setVisible(s)):(this.parent.setDisplayed(s),this.parent.setVisible(!0))}},r}(pe),Uf=function(c){function r(i,s,l,u){var h=c.call(this,i,l,u)||this;return h.beans=s,h}return Wf(r,c),r.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},r.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},r.prototype.workOutVisibility=function(){var i=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(i)},ns([ge],r.prototype,"postConstruct",null),r}(Nn),Ju=function(c){function r(i,s,l,u){var h=c.call(this,i,l,u)||this;return h.beans=s,h}return Wf(r,c),r.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,L.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,L.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},r.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},r.prototype.workOutVisibility=function(){var s=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),l=s&&s.shouldPreventRowMove(),u=this.beans.gridOptionsWrapper.isSuppressRowDrag(),h=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(l&&!h||u)},ns([ge],r.prototype,"postConstruct",null),r}(Nn),fN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),tp=function(){return tp=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},tp.apply(this,arguments)},_i=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Jr=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return fN(r,c),r.prototype.init=function(i,s,l,u,h,g,_){this.params=_,this.eGui=s,this.eCheckbox=l,this.eExpanded=u,this.eContracted=h,this.comp=i,this.compClass=g;var w=this.isTopLevelFooter(),E=this.isEmbeddedRowMismatch(),D=null==_.value,M=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var G=_.node;G.footer&&(M=(_.colDef&&_.colDef.showRowGroup)!==(G.rowGroupColumn&&G.rowGroupColumn.getColId()))}this.cellIsBlank=!w&&(E||D||M),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},r.prototype.destroy=function(){c.prototype.destroy.call(this),this.expandListener=null},r.prototype.refreshAriaExpanded=function(){var i=this.params,s=i.node,l=i.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var u=function(){Nr(l,!!s.expanded)};this.expandListener=this.addManagedListener(s,nt.EVENT_EXPANDED_CHANGED,u)||null,u()}else O0(l)},r.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var i=this.params.colDef;if(null==i||!0===i.showRowGroup)return!0;var l=this.columnModel.getRowGroupColumns();return!l||0===l.length||l[0].getId()===i.showRowGroup},r.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var i=this.params.pinned===j.PINNED_LEFT,s=this.params.pinned===j.PINNED_RIGHT,l=!i&&!s;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!s:!l:this.columnModel.isPinningLeft()?!i:!l},r.prototype.findDisplayedGroupNode=function(){var i=this.params.column,s=this.params.node;if(this.showingValueForOpenedParent)for(var l=s.parent;null!=l;){if(l.rowGroupColumn&&i.isRowGroupDisplayed(l.rowGroupColumn.getId())){this.displayedGroupNode=l;break}l=l.parent}Pe(this.displayedGroupNode)&&(this.displayedGroupNode=s)},r.prototype.setupShowingValueForOpenedParent=function(){var i=this.params.node,s=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(i.groupData){if(null!=i.rowGroupColumn){var u=i.rowGroupColumn.getId();if(s.isRowGroupDisplayed(u))return void(this.showingValueForOpenedParent=!1)}var g=null!=i.groupData[s.getId()];this.showingValueForOpenedParent=g}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},r.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},r.prototype.addGroupValue=function(){var i=this.adjustParamsWithDetailsFromRelatedColumn(),s=this.getInnerCompDetails(i),l=i.valueFormatted;this.comp.setInnerRenderer(s,null!=l?l:i.value)},r.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var i=this.displayedGroupNode.rowGroupColumn,s=this.params.column;if(!i)return this.params;if(null!=s&&!s.isRowGroupDisplayed(i.getId()))return this.params;var h=this.params,g=this.params,E=this.valueFormatterService.formatValue(i,g.node,g.value);return tp(tp({},h),{valueFormatted:E})},r.prototype.addFooterValue=function(){var i=this.params.footerValueGetter,s="";if(i){var l=Kh(this.params);l.value=this.params.value,"function"==typeof i?s=i(l):"string"==typeof i?s=this.expressionService.evaluate(i,l):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else s="Total "+(null!=this.params.value?this.params.value:"");var u=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(u,s)},r.prototype.getInnerCompDetails=function(i){var s=this;if(i.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,i);var l=this.userComponentFactory.getInnerRendererDetails(i,i),u=function(E){return E&&E.componentClass==s.compClass};if(l&&!u(l))return l;var h=this.displayedGroupNode.rowGroupColumn,g=h?h.getColDef():void 0;if(g){var _=this.userComponentFactory.getCellRendererDetails(g,i);if(_&&!u(_))return _;if(u(_)&&g.cellRendererParams&&g.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(g.cellRendererParams,i)}},r.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,nt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},r.prototype.updateChildCount=function(){var i=this.displayedGroupNode.allChildrenCount,s=this.isShowRowGroupForThisRow();this.comp.setChildCount(s&&null!=i&&i>=0?"("+i+")":"")},r.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var i=this.displayedGroupNode.rowGroupColumn;if(!i)return!1;var s=this.params.column;return null==s||s.isRowGroupDisplayed(i.getId())},r.prototype.addExpandAndContract=function(){var i=this.params,s=Gn("groupExpanded",this.gridOptionsWrapper,null),l=Gn("groupContracted",this.gridOptionsWrapper,null);s&&this.eExpanded.appendChild(s),l&&this.eContracted.appendChild(l);var u=i.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!i.suppressDoubleClickExpand&&this.addManagedListener(u,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(u,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(i.node,nt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var h=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,nt.EVENT_ALL_CHILDREN_COUNT_CHANGED,h),this.addManagedListener(this.displayedGroupNode,nt.EVENT_MASTER_CHANGED,h),this.addManagedListener(this.displayedGroupNode,nt.EVENT_GROUP_CHANGED,h),this.addManagedListener(this.displayedGroupNode,nt.EVENT_HAS_CHILDREN_CHANGED,h)},r.prototype.onExpandClicked=function(i){Qr(i)||(ll(i),this.onExpandOrContract(i))},r.prototype.onExpandOrContract=function(i){var s=this.displayedGroupNode;s.setExpanded(!s.expanded,i)},r.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var i=this.displayedGroupNode,s=this.columnModel.isPivotMode()&&i.leafGroup;if(!i.isExpandable()||i.footer||s)return!1;var u=this.params.column;return null==u||"string"!=typeof u.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},r.prototype.showExpandAndContractIcons=function(){var i=this,l=i.displayedGroupNode,u=i.columnModel,h=i.params.node,g=this.isExpandable();if(g){var _=!!this.showingValueForOpenedParent||h.expanded;this.comp.setExpandedDisplayed(_),this.comp.setContractedDisplayed(!_)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var w=u.isPivotMode(),E=w&&l.leafGroup,D=g&&!E,M=h.footer&&-1===h.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",D),this.comp.addOrRemoveCssClass("ag-row-group",D),w?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",E):M||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!D)},r.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},r.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,nt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},r.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var i=this.params,s=i.node,l=!!i.colDef,u=this.gridOptionsWrapper.isTreeData(),g=!l||u||!0===i.colDef.showRowGroup?s.uiLevel:0;i.padding>=0&&At(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+g,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},r.prototype.addFullWidthRowDraggerIfNeeded=function(){var i=this;if(this.params.fullWidth&&this.params.rowDrag){var s=new jf(function(){return i.params.value},this.params.node);this.createManagedBean(s,this.context),this.eGui.insertAdjacentElement("afterbegin",s.getGui())}},r.prototype.isUserWantsSelected=function(){var i=this.params.checkbox;return"function"==typeof i?i(this.params):!0===i},r.prototype.addCheckboxIfNeeded=function(){var i=this,s=this.displayedGroupNode,l=this.isUserWantsSelected()&&!s.footer&&!s.rowPinned&&!s.detail;if(l){var u=new Bf;this.getContext().createBean(u),u.init({rowNode:s,column:this.params.column}),this.eCheckbox.appendChild(u.getGui()),this.addDestroyFunc(function(){return i.getContext().destroyBean(u)})}this.comp.setCheckboxVisible(l)},r.prototype.onKeyDown=function(i){i.key!==le.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(i)},r.prototype.onCellDblClicked=function(i){Qr(i)||Td(this.eExpanded,i)||Td(this.eContracted,i)||this.onExpandOrContract(i)},_i([N("expressionService")],r.prototype,"expressionService",void 0),_i([N("valueFormatterService")],r.prototype,"valueFormatterService",void 0),_i([N("columnModel")],r.prototype,"columnModel",void 0),_i([N("userComponentFactory")],r.prototype,"userComponentFactory",void 0),_i([N("gridOptions")],r.prototype,"gridOptions",void 0),r}(pe),i_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ms=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},va=function(c){function r(){return c.call(this,r.TEMPLATE)||this}return i_(r,c),r.prototype.init=function(i){var s=this,l={setInnerRenderer:function(_,w){return s.setRenderDetails(_,w)},setChildCount:function(_){return s.eChildCount.innerHTML=_},addOrRemoveCssClass:function(_,w){return s.addOrRemoveCssClass(_,w)},setContractedDisplayed:function(_){return Lt(s.eContracted,_)},setExpandedDisplayed:function(_){return Lt(s.eExpanded,_)},setCheckboxVisible:function(_){return s.eCheckbox.classList.toggle("ag-invisible",!_)}},u=this.createManagedBean(new Jr),h=!i.colDef,g=this.getGui();u.init(l,g,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,i),h&&Un(g,"gridcell")},r.prototype.setRenderDetails=function(i,s){var l=this;if(i){var u=i.newAgStackInstance();if(!u)return;u.then(function(h){if(h){var g=function(){return l.context.destroyBean(h)};l.isAlive()?(l.eValue.appendChild(h.getGui()),l.addDestroyFunc(g)):g()}})}else this.eValue.innerText=s},r.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),c.prototype.destroy.call(this)},r.prototype.refresh=function(){return!1},r.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Ms([ae("eExpanded")],r.prototype,"eExpanded",void 0),Ms([ae("eContracted")],r.prototype,"eContracted",void 0),Ms([ae("eCheckbox")],r.prototype,"eCheckbox",void 0),Ms([ae("eValue")],r.prototype,"eValue",void 0),Ms([ae("eChildCount")],r.prototype,"eChildCount",void 0),r}(Me),r_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),o_=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Z0=function(c){function r(){return c.call(this,r.TEMPLATE)||this}return r_(r,c),r.prototype.init=function(i){i.node.failedLoad?this.setupFailed():this.setupLoading()},r.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},r.prototype.setupLoading=function(){var i=Gn("groupLoading",this.gridOptionsWrapper,null);i&&this.eLoadingIcon.appendChild(i);var s=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=s("loadingOoo","Loading")},r.prototype.refresh=function(i){return!1},r.prototype.destroy=function(){c.prototype.destroy.call(this)},r.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',o_([ae("eLoadingIcon")],r.prototype,"eLoadingIcon",void 0),o_([ae("eLoadingText")],r.prototype,"eLoadingText",void 0),r}(Me),gN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),mN=function(c){function r(){return c.call(this)||this}return gN(r,c),r.prototype.destroy=function(){c.prototype.destroy.call(this)},r.prototype.init=function(i){var s=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():r.DEFAULT_LOADING_OVERLAY_TEMPLATE,l=this.gridOptionsWrapper.getLocaleTextFunc(),u=s.replace("[LOADING...]",l("loadingOoo","Loading..."));this.setTemplate(u)},r.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',r}(Me),s_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),cr=function(c){function r(){return c.call(this)||this}return s_(r,c),r.prototype.destroy=function(){c.prototype.destroy.call(this)},r.prototype.init=function(i){var s=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():r.DEFAULT_NO_ROWS_TEMPLATE,l=this.gridOptionsWrapper.getLocaleTextFunc(),u=s.replace("[NO_ROWS_TO_SHOW]",l("noRowsToShow","No Rows To Show"));this.setTemplate(u)},r.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',r}(Me),zf=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Rl=function(c){function r(){return c.call(this,'<div class="ag-tooltip"></div>')||this}return zf(r,c),r.prototype.init=function(i){var s=i.value;this.getGui().innerHTML=Je(s)},r}(ga),vN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ec=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},a_=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.agGridDefaults={agDateInput:pN,agColumnHeader:Lf,agColumnGroupHeader:Xd,agTextColumnFloatingFilter:Ff,agNumberColumnFloatingFilter:hN,agDateColumnFloatingFilter:U0,agReadOnlyFloatingFilter:cN,agAnimateShowChangeCellRenderer:Vf,agAnimateSlideCellRenderer:Jd,agGroupCellRenderer:va,agGroupRowRenderer:va,agLoadingCellRenderer:Z0,agCellEditor:ts,agTextCellEditor:ts,agSelectCellEditor:wl,agPopupTextCellEditor:Zd,agPopupSelectCellEditor:e_,agLargeTextCellEditor:kf,agTextColumnFilter:es,agNumberColumnFilter:Yu,agDateColumnFilter:fa,agLoadingOverlay:mN,agNoRowsOverlay:cr,agTooltipComponent:Rl},i.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},i.jsComps={},i.fwComps={},i}return vN(r,c),r.prototype.init=function(){var i=this;null!=this.gridOptions.components&&Tt(this.gridOptions.components,function(s,l){return i.registerJsComponent(s,l)}),null!=this.gridOptions.frameworkComponents&&Tt(this.gridOptions.frameworkComponents,function(s,l){return i.registerFwComponent(s,l)})},r.prototype.registerDefaultComponent=function(i,s){var l=this.translateIfDeprecated(i);this.agGridDefaults[l]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[l]=s},r.prototype.registerJsComponent=function(i,s){var l=this.translateIfDeprecated(i);this.fwComps[l]?console.error("Trying to register a component that you have already registered for frameworks: "+l):this.jsComps[l]=s},r.prototype.registerFwComponent=function(i,s){At(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var u=this.translateIfDeprecated(i);this.fwComps[u]=s},r.prototype.retrieve=function(i){var s=this.translateIfDeprecated(i),l=function(E,D){return{componentFromFramework:D,component:E}},u=this.getFrameworkOverrides().frameworkComponent(s);if(null!=u)return l(u,!0);var h=this.fwComps[s];if(h)return l(h,!0);var g=this.jsComps[s];if(g)return l(g,this.getFrameworkOverrides().isFrameworkComponent(g));var w=this.agGridDefaults[s];return w?l(w,!1):(Object.keys(this.agGridDefaults).indexOf(s)<0&&console.warn("AG Grid: Looking for component ["+s+"] but it wasn't found."),null)},r.prototype.translateIfDeprecated=function(i){var s=this.agDeprecatedNames[i];return null!=s?(At(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+s.propertyHolder+":"+i+" to "+s.propertyHolder+":"+s.newComponentName)},"DEPRECATE_COMPONENT_"+i),s.newComponentName):i},ec([N("gridOptions")],r.prototype,"gridOptions",void 0),ec([N("agComponentUtils")],r.prototype,"agComponentUtils",void 0),ec([ge],r.prototype,"init",null),ec([we("userComponentRegistry")],r)}(pe),J0={propertyName:"dateComponent",cellRenderer:!1},eS={propertyName:"headerComponent",cellRenderer:!1},tS={propertyName:"headerGroupComponent",cellRenderer:!1},l_={propertyName:"cellRenderer",cellRenderer:!0},u_={propertyName:"cellEditor",cellRenderer:!1},np={propertyName:"innerRenderer",cellRenderer:!0},ip={propertyName:"loadingOverlayComponent",cellRenderer:!1},yN={propertyName:"noRowsOverlayComponent",cellRenderer:!1},tc={propertyName:"tooltipComponent",cellRenderer:!1},nc={propertyName:"filter",cellRenderer:!1},rp={propertyName:"floatingFilterComponent",cellRenderer:!1},nS={propertyName:"toolPanel",cellRenderer:!1},iS={propertyName:"statusPanel",cellRenderer:!1},rS={propertyName:"fullWidthCellRenderer",cellRenderer:!0},c_={propertyName:"loadingCellRenderer",cellRenderer:!0},oS={propertyName:"groupRowRenderer",cellRenderer:!0},ic={propertyName:"detailCellRenderer",cellRenderer:!0},$f=function(){function c(){}return c.getFloatingFilterType=function(r){return this.filterToFloatingFilterMapping[r]},c.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},c}(),sS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),me=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Kf=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return sS(r,c),r.prototype.getHeaderCompDetails=function(i,s){return this.getCompDetails(i,eS,"agColumnHeader",s)},r.prototype.getHeaderGroupCompDetails=function(i){var s=i.columnGroup.getColGroupDef();return this.getCompDetails(s,tS,"agColumnGroupHeader",i)},r.prototype.getFullWidthCellRendererDetails=function(i){return this.getCompDetails(this.gridOptions,rS,null,i,!0)},r.prototype.getFullWidthLoadingCellRendererDetails=function(i){return this.getCompDetails(this.gridOptions,c_,"agLoadingCellRenderer",i,!0)},r.prototype.getFullWidthGroupCellRendererDetails=function(i){return this.getCompDetails(this.gridOptions,oS,"agGroupRowRenderer",i,!0)},r.prototype.getFullWidthDetailCellRendererDetails=function(i){return this.getCompDetails(this.gridOptions,ic,"agDetailCellRenderer",i,!0)},r.prototype.getInnerRendererDetails=function(i,s){return this.getCompDetails(i,np,null,s)},r.prototype.getFullWidthGroupRowInnerCellRenderer=function(i,s){return this.getCompDetails(i,np,null,s)},r.prototype.getCellRendererDetails=function(i,s){return this.getCompDetails(i,l_,null,s)},r.prototype.getCellEditorDetails=function(i,s){return this.getCompDetails(i,u_,"agCellEditor",s,!0)},r.prototype.getFilterDetails=function(i,s,l){return this.getCompDetails(i,nc,l,s,!0)},r.prototype.getDateCompDetails=function(i){return this.getCompDetails(this.gridOptions,J0,"agDateInput",i,!0)},r.prototype.getLoadingOverlayCompDetails=function(i){return this.getCompDetails(this.gridOptions,ip,"agLoadingOverlay",i,!0)},r.prototype.getNoRowsOverlayCompDetails=function(i){return this.getCompDetails(this.gridOptions,yN,"agNoRowsOverlay",i,!0)},r.prototype.getTooltipCompDetails=function(i){return this.getCompDetails(i.colDef,tc,"agTooltipComponent",i,!0)},r.prototype.getSetFilterCellRendererDetails=function(i,s){return this.getCompDetails(i,l_,null,s)},r.prototype.getFloatingFilterCompDetails=function(i,s,l){return this.getCompDetails(i,rp,l,s)},r.prototype.getToolPanelCompDetails=function(i,s){return this.getCompDetails(i,nS,null,s,!0)},r.prototype.getStatusPanelCompDetails=function(i,s){return this.getCompDetails(i,iS,null,s,!0)},r.prototype.getCompDetails=function(i,s,l,u,h){var g=this;void 0===h&&(h=!1);var _=s.propertyName,w=s.cellRenderer,E=this.getCompKeys(i,s,u),D=E.compName,M=E.jsComp,G=E.fwComp,V=E.paramsFromSelector,B=E.popupFromSelector,q=E.popupPositionFromSelector,Z=function(Se){var ke=g.userComponentRegistry.retrieve(Se);ke&&(M=ke.componentFromFramework?void 0:ke.component,G=ke.componentFromFramework?ke.component:void 0)};if(null!=D&&Z(D),null==M&&null==G&&null!=l&&Z(l),M&&w&&!this.agComponentUtils.doesImplementIComponent(M)&&(M=this.agComponentUtils.adaptFunction(_,M)),M||G){var J=this.mergeParamsWithApplicationProvidedParams(i,s,u,V),oe=null==M,fe=M||G;return{componentFromFramework:oe,componentClass:fe,params:J,type:s,popupFromSelector:B,popupPositionFromSelector:q,newAgStackInstance:function(){return g.newAgStackInstance(fe,oe,J,s)}}}h&&console.error("Could not find component "+D+", did you forget to configure this component?")},r.prototype.getCompKeys=function(i,s,l){var g,_,w,E,D,M,u=this,h=s.propertyName;if(i){var G=i,V=G[h+"Selector"],B=V?V(l):null,q=function(J,oe){var fe=function(){var ke="AG Grid: As of v27, the property "+h+"Framework is deprecated. The property "+h+" can now be used for JavaScript AND Framework Components.";At(function(){return console.warn(ke)},"UserComponentFactory."+h+"FrameworkDeprecated")};"string"==typeof J?g=J:"string"==typeof oe?(fe(),g=oe):null!=J&&!0!==J?u.getFrameworkOverrides().isFrameworkComponent(J)?w=J:_=J:null!=oe&&(fe(),w=oe)};if(B){if(null!=B.frameworkComponent){var Z="AG Grid: As of v27, the return for "+h+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";At(function(){return console.warn(Z)},"UserComponentFactory."+h+"FrameworkSelectorDeprecated"),q(B.frameworkComponent,void 0)}else q(B.component,void 0);E=B.params,D=B.popup,M=B.popupPosition}else q(G[h],G[h+"Framework"])}return{compName:g,jsComp:_,fwComp:w,paramsFromSelector:E,popupFromSelector:D,popupPositionFromSelector:M}},r.prototype.newAgStackInstance=function(i,s,l,u){var _;if(s){var w=this.componentMetadataProvider.retrieve(u.propertyName);_=this.frameworkComponentWrapper.wrap(i,w.mandatoryMethodList,w.optionalMethodList,u)}else _=new i;var E=this.initComponent(_,l);return null==E?Pi.resolve(_):E.then(function(){return _})},r.prototype.mergeParamsWithApplicationProvidedParams=function(i,s,l,u){void 0===u&&(u=null);var h={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};Oi(h,l);var _=i&&i[s.propertyName+"Params"];return"function"==typeof _?Oi(h,_(l)):"object"==typeof _&&Oi(h,_),Oi(h,u),h},r.prototype.initComponent=function(i,s){if(this.context.createBean(i),null!=i.init)return i.init(s)},r.prototype.getDefaultFloatingFilterType=function(i){if(null==i)return null;var s=null,l=this.getCompKeys(i,nc),u=l.compName,h=l.jsComp,g=l.fwComp;return u?s=$f.getFloatingFilterType(u):null==h&&null==g&&!0===i.filter&&(s=He.isRegistered(x.GXE.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),s},me([N("gridOptions")],r.prototype,"gridOptions",void 0),me([N("agComponentUtils")],r.prototype,"agComponentUtils",void 0),me([N("componentMetadataProvider")],r.prototype,"componentMetadataProvider",void 0),me([N("userComponentRegistry")],r.prototype,"userComponentRegistry",void 0),me([vt("frameworkComponentWrapper")],r.prototype,"frameworkComponentWrapper",void 0),me([we("userComponentFactory")],r)}(pe);!function(c){c[c.SINGLE_SHEET=0]="SINGLE_SHEET",c[c.MULTI_SHEET=1]="MULTI_SHEET"}(x.nPL||(x.nPL={}));var aS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),is=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Ol=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.dragEndFunctions=[],i.dragSources=[],i}return aS(r,c),r.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},r.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},r.prototype.removeListener=function(i){var s=i.dragSource.eElement;s.removeEventListener("mousedown",i.mouseDownListener),i.touchEnabled&&s.removeEventListener("touchstart",i.touchStartListener,{passive:!0})},r.prototype.removeDragSource=function(i){var s=this.dragSources.find(function(l){return l.dragSource===i});!s||(this.removeListener(s),Jn(this.dragSources,s))},r.prototype.isDragging=function(){return this.dragging},r.prototype.addDragSource=function(i,s){var l=this;void 0===s&&(s=!1);var u=this.onMouseDown.bind(this,i);i.eElement.addEventListener("mousedown",u);var h=null,g=this.gridOptionsWrapper.isSuppressTouch();s&&!g&&i.eElement.addEventListener("touchstart",h=function(_){_.cancelable&&_.preventDefault(),l.onTouchStart(i,_)},{passive:!0}),this.dragSources.push({dragSource:i,mouseDownListener:u,touchStartListener:h,touchEnabled:s})},r.prototype.onTouchStart=function(i,s){var l=this;this.currentDragParams=i,this.dragging=!1;var u=s.touches[0];this.touchLastTime=u,this.touchStart=u;var g=function(D){return l.onTouchUp(D,i.eElement)},w=i.eElement,E=[{target:document,type:"touchmove",listener:function(D){D.cancelable&&D.preventDefault()},options:{passive:!1}},{target:w,type:"touchmove",listener:function(D){return l.onTouchMove(D,i.eElement)},options:{passive:!0}},{target:w,type:"touchend",listener:g,options:{passive:!0}},{target:w,type:"touchcancel",listener:g,options:{passive:!0}}];this.addTemporaryEvents(E),0===i.dragStartPixels&&this.onCommonMove(u,this.touchStart,i.eElement)},r.prototype.onMouseDown=function(i,s){var l=this,u=s;if(!(i.skipMouseEvent&&i.skipMouseEvent(s)||u._alreadyProcessedByDragService||(u._alreadyProcessedByDragService=!0,0!==s.button))){this.currentDragParams=i,this.dragging=!1,this.mouseStartEvent=s;var h=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:h,type:"mousemove",listener:function(M){return l.onMouseMove(M,i.eElement)}},{target:h,type:"mouseup",listener:function(M){return l.onMouseUp(M,i.eElement)}},{target:h,type:"contextmenu",listener:function(M){return M.preventDefault()}}]),0===i.dragStartPixels&&this.onMouseMove(s,i.eElement)}},r.prototype.addTemporaryEvents=function(i){i.forEach(function(s){s.target.addEventListener(s.type,s.listener,s.options)}),this.dragEndFunctions.push(function(){i.forEach(function(s){s.target.removeEventListener(s.type,s.listener,s.options)})})},r.prototype.isEventNearStartEvent=function(i,s){var l=this.currentDragParams.dragStartPixels;return Sf(i,s,ee(l)?l:4)},r.prototype.getFirstActiveTouch=function(i){for(var s=0;s<i.length;s++)if(i[s].identifier===this.touchStart.identifier)return i[s];return null},r.prototype.onCommonMove=function(i,s,l){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(i,s))return;this.dragging=!0,this.eventService.dispatchEvent({type:L.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:l}),this.currentDragParams.onDragStart(s),this.currentDragParams.onDragging(s)}this.currentDragParams.onDragging(i)},r.prototype.onTouchMove=function(i,s){var l=this.getFirstActiveTouch(i.touches);!l||this.onCommonMove(l,this.touchStart,s)},r.prototype.onMouseMove=function(i,s){Or()&&"mousemove"===i.type&&i.cancelable&&this.mouseEventService.isEventFromThisGrid(i)&&!this.isOverFormFieldElement(i)&&i.preventDefault(),this.onCommonMove(i,this.mouseStartEvent,s)},r.prototype.isOverFormFieldElement=function(i){var s,l;return!!(null===(l=null===(s=i.target)||void 0===s?void 0:s.tagName.toLocaleLowerCase())||void 0===l?void 0:l.match("^a$|textarea|input|select|button"))},r.prototype.onTouchUp=function(i,s){var l=this.getFirstActiveTouch(i.changedTouches);l||(l=this.touchLastTime),this.onUpCommon(l,s)},r.prototype.onMouseUp=function(i,s){this.onUpCommon(i,s)},r.prototype.onUpCommon=function(i,s){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(i),this.eventService.dispatchEvent({type:L.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:s})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(u){return u()}),this.dragEndFunctions.length=0},is([N("loggerFactory")],r.prototype,"loggerFactory",void 0),is([N("columnApi")],r.prototype,"columnApi",void 0),is([N("gridApi")],r.prototype,"gridApi",void 0),is([N("mouseEventService")],r.prototype,"mouseEventService",void 0),is([ge],r.prototype,"init",null),is([Zn],r.prototype,"removeAllListeners",null),is([we("dragService")],r)}(pe),lS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),op=function(){return op=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},op.apply(this,arguments)},Po=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},rc=function(c){function r(){var s=null!==c&&c.apply(this,arguments)||this;return s.allColumnFilters=new Map,s.activeAggregateFilters=[],s.activeColumnFilters=[],s.quickFilter=null,s.quickFilterParts=null,s.processingFilterChange=!1,s}var i;return lS(r,c),i=r,r.prototype.init=function(){var s=this;this.addManagedListener(this.eventService,L.EVENT_GRID_COLUMNS_CHANGED,function(){return s.onColumnsChanged()}),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VALUE_CHANGED,function(){return s.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_CHANGED,function(){return s.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return s.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},r.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},r.prototype.setFilterModel=function(s){var l=this,u=[],h=this.getFilterModel();if(s){var g=Hu(Object.keys(s));this.allColumnFilters.forEach(function(_,w){u.push(l.setModelOnFilterWrapper(_.filterPromise,s[w])),g.delete(w)}),g.forEach(function(_){var w=l.columnModel.getPrimaryColumn(_)||l.columnModel.getGridColumn(_);if(w)if(w.isFilterAllowed()){var E=l.getOrCreateFilterWrapper(w,"NO_UI");E?u.push(l.setModelOnFilterWrapper(E.filterPromise,s[_])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+_)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+_);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+_)})}else this.allColumnFilters.forEach(function(_){u.push(l.setModelOnFilterWrapper(_.filterPromise,null))});Pi.all(u).then(function(){var _=l.getFilterModel(),w=[];l.allColumnFilters.forEach(function(E,D){Le.jsonEquals(h?h[D]:null,_?_[D]:null)||w.push(E.column)}),w.length>0&&l.onFilterChanged({columns:w})})},r.prototype.setModelOnFilterWrapper=function(s,l){return new Pi(function(u){s.then(function(h){"function"!=typeof h.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),u()),(h.setModel(l)||Pi.resolve()).then(function(){return u()})})})},r.prototype.getFilterModel=function(){var s={};return this.allColumnFilters.forEach(function(l,u){var g=l.filterPromise.resolveNow(null,function(w){return w});if(null==g)return null;if("function"==typeof g.getModel){var _=g.getModel();ee(_)&&(s[u]=_)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),s},r.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},r.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},r.prototype.doAggregateFiltersPass=function(s,l){return this.doColumnFiltersPass(s,l,!0)},r.prototype.updateActiveFilters=function(){var s=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var l=function(g){return!!g&&(g.isFilterActive?g.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},u=!!this.gridOptionsWrapper.getGroupAggFiltering();this.allColumnFilters.forEach(function(g){if(g.filterPromise.resolveNow(!1,l)){var _=g.filterPromise.resolveNow(null,function(w){return w});!function(g){if(!g.isPrimary())return!0;var w=!s.columnModel.isPivotActive();return!(!g.isValueActive()||!w)&&(!!s.columnModel.isPivotMode()||u)}(g.column)?s.activeColumnFilters.push(_):s.activeAggregateFilters.push(_)}})},r.prototype.updateFilterFlagInColumns=function(s,l){this.allColumnFilters.forEach(function(u){var h=u.filterPromise.resolveNow(!1,function(g){return g.isFilterActive()});u.column.setFilterActive(h,s,l)})},r.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},r.prototype.doColumnFiltersPass=function(s,l,u){for(var _=u?this.activeAggregateFilters:this.activeColumnFilters,w=u?s.aggData:s.data,E=0;E<_.length;E++){var D=_[E];if(null!=D&&D!==l){if("function"!=typeof D.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!D.doesFilterPass({node:s,data:w}))return!1}}return!0},r.prototype.parseQuickFilter=function(s){return ee(s)?this.gridOptionsWrapper.isRowModelDefault()?s.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},r.prototype.setQuickFilter=function(s){if(null==s||"string"==typeof s){var l=this.parseQuickFilter(s);this.quickFilter!==l&&(this.quickFilter=l,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof s)},r.prototype.refreshFiltersForAggregations=function(){this.gridOptionsWrapper.getGroupAggFiltering()&&this.onFilterChanged()},r.prototype.callOnFilterChangedOutsideRenderCycle=function(s){var l=this;void 0===s&&(s={});var u=function(){return l.onFilterChanged(s)};this.rowRenderer.isRefreshInProgress()?setTimeout(u,0):u()},r.prototype.onFilterChanged=function(s){void 0===s&&(s={});var l=s.filterInstance,u=s.additionalEventAttributes,h=s.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",u),this.allColumnFilters.forEach(function(_){!_.filterPromise||_.filterPromise.then(function(w){w&&w!==l&&w.onAnyFilterChanged&&w.onAnyFilterChanged()})});var g={type:L.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:h||[]};u&&Oi(g,u),this.processingFilterChange=!0,this.eventService.dispatchEvent(g),this.processingFilterChange=!1},r.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},r.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},r.prototype.doesRowPassOtherFilters=function(s,l){return this.doesRowPassFilter({rowNode:l,filterInstanceToSkip:s})},r.prototype.doesRowPassQuickFilterNoCache=function(s,l){var u=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(g){var _=u.getQuickFilterTextForColumn(g,s);return ee(_)&&_.indexOf(l)>=0})},r.prototype.doesRowPassQuickFilterCache=function(s,l){return s.quickFilterAggregateText||this.aggregateRowForQuickFilter(s),s.quickFilterAggregateText.indexOf(l)>=0},r.prototype.doesRowPassQuickFilter=function(s){var l=this,u=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(h){return u?l.doesRowPassQuickFilterCache(s,h):l.doesRowPassQuickFilterNoCache(s,h)})},r.prototype.doesRowPassAggregateFilters=function(s){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(s.rowNode,s.filterInstanceToSkip))},r.prototype.doesRowPassFilter=function(s){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(s.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(s.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(s.rowNode,s.filterInstanceToSkip))},r.prototype.getQuickFilterTextForColumn=function(s,l){var u=this.valueService.getValue(s,l,!0),h=s.getColDef();if(h.getQuickFilterText){var g={value:u,node:l,data:l.data,column:s,colDef:h,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};u=h.getQuickFilterText(g)}return ee(u)?u.toString().toUpperCase():null},r.prototype.aggregateRowForQuickFilter=function(s){var l=this,u=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(g){var _=l.getQuickFilterTextForColumn(g,s);ee(_)&&u.push(_)}),s.quickFilterAggregateText=u.join(i.QUICK_FILTER_SEPARATOR)},r.prototype.onNewRowsLoaded=function(s){this.allColumnFilters.forEach(function(l){l.filterPromise.then(function(u){u.onNewRowsLoaded&&u.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(s),this.updateActiveFilters()},r.prototype.createValueGetter=function(s){var l=this;return function(u){return l.valueService.getValue(s,u.node,!0)}},r.prototype.getFilterComponent=function(s,l,u){var h;if(void 0===u&&(u=!0),u)return(null===(h=this.getOrCreateFilterWrapper(s,l))||void 0===h?void 0:h.filterPromise)||null;var g=this.cachedFilter(s);return g?g.filterPromise:null},r.prototype.isFilterActive=function(s){var l=this.cachedFilter(s);return!!l&&l.filterPromise.resolveNow(!1,function(u){return u.isFilterActive()})},r.prototype.getOrCreateFilterWrapper=function(s,l){if(!s.isFilterAllowed())return null;var u=this.cachedFilter(s);return u?"NO_UI"!==l&&this.putIntoGui(u,l):(u=this.createFilterWrapper(s,l),this.allColumnFilters.set(s.getColId(),u)),u},r.prototype.cachedFilter=function(s){return this.allColumnFilters.get(s.getColId())},r.prototype.createFilterInstance=function(s){var g,l=this,u=He.isRegistered(x.GXE.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",h=s.getColDef(),_=op(op({},this.createFilterParams(s,h)),{filterModifiedCallback:function(){l.eventService.dispatchEvent({type:L.EVENT_FILTER_MODIFIED,api:l.gridApi,columnApi:l.columnApi,column:s,filterInstance:g})},filterChangedCallback:function(D){l.callOnFilterChangedOutsideRenderCycle({filterInstance:g,additionalEventAttributes:D,columns:[s]})},doesRowPassOtherFilter:function(D){return l.doesRowPassOtherFilters(g,D)}}),w=this.userComponentFactory.getFilterDetails(h,_,u);if(!w)return null;var E=w.newAgStackInstance();return E&&E.then(function(D){return g=D}),E},r.prototype.createFilterParams=function(s,l){return{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:s,colDef:Kh(l),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(s),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}}},r.prototype.createFilterWrapper=function(s,l){var u={column:s,filterPromise:null,compiledElement:null,guiPromise:Pi.resolve(null)};return u.filterPromise=this.createFilterInstance(s),u.filterPromise&&this.putIntoGui(u,l),u},r.prototype.putIntoGui=function(s,l){var u=this,h=document.createElement("div");h.className="ag-filter",s.guiPromise=new Pi(function(g){s.filterPromise.then(function(_){var w=_.getGui();ee(w)||console.warn("AG Grid: getGui method from filter returned "+w+", it should be a DOM element or an HTML template string."),"string"==typeof w&&(w=Zt(w)),h.appendChild(w),g(h),u.eventService.dispatchEvent({type:L.EVENT_FILTER_OPENED,column:s.column,source:l,eGui:h,api:u.gridApi,columnApi:u.columnApi})})})},r.prototype.onColumnsChanged=function(){var s=this,l=[];this.allColumnFilters.forEach(function(u,h){!(u.column.isPrimary()?s.columnModel.getPrimaryColumn(h):s.columnModel.getGridColumn(h))&&(l.push(u.column),s.disposeFilterWrapper(u,"filterDestroyed"))}),l.length>0&&this.onFilterChanged({columns:l})},r.prototype.destroyFilter=function(s,l){void 0===l&&(l="api");var u=this.allColumnFilters.get(s.getColId());u&&(this.disposeFilterWrapper(u,l),this.onFilterChanged({columns:[s]}))},r.prototype.disposeFilterWrapper=function(s,l){var u=this;s.filterPromise.then(function(h){(h.setModel(null)||Pi.resolve()).then(function(){u.getContext().destroyBean(h),s.column.setFilterActive(!1,l),u.allColumnFilters.delete(s.column.getColId())})})},r.prototype.destroy=function(){var s=this;c.prototype.destroy.call(this),this.allColumnFilters.forEach(function(l){return s.disposeFilterWrapper(l,"filterDestroyed")})},r.QUICK_FILTER_SEPARATOR="\n",Po([N("valueService")],r.prototype,"valueService",void 0),Po([N("columnModel")],r.prototype,"columnModel",void 0),Po([N("rowModel")],r.prototype,"rowModel",void 0),Po([N("columnApi")],r.prototype,"columnApi",void 0),Po([N("gridApi")],r.prototype,"gridApi",void 0),Po([N("userComponentFactory")],r.prototype,"userComponentFactory",void 0),Po([N("rowRenderer")],r.prototype,"rowRenderer",void 0),Po([ge],r.prototype,"init",null),Po([Zn],r.prototype,"destroy",null),i=Po([we("filterManager")],r)}(pe),Is=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),sp=function(c){function r(i,s){var l=c.call(this,i)||this;return l.ctrl=s,l}return Is(r,c),r.prototype.getCtrl=function(){return this.ctrl},r}(Me),oc=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ap=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},qf=function(c){function r(i){return c.call(this,r.TEMPLATE,i)||this}return oc(r,c),r.prototype.postConstruct=function(){var i=this,s=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(u,h){return i.addOrRemoveCssClass(u,h)},addOrRemoveBodyCssClass:function(u,h){return i.eFloatingFilterBody.classList.toggle(u,h)},addOrRemoveButtonWrapperCssClass:function(u,h){return i.eButtonWrapper.classList.toggle(u,h)},setCompDetails:function(u){return i.setCompDetails(u)},getFloatingFilterComp:function(){return i.compPromise},setWidth:function(u){return s.style.width=u},setMenuIcon:function(u){return i.eButtonShowMainFilter.appendChild(u)}},s,this.eButtonShowMainFilter,this.eFloatingFilterBody)},r.prototype.setCompDetails=function(i){var s=this;this.compPromise=i.newAgStackInstance(),this.compPromise.then(function(l){return s.afterCompCreated(l)})},r.prototype.afterCompCreated=function(i){var s=this;!i||(this.addDestroyFunc(function(){return s.context.destroyBean(i)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(i.getGui()),i.afterGuiAttached&&i.afterGuiAttached()))},r.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',ap([ae("eFloatingFilterBody")],r.prototype,"eFloatingFilterBody",void 0),ap([ae("eButtonWrapper")],r.prototype,"eButtonWrapper",void 0),ap([ae("eButtonShowMainFilter")],r.prototype,"eButtonShowMainFilter",void 0),ap([ge],r.prototype,"postConstruct",null),r}(sp),lp=function(){function c(){}return c.parse=function(r){if(!r)return null;if(!0===r)return{toolPanels:[c.DEFAULT_COLUMN_COMP,c.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof r)return c.parse([r]);if(Array.isArray(r)){var i=[];return r.forEach(function(l){var u=c.DEFAULT_BY_KEY[l];u?i.push(u):console.warn("AG Grid: the key "+l+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(c.DEFAULT_BY_KEY).join(","))}),0===i.length?null:{toolPanels:i,defaultToolPanel:i[0].id}}return{toolPanels:c.parseComponents(r.toolPanels),defaultToolPanel:r.defaultToolPanel,hiddenByDefault:r.hiddenByDefault,position:r.position}},c.parseComponents=function(r){var i=[];return r&&r.forEach(function(s){var l=null;if("string"==typeof s){var u=c.DEFAULT_BY_KEY[s];if(!u)return void console.warn("AG Grid: the key "+s+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(c.DEFAULT_BY_KEY).join(","));l=u}else l=s;i.push(l)}),i},c.DEFAULT_BY_KEY={columns:c.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:c.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},c}(),ya=function(){return ya=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},ya.apply(this,arguments)},rs=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},d_=function(c,r){return function(i,s){r(i,s,c)}},uS=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},xs=function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(uS(arguments[r]));return c};function ne(c){return!0===c||"true"===c}function Yf(c){return"number"==typeof c?c:"string"==typeof c?parseInt(c,10):void 0}function h_(c,r){var i=parseInt(c,10);return Vd(i)&&i>0?i:r}var _e=function(){function c(){this.propertyEventService=new Ko,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var r;return r=c,c.prototype.agWire=function(i,s){this.gridOptions.api=i,this.gridOptions.columnApi=s,this.checkForDeprecated(),this.checkForViolations()},c.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},c.prototype.init=function(){var i=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=lp.parse(this.gridOptions.sideBar));var s=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),s),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var l=function(h){return"AG Grid: '"+h+"' is not supported on the Server-Side Row Model"};ee(this.gridOptions.groupDefaultExpanded)&&console.warn(l("groupDefaultExpanded")),ee(this.gridOptions.groupDefaultExpanded)&&console.warn(l("groupIncludeFooter")),ee(this.gridOptions.groupDefaultExpanded)&&console.warn(l("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&He.assertRegistered(x.GXE.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var u=function(h){i.gridOptions.icons&&i.gridOptions.icons[h]&&console.warn("gridOptions.icons."+h+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};u("radioButtonOff"),u("radioButtonOn"),u("checkboxChecked"),u("checkboxUnchecked"),u("checkboxIndeterminate"),this.getScrollbarWidth()},c.prototype.checkColumnDefProperties=function(){var i=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(s){var l=Object.getOwnPropertyNames(s),u=xs(tt.ALL_PROPERTIES,tt.FRAMEWORK_PROPERTIES);i.checkProperties(l,u,u,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},c.prototype.checkGridOptionsProperties=function(){var i=Object.getOwnPropertyNames(this.gridOptions),s=xs(qo.ALL_PROPERTIES,qo.FRAMEWORK_PROPERTIES,bs(L).map(function(u){return yt.getCallbackForEvent(u)})),l=xs(s,["api","columnApi"]);this.checkProperties(i,l,s,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},c.prototype.checkProperties=function(i,s,l,u,h){var g=Hd(i,s,l);Tt(g,function(_,w){console.warn("ag-grid: invalid "+u+" property '"+_+"' did you mean any of these: "+w.slice(0,8).join(", "))}),Object.keys(g).length>0&&console.warn("ag-grid: to see all the valid "+u+" properties please check: "+h)},c.prototype.mergeGridCommonParams=function(i){var s=this;return i?function(u){var h=ya(ya({},u),{api:s.getApi(),columnApi:s.getColumnApi(),context:s.getContext()});return i(h)}:i},c.prototype.getDomDataKey=function(){return this.domDataKey},c.prototype.getDomData=function(i,s){var l=i[this.getDomDataKey()];return l?l[s]:void 0},c.prototype.setDomData=function(i,s,l){var u=this.getDomDataKey(),h=i[u];Pe(h)&&(i[u]=h={}),h[s]=l},c.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},c.prototype.isSuppressRowDeselection=function(){return ne(this.gridOptions.suppressRowDeselection)},c.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},c.prototype.isRowMultiSelectWithClick=function(){return ne(this.gridOptions.rowMultiSelectWithClick)},c.prototype.getContext=function(){return this.gridOptions.context},c.prototype.isPivotMode=function(){return ne(this.gridOptions.pivotMode)},c.prototype.isSuppressExpandablePivotGroups=function(){return ne(this.gridOptions.suppressExpandablePivotGroups)},c.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},c.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},c.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===j.ROW_MODEL_TYPE_INFINITE},c.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===j.ROW_MODEL_TYPE_VIEWPORT},c.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===j.ROW_MODEL_TYPE_SERVER_SIDE},c.prototype.isRowModelDefault=function(){return Pe(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===j.ROW_MODEL_TYPE_CLIENT_SIDE},c.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},c.prototype.isSuppressFocusAfterRefresh=function(){return ne(this.gridOptions.suppressFocusAfterRefresh)},c.prototype.isSuppressBrowserResizeObserver=function(){return ne(this.gridOptions.suppressBrowserResizeObserver)},c.prototype.isSuppressMaintainUnsortedOrder=function(){return ne(this.gridOptions.suppressMaintainUnsortedOrder)},c.prototype.isSuppressClearOnFillReduction=function(){return ne(this.gridOptions.suppressClearOnFillReduction)},c.prototype.isShowToolPanel=function(){return ne(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},c.prototype.getSideBar=function(){return this.gridOptions.sideBar},c.prototype.isSuppressTouch=function(){return ne(this.gridOptions.suppressTouch)},c.prototype.isMaintainColumnOrder=function(){return ne(this.gridOptions.maintainColumnOrder)},c.prototype.isSuppressRowTransform=function(){return ne(this.gridOptions.suppressRowTransform)},c.prototype.isSuppressColumnStateEvents=function(){return ne(this.gridOptions.suppressColumnStateEvents)},c.prototype.isAllowDragFromColumnsToolPanel=function(){return ne(this.gridOptions.allowDragFromColumnsToolPanel)},c.prototype.useAsyncEvents=function(){return!ne(this.gridOptions.suppressAsyncEvents)},c.prototype.isEnableCellChangeFlash=function(){return ne(this.gridOptions.enableCellChangeFlash)},c.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},c.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},c.prototype.isGroupSelectsChildren=function(){return ne(this.gridOptions.groupSelectsChildren)},c.prototype.isSuppressRowHoverHighlight=function(){return ne(this.gridOptions.suppressRowHoverHighlight)},c.prototype.isColumnHoverHighlight=function(){return ne(this.gridOptions.columnHoverHighlight)},c.prototype.isGroupSelectsFiltered=function(){return ne(this.gridOptions.groupSelectsFiltered)},c.prototype.isGroupHideOpenParents=function(){return ne(this.gridOptions.groupHideOpenParents)},c.prototype.isGroupMaintainOrder=function(){return ne(this.gridOptions.groupMaintainOrder)},c.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},c.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):ne(this.gridOptions.groupHideOpenParents)},c.prototype.isGroupUseEntireRow=function(i){return!i&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},c.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},c.prototype.isGroupRemoveSingleChildren=function(){return ne(this.gridOptions.groupRemoveSingleChildren)},c.prototype.isGroupRemoveLowestSingleChildren=function(){return ne(this.gridOptions.groupRemoveLowestSingleChildren)},c.prototype.isGroupIncludeFooter=function(){return ne(this.gridOptions.groupIncludeFooter)},c.prototype.isGroupIncludeTotalFooter=function(){return ne(this.gridOptions.groupIncludeTotalFooter)},c.prototype.isGroupSuppressBlankHeader=function(){return ne(this.gridOptions.groupSuppressBlankHeader)},c.prototype.isSuppressRowClickSelection=function(){return ne(this.gridOptions.suppressRowClickSelection)},c.prototype.isSuppressCellFocus=function(){return ne(this.gridOptions.suppressCellFocus)},c.prototype.isSuppressMultiSort=function(){return ne(this.gridOptions.suppressMultiSort)},c.prototype.isAlwaysMultiSort=function(){return ne(this.gridOptions.alwaysMultiSort)},c.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},c.prototype.isPivotSuppressAutoColumn=function(){return ne(this.gridOptions.pivotSuppressAutoColumn)},c.prototype.isSuppressDragLeaveHidesColumns=function(){return ne(this.gridOptions.suppressDragLeaveHidesColumns)},c.prototype.isSuppressScrollOnNewData=function(){return ne(this.gridOptions.suppressScrollOnNewData)},c.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return ne(this.gridOptions.suppressScrollWhenPopupsAreOpen)},c.prototype.isRowDragEntireRow=function(){return ne(this.gridOptions.rowDragEntireRow)},c.prototype.isSuppressRowDrag=function(){return ne(this.gridOptions.suppressRowDrag)},c.prototype.isRowDragManaged=function(){return ne(this.gridOptions.rowDragManaged)},c.prototype.isSuppressMoveWhenRowDragging=function(){return ne(this.gridOptions.suppressMoveWhenRowDragging)},c.prototype.isRowDragMultiRow=function(){return ne(this.gridOptions.rowDragMultiRow)},c.prototype.getDomLayout=function(){var i=this.gridOptions.domLayout||j.DOM_LAYOUT_NORMAL;return-1===[j.DOM_LAYOUT_PRINT,j.DOM_LAYOUT_AUTO_HEIGHT,j.DOM_LAYOUT_NORMAL].indexOf(i)?(At(function(){return console.warn("AG Grid: "+i+" is not valid for DOM Layout, valid values are "+j.DOM_LAYOUT_NORMAL+", "+j.DOM_LAYOUT_AUTO_HEIGHT+" and "+j.DOM_LAYOUT_PRINT)},"warn about dom layout values"),j.DOM_LAYOUT_NORMAL):i},c.prototype.isSuppressHorizontalScroll=function(){return ne(this.gridOptions.suppressHorizontalScroll)},c.prototype.isSuppressMaxRenderedRowRestriction=function(){return ne(this.gridOptions.suppressMaxRenderedRowRestriction)},c.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return ne(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},c.prototype.isAlwaysShowHorizontalScroll=function(){return ne(this.gridOptions.alwaysShowHorizontalScroll)},c.prototype.isAlwaysShowVerticalScroll=function(){return ne(this.gridOptions.alwaysShowVerticalScroll)},c.prototype.isDebounceVerticalScrollbar=function(){return ne(this.gridOptions.debounceVerticalScrollbar)},c.prototype.isSuppressLoadingOverlay=function(){return ne(this.gridOptions.suppressLoadingOverlay)},c.prototype.isSuppressNoRowsOverlay=function(){return ne(this.gridOptions.suppressNoRowsOverlay)},c.prototype.isSuppressFieldDotNotation=function(){return ne(this.gridOptions.suppressFieldDotNotation)},c.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},c.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},c.prototype.isFunctionsPassive=function(){return ne(this.gridOptions.functionsPassive)},c.prototype.isSuppressChangeDetection=function(){return ne(this.gridOptions.suppressChangeDetection)},c.prototype.isSuppressAnimationFrame=function(){return ne(this.gridOptions.suppressAnimationFrame)},c.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},c.prototype.isCacheQuickFilter=function(){return ne(this.gridOptions.cacheQuickFilter)},c.prototype.isUnSortIcon=function(){return ne(this.gridOptions.unSortIcon)},c.prototype.isSuppressMenuHide=function(){return ne(this.gridOptions.suppressMenuHide)},c.prototype.isEnterMovesDownAfterEdit=function(){return ne(this.gridOptions.enterMovesDownAfterEdit)},c.prototype.isEnterMovesDown=function(){return ne(this.gridOptions.enterMovesDown)},c.prototype.isUndoRedoCellEditing=function(){return ne(this.gridOptions.undoRedoCellEditing)},c.prototype.getUndoRedoCellEditingLimit=function(){return Yf(this.gridOptions.undoRedoCellEditingLimit)},c.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},c.prototype.getRowClass=function(){return this.gridOptions.rowClass},c.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},c.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},c.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},c.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},c.prototype.getServerSideStoreParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideStoreParams)},c.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},c.prototype.getPopupParent=function(){return this.gridOptions.popupParent},c.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},c.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},c.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},c.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},c.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},c.prototype.getInitialGroupOrderComparator=function(){var i=this.gridOptions,s=i.initialGroupOrderComparator,l=i.defaultGroupOrderComparator;return s?this.mergeGridCommonParams(s):l?function(u){return l(u.nodeA,u.nodeB)}:void 0},c.prototype.getIsFullWidthCellFunc=function(){var i=this.gridOptions,s=i.isFullWidthRow,l=i.isFullWidthCell;return s?this.mergeGridCommonParams(s):l?function(u){return l(u.rowNode)}:void 0},c.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},c.prototype.isEmbedFullWidthRows=function(){return ne(this.gridOptions.embedFullWidthRows)||ne(this.gridOptions.deprecatedEmbedFullWidthRows)},c.prototype.isDetailRowAutoHeight=function(){return ne(this.gridOptions.detailRowAutoHeight)},c.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},c.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},c.prototype.getApi=function(){return this.gridOptions.api},c.prototype.getColumnApi=function(){return this.gridOptions.columnApi},c.prototype.isReadOnlyEdit=function(){return ne(this.gridOptions.readOnlyEdit)},c.prototype.isImmutableData=function(){var i=null!=this.gridOptions.getRowId,s=ne(this.gridOptions.immutableData);return!ne(this.gridOptions.resetRowDataOnUpdate)&&(i||s)},c.prototype.isEnsureDomOrder=function(){return ne(this.gridOptions.ensureDomOrder)},c.prototype.isEnableCharts=function(){return!!ne(this.gridOptions.enableCharts)&&He.assertRegistered(x.GXE.GridChartsModule,"enableCharts")},c.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},c.prototype.isSingleClickEdit=function(){return ne(this.gridOptions.singleClickEdit)},c.prototype.isSuppressClickEdit=function(){return ne(this.gridOptions.suppressClickEdit)},c.prototype.isStopEditingWhenCellsLoseFocus=function(){return ne(this.gridOptions.stopEditingWhenCellsLoseFocus)},c.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},c.prototype.getMaxConcurrentDatasourceRequests=function(){var i=Yf(this.gridOptions.maxConcurrentDatasourceRequests);return null==i?2:i<=0?void 0:i},c.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},c.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},c.prototype.getPaginationPageSize=function(){return Yf(this.gridOptions.paginationPageSize)},c.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||ne(this.gridOptions.paginateChildRows)},c.prototype.getCacheBlockSize=function(){return h_(this.gridOptions.cacheBlockSize)},c.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},c.prototype.isPurgeClosedRowNodes=function(){return ne(this.gridOptions.purgeClosedRowNodes)},c.prototype.isSuppressPaginationPanel=function(){return ne(this.gridOptions.suppressPaginationPanel)},c.prototype.getRowData=function(){return this.gridOptions.rowData},c.prototype.isEnableRtl=function(){return ne(this.gridOptions.enableRtl)},c.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},c.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},c.prototype.isAngularCompileRows=function(){return ne(this.gridOptions.angularCompileRows)},c.prototype.isAngularCompileFilters=function(){return ne(this.gridOptions.angularCompileFilters)},c.prototype.isDebug=function(){return ne(this.gridOptions.debug)},c.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},c.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},c.prototype.getDatasource=function(){return this.gridOptions.datasource},c.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},c.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},c.prototype.isAccentedSort=function(){return ne(this.gridOptions.accentedSort)},c.prototype.isEnableBrowserTooltips=function(){return ne(this.gridOptions.enableBrowserTooltips)},c.prototype.isEnableCellExpressions=function(){return ne(this.gridOptions.enableCellExpressions)},c.prototype.isEnableGroupEdit=function(){return ne(this.gridOptions.enableGroupEdit)},c.prototype.isSuppressMiddleClickScrolls=function(){return ne(this.gridOptions.suppressMiddleClickScrolls)},c.prototype.isPreventDefaultOnContextMenu=function(){return ne(this.gridOptions.preventDefaultOnContextMenu)},c.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return ne(this.gridOptions.suppressPreventDefaultOnMouseWheel)},c.prototype.isSuppressColumnVirtualisation=function(){return ne(this.gridOptions.suppressColumnVirtualisation)},c.prototype.isSuppressRowVirtualisation=function(){return ne(this.gridOptions.suppressRowVirtualisation)},c.prototype.isSuppressContextMenu=function(){return ne(this.gridOptions.suppressContextMenu)},c.prototype.isAllowContextMenuWithControlKey=function(){return ne(this.gridOptions.allowContextMenuWithControlKey)},c.prototype.isSuppressCopyRowsToClipboard=function(){return ne(this.gridOptions.suppressCopyRowsToClipboard)},c.prototype.isSuppressCopySingleCellRanges=function(){return ne(this.gridOptions.suppressCopySingleCellRanges)},c.prototype.isCopyHeadersToClipboard=function(){return ne(this.gridOptions.copyHeadersToClipboard)},c.prototype.isCopyGroupHeadersToClipboard=function(){return ne(this.gridOptions.copyGroupHeadersToClipboard)},c.prototype.isSuppressClipboardPaste=function(){return ne(this.gridOptions.suppressClipboardPaste)},c.prototype.isSuppressLastEmptyLineOnPaste=function(){return ne(this.gridOptions.suppressLastEmptyLineOnPaste)},c.prototype.isPagination=function(){return ne(this.gridOptions.pagination)},c.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return ne(this.gridOptions.suppressEnterpriseResetOnNewColumns)},c.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},c.prototype.getAsyncTransactionWaitMillis=function(){return ee(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:j.BATCH_WAIT_MILLIS},c.prototype.isSuppressMovableColumns=function(){return ne(this.gridOptions.suppressMovableColumns)},c.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&ne(this.gridOptions.animateRows)},c.prototype.isSuppressColumnMoveAnimation=function(){return ne(this.gridOptions.suppressColumnMoveAnimation)},c.prototype.isSuppressAggFuncInHeader=function(){return ne(this.gridOptions.suppressAggFuncInHeader)},c.prototype.isSuppressAggAtRootLevel=function(){return ne(this.gridOptions.suppressAggAtRootLevel)},c.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.getGroupAggFiltering()||ne(this.gridOptions.suppressAggFilteredOnly)},c.prototype.isRemovePivotHeaderRowWhenSingleValueColumn=function(){return ne(this.gridOptions.removePivotHeaderRowWhenSingleValueColumn)},c.prototype.isShowOpenedGroup=function(){return ne(this.gridOptions.showOpenedGroup)},c.prototype.isReactUi=function(){return ne(this.gridOptions.reactUi)},c.prototype.isSuppressReactUi=function(){return ne(this.gridOptions.suppressReactUi)},c.prototype.isEnableRangeSelection=function(){return He.isRegistered(x.GXE.RangeSelectionModule)&&ne(this.gridOptions.enableRangeSelection)},c.prototype.isEnableRangeHandle=function(){return ne(this.gridOptions.enableRangeHandle)},c.prototype.isEnableFillHandle=function(){return ne(this.gridOptions.enableFillHandle)},c.prototype.getFillHandleDirection=function(){var i=this.gridOptions.fillHandleDirection;return i?"x"!==i&&"y"!==i&&"xy"!==i?(At(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):i:"xy"},c.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},c.prototype.isSuppressMultiRangeSelection=function(){return ne(this.gridOptions.suppressMultiRangeSelection)},c.prototype.isPaginationAutoPageSize=function(){return ne(this.gridOptions.paginationAutoPageSize)},c.prototype.isRememberGroupStateWhenNewData=function(){return ne(this.gridOptions.rememberGroupStateWhenNewData)},c.prototype.getIcons=function(){return this.gridOptions.icons},c.prototype.getGroupAggFiltering=function(){var i=this.gridOptions.groupAggFiltering;return"function"==typeof i?this.mergeGridCommonParams(i):ne(i)?function(){return!0}:void 0},c.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},c.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},c.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},c.prototype.isMasterDetail=function(){return!!ne(this.gridOptions.masterDetail)&&He.assertRegistered(x.GXE.MasterDetailModule,"masterDetail")},c.prototype.isKeepDetailRows=function(){return ne(this.gridOptions.keepDetailRows)},c.prototype.getKeepDetailRowsCount=function(){var i=this.gridOptions.keepDetailRowsCount;return ee(i)&&i>0?this.gridOptions.keepDetailRowsCount:10},c.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},c.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},c.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},c.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},c.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},c.prototype.isSuppressAutoSize=function(){return ne(this.gridOptions.suppressAutoSize)},c.prototype.isEnableCellTextSelection=function(){return ne(this.gridOptions.enableCellTextSelection)},c.prototype.isSuppressParentsInRowNodes=function(){return ne(this.gridOptions.suppressParentsInRowNodes)},c.prototype.isSuppressClipboardApi=function(){return ne(this.gridOptions.suppressClipboardApi)},c.prototype.isFunctionsReadOnly=function(){return ne(this.gridOptions.functionsReadOnly)},c.prototype.isEnableCellTextSelect=function(){return ne(this.gridOptions.enableCellTextSelection)},c.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},c.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},c.prototype.getDefaultExportParams=function(i){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+df(i)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===i&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===i&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},c.prototype.isSuppressCsvExport=function(){return ne(this.gridOptions.suppressCsvExport)},c.prototype.isAllowShowChangeAfterFilter=function(){return ne(this.gridOptions.allowShowChangeAfterFilter)},c.prototype.isSuppressExcelExport=function(){return ne(this.gridOptions.suppressExcelExport)},c.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return ne(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},c.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},c.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},c.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},c.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},c.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},c.prototype.getGroupRowAggFunc=function(){var i=this.gridOptions,s=i.getGroupRowAgg,l=i.groupRowAggNodes;return s?this.mergeGridCommonParams(s):l?function(u){return l(u.nodes)}:void 0},c.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},c.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},c.prototype.getRowIdFunc=function(){var i=this.gridOptions,s=i.getRowId,l=i.getRowNodeId;return s?this.mergeGridCommonParams(s):l?function(u){return l(u.data)}:void 0},c.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},c.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},c.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},c.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},c.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},c.prototype.isTreeData=function(){return!!ne(this.gridOptions.treeData)&&He.assertRegistered(x.GXE.RowGroupingModule,"Tree Data")},c.prototype.isValueCache=function(){return ne(this.gridOptions.valueCache)},c.prototype.isValueCacheNeverExpires=function(){return ne(this.gridOptions.valueCacheNeverExpires)},c.prototype.isDeltaSort=function(){return ne(this.gridOptions.deltaSort)},c.prototype.isAggregateOnlyChangedColumns=function(){return ne(this.gridOptions.aggregateOnlyChangedColumns)},c.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},c.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},c.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},c.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},c.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},c.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},c.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},c.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},c.prototype.getViewportRowModelPageSize=function(){return h_(this.gridOptions.viewportRowModelPageSize,5)},c.prototype.getViewportRowModelBufferSize=function(){return function pS(c,r){return c>=0?c:r}(this.gridOptions.viewportRowModelBufferSize,5)},c.prototype.isServerSideSortingAlwaysResets=function(){return ne(this.gridOptions.serverSideSortingAlwaysResets)},c.prototype.isServerSideFilteringAlwaysResets=function(){return ne(this.gridOptions.serverSideFilteringAlwaysResets)},c.prototype.getPostSortFunc=function(){var i=this.gridOptions,s=i.postSortRows,l=i.postSort;return s?this.mergeGridCommonParams(s):l?function(u){return l(u.nodes)}:void 0},c.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},c.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},c.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},c.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},c.prototype.getClipboardDelimiter=function(){return ee(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},c.prototype.setProperty=function(i,s,l){void 0===l&&(l=!1);var u=this.gridOptions,h=u[i];(l||h!==s)&&(u[i]=s,this.propertyEventService.dispatchEvent({type:i,currentValue:s,previousValue:h}))},c.prototype.addEventListener=function(i,s){this.propertyEventService.addEventListener(i,s)},c.prototype.removeEventListener=function(i,s){this.propertyEventService.removeEventListener(i,s)},c.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},c.prototype.getAutoSizePadding=function(){var i=this.gridOptions.autoSizePadding;return null!=i&&i>=0?i:20},c.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},c.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},c.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},c.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},c.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},c.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()})},c.prototype.doesExternalFilterPass=function(i){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(i)},c.prototype.getTooltipDelay=function(i){var s=this.gridOptions,h="show"===i?s.tooltipShowDelay:s.tooltipHideDelay,g=df(i);return ee(h)?(h<0&&At(function(){return console.warn("ag-grid: tooltip"+g+"Delay should not be lower than 0")},"tooltip"+g+"DelayWarn"),Math.max(200,h)):null},c.prototype.isTooltipMouseTrack=function(){return ne(this.gridOptions.tooltipMouseTrack)},c.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return ne(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},c.prototype.getDocument=function(){var i=null;return this.gridOptions.getDocument&&ee(this.gridOptions.getDocument)?i=this.gridOptions.getDocument():this.eGridDiv&&(i=this.eGridDiv.ownerDocument),i&&ee(i)?i:document},c.prototype.getMinColWidth=function(){var i=this.gridOptions.minColWidth;if(ee(i)&&i>r.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var s=this.getFromTheme(null,"headerCellMinWidth");return ee(s)?Math.max(s,r.MIN_COL_WIDTH):r.MIN_COL_WIDTH},c.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>r.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},c.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<r.MIN_COL_WIDTH?200:this.gridOptions.colWidth},c.prototype.getRowBuffer=function(){var i=this.gridOptions.rowBuffer;return"number"==typeof i?i<0&&(At(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=i=0):i=j.ROW_BUFFER_SIZE,i},c.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},c.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var s="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Cy();null!=s&&(this.scrollbarWidth=s,this.eventService.dispatchEvent({type:L.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},c.prototype.checkForDeprecated=function(){var i=this.gridOptions;i.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),i.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),i.enableMultiRowDragging&&(i.rowDragMultiRow=!0,delete i.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var s=function(h,g,_){null!=i[h]&&(console.warn("AG Grid: since version "+_+", '"+h+"' is deprecated / renamed, please use the new property name '"+g+"' instead."),null==i[g]&&(i[g]=i[h]))};if(s("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),s("deltaRowDataMode","immutableData","23.1.x"),(i.immutableColumns||i.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),s("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),i.groupRowInnerRenderer||i.groupRowInnerRendererParams||i.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),i.groupRowRendererParams||(i.groupRowRendererParams={});var l=i.groupRowRendererParams;i.groupRowInnerRenderer&&(l.innerRenderer=i.groupRowInnerRenderer),i.groupRowInnerRendererParams&&(l.innerRendererParams=i.groupRowInnerRendererParams),i.groupRowInnerRendererFramework&&(l.innerRendererFramework=i.groupRowInnerRendererFramework)}i.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),i.detailCellRendererParams&&i.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),i.detailRowAutoHeight=!0),i.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),i.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),i.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),i.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),i.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),i.stopEditingWhenCellsLoseFocus=!0),i.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),i.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),i.groupDisplayType="multipleColumns"),i.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),i.groupDisplayType="groupRows"),i.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(i.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),i.groupDisplayType="custom"),i.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),i.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),i.defaultGroupOrderComparator=i.defaultGroupSortComparator),i.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),i.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),i.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),i.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),i.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),i.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),i.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),i.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),i.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),i.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),i.suppressCellFocus=i.suppressCellSelection),i.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),i.immutableData&&(i.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),i.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),i.clipboardDelimiter=i.clipboardDeliminator)},c.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},c.prototype.treeDataViolations=function(){this.isRowModelDefault()&&Pe(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(Pe(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),Pe(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},c.prototype.getLocaleTextFunc=function(){var i=this,s=this.gridOptions,l=s.localeText,u=s.getLocaleText;return u?function(g,_,w){var E={key:g,defaultValue:_,variableValues:w,api:i.getApi(),columnApi:i.getColumnApi(),context:i.getContext()};return u(E)}:s.localeTextFunc||function(g,_,w){var E=l&&l[g];if(E&&w&&w.length)for(var D=0;!(D>=w.length)&&-1!==E.indexOf("${variable}");)E=E.replace("${variable}",w[D++]);return null!=E?E:_}},c.prototype.globalEventHandler=function(i,s){if(!this.destroyed){var l=yt.getCallbackForEvent(i);"function"==typeof this.gridOptions[l]&&this.gridOptions[l](s)}},c.prototype.setRowHeightVariable=function(i){var l=i+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=l&&this.eGridDiv.style.setProperty("--ag-line-height",l)},c.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||Pe(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var i=this.gridOptions.rowHeight;return i&&this.isNumeric(i)?(this.setRowHeightVariable(i),i):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},c.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},c.prototype.getRowHeightForNode=function(i,s,l){if(void 0===s&&(s=!1),null==l&&(l=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(s)return{height:l,estimated:!0};var u={node:i,data:i.data},h=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(u);if(this.isNumeric(h))return 0===h&&At(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,h),estimated:!1}}return i.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:l,estimated:!1}},c.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},c.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},c.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},c.prototype.isNumeric=function(i){return!isNaN(i)&&"number"==typeof i&&isFinite(i)},c.prototype.getFromTheme=function(i,s){var l=this.environment.getTheme().theme;return l&&0===l.indexOf("ag-theme")?this.environment.getSassVariable(l,s):i},c.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},c.prototype.matchesGroupDisplayType=function(i,s){var l=["groupRows","multipleColumns","custom","singleColumn"];return l.indexOf(s)<0?(console.warn("AG Grid: '"+s+"' is not a valid groupDisplayType value - possible values are: '"+l.join("', '")+"'"),!1):s===i},c.prototype.matchesTreeDataDisplayType=function(i,s){var l=["auto","custom"];return l.indexOf(s)<0?(console.warn("AG Grid: '"+s+"' is not a valid treeDataDisplayType value - possible values are: '"+l.join("', '")+"'"),!1):s===i},c.MIN_COL_WIDTH=10,c.PROP_HEADER_HEIGHT="headerHeight",c.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",c.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",c.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",c.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",c.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",c.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",c.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",c.PROP_TAB_TO_NEXT_CELL="tabToNextCell",c.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",c.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",c.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",c.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",c.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",c.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",c.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",c.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",c.PROP_GET_ROW_CLASS="getRowClass",c.PROP_GET_ROW_STYLE="getRowStyle",c.PROP_GET_ROW_HEIGHT="getRowHeight",c.PROP_POPUP_PARENT="popupParent",c.PROP_DOM_LAYOUT="domLayout",c.PROP_ROW_CLASS="rowClass",c.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",c.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",c.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",c.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",c.PROP_GET_CHILD_COUNT="getChildCount",c.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",c.PROP_GET_ROW_NODE_ID="getRowNodeId",c.PROP_GET_ROW_ID="getRowId",c.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",c.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",c.PROP_IS_ROW_SELECTABLE="isRowSelectable",c.PROP_IS_ROW_MASTER="isRowMaster",c.PROP_POST_SORT="postSort",c.PROP_POST_SORT_ROWS="postSortRows",c.PROP_GET_DOCUMENT="getDocument",c.PROP_POST_PROCESS_POPUP="postProcessPopup",c.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",c.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",c.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",c.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",c.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",c.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",c.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",c.PROP_SEND_TO_CLIPBOARD="sendToClipboard",c.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",c.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",c.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",c.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",c.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",c.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",c.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",c.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",rs([N("gridOptions")],c.prototype,"gridOptions",void 0),rs([N("eventService")],c.prototype,"eventService",void 0),rs([N("environment")],c.prototype,"environment",void 0),rs([N("eGridDiv")],c.prototype,"eGridDiv",void 0),rs([d_(0,Ti("gridApi")),d_(1,Ti("columnApi"))],c.prototype,"agWire",null),rs([Zn],c.prototype,"destroy",null),rs([ge],c.prototype,"init",null),r=rs([we("gridOptionsWrapper")],c)}(),Qf=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),_a=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u};!function(c){c.AUTO_HEIGHT="ag-layout-auto-height",c.NORMAL="ag-layout-normal",c.PRINT="ag-layout-print"}(x.LBn||(x.LBn={}));var Xf=function(c){function r(i){var s=c.call(this)||this;return s.view=i,s}return Qf(r,c),r.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,_e.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},r.prototype.updateLayoutClasses=function(){var i=this.gridOptionsWrapper.getDomLayout(),s={autoHeight:i===j.DOM_LAYOUT_AUTO_HEIGHT,normal:i===j.DOM_LAYOUT_NORMAL,print:i===j.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(s.autoHeight?x.LBn.AUTO_HEIGHT:s.print?x.LBn.PRINT:x.LBn.NORMAL,s)},_a([N("gridOptionsWrapper")],r.prototype,"gridOptionsWrapper",void 0),_a([ge],r.prototype,"postConstruct",null),r}(pe),hS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),os=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},up=function(c){function r(i){var s=c.call(this)||this;return s.scrollLeft=-1,s.nextScrollTop=-1,s.scrollTop=-1,s.eBodyViewport=i,s.resetLastHorizontalScrollElementDebounced=qr(s.resetLastHorizontalScrollElement.bind(s),500),s}return hS(r,c),r.prototype.postConstruct=function(){var i=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(s){i.centerRowContainerCtrl=s.centerRowContainerCtrl,i.onDisplayedColumnsWidthChanged(),i.addScrollListener()})},r.prototype.addScrollListener=function(){var i=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(i.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var s=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?qr(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",s)},r.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},r.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(i){if(null!=this.centerRowContainerCtrl){void 0===i&&(i=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var l=this.enableRtl?i:-i,u=this.ctrlsService.getTopCenterRowContainerCtrl(),h=this.ctrlsService.getBottomCenterRowContainerCtrl(),g=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(l),h.setContainerTranslateX(l),u.setContainerTranslateX(l),Gd(this.lastHorizontalScrollElement===this.centerRowContainerCtrl.getViewportElement()?g.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(i),this.enableRtl)}},r.prototype.isControllingScroll=function(i){return this.lastHorizontalScrollElement?i===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=i,!0)},r.prototype.onFakeHorizontalScroll=function(){var i=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(i)||this.onBodyHorizontalScroll(i)},r.prototype.onCenterViewportScroll=function(){var i=this.centerRowContainerCtrl.getViewportElement();!this.isControllingScroll(i)||this.onBodyHorizontalScroll(i)},r.prototype.onBodyHorizontalScroll=function(i){var s=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate("horizontal",s.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(Qe(i,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},r.prototype.onVerticalScroll=function(){var i=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",i,!0)||(this.animationFrameService.setScrollTop(i),this.nextScrollTop=i,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},r.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},r.prototype.doHorizontalScroll=function(i){var l=Qe(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===i&&i===l||(this.scrollLeft=i,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(i),this.onHorizontalViewportChanged())},r.prototype.fireScrollEvent=function(i){var s=this,l={type:L.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:i,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(l),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var u=Object.assign({},l,{type:L.EVENT_BODY_SCROLL_END});s.eventService.dispatchEvent(u)},100)},r.prototype.shouldBlockScrollUpdate=function(i,s,l){if(void 0===l&&(l=!1),l&&!Mu())return!1;if("vertical"===i){var u=Rt(this.eBodyViewport);if(s<0||s+u>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===i){var g=this.centerRowContainerCtrl.getCenterWidth(),_=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&pl()){if(s>0)return!0}else if(s<0)return!0;if(Math.abs(s)+g>_)return!0}return!1},r.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},r.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},r.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},r.prototype.executeAnimationFrameScroll=function(){var i=this.scrollTop!=this.nextScrollTop;return i&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),i},r.prototype.setHorizontalScrollPosition=function(i){var l=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",i)&&(i=this.enableRtl&&pl()?i>0?0:l:Math.min(Math.max(i,0),l)),Gd(this.centerRowContainerCtrl.getViewportElement(),Math.abs(i),this.enableRtl),this.doHorizontalScroll(i)},r.prototype.setVerticalScrollPosition=function(i){this.eBodyViewport.scrollTop=i},r.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},r.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},r.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},r.prototype.scrollHorizontally=function(i){var s=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(s+i),this.centerRowContainerCtrl.getViewportElement().scrollLeft-s},r.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},r.prototype.ensureNodeVisible=function(i,s){void 0===s&&(s=null);for(var l=this.rowModel.getRowCount(),u="function"==typeof i,h=-1,g=0;g<l;g++){var _=this.rowModel.getRow(g);if(u){if(i(_)){h=g;break}}else if(i===_||i===_.data){h=g;break}}h>=0&&this.ensureIndexVisible(h,s)},r.prototype.ensureIndexVisible=function(i,s){if(this.gridOptionsWrapper.getDomLayout()!==j.DOM_LAYOUT_PRINT){var l=this.paginationProxy.getRowCount();if("number"!=typeof i||i<0||i>=l)return void console.warn("invalid row index for ensureIndexVisible: "+i);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(i);var _,g=this.paginationProxy.getRow(i);do{var w=g.rowTop,E=g.rowHeight,D=this.paginationProxy.getPixelOffset(),M=g.rowTop-D,G=M+g.rowHeight,V=this.getVScrollPosition(),B=this.heightScaler.getDivStretchOffset(),q=V.top+B,Z=V.bottom+B,J=Z-q,oe=this.heightScaler.getScrollPositionForPixel(M),fe=this.heightScaler.getScrollPositionForPixel(G-J),Se=Math.min((oe+fe)/2,M),Ie=null;"top"===s?Ie=oe:"bottom"===s?Ie=fe:"middle"===s?Ie=Se:q>M?Ie=oe:Z<G&&(Ie=fe),null!==Ie&&(this.eBodyViewport.scrollTop=Ie,this.rowRenderer.redrawAfterScroll()),_=w!==g.rowTop||E!==g.rowHeight}while(_);this.animationFrameService.flushAllFrames()}},r.prototype.ensureColumnVisible=function(i,s){void 0===s&&(s="auto");var l=this.columnModel.getGridColumn(i);if(l&&!l.isPinned()&&this.columnModel.isColumnDisplayed(l)){var u=this.getPositionedHorizontalScroll(l,s);null!==u&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(u),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},r.prototype.getPositionedHorizontalScroll=function(i,s){var l=this.isColumnOutsideViewport(i),u=l.columnBeforeStart,h=l.columnAfterEnd,g=this.centerRowContainerCtrl.getCenterWidth()<i.getActualWidth(),_=this.centerRowContainerCtrl.getCenterWidth(),w=this.enableRtl,E=(w?u:h)||g,D=w?h:u;"auto"!==s&&(E="start"===s,D="end"===s);var M="middle"===s;if(E||D||M){var G=this.getColumnBounds(i),V=G.colLeft,q=G.colRight;return M?G.colMiddle-_/2:E?w?q:V:w?V-_:q-_}return null},r.prototype.isColumnOutsideViewport=function(i){var s=this.getViewportBounds(),l=s.start,u=s.end,h=this.getColumnBounds(i),g=h.colLeft,_=h.colRight,w=this.enableRtl;return{columnBeforeStart:w?l>_:u<_,columnAfterEnd:w?u<g:l>g}},r.prototype.getColumnBounds=function(i){var s=this.enableRtl,l=this.columnModel.getBodyContainerWidth(),u=i.getActualWidth(),h=i.getLeft(),g=s?-1:1,_=s?l-h:h;return{colLeft:_,colMiddle:_+u/2*g,colRight:_+u*g}},r.prototype.getViewportBounds=function(){var i=this.centerRowContainerCtrl.getCenterWidth(),s=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:s,end:i+s,width:i}},os([N("ctrlsService")],r.prototype,"ctrlsService",void 0),os([N("animationFrameService")],r.prototype,"animationFrameService",void 0),os([N("columnApi")],r.prototype,"columnApi",void 0),os([N("gridApi")],r.prototype,"gridApi",void 0),os([N("paginationProxy")],r.prototype,"paginationProxy",void 0),os([N("rowModel")],r.prototype,"rowModel",void 0),os([N("rowContainerHeightService")],r.prototype,"heightScaler",void 0),os([N("rowRenderer")],r.prototype,"rowRenderer",void 0),os([N("columnModel")],r.prototype,"columnModel",void 0),os([ge],r.prototype,"postConstruct",null),r}(pe),cp=function(){function c(r){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=r.scrollContainer,this.scrollHorizontally=-1!==r.scrollAxis.indexOf("x"),this.scrollVertically=-1!==r.scrollAxis.indexOf("y"),this.scrollByTick=null!=r.scrollByTick?r.scrollByTick:20,r.onScrollCallback&&(this.onScrollCallback=r.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=r.getVerticalPosition,this.setVerticalPosition=r.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=r.getHorizontalPosition,this.setHorizontalPosition=r.setHorizontalPosition),this.shouldSkipVerticalScroll=r.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=r.shouldSkipHorizontalScroll||function(){return!1}}return c.prototype.check=function(r,i){void 0===i&&(i=!1);var s=i||this.shouldSkipVerticalScroll();if(!s||!this.shouldSkipHorizontalScroll()){var l=this.scrollContainer.getBoundingClientRect(),u=this.scrollByTick;this.tickLeft=r.clientX<l.left+u,this.tickRight=r.clientX>l.right-u,this.tickUp=r.clientY<l.top+u&&!s,this.tickDown=r.clientY>l.bottom-u&&!s,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},c.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},c.prototype.doTick=function(){var r;if(this.tickCount++,r=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var i=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(i-r),this.tickDown&&this.setVerticalPosition(i+r)}if(this.scrollHorizontally){var s=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(s-r),this.tickRight&&this.setHorizontalPosition(s+r)}this.onScrollCallback&&this.onScrollCallback()},c.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},c}(),f_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),dp=function(){return dp=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},dp.apply(this,arguments)},Ni=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},g_=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},gS=function(c){function r(i){var s=c.call(this)||this;return s.isMultiRowDrag=!1,s.isGridSorted=!1,s.isGridFiltered=!1,s.isRowGroupActive=!1,s.eContainer=i,s}return f_(r,c),r.prototype.postConstruct=function(){var i=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var s=function(){i.onSortChanged(),i.onFilterChanged(),i.onRowGroupChanged()};this.addManagedListener(this.eventService,L.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_MODEL_UPDATED,function(){s()}),s(),this.ctrlsService.whenReady(function(){var l=i.ctrlsService.getGridBodyCtrl();i.autoScrollService=new cp({scrollContainer:l.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return l.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(u){return l.getScrollFeature().setVerticalScrollPosition(u)},onScrollCallback:function(){i.onDragging(i.lastDraggingEvent)}})})},r.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},r.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},r.prototype.onRowGroupChanged=function(){var i=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!Ri(i)},r.prototype.getContainer=function(){return this.eContainer},r.prototype.isInterestedIn=function(i){return i===x.rvo.RowDrag},r.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?Ki.ICON_NOT_ALLOWED:Ki.ICON_MOVE},r.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},r.prototype.getRowNodes=function(i){var s=this;if(!this.isFromThisGrid(i))return i.dragItem.rowNodes||[];var l=this.gridOptionsWrapper.isRowDragMultiRow(),u=function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(g_(arguments[r]));return c}(this.selectionService.getSelectedNodes()).sort(function(g,_){return s.getRowIndexNumber(g)-s.getRowIndexNumber(_)}),h=i.dragItem.rowNode;return l&&-1!==u.indexOf(h)?(this.isMultiRowDrag=!0,u):(this.isMultiRowDrag=!1,[h])},r.prototype.onDragEnter=function(i){i.dragItem.rowNodes=this.getRowNodes(i),this.dispatchGridEvent(L.EVENT_ROW_DRAG_ENTER,i),this.getRowNodes(i).forEach(function(s){s.setDragging(!0)}),this.onEnterOrDragging(i)},r.prototype.onDragging=function(i){this.onEnterOrDragging(i)},r.prototype.isFromThisGrid=function(i){return i.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},r.prototype.isDropZoneWithinThisGrid=function(i){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(i.dropZoneTarget)},r.prototype.onEnterOrDragging=function(i){this.dispatchGridEvent(L.EVENT_ROW_DRAG_MOVE,i),this.lastDraggingEvent=i;var s=this.mouseEventService.getNormalisedPosition(i).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(i,s),this.autoScrollService.check(i.event)},r.prototype.doManagedDrag=function(i,s){var l=this.isFromThisGrid(i),u=this.gridOptionsWrapper.isRowDragManaged(),h=i.dragItem.rowNodes;u&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!l?this.isDropZoneWithinThisGrid(i)||this.clientSideRowModel.highlightRowAtPixel(h[0],s):this.moveRows(h,s))},r.prototype.getRowIndexNumber=function(i){return parseInt(Pt(i.getRowIndexString().split("-")),10)},r.prototype.moveRowAndClearHighlight=function(i){var s=this,l=this.clientSideRowModel.getLastHighlightedRowNode(),u=l&&l.highlighted===x.oh5.Below,h=this.mouseEventService.getNormalisedPosition(i).y,g=i.dragItem.rowNodes,_=u?1:0;if(this.isFromThisGrid(i))g.forEach(function(D){D.rowTop<h&&(_-=1)}),this.moveRows(g,h,_);else{var w=this.gridOptionsWrapper.getRowIdFunc(),E=this.clientSideRowModel.getRowIndexAtPixel(h)+1;this.clientSideRowModel.getHighlightPosition(h)===x.oh5.Above&&E--,this.clientSideRowModel.updateRowData({add:g.map(function(D){return D.data}).filter(function(D){return!s.clientSideRowModel.getRowNode(w?w({data:D,level:0}):D.id)}),addIndex:E})}this.clearRowHighlight()},r.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},r.prototype.moveRows=function(i,s,l){void 0===l&&(l=0),this.clientSideRowModel.ensureRowsAtPixel(i,s,l)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},r.prototype.addRowDropZone=function(i){var s=this;if(i.getContainer())if(this.dragAndDropService.findExternalZone(i))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var l={getContainer:i.getContainer};i.fromGrid?(i.fromGrid=void 0,l=i):(i.onDragEnter&&(l.onDragEnter=function(u){i.onDragEnter(s.draggingToRowDragEvent(L.EVENT_ROW_DRAG_ENTER,u))}),i.onDragLeave&&(l.onDragLeave=function(u){i.onDragLeave(s.draggingToRowDragEvent(L.EVENT_ROW_DRAG_LEAVE,u))}),i.onDragging&&(l.onDragging=function(u){i.onDragging(s.draggingToRowDragEvent(L.EVENT_ROW_DRAG_MOVE,u))}),i.onDragStop&&(l.onDragStop=function(u){i.onDragStop(s.draggingToRowDragEvent(L.EVENT_ROW_DRAG_END,u))})),this.dragAndDropService.addDropTarget(dp({isInterestedIn:function(u){return u===x.rvo.RowDrag},getIconName:function(){return Ki.ICON_MOVE},external:!0},l))}else At(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},r.prototype.getRowDropZone=function(i){var s=this,l=this.getContainer.bind(this),u=this.onDragEnter.bind(this),h=this.onDragLeave.bind(this),g=this.onDragging.bind(this),_=this.onDragStop.bind(this);return i?{getContainer:l,onDragEnter:i.onDragEnter?function(w){u(w),i.onDragEnter(s.draggingToRowDragEvent(L.EVENT_ROW_DRAG_ENTER,w))}:u,onDragLeave:i.onDragLeave?function(w){h(w),i.onDragLeave(s.draggingToRowDragEvent(L.EVENT_ROW_DRAG_LEAVE,w))}:h,onDragging:i.onDragging?function(w){g(w),i.onDragging(s.draggingToRowDragEvent(L.EVENT_ROW_DRAG_MOVE,w))}:g,onDragStop:i.onDragStop?function(w){_(w),i.onDragStop(s.draggingToRowDragEvent(L.EVENT_ROW_DRAG_END,w))}:_,fromGrid:!0}:{getContainer:l,onDragEnter:u,onDragLeave:h,onDragging:g,onDragStop:_,fromGrid:!0}},r.prototype.draggingToRowDragEvent=function(i,s){var g,_,l=this.mouseEventService.getNormalisedPosition(s).y,h=-1;switch(l>this.paginationProxy.getCurrentPageHeight()||(h=this.rowModel.getRowIndexAtPixel(l),g=this.rowModel.getRow(h)),s.vDirection){case x.HO_.Down:_="down";break;case x.HO_.Up:_="up";break;default:_=null}return{type:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:s.event,node:s.dragItem.rowNode,nodes:s.dragItem.rowNodes,overIndex:h,overNode:g,y:l,vDirection:_}},r.prototype.dispatchGridEvent=function(i,s){var l=this.draggingToRowDragEvent(i,s);this.eventService.dispatchEvent(l)},r.prototype.onDragLeave=function(i){this.dispatchGridEvent(L.EVENT_ROW_DRAG_LEAVE,i),this.stopDragging(i),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(i)&&(this.isMultiRowDrag=!1)},r.prototype.onDragStop=function(i){this.dispatchGridEvent(L.EVENT_ROW_DRAG_END,i),this.stopDragging(i),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(i))&&!this.isDropZoneWithinThisGrid(i)&&this.moveRowAndClearHighlight(i)},r.prototype.stopDragging=function(i){this.autoScrollService.ensureCleared(),this.getRowNodes(i).forEach(function(s){s.setDragging(!1)})},Ni([N("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Ni([N("rowModel")],r.prototype,"rowModel",void 0),Ni([N("paginationProxy")],r.prototype,"paginationProxy",void 0),Ni([N("columnModel")],r.prototype,"columnModel",void 0),Ni([N("focusService")],r.prototype,"focusService",void 0),Ni([N("sortController")],r.prototype,"sortController",void 0),Ni([N("filterManager")],r.prototype,"filterManager",void 0),Ni([N("selectionService")],r.prototype,"selectionService",void 0),Ni([N("mouseEventService")],r.prototype,"mouseEventService",void 0),Ni([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Ni([vt("rangeService")],r.prototype,"rangeService",void 0),Ni([N("columnApi")],r.prototype,"columnApi",void 0),Ni([N("gridApi")],r.prototype,"gridApi",void 0),Ni([ge],r.prototype,"postConstruct",null),r}(pe),mS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Fr=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u};!function(c){c.ANIMATION_ON="ag-row-animation",c.ANIMATION_OFF="ag-row-no-animation"}(x.SJN||(x.SJN={}));var m_="ag-selectable",ss="ag-force-vertical-scroll",Tl="ag-column-moving",v_=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return mS(r,c),r.prototype.getScrollFeature=function(){return this.bodyScrollFeature},r.prototype.getBodyViewportElement=function(){return this.eBodyViewport},r.prototype.setComp=function(i,s,l,u,h){this.comp=i,this.eGridBody=s,this.eBodyViewport=l,this.eTop=u,this.eBottom=h,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new Xf(this.comp)),this.bodyScrollFeature=this.createManagedBean(new up(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([u,l,h]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},r.prototype.getComp=function(){return this.comp},r.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,L.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},r.prototype.addFocusListeners=function(i){var s=this;i.forEach(function(l){s.addManagedListener(l,"focusin",function(){l.classList.add("ag-has-focus")}),s.addManagedListener(l,"focusout",function(u){l.contains(u.relatedTarget)||l.classList.remove("ag-has-focus")})})},r.prototype.setColumnMovingCss=function(i){this.comp.setColumnMovingCss(i?Tl:null,i)},r.prototype.setCellTextSelection=function(i){void 0===i&&(i=!1),this.comp.setCellSelectableCss(i?m_:null,i)},r.prototype.onScrollVisibilityChanged=function(){var i=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(i)},r.prototype.onGridColumnsChanged=function(){var i=this.columnModel.getAllGridColumns();this.comp.setColumnCount(i?i.length:0)},r.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(i){if(i.target instanceof HTMLImageElement)return i.preventDefault(),!1})},r.prototype.addStopEditingWhenGridLosesFocus=function(){var i=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var s=function(u){var h=u.relatedTarget;if(null!==Hi(h)){var g=l.some(function(w){return w.contains(h)})&&i.mouseEventService.isElementInThisGrid(h);if(!g){var _=i.popupService;g=_.getActivePopups().some(function(w){return w.contains(h)})||_.isElementWithinCustomPopup(h)}g||i.rowRenderer.stopEditing()}else i.rowRenderer.stopEditing()},l=[this.eBodyViewport,this.eBottom,this.eTop];l.forEach(function(u){return i.addManagedListener(u,"focusout",s)})}},r.prototype.updateRowCount=function(){var i=this.headerNavigationService.getHeaderRowCount(),s=this.paginationProxy.getType(),l=-1;s===j.ROW_MODEL_TYPE_CLIENT_SIDE&&(l=0,this.paginationProxy.forEachNode(function(h){h.group||l++})),this.comp.setRowCount(-1===l?-1:i+l)},r.prototype.registerBodyViewportResizeListener=function(i){this.comp.registerBodyViewportResizeListener(i)},r.prototype.setVerticalScrollPaddingVisible=function(i){this.comp.setPinnedTopBottomOverflowY(i?"scroll":"hidden")},r.prototype.isVerticalScrollShowing=function(){var i=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(i?ss:null,i),i||be(this.eBodyViewport)},r.prototype.setupRowAnimationCssClass=function(){var i=this,s=function(){var l=i.gridOptionsWrapper.isAnimateRows()&&!i.rowContainerHeightService.isStretching();i.comp.setRowAnimationCssOnBodyViewport(l?x.SJN.ANIMATION_ON:x.SJN.ANIMATION_OFF,l)};s(),this.addManagedListener(this.eventService,L.EVENT_HEIGHT_SCALE_CHANGED,s)},r.prototype.getGridBodyElement=function(){return this.eGridBody},r.prototype.addBodyViewportListener=function(){var i=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(l){i.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&l.preventDefault();var u=l.target;(u===i.eBodyViewport||u===i.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&i.contextMenuFactory&&i.contextMenuFactory.onContextMenu(l,null,null,null,null,i.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},r.prototype.onWheel=function(i){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&i.preventDefault()},r.prototype.getGui=function(){return this.eGridBody},r.prototype.scrollVertically=function(i){var s=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(s+i),this.eBodyViewport.scrollTop-s},r.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new gS(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},r.prototype.getRowDragFeature=function(){return this.rowDragFeature},r.prototype.setFloatingHeights=function(){var i=this.pinnedRowModel,s=i.getPinnedTopTotalHeight();s&&(s+=1);var l=i.getPinnedBottomTotalHeight();l&&(l+=1),this.comp.setTopHeight(s),this.comp.setBottomHeight(l),this.comp.setTopDisplay(s?"inherit":"none"),this.comp.setBottomDisplay(l?"inherit":"none")},r.prototype.sizeColumnsToFit=function(i){var s=this,u=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,g=Fd(this.eBodyViewport)-u;g>0?this.columnModel.sizeColumnsToFit(g,"sizeColumnsToFit"):void 0===i?window.setTimeout(function(){s.sizeColumnsToFit(100)},0):100===i?window.setTimeout(function(){s.sizeColumnsToFit(500)},100):500===i?window.setTimeout(function(){s.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},r.prototype.addScrollEventListener=function(i){this.eBodyViewport.addEventListener("scroll",i)},r.prototype.removeScrollEventListener=function(i){this.eBodyViewport.removeEventListener("scroll",i)},Fr([N("rowContainerHeightService")],r.prototype,"rowContainerHeightService",void 0),Fr([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Fr([N("columnModel")],r.prototype,"columnModel",void 0),Fr([N("scrollVisibleService")],r.prototype,"scrollVisibleService",void 0),Fr([vt("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),Fr([N("headerNavigationService")],r.prototype,"headerNavigationService",void 0),Fr([N("paginationProxy")],r.prototype,"paginationProxy",void 0),Fr([N("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Fr([N("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),Fr([N("rowRenderer")],r.prototype,"rowRenderer",void 0),Fr([N("popupService")],r.prototype,"popupService",void 0),Fr([N("mouseEventService")],r.prototype,"mouseEventService",void 0),r}(pe);(function(c){c[c.FILL=0]="FILL",c[c.RANGE=1]="RANGE"})(x.Lm6||(x.Lm6={})),function(c){c[c.VALUE=0]="VALUE",c[c.DIMENSION=1]="DIMENSION"}(x.StC||(x.StC={}));var pp="ag-cell-range-selected",CS=function(){function c(r,i){this.beans=r,this.cellCtrl=i}return c.prototype.setComp=function(r,i){this.cellComp=r,this.eGui=i,this.onRangeSelectionChanged()},c.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(pp,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(pp+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(pp+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(pp+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(pp+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Os(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},c.prototype.updateRangeBorders=function(){var r=this.getRangeBorders(),i=this.isSingleCell(),l=!i&&r.right,u=!i&&r.bottom,h=!i&&r.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!i&&r.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",l),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",u),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",h)},c.prototype.isSingleCell=function(){var r=this.beans.rangeService;return 1===this.rangeCount&&r&&!r.isMoreThanOneCell()},c.prototype.getHasChartRange=function(){var r=this.beans.rangeService;if(!this.rangeCount||!r)return!1;var i=r.getCellRanges();return i.length>0&&i.every(function(s){return rr([x.StC.DIMENSION,x.StC.VALUE],s.type)})},c.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},c.prototype.getRangeBorders=function(){var D,M,r=this,i=this.beans.gridOptionsWrapper.isEnableRtl(),s=!1,l=!1,u=!1,h=!1,g=this.cellCtrl.getCellPosition().column,_=this.beans,w=_.rangeService,E=_.columnModel;i?(D=E.getDisplayedColAfter(g),M=E.getDisplayedColBefore(g)):(D=E.getDisplayedColBefore(g),M=E.getDisplayedColAfter(g));var G=w.getCellRanges().filter(function(J){return w.isCellInSpecificRange(r.cellCtrl.getCellPosition(),J)});D||(h=!0),M||(l=!0);for(var V=0;V<G.length&&!(s&&l&&u&&h);V++){var B=G[V],q=w.getRangeStartRow(B),Z=w.getRangeEndRow(B);!s&&this.beans.rowPositionUtils.sameRow(q,this.cellCtrl.getCellPosition())&&(s=!0),!u&&this.beans.rowPositionUtils.sameRow(Z,this.cellCtrl.getCellPosition())&&(u=!0),!h&&D&&B.columns.indexOf(D)<0&&(h=!0),!l&&M&&B.columns.indexOf(M)<0&&(l=!0)}return{top:s,right:l,bottom:u,left:h}},c.prototype.refreshHandle=function(){if(this.beans.rangeService){var r=this.shouldHaveSelectionHandle();this.selectionHandle&&!r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),r&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},c.prototype.shouldHaveSelectionHandle=function(){var r=this.beans,i=r.gridOptionsWrapper,s=r.rangeService,l=s.getCellRanges(),u=l.length;if(this.rangeCount<1||u<1)return!1;var h=Pt(l),g=this.cellCtrl.getCellPosition(),_=i.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),w=i.isEnableRangeHandle(),E=1===u&&!this.cellCtrl.isEditing()&&(_||w);if(this.hasChartRange){var M=l[0].type===x.StC.DIMENSION&&s.isCellInSpecificRange(g,l[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",M),E=h.type===x.StC.VALUE}return E&&null!=h.endRow&&s.isContiguousRange(h)&&s.isBottomRightCell(h,g)},c.prototype.addSelectionHandle=function(){var r=this.beans,i=r.gridOptionsWrapper,l=Pt(r.rangeService.getCellRanges()).type,h=i.isEnableFillHandle()&&Pe(l)?x.Lm6.FILL:x.Lm6.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==h&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(h)),this.selectionHandle.refresh(this.cellCtrl)},c.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},c}(),SN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),wS=function(c){function r(i,s){var l=c.call(this)||this;return l.cellCtrl=i,l.beans=s,l.column=i.getColumn(),l.rowNode=i.getRowNode(),l.setupColSpan(),l.setupRowSpan(),l}return SN(r,c),r.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},r.prototype.setComp=function(i){this.eGui=i,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},r.prototype.onDisplayColumnsChanged=function(){var i=this.getColSpanningList();Es(this.colsSpanning,i)||(this.colsSpanning=i,this.onWidthChanged(),this.onLeftChanged())},r.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},r.prototype.onWidthChanged=function(){if(this.eGui){var i=this.getCellWidth();this.eGui.style.width=i+"px"}},r.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(i,s){return i+s.getActualWidth()},0):this.column.getActualWidth()},r.prototype.getColSpanningList=function(){var i=this.column.getColSpan(this.rowNode),s=[];if(1===i)s.push(this.column);else for(var l=this.column,u=this.column.getPinned(),h=0;l&&h<i&&(s.push(l),(l=this.beans.columnModel.getDisplayedColAfter(l))&&!Pe(l)&&u===l.getPinned());h++);return s},r.prototype.onLeftChanged=function(){if(this.eGui){var i=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=i+"px"}},r.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Pt(this.colsSpanning):this.column).getLeft()},r.prototype.modifyLeftForPrintLayout=function(i){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===j.PINNED_LEFT)return i;var s=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===j.PINNED_RIGHT?s+this.beans.columnModel.getBodyContainerWidth()+(i||0):s+(i||0)},r.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var i=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=i*this.rowSpan+"px",this.eGui.style.zIndex="1"}},r.prototype.destroy=function(){c.prototype.destroy.call(this)},r}(pe),hp=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),__=function(c){function r(i,s){var l=c.call(this)||this;return l.staticClasses=[],l.cellCtrl=i,l.beans=s,l.column=i.getColumn(),l.rowNode=i.getRowNode(),l}return hp(r,c),r.prototype.setComp=function(i){this.cellComp=i,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},r.prototype.applyCellClassRules=function(){var i=this,s=this.column.getColDef(),l={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:s,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(s.cellClassRules,l,function(u){return i.cellComp.addOrRemoveCssClass(u,!0)},function(u){return i.cellComp.addOrRemoveCssClass(u,!1)})},r.prototype.applyUserStyles=function(){var i=this.column.getColDef();if(i.cellStyle){var s;if("function"==typeof i.cellStyle){var l={column:this.column,value:this.cellCtrl.getValue(),colDef:i,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};s=(0,i.cellStyle)(l)}else s=i.cellStyle;this.cellComp.setUserStyles(s)}},r.prototype.applyClassesFromColDef=function(){var i=this,s=this.column.getColDef(),l={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:s,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(u){return i.cellComp.addOrRemoveCssClass(u,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(s,l),this.staticClasses.length&&this.staticClasses.forEach(function(u){return i.cellComp.addOrRemoveCssClass(u,!0)})},r.prototype.destroy=function(){c.prototype.destroy.call(this)},r}(pe),No=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ca=function(c){function r(i,s){var l=c.call(this)||this;return l.ctrl=i,l.beans=s,l}return No(r,c),r.prototype.setComp=function(i){this.comp=i,this.setupTooltip()},r.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},r.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},r.prototype.createTooltipFeatureIfNeeded=function(){var i=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new jd({getTooltipParams:function(){return i.getTooltipParams()},getGui:function(){return i.ctrl.getGui()}}),this.beans.context))},r.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},r.prototype.getTooltipParams=function(){var i=this.ctrl,s=i.getColumn?i.getColumn():void 0,l=i.getColDef?i.getColDef():void 0,u=i.getRowNode?i.getRowNode():void 0;return{location:i.getLocation(),colDef:l,column:s,rowIndex:i.getRowIndex?i.getRowIndex():void 0,node:u,data:u?u.data:void 0,value:this.getTooltipText(),valueFormatted:i.getValueFormatted?i.getValueFormatted():void 0}},r.prototype.getTooltipText=function(){return this.tooltip},r.prototype.destroy=function(){c.prototype.destroy.call(this)},r}(pe),Xe=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},fp=function(){function c(){}return c.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},Xe([N("resizeObserverService")],c.prototype,"resizeObserverService",void 0),Xe([N("paginationProxy")],c.prototype,"paginationProxy",void 0),Xe([N("context")],c.prototype,"context",void 0),Xe([N("columnApi")],c.prototype,"columnApi",void 0),Xe([N("gridApi")],c.prototype,"gridApi",void 0),Xe([N("gridOptionsWrapper")],c.prototype,"gridOptionsWrapper",void 0),Xe([N("expressionService")],c.prototype,"expressionService",void 0),Xe([N("rowRenderer")],c.prototype,"rowRenderer",void 0),Xe([N("templateService")],c.prototype,"templateService",void 0),Xe([N("valueService")],c.prototype,"valueService",void 0),Xe([N("eventService")],c.prototype,"eventService",void 0),Xe([N("columnModel")],c.prototype,"columnModel",void 0),Xe([N("headerNavigationService")],c.prototype,"headerNavigationService",void 0),Xe([N("navigationService")],c.prototype,"navigationService",void 0),Xe([N("columnAnimationService")],c.prototype,"columnAnimationService",void 0),Xe([vt("rangeService")],c.prototype,"rangeService",void 0),Xe([N("focusService")],c.prototype,"focusService",void 0),Xe([vt("contextMenuFactory")],c.prototype,"contextMenuFactory",void 0),Xe([N("popupService")],c.prototype,"popupService",void 0),Xe([N("valueFormatterService")],c.prototype,"valueFormatterService",void 0),Xe([N("stylingService")],c.prototype,"stylingService",void 0),Xe([N("columnHoverService")],c.prototype,"columnHoverService",void 0),Xe([N("userComponentFactory")],c.prototype,"userComponentFactory",void 0),Xe([N("userComponentRegistry")],c.prototype,"userComponentRegistry",void 0),Xe([N("animationFrameService")],c.prototype,"animationFrameService",void 0),Xe([N("dragAndDropService")],c.prototype,"dragAndDropService",void 0),Xe([N("sortController")],c.prototype,"sortController",void 0),Xe([N("filterManager")],c.prototype,"filterManager",void 0),Xe([N("rowContainerHeightService")],c.prototype,"rowContainerHeightService",void 0),Xe([N("frameworkOverrides")],c.prototype,"frameworkOverrides",void 0),Xe([N("cellPositionUtils")],c.prototype,"cellPositionUtils",void 0),Xe([N("rowPositionUtils")],c.prototype,"rowPositionUtils",void 0),Xe([N("selectionService")],c.prototype,"selectionService",void 0),Xe([vt("selectionHandleFactory")],c.prototype,"selectionHandleFactory",void 0),Xe([N("rowCssClassCalculator")],c.prototype,"rowCssClassCalculator",void 0),Xe([N("rowModel")],c.prototype,"rowModel",void 0),Xe([N("ctrlsService")],c.prototype,"ctrlsService",void 0),Xe([N("ctrlsFactory")],c.prototype,"ctrlsFactory",void 0),Xe([N("agStackComponentsRegistry")],c.prototype,"agStackComponentsRegistry",void 0),Xe([N("valueCache")],c.prototype,"valueCache",void 0),Xe([N("rowNodeEventThrottle")],c.prototype,"rowNodeEventThrottle",void 0),Xe([ge],c.prototype,"postConstruct",null),Xe([we("beans")],c)}(),C_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),DN=function(c){function r(i,s,l){var u=c.call(this)||this;return u.cellCtrl=i,u.beans=s,u.column=l,u}return C_(r,c),r.prototype.onMouseEvent=function(i,s){if(!Qr(s))switch(i){case"click":this.onCellClicked(s);break;case"mousedown":case"touchstart":this.onMouseDown(s);break;case"dblclick":this.onCellDoubleClicked(s);break;case"mouseout":this.onMouseOut(s);break;case"mouseover":this.onMouseOver(s)}},r.prototype.onCellClicked=function(i){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(i),void i.preventDefault();var s=this.beans,l=s.eventService,u=s.gridOptionsWrapper,h=this.cellCtrl.createEvent(i,L.EVENT_CELL_CLICKED);l.dispatchEvent(h);var g=this.column.getColDef();g.onCellClicked&&window.setTimeout(function(){return g.onCellClicked(h)},0),(u.isSingleClickEdit()||g.singleClickEdit)&&!u.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},r.prototype.isDoubleClickOnIPad=function(){if(!Mu()||Ou("dblclick"))return!1;var i=(new Date).getTime(),s=i-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=i,s},r.prototype.onCellDoubleClicked=function(i){var s=this.column.getColDef(),l=this.cellCtrl.createEvent(i,L.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(l),"function"==typeof s.onCellDoubleClicked&&window.setTimeout(function(){return s.onCellDoubleClicked(l)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,i)},r.prototype.onMouseDown=function(i){var s=i.ctrlKey,l=i.metaKey,u=i.shiftKey,h=i.target,g=this.beans,_=g.eventService,w=g.rangeService;if(!this.isRightClickInExistingRange(i)){var E=w&&0!=w.getCellRanges().length;if(!u||!E){var D=mf()&&!this.cellCtrl.isEditing()&&!xd(h);this.cellCtrl.focusCell(D)}if(u&&E&&i.preventDefault(),!this.containsWidget(h)){if(w){var M=this.cellCtrl.getCellPosition();u?w.extendLatestRangeToCell(M):w.setRangeToCell(M,s||l)}_.dispatchEvent(this.cellCtrl.createEvent(i,L.EVENT_CELL_MOUSE_DOWN))}}},r.prototype.isRightClickInExistingRange=function(i){var s=this.beans.rangeService;return!(!s||!s.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==i.button)},r.prototype.containsWidget=function(i){return Ss(i,"ag-selection-checkbox",3)},r.prototype.onMouseOut=function(i){if(!this.mouseStayingInsideCell(i)){var s=this.cellCtrl.createEvent(i,L.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(s),this.beans.columnHoverService.clearMouseOver()}},r.prototype.onMouseOver=function(i){if(!this.mouseStayingInsideCell(i)){var s=this.cellCtrl.createEvent(i,L.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(s),this.beans.columnHoverService.setMouseOver([this.column])}},r.prototype.mouseStayingInsideCell=function(i){if(!i.target||!i.relatedTarget)return!1;var s=this.cellCtrl.getGui(),l=s.contains(i.target),u=s.contains(i.relatedTarget);return l&&u},r.prototype.destroy=function(){},r}(fp),RN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ON=function(c){function r(i,s,l,u,h){var g=c.call(this)||this;return g.cellCtrl=i,g.beans=s,g.rowNode=u,g.rowCtrl=h,g}return RN(r,c),r.prototype.setComp=function(i){this.eGui=i},r.prototype.onKeyDown=function(i){var s=i.key;switch(s){case le.ENTER:this.onEnterKeyDown(i);break;case le.F2:this.onF2KeyDown(i);break;case le.ESCAPE:this.onEscapeKeyDown(i);break;case le.TAB:this.onTabKeyDown(i);break;case le.BACKSPACE:case le.DELETE:this.onBackspaceOrDeleteKeyPressed(s,i);break;case le.DOWN:case le.UP:case le.RIGHT:case le.LEFT:this.onNavigationKeyPressed(i,s)}},r.prototype.onNavigationKeyPressed=function(i,s){this.cellCtrl.isEditing()||(i.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(i):this.beans.navigationService.navigateToNextCell(i,s,this.cellCtrl.getCellPosition(),!0),i.preventDefault())},r.prototype.onShiftRangeSelect=function(i){if(this.beans.rangeService){var s=this.beans.rangeService.extendLatestRangeInDirection(i);s&&this.beans.navigationService.ensureCellVisible(s)}},r.prototype.onTabKeyDown=function(i){this.beans.navigationService.onTabKeyDown(this.cellCtrl,i)},r.prototype.onBackspaceOrDeleteKeyPressed=function(i,s){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(i,void 0,s)},r.prototype.onEnterKeyDown=function(i){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,le.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(le.ENTER,void 0,i),this.cellCtrl.isEditing()&&i.preventDefault())},r.prototype.onF2KeyDown=function(i){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(le.F2,void 0,i)},r.prototype.onEscapeKeyDown=function(i){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},r.prototype.onKeyPress=function(i){if(i.target===this.eGui&&!this.cellCtrl.isEditing()){var u=String.fromCharCode(i.charCode);" "===u?this.onSpaceKeyPressed(i):Dn(i)&&(this.cellCtrl.startRowOrCellEdit(null,u,i),i.preventDefault())}},r.prototype.onSpaceKeyPressed=function(i){var s=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&s.isRowSelection()){var l=this.rowNode.isSelected(),u=!l;if(u||!s.isSuppressRowDeselection()){var h=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),g=this.rowNode.setSelectedParams({newValue:u,rangeSelect:i.shiftKey,groupSelectsFiltered:h});void 0===l&&0===g&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:i.shiftKey,groupSelectsFiltered:h})}}i.preventDefault()},r.prototype.destroy=function(){},r}(pe),Zf=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),eg=function(c){function r(i,s,l,u){var h=c.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return h.rowNode=i,h.column=s,h.beans=l,h.eCell=u,h}return Zf(r,c),r.prototype.postConstruct=function(){this.getGui().appendChild(Gn("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(s){s.stopPropagation()}),this.addDragSource(),this.checkVisibility()},r.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},r.prototype.onDragStart=function(i){var s=this,l=this.column.getColDef().dndSourceOnRowDrag;i.dataTransfer.setDragImage(this.eCell,0,0),l?l({rowNode:this.rowNode,dragEvent:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):function(){try{var g=JSON.stringify(s.rowNode.data);i.dataTransfer.setData("application/json",g),i.dataTransfer.setData("text/plain",g)}catch(_){}}()},r.prototype.checkVisibility=function(){var i=this.column.isDndSource(this.rowNode);this.setDisplayed(i)},function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([ge],r.prototype,"postConstruct",null),r}(Me),TN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),tg=function(){return tg=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},tg.apply(this,arguments)},ac="ag-cell-not-inline-editing",TS=0,Fs=function(c){function r(i,s,l,u){var h=c.call(this)||this;return h.suppressRefreshCell=!1,h.column=i,h.rowNode=s,h.beans=l,h.rowCtrl=u,h.instanceId=i.getId()+"-"+TS++,h.createCellPosition(),h.addFeatures(),h}return TN(r,c),r.prototype.addFeatures=function(){var i=this;this.cellPositionFeature=new wS(this,this.beans),this.addDestroyFunc(function(){return i.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new __(this,this.beans),this.addDestroyFunc(function(){return i.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new DN(this,this.beans,this.column),this.addDestroyFunc(function(){return i.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new ON(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return i.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new CS(this.beans,this),this.addDestroyFunc(function(){return i.cellRangeFeature.destroy()})),this.addTooltipFeature()},r.prototype.addTooltipFeature=function(){var i=this;this.tooltipFeature=new Ca({getColumn:function(){return i.column},getColDef:function(){return i.column.getColDef()},getRowIndex:function(){return i.cellPosition.rowIndex},getRowNode:function(){return i.rowNode},getGui:function(){return i.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var u=i.column.getColDef(),h=i.rowNode.data;if(u.tooltipField&&ee(h))return ol(h,u.tooltipField,i.column.isTooltipFieldContainsDots());var g=u.tooltipValueGetter;return g?g({location:"cell",api:i.beans.gridOptionsWrapper.getApi(),columnApi:i.beans.gridOptionsWrapper.getColumnApi(),context:i.beans.gridOptionsWrapper.getContext(),colDef:i.column.getColDef(),column:i.column,rowIndex:i.cellPosition.rowIndex,node:i.rowNode,data:i.rowNode.data,value:i.value,valueFormatted:i.valueFormatted}):null},getValueFormatted:function(){return i.valueFormatted}},this.beans),this.addDestroyFunc(function(){return i.tooltipFeature.destroy()})},r.prototype.setComp=function(i,s,l,u,h){this.cellComp=i,this.gow=this.beans.gridOptionsWrapper,this.eGui=s,this.eCellWrapper=l,this.printLayout=u,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var g=Je(this.column.getId());this.cellComp.setColId(g),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(s),this.cellCustomStyleFeature.setComp(i),this.tooltipFeature.setComp(i),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(i,s),h&&this.isCellEditable()?this.startEditing():this.showValue()},r.prototype.setupAutoHeight=function(){var i=this;if(this.column.isAutoHeight()){var s=this.eCellWrapper,l=s.parentElement,u=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,h=function(w){if(!i.editing&&i.isAlive()){var E=dl(l),V=s.offsetHeight+E.paddingTop+E.paddingBottom;if(w<5){var B=i.beans.gridOptionsWrapper.getDocument();if(!B||!B.contains(s)||0==V)return void i.beans.frameworkOverrides.setTimeout(function(){return h(w+1)},0)}var J=Math.max(V,u);i.rowNode.setRowAutoHeight(J,i.column)}},g=function(){return h(0)};g();var _=this.beans.resizeObserverService.observeResize(s,g);this.addDestroyFunc(function(){_(),i.rowNode.setRowAutoHeight(void 0,i.column)})}},r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.showValue=function(i){void 0===i&&(i=!1);var s=null!=this.valueFormatted?this.valueFormatted:this.value,l=this.createCellRendererParams(),u=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),l);this.cellComp.setRenderDetails(u,s,i),this.refreshHandle()},r.prototype.setupControlComps=function(){var i=this.column.getColDef();this.includeSelection=this.isIncludeControl(i.checkboxSelection),this.includeRowDrag=this.isIncludeControl(i.rowDrag),this.includeDndSource=this.isIncludeControl(i.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},r.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},r.prototype.isIncludeControl=function(i){return!(null!=this.rowNode.rowPinned||"function"!=typeof i&&!0!==i)},r.prototype.refreshShouldDestroy=function(){var i=this.column.getColDef(),s=this.includeSelection!=this.isIncludeControl(i.checkboxSelection),l=this.includeRowDrag!=this.isIncludeControl(i.rowDrag),u=this.includeDndSource!=this.isIncludeControl(i.dndSource);return s||l||u},r.prototype.startEditing=function(i,s,l,u){var h,g;if(void 0===i&&(i=null),void 0===s&&(s=null),void 0===l&&(l=!1),void 0===u&&(u=null),this.isCellEditable()&&!this.editing){var _=this.createCellEditorParams(i,s,l),w=this.column.getColDef(),E=this.beans.userComponentFactory.getCellEditorDetails(w,_),D=null!=(null===(h=E)||void 0===h?void 0:h.popupFromSelector)?E.popupFromSelector:!!w.cellEditorPopup,M=null!=(null===(g=E)||void 0===g?void 0:g.popupPositionFromSelector)?E.popupPositionFromSelector:w.cellEditorPopupPosition;this.setEditing(!0,D),this.cellComp.setEditDetails(E,D,M);var G=this.createEvent(u,L.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(G)}},r.prototype.setEditing=function(i,s){void 0===s&&(s=!1),this.editing!==i&&(this.editing=i,this.editingInPopup=s,this.setInlineEditingClass())},r.prototype.stopRowOrCellEdit=function(i){void 0===i&&(i=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(i):this.stopEditing(i)},r.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},r.prototype.takeValueFromCellEditor=function(i){var s={newValueExists:!1};if(i)return s;var l=this.cellComp.getCellEditor();return l?l.isCancelAfterEnd&&l.isCancelAfterEnd()?s:{newValue:l.getValue(),newValueExists:!0}:s},r.prototype.saveNewValue=function(i,s){if(s===i)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(i,s),!1;this.suppressRefreshCell=!0;var l=this.rowNode.setDataValue(this.column,s);return this.suppressRefreshCell=!1,l},r.prototype.dispatchEventForSaveValueReadOnly=function(i,s){var l=this.rowNode,u={type:L.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:l.rowIndex,rowPinned:l.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:l.data,node:l,oldValue:i,newValue:s,value:s,source:void 0};this.beans.eventService.dispatchEvent(u)},r.prototype.stopEditing=function(i){if(void 0===i&&(i=!1),!this.editing)return!1;var s=this.takeValueFromCellEditor(i),l=s.newValue,u=s.newValueExists,h=this.getValueFromValueService(),g=!1;return u&&(g=this.saveNewValue(h,l)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(h,l),g},r.prototype.dispatchEditingStoppedEvent=function(i,s){var l=tg(tg({},this.createEvent(null,L.EVENT_CELL_EDITING_STOPPED)),{oldValue:i,newValue:s});this.beans.eventService.dispatchEvent(l)},r.prototype.setInlineEditingClass=function(){if(this.isAlive()){var i=this.editing&&!this.editingInPopup,s=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",i),this.cellComp.addOrRemoveCssClass(ac,!i),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",s),this.rowCtrl.setInlineEditingCss(this.editing)}},r.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},r.prototype.createCellEditorParams=function(i,s,l){return{value:this.getValueFromValueService(),key:i,eventKey:i,charPress:s,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:l,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},r.prototype.createCellRendererParams=function(){var i=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(u){return i.beans.valueService.setValue(i.rowNode,i.column,u)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(u,h,g,_){return i.registerRowDragger(u,h,_)},addRowCompListener:function(u,h){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),i.rowCtrl.addEventListener(u,h)}}},r.prototype.parseValue=function(i){var s=this.column.getColDef(),l={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:i,colDef:s,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},u=s.valueParser;return ee(u)?this.beans.expressionService.evaluate(u,l):i},r.prototype.setFocusOutOnEditor=function(){if(this.editing){var i=this.cellComp.getCellEditor();i&&i.focusOut&&i.focusOut()}},r.prototype.setFocusInOnEditor=function(){if(this.editing){var i=this.cellComp.getCellEditor();i&&i.focusIn?i.focusIn():this.focusCell(!0)}},r.prototype.onCellChanged=function(i){this.cellComp&&i.column===this.column&&this.refreshCell({})},r.prototype.refreshCell=function(i){if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var s=this.column.getColDef(),l=null!=i&&!!i.newData,u=null!=i&&!!i.suppressFlash||!!s.suppressCellFlash,g=i&&i.forceRefresh||null==s.field&&null==s.valueGetter&&null==s.showRowGroup||l,_=this.updateAndFormatValue();if(g||_){this.showValue(l);var E=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!u&&!E&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||s.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},r.prototype.stopEditingAndFocus=function(i){void 0===i&&(i=!1),this.stopRowOrCellEdit(),this.focusCell(!0),i||this.navigateAfterEdit()},r.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,le.DOWN,this.getCellPosition(),!1)},r.prototype.flashCell=function(i){this.animateCell("data-changed",i&&i.flashDelay,i&&i.fadeDelay)},r.prototype.animateCell=function(i,s,l){var u=this,h="ag-cell-"+i,g="ag-cell-"+i+"-animation",_=this.beans.gridOptionsWrapper;s||(s=_.getCellFlashDelay()),ee(l)||(l=_.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(h,!0),this.cellComp.addOrRemoveCssClass(g,!1),window.setTimeout(function(){u.cellComp.addOrRemoveCssClass(h,!1),u.cellComp.addOrRemoveCssClass(g,!0),u.eGui.style.transition="background-color "+l+"ms",window.setTimeout(function(){u.cellComp.addOrRemoveCssClass(g,!1),u.eGui.style.transition=""},l)},s)},r.prototype.onFlashCells=function(i){if(this.cellComp){var s=this.beans.cellPositionUtils.createId(this.getCellPosition());i.cells[s]&&this.animateCell("highlight")}},r.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},r.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},r.prototype.formatValue=function(i){var s=this.callValueFormatter(i);return null!=s?s:i},r.prototype.callValueFormatter=function(i){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,i)},r.prototype.updateAndFormatValue=function(i){void 0===i&&(i=!1);var s=this.value,l=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!i||!this.valuesAreEqual(s,this.value)||this.valueFormatted!=l},r.prototype.valuesAreEqual=function(i,s){var l=this.column.getColDef();return l.equals?l.equals(i,s):i===s},r.prototype.getComp=function(){return this.cellComp},r.prototype.getValueFromValueService=function(){var i=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),s=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!i,l=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),u=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,s&&l&&!u)},r.prototype.getValue=function(){return this.value},r.prototype.getValueFormatted=function(){return this.valueFormatted},r.prototype.addDomData=function(){var i=this,s=this.getGui();this.beans.gridOptionsWrapper.setDomData(s,r.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return i.beans.gridOptionsWrapper.setDomData(s,r.DOM_DATA_KEY_CELL_CTRL,null)})},r.prototype.createEvent=function(i,s){return{type:s,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:i,rowIndex:this.rowNode.rowIndex}},r.prototype.onKeyPress=function(i){this.cellKeyboardListenerFeature.onKeyPress(i)},r.prototype.onKeyDown=function(i){this.cellKeyboardListenerFeature.onKeyDown(i)},r.prototype.onMouseEvent=function(i,s){this.cellMouseListenerFeature.onMouseEvent(i,s)},r.prototype.getGui=function(){return this.eGui},r.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},r.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},r.prototype.onLeftChanged=function(){!this.cellComp||this.cellPositionFeature.onLeftChanged()},r.prototype.onDisplayedColumnsChanged=function(){!this.eGui||this.setAriaColIndex()},r.prototype.setAriaColIndex=function(){var i=this.beans.columnModel.getAriaColumnIndex(this.column);Ty(this.getGui(),i)},r.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},r.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},r.prototype.getColumn=function(){return this.column},r.prototype.getRowNode=function(){return this.rowNode},r.prototype.getBeans=function(){return this.beans},r.prototype.isPrintLayout=function(){return this.printLayout},r.prototype.appendChild=function(i){this.eGui.appendChild(i)},r.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},r.prototype.getCellPosition=function(){return this.cellPosition},r.prototype.isEditing=function(){return this.editing},r.prototype.startRowOrCellEdit=function(i,s,l){void 0===l&&(l=null),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(i,s,this):this.startEditing(i,s,!0,l)},r.prototype.getRowCtrl=function(){return this.rowCtrl},r.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},r.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},r.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},r.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},r.prototype.focusCell=function(i){void 0===i&&(i=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,i)},r.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},r.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var i=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",i)}},r.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var i=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",i)}},r.prototype.onCellFocused=function(i){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var s=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",s),s&&i&&i.forceBrowserFocus&&this.cellComp.getFocusableElement().focus();var u=this.beans.gridOptionsWrapper.isFullRowEdit();!s&&!u&&this.editing&&this.stopRowOrCellEdit()}},r.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Rr(this.rowNode.rowPinned),column:this.column}},r.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(ac,!0);var i=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",i),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!i)},r.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var i=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",i)}},r.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},r.prototype.setWrapText=function(){var i=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",i)},r.prototype.dispatchCellContextMenuEvent=function(i){var s=this.column.getColDef(),l=this.createEvent(i,L.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(l),s.onCellContextMenu&&window.setTimeout(function(){return s.onCellContextMenu(l)},0)},r.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},r.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},r.prototype.destroy=function(){c.prototype.destroy.call(this)},r.prototype.createSelectionCheckbox=function(){var i=new Bf;return this.beans.context.createBean(i),i.init({rowNode:this.rowNode,column:this.column}),i},r.prototype.createDndSource=function(){var i=new eg(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(i),i},r.prototype.registerRowDragger=function(i,s,l){var u=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(i,s);else{var h=this.createRowDragComp(i,s,l);h&&(this.customRowDragComp=h,this.addDestroyFunc(function(){return u.beans.context.destroyBean(h)}))}},r.prototype.createRowDragComp=function(i,s,l){var u=this,h=this.beans.gridOptionsWrapper.isPagination(),g=this.beans.gridOptionsWrapper.isRowDragManaged(),_=this.beans.gridOptionsWrapper.isRowModelDefault();if(g){if(!_)return void At(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(h)return void At(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var w=new jf(function(){return u.value},this.rowNode,this.column,i,s,l);return this.beans.context.createBean(w),w},r.DOM_DATA_KEY_CELL_CTRL="cellCtrl",r}(pe),Rn=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),E_=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},Mi=(()=>(function(c){c.Normal="Normal",c.FullWidth="FullWidth",c.FullWidthLoading="FullWidthLoading",c.FullWidthGroup="FullWidthGroup",c.FullWidthDetail="FullWidthDetail"}(Mi||(Mi={})),Mi))(),PS=0,Ls=function(c){function r(i,s,l,u,h){var g=c.call(this)||this;return g.allRowGuis=[],g.active=!0,g.centerCellCtrls={list:[],map:{}},g.leftCellCtrls={list:[],map:{}},g.rightCellCtrls={list:[],map:{}},g.lastMouseDownOnDragger=!1,g.updateColumnListsPending=!1,g.beans=s,g.rowNode=i,g.paginationPage=g.beans.paginationProxy.getCurrentPage(),g.useAnimationFrameForCreate=u,g.printLayout=h,g.instanceId=i.id+"-"+PS++,g.setAnimateFlags(l),g.rowFocused=g.beans.focusService.isRowFocused(g.rowNode.rowIndex,g.rowNode.rowPinned),g.rowLevel=g.beans.rowCssClassCalculator.calculateRowLevel(g.rowNode),g.setRowType(),g.addListeners(),g.setInitialRowTop(),g}return Rn(r,c),r.prototype.getBeans=function(){return this.beans},r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setComp=function(i,s,l){var u={rowComp:i,element:s,containerType:l};this.allRowGuis.push(u),l===x.EDi.LEFT?this.leftGui=u:l===x.EDi.RIGHT?this.rightGui=u:l===x.EDi.FULL_WIDTH?this.fullWidthGui=u:this.centerGui=u,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},r.prototype.isCacheable=function(){return this.rowType===Mi.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},r.prototype.setCached=function(i){var s=i?"none":"";this.allRowGuis.forEach(function(l){return l.element.style.display=s})},r.prototype.initialiseRowComps=function(){var i=this,s=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),s.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&Zh(this.onTopChanged.bind(this)),this.fadeRowIn&&Zh(function(){i.allRowGuis.forEach(function(g){return g.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var l=this.getRowBusinessKey(),u=Je(this.rowNode.id),h=Je(l);this.allRowGuis.forEach(function(g){var _=g.rowComp;_.setRole("row"),i.getInitialRowClasses(g.containerType).forEach(function(E){return _.addOrRemoveCssClass(E,!0)}),i.rowNode.group&&Nr(g.element,1==i.rowNode.expanded),null!=u&&_.setRowId(u),null!=h&&_.setRowBusinessKey(h),i.isFullWidth()&&!i.beans.gridOptionsWrapper.isSuppressCellFocus()&&_.setTabIndex(-1),s.setDomData(g.element,r.DOM_DATA_KEY_ROW_CTRL,i),i.addDestroyFunc(function(){return s.setDomData(g.element,r.DOM_DATA_KEY_ROW_CTRL,null)}),i.useAnimationFrameForCreate?i.beans.animationFrameService.createTask(i.addHoverFunctionality.bind(i,g.element),i.rowNode.rowIndex,"createTasksP2"):i.addHoverFunctionality(g.element),i.isFullWidth()&&i.setupFullWidth(g),s.isRowDragEntireRow()&&i.addRowDraggerToRow(g),i.useAnimationFrameForCreate&&i.beans.animationFrameService.addDestroyTask(function(){!i.isAlive()||g.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},r.prototype.addRowDraggerToRow=function(i){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())At(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var l=new jf(function(){return"1 row"},this.rowNode,void 0,i.element,void 0,!0);this.createManagedBean(l,this.beans.context)}},r.prototype.setupFullWidth=function(i){var s=this.getPinnedForContainer(i.containerType),l=this.createFullWidthParams(i.element,s),u=He.isRegistered(x.GXE.MasterDetailModule);if(this.rowType!=Mi.FullWidthDetail||u){var h;switch(this.rowType){case Mi.FullWidthDetail:h=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(l);break;case Mi.FullWidthGroup:h=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(l);break;case Mi.FullWidthLoading:h=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(l);break;default:h=this.beans.userComponentFactory.getFullWidthCellRendererDetails(l)}i.rowComp.showFullWidth(h)}else He.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+x.GXE.MasterDetailModule)},r.prototype.isPrintLayout=function(){return this.printLayout},r.prototype.getCellElement=function(i){var s=this.getCellCtrl(i);return s?s.getGui():null},r.prototype.executeProcessRowPostCreateFunc=function(){var i=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();i&&i({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},r.prototype.setRowType=function(){var i=this.rowNode.stub,s=this.rowNode.isFullWidthCell(),l=this.beans.doingMasterDetail&&this.rowNode.detail,u=this.beans.columnModel.isPivotMode(),g=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(u);this.rowType=i?Mi.FullWidthLoading:l?Mi.FullWidthDetail:s?Mi.FullWidth:g?Mi.FullWidthGroup:Mi.Normal},r.prototype.updateColumnLists=function(i){var s=this;if(void 0===i&&(i=!1),!this.isFullWidth()){if(i||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!s.active||s.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},r.prototype.createCellCtrls=function(i,s,l){var u=this;void 0===l&&(l=null);var h={list:[],map:{}},g=function(_,w){h.list.push(w),h.map[_]=w};return s.forEach(function(_){var w=_.getInstanceId(),E=i.map[w];E||(E=new Fs(_,u.rowNode,u.beans,u)),g(w,E)}),i.list.forEach(function(_){if(null==h.map[_.getColumn().getInstanceId()]){if(!u.isCellEligibleToBeRemoved(_,l))return void g(_.getColumn().getInstanceId(),_);_.destroy()}}),h},r.prototype.updateColumnListsImpl=function(){var i=this;this.updateColumnListsPending=!1;var s=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var l=s.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,l);var u=s.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,u,j.PINNED_LEFT);var h=s.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,h,j.PINNED_RIGHT)}this.allRowGuis.forEach(function(g){g.rowComp.setCellCtrls((g.containerType===x.EDi.LEFT?i.leftCellCtrls:g.containerType===x.EDi.RIGHT?i.rightCellCtrls:i.centerCellCtrls).list)})},r.prototype.isCellEligibleToBeRemoved=function(i,s){var l=!0;if(i.getColumn().getPinned()!=s)return l;var g=i.isEditing(),_=this.beans.focusService.isCellFocused(i.getCellPosition());if(g||_){var E=i.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(E)>=0)&&l}return l},r.prototype.setAnimateFlags=function(i){if(i){var s=ee(this.rowNode.oldRowTop);this.slideRowIn=s,this.fadeRowIn=!s}else this.slideRowIn=!1,this.fadeRowIn=!1},r.prototype.isEditing=function(){return this.editingRow},r.prototype.stopRowEditing=function(i){this.stopEditing(i)},r.prototype.isFullWidth=function(){return this.rowType!==Mi.Normal},r.prototype.getRowType=function(){return this.rowType},r.prototype.refreshFullWidth=function(){var i=this,s=function(w,E){if(!w)return!0;var D=w.rowComp.getFullWidthCellRenderer();if(!D||!D.refresh)return!1;var M=i.createFullWidthParams(w.element,E);return D.refresh(M)},l=s(this.fullWidthGui,null),u=s(this.centerGui,null),h=s(this.leftGui,j.PINNED_LEFT),g=s(this.rightGui,j.PINNED_RIGHT);return l&&u&&h&&g},r.prototype.addListeners=function(){this.addManagedListener(this.rowNode,nt.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,nt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var i=this.beans.eventService;this.addManagedListener(i,L.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(i,L.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(i,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(i,L.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(i,L.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(i,L.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(i,L.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(i,L.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},r.prototype.onColumnMoved=function(){this.updateColumnLists()},r.prototype.addListenersForCellComps=function(){var i=this;this.addManagedListener(this.rowNode,nt.EVENT_ROW_INDEX_CHANGED,function(){i.getAllCellCtrls().forEach(function(s){return s.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,nt.EVENT_CELL_CHANGED,function(s){i.getAllCellCtrls().forEach(function(l){return l.onCellChanged(s)})})},r.prototype.onRowNodeDataChanged=function(i){this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!i.update,newData:!i.update})}),this.onRowSelected(),this.postProcessCss()},r.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},r.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},r.prototype.onRowNodeHighlightChanged=function(){var i=this.rowNode.highlighted;this.allRowGuis.forEach(function(s){var u=i===x.oh5.Below;s.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i===x.oh5.Above),s.rowComp.addOrRemoveCssClass("ag-row-highlight-below",u)})},r.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},r.prototype.postProcessRowDragging=function(){var i=this.rowNode.dragging;this.allRowGuis.forEach(function(s){return s.rowComp.addOrRemoveCssClass("ag-row-dragging",i)})},r.prototype.updateExpandedCss=function(){var i=this.rowNode.isExpandable(),s=1==this.rowNode.expanded;this.allRowGuis.forEach(function(l){l.rowComp.addOrRemoveCssClass("ag-row-group",i),l.rowComp.addOrRemoveCssClass("ag-row-group-expanded",i&&s),l.rowComp.addOrRemoveCssClass("ag-row-group-contracted",i&&!s),Nr(l.element,i&&s)})},r.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},r.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},r.prototype.getRowPosition=function(){return{rowPinned:Rr(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},r.prototype.onKeyboardNavigate=function(i){var s=this.allRowGuis.find(function(w){return w.element.contains(i.target)});if((s?s.element:null)===i.target){var h=this.rowNode,g=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(i,i.key,{rowIndex:h.rowIndex,rowPinned:h.rowPinned,column:g&&g.column},!0),i.preventDefault()}},r.prototype.onTabKeyDown=function(i){if(!i.defaultPrevented&&!Qr(i)){var s=this.allRowGuis.find(function(g){return g.element.contains(i.target)}),l=s?s.element:null,u=l===i.target,h=null;u||(h=this.beans.focusService.findNextFocusableElement(l,!1,i.shiftKey)),(this.isFullWidth()&&u||!h)&&this.beans.navigationService.onTabKeyDown(this,i)}},r.prototype.onFullWidthRowFocused=function(i){var s,l=this.rowNode,u=this.isFullWidth()&&i.rowIndex===l.rowIndex&&i.rowPinned==l.rowPinned,h=this.fullWidthGui?this.fullWidthGui.element:null===(s=this.centerGui)||void 0===s?void 0:s.element;!h||(h.classList.toggle("ag-full-width-focus",u),u&&h.focus({preventScroll:!0}))},r.prototype.refreshCell=function(i){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,i),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,i),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,i),this.updateColumnLists()},r.prototype.removeCellCtrl=function(i,s){var l={list:[],map:{}};return i.list.forEach(function(u){u!==s&&(l.list.push(u),l.map[u.getInstanceId()]=u)}),l},r.prototype.onMouseEvent=function(i,s){switch(i){case"dblclick":this.onRowDblClick(s);break;case"click":this.onRowClick(s);break;case"touchstart":case"mousedown":this.onRowMouseDown(s)}},r.prototype.createRowEvent=function(i,s){return{type:i,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:s}},r.prototype.createRowEventWithSource=function(i,s){var l=this.createRowEvent(i,s);return l.source=this,l},r.prototype.onRowDblClick=function(i){if(!Qr(i)){var s=this.createRowEventWithSource(L.EVENT_ROW_DOUBLE_CLICKED,i);this.beans.eventService.dispatchEvent(s)}},r.prototype.onRowMouseDown=function(i){if(this.lastMouseDownOnDragger=Ss(i.target,"ag-row-drag",3),this.isFullWidth()){var s=this.rowNode;this.beans.focusService.setFocusedCell(s.rowIndex,this.beans.columnModel.getAllDisplayedColumns()[0],s.rowPinned,!0)}},r.prototype.onRowClick=function(i){if(!Qr(i)&&!this.lastMouseDownOnDragger){var l=this.createRowEventWithSource(L.EVENT_ROW_CLICKED,i);this.beans.eventService.dispatchEvent(l);var u=i.ctrlKey||i.metaKey,h=i.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var _=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),w=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?_?this.rowNode.setSelectedParams({newValue:!1}):u?w&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!h,rangeSelect:h}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!_&&!u,rangeSelect:h})}}},r.prototype.setupDetailRowAutoHeight=function(i){var s=this;if(this.rowType===Mi.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var l=function(){var h=i.clientHeight;null!=h&&h>0&&s.beans.frameworkOverrides.setTimeout(function(){s.rowNode.setRowHeight(h),s.beans.clientSideRowModel?s.beans.clientSideRowModel.onRowHeightChanged():s.beans.serverSideRowModel&&s.beans.serverSideRowModel.onRowHeightChanged()},0)},u=this.beans.resizeObserverService.observeResize(i,l);this.addDestroyFunc(u),l()}},r.prototype.createFullWidthParams=function(i,s){var l=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:i,eParentOfValue:i,pinned:s,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(h,g,_,w){return l.addFullWidthRowDragging(h,g,_,w)}}},r.prototype.addFullWidthRowDragging=function(i,s,l,u){if(void 0===l&&(l=""),this.isFullWidth()){var h=new jf(function(){return l},this.rowNode,void 0,i,s,u);this.createManagedBean(h,this.beans.context)}},r.prototype.onUiLevelChanged=function(){var i=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=i){var s="ag-row-level-"+i,l="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(u){u.rowComp.addOrRemoveCssClass(s,!0),u.rowComp.addOrRemoveCssClass(l,!1)})}this.rowLevel=i},r.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},r.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},r.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},r.prototype.refreshFirstAndLastRowStyles=function(){var i=this.isFirstRowOnPage(),s=this.isLastRowOnPage();this.firstRowOnPage!==i&&(this.firstRowOnPage=i,this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-row-first",i)})),this.lastRowOnPage!==s&&(this.lastRowOnPage=s,this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-row-last",s)}))},r.prototype.stopEditing=function(i){void 0===i&&(i=!1);var s=this.getAllCellCtrls().map(function(u){return u.stopEditing(i)});if(this.editingRow){if(!i&&s.some(function(u){return u})){var l=this.createRowEvent(L.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(l)}this.setEditingRow(!1)}},r.prototype.setInlineEditingCss=function(i){this.allRowGuis.forEach(function(s){s.rowComp.addOrRemoveCssClass("ag-row-inline-editing",i),s.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!i)})},r.prototype.setEditingRow=function(i){this.editingRow=i,this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-row-editing",i)});var s=this.createRowEvent(i?L.EVENT_ROW_EDITING_STARTED:L.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(s)},r.prototype.startRowEditing=function(i,s,l,u){void 0===i&&(i=null),void 0===s&&(s=null),void 0===l&&(l=null),void 0===u&&(u=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(h){var g=h===l;g?h.startEditing(i,s,g,u):h.startEditing(null,null,g,u)}),this.setEditingRow(!0))},r.prototype.getAllCellCtrls=function(){var i=function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(E_(arguments[r]));return c}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return i},r.prototype.postProcessClassesFromGridOptions=function(){var i=this,s=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!s||!s.length||s.forEach(function(l){i.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass(l,!0)})})},r.prototype.postProcessRowClassRules=function(){var i=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(s){i.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass(s,!0)})},function(s){i.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass(s,!1)})})},r.prototype.setStylesFromGridOptions=function(){var i=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(s){return s.rowComp.setUserStyles(i)})},r.prototype.getRowBusinessKey=function(){var i=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof i)return i(this.rowNode)},r.prototype.getPinnedForContainer=function(i){return i===x.EDi.LEFT?j.PINNED_LEFT:i===x.EDi.RIGHT?j.PINNED_RIGHT:null},r.prototype.getInitialRowClasses=function(i){var s=this.getPinnedForContainer(i),l={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:s};return this.beans.rowCssClassCalculator.getInitialRowClasses(l)},r.prototype.processStylesFromGridOptions=function(){var i=this.beans.gridOptionsWrapper.getRowStyle();if(!i||"function"!=typeof i){var l,s=this.beans.gridOptionsWrapper.getRowStyleFunc();return s&&(l=s({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},i,l)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},r.prototype.onRowSelected=function(){var i=this,s=!!this.rowNode.isSelected();this.allRowGuis.forEach(function(l){l.rowComp.addOrRemoveCssClass("ag-row-selected",s),Os(l.element,!!s||void 0);var u=i.createAriaLabel();vl(l.element,null==u?"":u)})},r.prototype.createAriaLabel=function(){var i=this.rowNode.isSelected();if(!i||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(i?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(i?"deselect":"select")+" this row.")},r.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},r.prototype.addHoverFunctionality=function(i){var s=this;!this.active||(this.addManagedListener(i,"mouseenter",function(){return s.rowNode.onMouseEnter()}),this.addManagedListener(i,"mouseleave",function(){return s.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,nt.EVENT_MOUSE_ENTER,function(){s.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||i.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,nt.EVENT_MOUSE_LEAVE,function(){i.classList.remove("ag-row-hover")}))},r.prototype.roundRowTopToBounds=function(i){var l=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),u=this.applyPaginationOffset(l.top,!0)-100,h=this.applyPaginationOffset(l.bottom,!0)+100;return Math.min(Math.max(u,i),h)},r.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},r.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var i=this.rowNode.rowHeight,s=this.beans.gridOptionsWrapper.getDefaultRowHeight(),u=this.beans.gridOptionsWrapper.isGetRowHeightFunction()?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,h=u?Math.min(s,u)-2+"px":void 0;this.allRowGuis.forEach(function(g){g.element.style.height=i+"px",h&&g.element.style.setProperty("--ag-line-height",h)})}},r.prototype.addEventListener=function(i,s){("renderedRowRemoved"===i||"rowRemoved"===i)&&(i=L.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+L.EVENT_VIRTUAL_ROW_REMOVED)),c.prototype.addEventListener.call(this,i,s)},r.prototype.removeEventListener=function(i,s){("renderedRowRemoved"===i||"rowRemoved"===i)&&(i=L.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+L.EVENT_VIRTUAL_ROW_REMOVED)),c.prototype.removeEventListener.call(this,i,s)},r.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var i=this.createRowEvent(L.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(i),this.beans.eventService.dispatchEvent(i),c.prototype.destroy.call(this)},r.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},r.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var i=function(s){return s.list.forEach(function(l){return l.destroy()}),{list:[],map:{}}};this.centerCellCtrls=i(this.centerCellCtrls),this.leftCellCtrls=i(this.leftCellCtrls),this.rightCellCtrls=i(this.rightCellCtrls)},r.prototype.setFocusedClasses=function(){var i=this;this.allRowGuis.forEach(function(s){s.rowComp.addOrRemoveCssClass("ag-row-focus",i.rowFocused),s.rowComp.addOrRemoveCssClass("ag-row-no-focus",!i.rowFocused)})},r.prototype.onCellFocusChanged=function(){var i=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);i!==this.rowFocused&&(this.rowFocused=i,this.setFocusedClasses()),!i&&this.editingRow&&this.stopEditing(!1)},r.prototype.onPaginationChanged=function(){var i=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==i&&(this.paginationPage=i,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},r.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},r.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},r.prototype.applyPaginationOffset=function(i,s){return void 0===s&&(s=!1),this.rowNode.isRowPinned()?i:i+this.beans.paginationProxy.getPixelOffset()*(s?1:-1)},r.prototype.setRowTop=function(i){if(!this.printLayout&&ee(i)){var s=this.applyPaginationOffset(i),l=this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s);this.setRowTopStyle(l+"px")}},r.prototype.getInitialRowTop=function(){return this.initialTop},r.prototype.getInitialTransform=function(){return this.initialTransform},r.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var i=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,s=this.applyPaginationOffset(i),u=(this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=u:this.initialTransform="translateY("+u+")"},r.prototype.setRowTopStyle=function(i){var s=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(l){return s?l.rowComp.setTop(i):l.rowComp.setTransform("translateY("+i+")")})},r.prototype.getRowNode=function(){return this.rowNode},r.prototype.getCellCtrl=function(i){var s=null;return this.getAllCellCtrls().forEach(function(l){l.getColumn()==i&&(s=l)}),null!=s||this.getAllCellCtrls().forEach(function(l){l.getColSpanningList().indexOf(i)>=0&&(s=l)}),s},r.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},r.prototype.updateRowIndexes=function(){var i=this.rowNode.getRowIndexString(),s=this.beans.headerNavigationService.getHeaderRowCount(),l=this.rowNode.rowIndex%2==0,u=s+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(h){h.rowComp.setRowIndex(i),h.rowComp.addOrRemoveCssClass("ag-row-even",l),h.rowComp.addOrRemoveCssClass("ag-row-odd",!l),Oy(h.element,u)})},r.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},r.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},r.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},r.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},r.DOM_DATA_KEY_ROW_CTRL="renderedRow",r}(pe),NS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Lr=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},lc=function(c){function r(i){var s=c.call(this)||this;return s.element=i,s}return NS(r,c),r.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},r.prototype.addKeyboardEvents=function(){var i=this;["keydown","keypress"].forEach(function(l){var u=i.processKeyboardEvent.bind(i,l);i.addManagedListener(i.element,l,u)})},r.prototype.addMouseListeners=function(){var i=this;["dblclick","contextmenu","mouseover","mouseout","click",Ou("touchstart")?"touchstart":"mousedown"].forEach(function(u){var h=i.processMouseEvent.bind(i,u);i.addManagedListener(i.element,u,h)})},r.prototype.processMouseEvent=function(i,s){if(this.mouseEventService.isEventFromThisGrid(s)&&!Qr(s)){var l=this.getRowForEvent(s),u=this.mouseEventService.getRenderedCellForEvent(s);"contextmenu"===i?this.handleContextMenuMouseEvent(s,null,l,u):(u&&u.onMouseEvent(i,s),l&&l.onMouseEvent(i,s))}},r.prototype.mockContextMenuForIPad=function(){var i=this;if(Mu()){var s=new xr(this.element);this.addManagedListener(s,xr.EVENT_LONG_TAP,function(u){var h=i.getRowForEvent(u.touchEvent),g=i.mouseEventService.getRenderedCellForEvent(u.touchEvent);i.handleContextMenuMouseEvent(null,u.touchEvent,h,g)}),this.addDestroyFunc(function(){return s.destroy()})}},r.prototype.getRowForEvent=function(i){for(var s=i.target;s;){var l=this.gridOptionsWrapper.getDomData(s,Ls.DOM_DATA_KEY_ROW_CTRL);if(l)return l;s=s.parentElement}return null},r.prototype.handleContextMenuMouseEvent=function(i,s,l,u){var h=l?l.getRowNode():null,g=u?u.getColumn():null,_=null;g&&(u.dispatchCellContextMenuEvent(i||s),_=this.valueService.getValue(g,h));var E=this.ctrlsService.getGridBodyCtrl(),D=u?u.getGui():E.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(i,s,h,g,_,D)},r.prototype.processKeyboardEvent=function(i,s){var l=sa(this.gridOptionsWrapper,s,Fs.DOM_DATA_KEY_CELL_CTRL),u=sa(this.gridOptionsWrapper,s,Ls.DOM_DATA_KEY_ROW_CTRL);s.defaultPrevented||(l?this.processCellKeyboardEvent(l,i,s):u&&u.isFullWidth()&&this.processFullWidthRowKeyboardEvent(u,i,s))},r.prototype.processCellKeyboardEvent=function(i,s,l){var u=i.getRowNode(),h=i.getColumn(),g=i.isEditing();if(!Bd(this.gridOptionsWrapper,l,u,h,g))switch(s){case"keydown":!g&&this.navigationService.handlePageScrollingKey(l)||i.onKeyDown(l),this.doGridOperations(l,i.isEditing());break;case"keypress":i.onKeyPress(l)}if("keydown"===s){var E=i.createEvent(l,L.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(E)}if("keypress"===s){var D=i.createEvent(l,L.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(D)}},r.prototype.processFullWidthRowKeyboardEvent=function(i,s,l){var u=i.getRowNode(),h=this.focusService.getFocusedCell();if(!Bd(this.gridOptionsWrapper,l,u,h&&h.column,!1)&&"keydown"===s)switch(l.key){case le.UP:case le.DOWN:i.onKeyboardNavigate(l);break;case le.TAB:i.onTabKeyDown(l)}if("keydown"===s){var E=i.createRowEvent(L.EVENT_CELL_KEY_DOWN,l);this.eventService.dispatchEvent(E)}if("keypress"===s){var D=i.createRowEvent(L.EVENT_CELL_KEY_PRESS,l);this.eventService.dispatchEvent(D)}},r.prototype.doGridOperations=function(i,s){if((i.ctrlKey||i.metaKey)&&!s&&this.mouseEventService.isEventFromThisGrid(i))switch(i.code){case le.A:return this.onCtrlAndA(i);case le.C:return this.onCtrlAndC(i);case le.V:return this.onCtrlAndV();case le.D:return this.onCtrlAndD(i);case le.Z:return i.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case le.Y:return this.undoRedoService.redo()}},r.prototype.onCtrlAndA=function(i){var s=this,l=s.pinnedRowModel,h=s.rangeService,g=j.PINNED_BOTTOM,_=j.PINNED_TOP;if(h&&s.paginationProxy.isRowsToRender()){var w=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u}([l.isEmpty(_),l.isEmpty(g)],2),M=w[0]?null:_,G=void 0,V=void 0;w[1]?(G=null,V=this.paginationProxy.getRowCount()-1):(G=g,V=l.getPinnedBottomRowData().length-1);var B=this.columnModel.getAllDisplayedColumns();if(Ri(B))return;h.setCellRange({rowStartIndex:0,rowStartPinned:M,rowEndIndex:V,rowEndPinned:G,columnStart:B[0],columnEnd:Pt(B)})}i.preventDefault()},r.prototype.onCtrlAndC=function(i){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),i.preventDefault())},r.prototype.onCtrlAndV=function(){He.isRegistered(x.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},r.prototype.onCtrlAndD=function(i){He.isRegistered(x.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),i.preventDefault()},Lr([N("mouseEventService")],r.prototype,"mouseEventService",void 0),Lr([N("valueService")],r.prototype,"valueService",void 0),Lr([vt("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),Lr([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Lr([N("navigationService")],r.prototype,"navigationService",void 0),Lr([N("focusService")],r.prototype,"focusService",void 0),Lr([N("undoRedoService")],r.prototype,"undoRedoService",void 0),Lr([N("columnModel")],r.prototype,"columnModel",void 0),Lr([N("paginationProxy")],r.prototype,"paginationProxy",void 0),Lr([N("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),Lr([vt("rangeService")],r.prototype,"rangeService",void 0),Lr([vt("clipboardService")],r.prototype,"clipboardService",void 0),Lr([ge],r.prototype,"postConstruct",null),r}(pe),Ii=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Gs=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},S_=function(c){function r(i){var s=c.call(this)||this;return s.centerContainerCtrl=i,s}return Ii(r,c),r.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(){i.gridBodyCtrl=i.ctrlsService.getGridBodyCtrl(),i.listenForResize()}),this.addManagedListener(this.eventService,L.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},r.prototype.listenForResize=function(){var i=this,s=function(){return i.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(s),this.gridBodyCtrl.registerBodyViewportResizeListener(s)},r.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},r.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var i=this.centerContainerCtrl.getCenterWidth();i!==this.centerWidth&&(this.centerWidth=i,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},r.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},r.prototype.getBodyHeight=function(){return this.bodyHeight},r.prototype.checkBodyHeight=function(){var s=Rt(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==s&&(this.bodyHeight=s,this.eventService.dispatchEvent({type:L.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},r.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},r.prototype.updateScrollVisibleServiceImpl=function(){var i={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(i),this.gridBodyCtrl.setVerticalScrollPaddingVisible(i.verticalScrollShowing)},r.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCtrl.isViewportHScrollShowing()},r.prototype.onHorizontalViewportChanged=function(){var i=this.centerContainerCtrl.getCenterWidth(),s=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(i,s)},Gs([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Gs([N("columnModel")],r.prototype,"columnModel",void 0),Gs([N("scrollVisibleService")],r.prototype,"scrollVisibleService",void 0),Gs([N("columnApi")],r.prototype,"columnApi",void 0),Gs([N("gridApi")],r.prototype,"gridApi",void 0),Gs([ge],r.prototype,"postConstruct",null),r}(pe),D_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),si=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},uc=function(c){function r(i){var s=c.call(this)||this;return s.element=i,s}return D_(r,c),r.prototype.postConstruct=function(){this.addManagedListener(this.eventService,L.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},r.prototype.onPinnedLeftWidthChanged=function(){var i=this.pinnedWidthService.getPinnedLeftWidth(),s=i>0;Lt(this.element,s),s&&St(this.element,i)},si([N("pinnedWidthService")],r.prototype,"pinnedWidthService",void 0),si([ge],r.prototype,"postConstruct",null),r}(pe),ig=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),R_=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},MS=function(c){function r(i){var s=c.call(this)||this;return s.element=i,s}return ig(r,c),r.prototype.postConstruct=function(){this.addManagedListener(this.eventService,L.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},r.prototype.onPinnedRightWidthChanged=function(){var i=this.pinnedWidthService.getPinnedRightWidth(),s=i>0;Lt(this.element,s),s&&St(this.element,i)},R_([N("pinnedWidthService")],r.prototype,"pinnedWidthService",void 0),R_([ge],r.prototype,"postConstruct",null),r}(pe),O_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),T_=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},A_=function(c){function r(i,s){var l=c.call(this)||this;return l.eContainer=i,l.eWrapper=s,l}return O_(r,c),r.prototype.postConstruct=function(){this.addManagedListener(this.eventService,L.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},r.prototype.onHeightChanged=function(){var i=this.maxDivHeightScaler.getUiContainerHeight(),s=null!=i?i+"px":"";this.eContainer.style.height=s,this.eWrapper&&(this.eWrapper.style.height=s)},T_([N("rowContainerHeightService")],r.prototype,"maxDivHeightScaler",void 0),T_([ge],r.prototype,"postConstruct",null),r}(pe),IS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),gp=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},xS=function(c){function r(i){var s=c.call(this)||this;return s.eContainer=i,s}return IS(r,c),r.prototype.postConstruct=function(){var i=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!Pe(this.rangeService)){var s={dragStartPixels:0,eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(s),this.addDestroyFunc(function(){return i.dragService.removeDragSource(s)})}},gp([vt("rangeService")],r.prototype,"rangeService",void 0),gp([N("dragService")],r.prototype,"dragService",void 0),gp([ge],r.prototype,"postConstruct",null),r}(pe),FS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),mp=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},rg=function(c){function r(i){var s=c.call(this)||this;return s.callback=i,s}return FS(r,c),r.prototype.postConstruct=function(){var i=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,_e.PROP_DOM_LAYOUT,i),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,i),this.setWidth()},r.prototype.setWidth=function(){var i=this.columnModel,s=this.gridOptionsWrapper.getDomLayout()===j.DOM_LAYOUT_PRINT,l=i.getBodyContainerWidth(),u=i.getDisplayedColumnsLeftWidth(),h=i.getDisplayedColumnsRightWidth();this.callback(s?l+u+h:l)},mp([N("columnModel")],r.prototype,"columnModel",void 0),mp([ge],r.prototype,"postConstruct",null),r}(pe),LS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),as=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},GS=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u};(function(c){c.LEFT="left",c.RIGHT="right",c.CENTER="center",c.FULL_WIDTH="fullWidth",c.TOP_LEFT="topLeft",c.TOP_RIGHT="topRight",c.TOP_CENTER="topCenter",c.TOP_FULL_WIDTH="topFullWidth",c.BOTTOM_LEFT="bottomLeft",c.BOTTOM_RIGHT="bottomRight",c.BOTTOM_CENTER="bottomCenter",c.BOTTOM_FULL_WIDTH="bottomFullWidth"})(x.hA6||(x.hA6={})),function(c){c.LEFT="left",c.RIGHT="right",c.CENTER="center",c.FULL_WIDTH="fullWidth"}(x.EDi||(x.EDi={}));var VS=aa([[x.hA6.CENTER,"ag-center-cols-container"],[x.hA6.LEFT,"ag-pinned-left-cols-container"],[x.hA6.RIGHT,"ag-pinned-right-cols-container"],[x.hA6.FULL_WIDTH,"ag-full-width-container"],[x.hA6.TOP_CENTER,"ag-floating-top-container"],[x.hA6.TOP_LEFT,"ag-pinned-left-floating-top"],[x.hA6.TOP_RIGHT,"ag-pinned-right-floating-top"],[x.hA6.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[x.hA6.BOTTOM_CENTER,"ag-floating-bottom-container"],[x.hA6.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[x.hA6.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[x.hA6.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),HS=aa([[x.hA6.CENTER,"ag-center-cols-viewport"],[x.hA6.TOP_CENTER,"ag-floating-top-viewport"],[x.hA6.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),BS=aa([[x.hA6.CENTER,"ag-center-cols-clipper"]]),vp=function(c){function r(i){var s=c.call(this)||this;return s.name=i,s}return LS(r,c),r.getRowContainerCssClasses=function(i){return{container:VS.get(i),viewport:HS.get(i),wrapper:BS.get(i)}},r.getPinned=function(i){switch(i){case x.hA6.BOTTOM_LEFT:case x.hA6.TOP_LEFT:case x.hA6.LEFT:return j.PINNED_LEFT;case x.hA6.BOTTOM_RIGHT:case x.hA6.TOP_RIGHT:case x.hA6.RIGHT:return j.PINNED_RIGHT;default:return null}},r.prototype.postConstruct=function(){var i=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([x.hA6.CENTER],function(){return i.viewportSizeFeature=i.createManagedBean(new S_(i))})},r.prototype.registerWithCtrlsService=function(){switch(this.name){case x.hA6.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case x.hA6.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case x.hA6.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case x.hA6.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case x.hA6.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case x.hA6.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case x.hA6.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case x.hA6.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case x.hA6.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},r.prototype.forContainers=function(i,s){i.indexOf(this.name)>=0&&s()},r.prototype.getContainerElement=function(){return this.eContainer},r.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},r.prototype.setComp=function(i,s,l,u){var h=this;this.comp=i,this.eContainer=s,this.eViewport=l,this.eWrapper=u,this.createManagedBean(new lc(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var E=function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(GS(arguments[r]));return c}([x.hA6.TOP_CENTER,x.hA6.TOP_LEFT,x.hA6.TOP_RIGHT],[x.hA6.BOTTOM_CENTER,x.hA6.BOTTOM_LEFT,x.hA6.BOTTOM_RIGHT],[x.hA6.CENTER,x.hA6.LEFT,x.hA6.RIGHT]),D=[x.hA6.CENTER,x.hA6.LEFT,x.hA6.RIGHT,x.hA6.FULL_WIDTH],M=[x.hA6.CENTER,x.hA6.TOP_CENTER,x.hA6.BOTTOM_CENTER],V=[x.hA6.RIGHT,x.hA6.BOTTOM_RIGHT,x.hA6.TOP_RIGHT];this.forContainers([x.hA6.LEFT,x.hA6.BOTTOM_LEFT,x.hA6.TOP_LEFT],function(){return h.createManagedBean(new uc(h.eContainer))}),this.forContainers(V,function(){return h.createManagedBean(new MS(h.eContainer))}),this.forContainers(D,function(){return h.createManagedBean(new A_(h.eContainer,h.eWrapper))}),this.forContainers(E,function(){return h.createManagedBean(new xS(h.eContainer))}),this.forContainers(M,function(){return h.createManagedBean(new rg(function(B){return h.comp.setContainerWidth(B+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},r.prototype.addListeners=function(){var i=this;this.addManagedListener(this.eventService,L.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return i.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return i.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return i.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_ROWS_CHANGED,function(){return i.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},r.prototype.listenOnDomOrder=function(){var i=this,s=function(){return i.comp.setDomOrder(i.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,_e.PROP_DOM_LAYOUT,s),s()},r.prototype.stopHScrollOnPinnedRows=function(){var i=this;this.forContainers([x.hA6.TOP_CENTER,x.hA6.BOTTOM_CENTER],function(){i.addManagedListener(i.eViewport,"scroll",function(){return i.eViewport.scrollLeft=0})})},r.prototype.onDisplayedColumnsChanged=function(){var i=this;this.forContainers([x.hA6.CENTER],function(){return i.onHorizontalViewportChanged()})},r.prototype.onDisplayedColumnsWidthChanged=function(){var i=this;this.forContainers([x.hA6.CENTER],function(){return i.onHorizontalViewportChanged()})},r.prototype.onScrollVisibilityChanged=function(){if(this.name===x.hA6.CENTER){var s=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==s?"100%":"calc(100% + "+s+"px)")}},r.prototype.addPreventScrollWhileDragging=function(){var i=this,s=function(l){i.dragService.isDragging()&&l.cancelable&&l.preventDefault()};this.eContainer.addEventListener("touchmove",s,{passive:!1}),this.addDestroyFunc(function(){return i.eContainer.removeEventListener("touchmove",s)})},r.prototype.onHorizontalViewportChanged=function(){var i=this.getCenterWidth(),s=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(i,s)},r.prototype.getCenterWidth=function(){return Fd(this.eViewport)},r.prototype.getCenterViewportScrollLeft=function(){return Qe(this.eViewport,this.enableRtl)},r.prototype.registerViewportResizeListener=function(i){var s=this.resizeObserverService.observeResize(this.eViewport,i);this.addDestroyFunc(function(){return s()})},r.prototype.isViewportVisible=function(){return Sn(this.eViewport)},r.prototype.isViewportHScrollShowing=function(){return ji(this.eViewport)},r.prototype.getViewportScrollLeft=function(){return Qe(this.eViewport,this.enableRtl)},r.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||ji(this.eViewport)},r.prototype.getViewportElement=function(){return this.eViewport},r.prototype.setContainerTranslateX=function(i){this.eContainer.style.transform="translateX("+i+"px)"},r.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},r.prototype.setCenterViewportScrollLeft=function(i){Gd(this.eViewport,i,this.enableRtl)},r.prototype.onDisplayedRowsChanged=function(){var i=this,s=this.name===x.hA6.TOP_FULL_WIDTH||this.name===x.hA6.BOTTOM_FULL_WIDTH||this.name===x.hA6.FULL_WIDTH,h=this.getRowCtrls().filter(function(g){var _=g.isFullWidth(),w=i.gridOptionsWrapper.getDomLayout()===j.DOM_LAYOUT_PRINT,E=i.embedFullWidthRows||w;return s?!E&&_:E||!_});this.comp.setRowCtrls(h)},r.prototype.getRowCtrls=function(){switch(this.name){case x.hA6.TOP_CENTER:case x.hA6.TOP_LEFT:case x.hA6.TOP_RIGHT:case x.hA6.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case x.hA6.BOTTOM_CENTER:case x.hA6.BOTTOM_LEFT:case x.hA6.BOTTOM_RIGHT:case x.hA6.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},as([N("scrollVisibleService")],r.prototype,"scrollVisibleService",void 0),as([N("dragService")],r.prototype,"dragService",void 0),as([N("ctrlsService")],r.prototype,"ctrlsService",void 0),as([N("columnModel")],r.prototype,"columnModel",void 0),as([N("resizeObserverService")],r.prototype,"resizeObserverService",void 0),as([N("rowRenderer")],r.prototype,"rowRenderer",void 0),as([ge],r.prototype,"postConstruct",null),r}(pe),WS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ks=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},jS='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+x.hA6.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+x.hA6.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+x.hA6.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+x.hA6.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+x.hA6.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+x.hA6.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+x.hA6.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+x.hA6.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+x.hA6.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+x.hA6.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+x.hA6.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+x.hA6.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',P_=function(c){function r(){return c.call(this,jS)||this}return WS(r,c),r.prototype.init=function(){var i=this,s=function(u,h){var g=u+"px";h.style.minHeight=g,h.style.height=g},l={setRowAnimationCssOnBodyViewport:function(u,h){return i.setRowAnimationCssOnBodyViewport(u,h)},setColumnCount:function(u){return P0(i.getGui(),u)},setRowCount:function(u){return A0(i.getGui(),u)},setTopHeight:function(u){return s(u,i.eTop)},setBottomHeight:function(u){return s(u,i.eBottom)},setTopDisplay:function(u){return i.eTop.style.display=u},setBottomDisplay:function(u){return i.eBottom.style.display=u},setColumnMovingCss:function(u,h){return i.addOrRemoveCssClass(Tl,h)},updateLayoutClasses:function(u,h){var g=i.eBodyViewport.classList;g.toggle(x.LBn.AUTO_HEIGHT,h.autoHeight),g.toggle(x.LBn.NORMAL,h.normal),g.toggle(x.LBn.PRINT,h.print),i.addOrRemoveCssClass(x.LBn.AUTO_HEIGHT,h.autoHeight),i.addOrRemoveCssClass(x.LBn.NORMAL,h.normal),i.addOrRemoveCssClass(x.LBn.PRINT,h.print)},setAlwaysVerticalScrollClass:function(u,h){return i.eBodyViewport.classList.toggle(ss,h)},registerBodyViewportResizeListener:function(u){var h=i.resizeObserverService.observeResize(i.eBodyViewport,u);i.addDestroyFunc(function(){return h()})},setPinnedTopBottomOverflowY:function(u){return i.eTop.style.overflowY=i.eBottom.style.overflowY=u},setCellSelectableCss:function(u,h){[i.eTop,i.eBodyViewport,i.eBottom].forEach(function(g){return g.classList.toggle(m_,h)})}};this.ctrl=this.createManagedBean(new v_),this.ctrl.setComp(l,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&T0(this.getGui(),!0)},r.prototype.setRowAnimationCssOnBodyViewport=function(i,s){var l=this.eBodyViewport.classList;l.toggle(x.SJN.ANIMATION_ON,s),l.toggle(x.SJN.ANIMATION_OFF,!s)},r.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},ks([N("resizeObserverService")],r.prototype,"resizeObserverService",void 0),ks([vt("rangeService")],r.prototype,"rangeService",void 0),ks([ae("eBodyViewport")],r.prototype,"eBodyViewport",void 0),ks([ae("eTop")],r.prototype,"eTop",void 0),ks([ae("eBottom")],r.prototype,"eBottom",void 0),ks([ae("gridHeader")],r.prototype,"headerRootComp",void 0),ks([ge],r.prototype,"init",null),r}(Me),US=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),cc=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},N_=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return US(r,c),r.prototype.postConstruct=function(){this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},r.prototype.onDisplayedColumnsChanged=function(){this.update()},r.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},r.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},r.prototype.updateImpl=function(){var i=this.ctrlsService.getCenterRowContainerCtrl();if(i){var s={horizontalScrollShowing:i.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(s)}},r.prototype.setScrollsVisible=function(i){this.horizontalScrollShowing===i.horizontalScrollShowing&&this.verticalScrollShowing===i.verticalScrollShowing||(this.horizontalScrollShowing=i.horizontalScrollShowing,this.verticalScrollShowing=i.verticalScrollShowing,this.eventService.dispatchEvent({type:L.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},r.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},r.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},cc([N("columnApi")],r.prototype,"columnApi",void 0),cc([N("gridApi")],r.prototype,"gridApi",void 0),cc([N("ctrlsService")],r.prototype,"ctrlsService",void 0),cc([ge],r.prototype,"postConstruct",null),cc([we("scrollVisibleService")],r)}(pe),zS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),M_=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},I_=function(c){function r(){var s=null!==c&&c.apply(this,arguments)||this;return s.gridInstanceId=i.gridInstanceSequence.next(),s}var i;return zS(r,c),i=r,r.prototype.stampTopLevelGridCompWithGridInstance=function(s){s[i.GRID_DOM_KEY]=this.gridInstanceId},r.prototype.getRenderedCellForEvent=function(s){return sa(this.gridOptionsWrapper,s,Fs.DOM_DATA_KEY_CELL_CTRL)},r.prototype.isEventFromThisGrid=function(s){return this.isElementInThisGrid(s.target)},r.prototype.isElementInThisGrid=function(s){for(var l=s;l;){var u=l[i.GRID_DOM_KEY];if(ee(u))return u===this.gridInstanceId;l=l.parentElement}return!1},r.prototype.getCellPositionForEvent=function(s){var l=this.getRenderedCellForEvent(s);return l?l.getCellPosition():null},r.prototype.getNormalisedPosition=function(s){var h,g,l=this.gridOptionsWrapper.getDomLayout()===j.DOM_LAYOUT_NORMAL;if(null!=s.clientX||null!=s.clientY?(h=s.clientX,g=s.clientY):(h=s.x,g=s.y),l){var _=this.ctrlsService.getGridBodyCtrl(),w=_.getScrollFeature().getVScrollPosition();h+=_.getScrollFeature().getHScrollPosition().left,g+=w.top}return{x:h,y:g}},r.gridInstanceSequence=new Be,r.GRID_DOM_KEY="__ag_grid_instance",M_([N("ctrlsService")],r.prototype,"ctrlsService",void 0),i=M_([we("mouseEventService")],r)}(pe),Pl=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),dr=function(){return dr=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},dr.apply(this,arguments)},xi=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},$S=function(c){function r(){var i=c.call(this)||this;return i.onPageDown=iy(i.onPageDown,100),i.onPageUp=iy(i.onPageUp,100),i}return Pl(r,c),r.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.gridBodyCon=s.gridBodyCtrl})},r.prototype.handlePageScrollingKey=function(i){var s=i.key,l=i.altKey,u=i.ctrlKey||i.metaKey,h=!!this.rangeService&&i.shiftKey,g=this.mouseEventService.getCellPositionForEvent(i);if(!g)return!1;var _=!1;switch(s){case le.PAGE_HOME:case le.PAGE_END:!u&&!l&&(this.onHomeOrEndKey(s),_=!0);break;case le.LEFT:case le.RIGHT:case le.UP:case le.DOWN:u&&!l&&!h&&(this.onCtrlUpDownLeftRight(s,g),_=!0);break;case le.PAGE_DOWN:!u&&!l&&(this.onPageDown(g),_=!0);break;case le.PAGE_UP:!u&&!l&&(this.onPageUp(g),_=!0)}return _&&i.preventDefault(),_},r.prototype.navigateTo=function(i){var s=i.scrollIndex,l=i.scrollType,u=i.scrollColumn,h=i.focusIndex,g=i.focusColumn;ee(u)&&!u.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(u),ee(s)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(s,l),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(h,g,null,!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:h,rowPinned:null,column:g})},r.prototype.onPageDown=function(i){var l=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),u=this.getViewportHeight(),h=this.paginationProxy.getPixelOffset(),_=this.paginationProxy.getRowIndexAtPixel(l.top+u+h);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(i,_):this.navigateToNextPage(i,_)},r.prototype.onPageUp=function(i){var l=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),u=this.paginationProxy.getPixelOffset(),g=this.paginationProxy.getRowIndexAtPixel(l.top+u);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(i,g,!0):this.navigateToNextPage(i,g,!0)},r.prototype.navigateToNextPage=function(i,s,l){void 0===l&&(l=!1);var u,h,q,g=this.getViewportHeight(),_=this.paginationProxy.getPageFirstRow(),w=this.paginationProxy.getPageLastRow(),E=this.paginationProxy.getPixelOffset(),D=this.paginationProxy.getRow(i.rowIndex),M=l?(null===(u=D)||void 0===u?void 0:u.rowHeight)-g-E:g-E,G=(null===(h=D)||void 0===h?void 0:h.rowTop)+M,V=this.paginationProxy.getRowIndexAtPixel(G+E);V===i.rowIndex&&(s=V=i.rowIndex+(l?-1:1)),l?(q="bottom",V<_&&(V=_),s<_&&(s=_)):(q="top",V>w&&(V=w),s>w&&(s=w)),this.isRowTallerThanView(V)&&(s=V,q="top"),this.navigateTo({scrollIndex:s,scrollType:q,scrollColumn:null,focusIndex:V,focusColumn:i.column})},r.prototype.navigateToNextPageWithAutoHeight=function(i,s,l){var u=this;void 0===l&&(l=!1),this.navigateTo({scrollIndex:s,scrollType:l?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:i.column}),setTimeout(function(){var h=u.getNextFocusIndexForAutoHeight(i,l);u.navigateTo({scrollIndex:s,scrollType:l?"bottom":"top",scrollColumn:null,focusIndex:h,focusColumn:i.column})},50)},r.prototype.getNextFocusIndexForAutoHeight=function(i,s){void 0===s&&(s=!1);for(var l,u=s?-1:1,h=this.getViewportHeight(),g=this.paginationProxy.getPageLastRow(),_=0,w=i.rowIndex;w>=0&&w<=g;){var E=this.paginationProxy.getRow(w);if(E){var D=null!=(l=E.rowHeight)?l:0;if(_+D>h)break;_+=D}w+=u}return Math.max(0,Math.min(w,g))},r.prototype.getViewportHeight=function(){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),l=this.gridOptionsWrapper.getScrollbarWidth(),u=s.bottom-s.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(u-=l),u},r.prototype.isRowTallerThanView=function(i){var s=this.paginationProxy.getRow(i);if(!s)return!1;var l=s.rowHeight;return"number"==typeof l&&l>this.getViewportHeight()},r.prototype.onCtrlUpDownLeftRight=function(i,s){var l=this.cellNavigationService.getNextCellToFocus(i,s,!0),u=l.rowIndex,h=l.column;this.navigateTo({scrollIndex:u,scrollType:null,scrollColumn:h,focusIndex:u,focusColumn:h})},r.prototype.onHomeOrEndKey=function(i){var s=i===le.PAGE_HOME,l=this.columnModel.getAllDisplayedColumns(),u=s?l[0]:Pt(l),h=s?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:h,scrollType:null,scrollColumn:u,focusIndex:h,focusColumn:u})},r.prototype.onTabKeyDown=function(i,s){var l=s.shiftKey;if(this.tabToNextCellCommon(i,l,s))s.preventDefault();else if(l){var h=i.getRowPosition(),g=h.rowIndex;(h.rowPinned?0===g:g===this.paginationProxy.getPageFirstRow())&&(s.preventDefault(),this.focusService.focusLastHeader(s))}else i instanceof Fs&&i.focusCell(!0),this.focusService.focusNextGridCoreContainer(l)&&s.preventDefault()},r.prototype.tabToNextCell=function(i,s){var l=this.focusService.getFocusedCell();if(!l)return!1;var u=this.getCellByPosition(l);return!!(u||(u=this.rowRenderer.getRowByPosition(l),u&&u.isFullWidth()))&&this.tabToNextCellCommon(u,i,s)},r.prototype.tabToNextCellCommon=function(i,s,l){var u=i.isEditing();if(!u&&i instanceof Fs){var g=i.getRowCtrl();g&&(u=g.isEditing())}return(u?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(i,s,l):this.moveToNextEditingCell(i,s,l):this.moveToNextCellNotEditing(i,s))||!!this.focusService.getFocusedHeader()},r.prototype.moveToNextEditingCell=function(i,s,l){void 0===l&&(l=null);var u=i.getCellPosition();i.stopEditing();var h=this.findNextCellToFocusOn(u,s,!0);return null!=h&&(h.startEditing(null,null,!0,l),h.focusCell(!1),!0)},r.prototype.moveToNextEditingRow=function(i,s,l){void 0===l&&(l=null);var u=i.getCellPosition(),h=this.findNextCellToFocusOn(u,s,!0);if(null==h)return!1;var g=h.getCellPosition(),_=this.isCellEditable(u),w=this.isCellEditable(g),E=g&&u.rowIndex===g.rowIndex&&u.rowPinned===g.rowPinned;return _&&i.setFocusOutOnEditor(),E||(i.getRowCtrl().stopEditing(),h.getRowCtrl().startRowEditing(void 0,void 0,void 0,l)),w?(h.setFocusInOnEditor(),h.focusCell()):h.focusCell(!0),!0},r.prototype.moveToNextCellNotEditing=function(i,s){var u,l=this.columnModel.getAllDisplayedColumns();u=i instanceof Ls?dr(dr({},i.getRowPosition()),{column:s?l[0]:Pt(l)}):i.getCellPosition();var h=this.findNextCellToFocusOn(u,s,!1);if(h instanceof Fs)h.focusCell(!0);else if(h)return this.tryToFocusFullWidthRow(h.getRowPosition(),s);return ee(h)},r.prototype.findNextCellToFocusOn=function(i,s,l){for(var u=i;;){i!==u&&(i=u),s||(u=this.getLastCellOfColSpan(u)),u=this.cellNavigationService.getNextTabbedCell(u,s);var h=this.gridOptionsWrapper.getTabToNextCellFunc();if(ee(h)){var _=h({backwards:s,editing:l,previousCellPosition:i,nextCellPosition:u||null});ee(_)?(_.floating&&(At(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),_.rowPinned=_.floating),u={rowIndex:_.rowIndex,column:_.column,rowPinned:_.rowPinned}):u=null}if(!u)return null;if(u.rowIndex<0){var w=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:w+u.rowIndex,column:u.column}}),null}var E=this.gridOptionsWrapper.isFullRowEdit();if(!l||E||this.isCellEditable(u)){this.ensureCellVisible(u);var M=this.getCellByPosition(u);if(!M){var G=this.rowRenderer.getRowByPosition(u);if(!G||!G.isFullWidth())continue;return G}if(!M.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(u),M}}},r.prototype.isCellEditable=function(i){var s=this.lookupRowNodeForCell(i);return!!s&&i.column.isCellEditable(s)},r.prototype.getCellByPosition=function(i){var s=this.rowRenderer.getRowByPosition(i);return s?s.getCellCtrl(i.column):null},r.prototype.lookupRowNodeForCell=function(i){return i.rowPinned===j.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(i.rowIndex):i.rowPinned===j.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(i.rowIndex):this.paginationProxy.getRow(i.rowIndex)},r.prototype.navigateToNextCell=function(i,s,l,u){for(var h=l,g=!1;h&&(h===l||!this.isValidNavigateCell(h));)this.gridOptionsWrapper.isEnableRtl()?s===le.LEFT&&(h=this.getLastCellOfColSpan(h)):s===le.RIGHT&&(h=this.getLastCellOfColSpan(h)),g=Pe(h=this.cellNavigationService.getNextCellToFocus(s,h));if(g&&i&&i.key===le.UP&&(h={rowIndex:-1,rowPinned:null,column:l.column}),u){var _=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(ee(_)){var E=_({key:s,previousCellPosition:l,nextCellPosition:h||null,event:i});ee(E)?(E.floating&&(At(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),E.rowPinned=E.floating),h={rowPinned:E.rowPinned,rowIndex:E.rowIndex,column:E.column}):h=null}}if(h){if(h.rowIndex<0){var D=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:D+h.rowIndex,column:l.column},event:i||void 0})}var M=this.getNormalisedPosition(h);M?this.focusPosition(M):this.tryToFocusFullWidthRow(h)}},r.prototype.getNormalisedPosition=function(i){this.ensureCellVisible(i);var s=this.getCellByPosition(i);return s?(i=s.getCellPosition(),this.ensureCellVisible(i),i):null},r.prototype.tryToFocusFullWidthRow=function(i,s){void 0===s&&(s=!1);var l=this.columnModel.getAllDisplayedColumns(),u=this.rowRenderer.getRowByPosition(i);if(!u||!u.isFullWidth())return!1;var h=this.focusService.getFocusedCell(),g={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:i.column||(s?Pt(l):l[0])};this.focusPosition(g);var _=null!=h&&this.rowPositionUtils.before(g,h);return this.eventService.dispatchEvent({type:L.EVENT_FULL_WIDTH_ROW_FOCUSED,api:this.gridApi,columnApi:this.columnApi,rowIndex:g.rowIndex,rowPinned:g.rowPinned,column:g.column,isFullWidthCell:!0,floating:g.rowPinned,fromBelow:_}),!0},r.prototype.focusPosition=function(i){this.focusService.setFocusedCell(i.rowIndex,i.column,i.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(i)},r.prototype.isValidNavigateCell=function(i){return!!this.rowPositionUtils.getRowNode(i)},r.prototype.getLastCellOfColSpan=function(i){var s=this.getCellByPosition(i);if(!s)return i;var l=s.getColSpanningList();return 1===l.length?i:{rowIndex:i.rowIndex,column:Pt(l),rowPinned:i.rowPinned}},r.prototype.ensureCellVisible=function(i){Pe(i.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i.rowIndex),i.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(i.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},xi([N("columnApi")],r.prototype,"columnApi",void 0),xi([N("gridApi")],r.prototype,"gridApi",void 0),xi([N("mouseEventService")],r.prototype,"mouseEventService",void 0),xi([N("paginationProxy")],r.prototype,"paginationProxy",void 0),xi([N("focusService")],r.prototype,"focusService",void 0),xi([N("animationFrameService")],r.prototype,"animationFrameService",void 0),xi([vt("rangeService")],r.prototype,"rangeService",void 0),xi([N("columnModel")],r.prototype,"columnModel",void 0),xi([N("ctrlsService")],r.prototype,"ctrlsService",void 0),xi([N("rowRenderer")],r.prototype,"rowRenderer",void 0),xi([N("headerNavigationService")],r.prototype,"headerNavigationService",void 0),xi([N("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),xi([N("cellNavigationService")],r.prototype,"cellNavigationService",void 0),xi([N("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),xi([ge],r.prototype,"postConstruct",null),xi([we("navigationService")],r)}(pe),x_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),qi=function(c){function r(i){var s=c.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return s.params=i,s}return x_(r,c),r.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),r.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},r.prototype.addKeyDownListener=function(){var i=this,s=this.getGui(),l=this.params;this.addManagedListener(s,"keydown",function(h){Bd(i.gridOptionsWrapper,h,l.node,l.column,!0)||l.onKeyDown(h)})},r.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([ge],r.prototype,"postConstruct",null),r}(ga),og=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),yp=function(c){function r(i,s,l,u,h){var g=c.call(this)||this;g.rendererVersion=0,g.editorVersion=0,g.beans=i,g.column=s.getColumn(),g.rowNode=s.getRowNode(),g.rowCtrl=s.getRowCtrl(),g.eRow=u,g.setTemplate('<div comp-id="'+g.getCompId()+'"/>');var _=g.getGui();g.forceWrapper=s.isForceWrapper(),g.refreshWrapper(!1);var w=function(D,M,G){var V=G||_;null!=M&&""!=M?V.setAttribute(D,M):V.removeAttribute(D)},E={addOrRemoveCssClass:function(D,M){return g.addOrRemoveCssClass(D,M)},setUserStyles:function(D){return yf(_,D)},getFocusableElement:function(){return g.getFocusableElement()},setTabIndex:function(D){return w("tabindex",D.toString())},setRole:function(D){return Un(_,D)},setColId:function(D){return w("col-id",D)},setTitle:function(D){return w("title",D)},setIncludeSelection:function(D){return g.includeSelection=D},setIncludeRowDrag:function(D){return g.includeRowDrag=D},setIncludeDndSource:function(D){return g.includeDndSource=D},setRenderDetails:function(D,M,G){return g.setRenderDetails(D,M,G)},setEditDetails:function(D,M,G){return g.setEditDetails(D,M,G)},getCellEditor:function(){return g.cellEditor||null},getCellRenderer:function(){return g.cellRenderer||null},getParentOfValue:function(){return g.getParentOfValue()}};return g.cellCtrl=s,s.setComp(E,g.getGui(),g.eCellWrapper,l,h),g}return og(r,c),r.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},r.prototype.setRenderDetails=function(i,s,l){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var h=this.refreshWrapper(!1);i?!l&&!h&&this.refreshCellRenderer(i)||(this.destroyRenderer(),this.createCellRendererInstance(i)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(s))}},r.prototype.setEditDetails=function(i,s,l){i?this.createCellEditorInstance(i,s,l):this.destroyEditor()},r.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},r.prototype.refreshWrapper=function(i){var s=this.includeRowDrag||this.includeDndSource||this.includeSelection,l=s||this.forceWrapper,u=l&&null==this.eCellWrapper;u&&(this.eCellWrapper=Zt('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var h=!l&&null!=this.eCellWrapper;h&&(nn(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!l);var g=!i&&l,_=g&&null==this.eCellValue;_&&(this.eCellValue=Zt('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var w=!g&&null!=this.eCellValue;w&&(nn(this.eCellValue),this.eCellValue=void 0);var E=u||h||_||w;return E&&this.removeControls(),!i&&s&&this.addControls(),E},r.prototype.addControls=function(){var i=this.eCellValue.id="cell-"+this.getCompId(),s=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),s.push(this.checkboxSelectionComp.getCheckboxId())),s.push(i),Ey(this.getGui(),s.join(" "))},r.prototype.createCellEditorInstance=function(i,s,l){var u=this,h=this.editorVersion,g=i.newAgStackInstance();if(g){var _=i.params;g.then(function(E){return u.afterCellEditorCreated(h,E,_,s,l)}),Pe(this.cellEditor)&&_.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},r.prototype.insertValueWithoutCellRenderer=function(i){var s=this.getParentOfValue();Wi(s);var l=null!=i?Je(i):null;null!=l&&(s.innerHTML=l)},r.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},r.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),nn(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},r.prototype.destroyEditor=function(){var i=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=i.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=i.destroyBean(this.cellEditorPopupWrapper),nn(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},r.prototype.refreshCellRenderer=function(i){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==i.componentClass)return!1;var s=this.cellRenderer.refresh(i.params);return!0===s||void 0===s},r.prototype.createCellRendererInstance=function(i){var s=this,l=this.beans.gridOptionsWrapper.isAngularCompileRows(),u=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),g=this.rendererVersion,_=i.componentClass,w=function(){if(s.rendererVersion===g&&s.isAlive()){var D=i.newAgStackInstance(),M=s.afterCellRendererCreated.bind(s,g,_);D&&D.then(M)}};l||u||!this.firstRender?w():this.beans.animationFrameService.createTask(w,this.rowNode.rowIndex,"createTasksP2")},r.prototype.getCtrl=function(){return this.cellCtrl},r.prototype.getRowCtrl=function(){return this.rowCtrl},r.prototype.getCellRenderer=function(){return this.cellRenderer},r.prototype.getCellEditor=function(){return this.cellEditor},r.prototype.afterCellRendererCreated=function(i,s,l){if(this.isAlive()&&i===this.rendererVersion){if(this.cellRenderer=l,this.cellRendererClass=s,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var h=this.getParentOfValue();Wi(h),h.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(l)},r.prototype.afterCellEditorCreated=function(i,s,l,u,h){if(i!==this.editorVersion)this.beans.context.destroyBean(s);else{if(s.isCancelBeforeStart&&s.isCancelBeforeStart())return this.beans.context.destroyBean(s),void this.cellCtrl.stopEditing();if(!s.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(s);this.cellEditor=s,this.cellEditorGui=s.getGui(),u||void 0!==s.isPopup&&s.isPopup()?(u||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(l,h)):this.addInCellEditor(),s.afterGuiAttached&&s.afterGuiAttached()}},r.prototype.addInCellEditor=function(){var i=this.getGui(),s=this.beans.gridOptionsWrapper.getDocument();i.contains(s.activeElement)&&i.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},r.prototype.addPopupCellEditor=function(i,s){var l=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var u=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new qi(i));var h=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&h.appendChild(this.cellEditorGui);var g=this.beans.popupService,_=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),w=null!=s?s:u.getPopupPosition?u.getPopupPosition():"over",E={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:h,keepWithinBounds:!0},D="under"===w?g.positionPopupUnderComponent.bind(g,E):g.positionPopupOverComponent.bind(g,E),M=this.beans.gridOptionsWrapper.getLocaleTextFunc(),G=g.addPopup({modal:_,eChild:h,closeOnEsc:!0,closedCallback:function(){l.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:D,ariaLabel:M("ariaLabelCellEditor","Cell Editor")});G&&(this.hideEditorPopup=G.hideFunc)},r.prototype.detach=function(){this.eRow.removeChild(this.getGui())},r.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),c.prototype.destroy.call(this)},r.prototype.clearParentOfValue=function(){var i=this.getGui(),s=this.beans.gridOptionsWrapper.getDocument();i.contains(s.activeElement)&&i.focus({preventScroll:!0}),Wi(this.getParentOfValue())},r}(Me),KS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),F_=function(c){function r(i,s,l){var u=c.call(this)||this;u.cellComps={},u.beans=s,u.rowCtrl=i,u.setTemplate('<div comp-id="'+u.getCompId()+'" style="'+u.getInitialStyle()+'"/>');var h=u.getGui(),g=h.style;return i.setComp({setDomOrder:function(w){return u.domOrder=w},setCellCtrls:function(w){return u.setCellCtrls(w)},showFullWidth:function(w){return u.showFullWidth(w)},getFullWidthCellRenderer:function(){return u.getFullWidthCellRenderer()},addOrRemoveCssClass:function(w,E){return u.addOrRemoveCssClass(w,E)},setUserStyles:function(w){return yf(h,w)},setTop:function(w){return g.top=w},setTransform:function(w){return g.transform=w},setRowIndex:function(w){return h.setAttribute("row-index",w)},setRole:function(w){return Un(h,w)},setRowId:function(w){return h.setAttribute("row-id",w)},setRowBusinessKey:function(w){return h.setAttribute("row-business-key",w)},setTabIndex:function(w){return h.setAttribute("tabindex",w.toString())}},u.getGui(),l),u}return KS(r,c),r.prototype.getInitialStyle=function(){var i=this.rowCtrl.getInitialTransform(),s=this.rowCtrl.getInitialRowTop();return i?"transform: "+i:"top: "+s},r.prototype.showFullWidth=function(i){var s=this,u=i.newAgStackInstance();!u||u.then(function(h){if(s.isAlive()){var g=h.getGui();s.getGui().appendChild(g),s.rowCtrl.setupDetailRowAutoHeight(g),s.setFullWidthRowComp(h)}else s.beans.context.destroyBean(h)})},r.prototype.setCellCtrls=function(i){var s=this,l=Object.assign({},this.cellComps);i.forEach(function(h){var g=h.getInstanceId();null==s.cellComps[g]?s.newCellComp(h):l[g]=null});var u=Kr(l).filter(function(h){return null!=h});this.destroyCells(u),this.ensureDomOrder(i)},r.prototype.ensureDomOrder=function(i){var s=this;if(this.domOrder){var l=[];i.forEach(function(u){var h=s.cellComps[u.getInstanceId()];h&&l.push(h.getGui())}),fl(this.getGui(),l)}},r.prototype.newCellComp=function(i){var s=new yp(this.beans,i,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[i.getInstanceId()]=s,this.getGui().appendChild(s.getGui())},r.prototype.destroy=function(){c.prototype.destroy.call(this),this.destroyAllCells()},r.prototype.destroyAllCells=function(){var i=Kr(this.cellComps).filter(function(s){return null!=s});this.destroyCells(i)},r.prototype.setFullWidthRowComp=function(i){var s=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=i,this.addDestroyFunc(function(){s.fullWidthCellRenderer=s.beans.context.destroyBean(s.fullWidthCellRenderer)})},r.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},r.prototype.destroyCells=function(i){var s=this;i.forEach(function(l){if(l){var u=l.getCtrl().getInstanceId();s.cellComps[u]===l&&(l.detach(),l.destroy(),s.cellComps[u]=null)}})},r}(Me),dc=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),_p=function(){return _p=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},_p.apply(this,arguments)},wa=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Cp=function(c){function r(){var i=c.call(this,function sg(){var c=Me.elementGettingCreated.getAttribute("name"),r=vp.getRowContainerCssClasses(c);return c===x.hA6.CENTER?'<div class="'+r.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+r.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+r.container+'" ref="eContainer"></div>\n                </div>\n            </div>':c===x.hA6.TOP_CENTER||c===x.hA6.BOTTOM_CENTER?'<div class="'+r.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+r.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+r.container+'" ref="eContainer"></div>'}())||this;return i.rowComps={},i.name=Me.elementGettingCreated.getAttribute("name"),i.type=function Al(c){switch(c){case x.hA6.CENTER:case x.hA6.TOP_CENTER:case x.hA6.BOTTOM_CENTER:return x.EDi.CENTER;case x.hA6.LEFT:case x.hA6.TOP_LEFT:case x.hA6.BOTTOM_LEFT:return x.EDi.LEFT;case x.hA6.RIGHT:case x.hA6.TOP_RIGHT:case x.hA6.BOTTOM_RIGHT:return x.EDi.RIGHT;case x.hA6.FULL_WIDTH:case x.hA6.TOP_FULL_WIDTH:case x.hA6.BOTTOM_FULL_WIDTH:return x.EDi.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(i.name),i}return dc(r,c),r.prototype.postConstruct=function(){var i=this,s={setViewportHeight:function(u){return i.eViewport.style.height=u},setRowCtrls:function(u){return i.setRowCtrls(u)},setDomOrder:function(u){i.domOrder=u},setContainerWidth:function(u){return i.eContainer.style.width=u}};this.createManagedBean(new vp(this.name)).setComp(s,this.eContainer,this.eViewport,this.eWrapper)},r.prototype.preDestroy=function(){this.setRowCtrls([])},r.prototype.setRowCtrls=function(i){var s=this,l=_p({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,i.forEach(function(h){var g=h.getInstanceId(),_=l[g];if(_)s.rowComps[g]=_,delete l[g],s.ensureDomOrder(_.getGui());else{var w=s.newRowComp(h);s.rowComps[g]=w,s.appendRow(w.getGui())}}),Kr(l).forEach(function(h){s.eContainer.removeChild(h.getGui()),h.destroy()}),Un(this.eContainer,i.length?"rowgroup":"presentation")},r.prototype.appendRow=function(i){this.domOrder?Ds(this.eContainer,i,this.lastPlacedElement):this.eContainer.appendChild(i),this.lastPlacedElement=i},r.prototype.ensureDomOrder=function(i){this.domOrder&&(ca(this.eContainer,i,this.lastPlacedElement),this.lastPlacedElement=i)},r.prototype.newRowComp=function(i){return vp.getPinned(this.name),new F_(i,this.beans,this.type)},wa([N("beans")],r.prototype,"beans",void 0),wa([ae("eViewport")],r.prototype,"eViewport",void 0),wa([ae("eContainer")],r.prototype,"eContainer",void 0),wa([ae("eWrapper")],r.prototype,"eWrapper",void 0),wa([ge],r.prototype,"postConstruct",null),wa([Zn],r.prototype,"preDestroy",null),r}(Me),ag=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},qS=function(){function c(r){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=r}return c.prototype.onDragEnter=function(r){var i=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var s=r.dragItem.columns;!s||s.forEach(function(l){!l.isPrimary()||l.isAnyFunctionActive()||(l.isAllowValue()?i.columnsToAggregate.push(l):l.isAllowRowGroup()?i.columnsToGroup.push(l):l.isAllowPivot()&&i.columnsToPivot.push(l))})}},c.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Ki.ICON_PINNED:Ki.ICON_MOVE:null},c.prototype.onDragLeave=function(r){this.clearColumnsList()},c.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},c.prototype.onDragging=function(r){},c.prototype.onDragStop=function(r){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},ag([N("columnModel")],c.prototype,"columnModel",void 0),ag([N("gridOptionsWrapper")],c.prototype,"gridOptionsWrapper",void 0),c}(),Mo=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},wp=function(){function c(r,i){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=r,this.eContainer=i,this.centerContainer=!ee(r)}return c.prototype.init=function(){var r=this;this.ctrlsService.whenReady(function(){r.gridBodyCon=r.ctrlsService.getGridBodyCtrl()})},c.prototype.getIconName=function(){return this.pinned?Ki.ICON_PINNED:Ki.ICON_MOVE},c.prototype.onDragEnter=function(r){var i=r.dragItem.columns;if(r.dragSource.type===x.rvo.ToolPanel)this.setColumnsVisible(i,!0,"uiColumnDragged");else{var l=r.dragItem.visibleState,u=(i||[]).filter(function(h){return l[h.getId()]});this.setColumnsVisible(u,!0,"uiColumnDragged")}this.setColumnsPinned(i,this.pinned,"uiColumnDragged"),this.onDragging(r,!0)},c.prototype.onDragLeave=function(r){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!r.fromNudge){var s=r.dragSource.getDragItem();this.setColumnsVisible(s.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},c.prototype.setColumnsVisible=function(r,i,s){if(void 0===s&&(s="api"),r){var l=r.filter(function(u){return!u.getColDef().lockVisible});this.columnModel.setColumnsVisible(l,i,s)}},c.prototype.setColumnsPinned=function(r,i,s){if(void 0===s&&(s="api"),r){var l=r.filter(function(u){return!u.getColDef().lockPinned});this.columnModel.setColumnsPinned(l,i,s)}},c.prototype.onDragStop=function(){this.ensureIntervalCleared()},c.prototype.normaliseX=function(r){return this.gridOptionsWrapper.isEnableRtl()&&(r=this.eContainer.clientWidth-r),this.centerContainer&&(r+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),r},c.prototype.checkCenterForScrolling=function(r){if(this.centerContainer){var i=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),s=i+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=r<i+50,this.needToMoveLeft=r>s-50):(this.needToMoveLeft=r<i+50,this.needToMoveRight=r>s-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},c.prototype.onDragging=function(r,i){var s=this;if(void 0===i&&(i=!1),this.lastDraggingEvent=r,!Pe(r.hDirection)){var l=this.normaliseX(r.x);i||this.checkCenterForScrolling(l);var u=this.normaliseDirection(r.hDirection),h=r.dragSource.type,g=r.dragSource.getDragItem().columns;g=g.filter(function(_){return!_.getColDef().lockPinned||_.getPinned()==s.pinned}),this.attemptMoveColumns(h,g,u,l,i)}},c.prototype.normaliseDirection=function(r){if(!this.gridOptionsWrapper.isEnableRtl())return r;switch(r){case x.poj.Left:return x.poj.Right;case x.poj.Right:return x.poj.Left;default:console.error("AG Grid: Unknown direction "+r)}},c.prototype.calculateOldIndex=function(r){var i=this.columnModel.getAllGridColumns(),s=tf(r.map(function(_){return i.indexOf(_)})),l=s[0];return Pt(s)-l!=s.length-1?null:l},c.prototype.attemptMoveColumns=function(r,i,s,l,u){var h=s===x.poj.Left,g=s===x.poj.Right,_=i.slice();this.columnModel.sortColumnsLikeGridColumns(_);var w=this.calculateValidMoves(_,g,l),E=this.calculateOldIndex(_);if(0!==w.length){var D=w[0],M=null!==E&&!u;if(r==x.rvo.HeaderCell&&(M=null!==E),!M||!(h&&D>=E||g&&D<=E))for(var G=0;G<w.length;G++){var V=w[G];if(this.columnModel.doesMovePassRules(_,V))return void this.columnModel.moveColumns(_,V,"uiColumnDragged")}}},c.prototype.calculateValidMoves=function(r,i,s){if(this.gridOptionsWrapper.isSuppressMovableColumns()||r.some(function(Ve){return Ve.getColDef().suppressMovable}))return[];var B,u=this.columnModel.getDisplayedColumns(this.pinned),h=this.columnModel.getAllGridColumns(),g=u.filter(function(Ve){return rr(r,Ve)}),_=u.filter(function(Ve){return!rr(r,Ve)}),w=h.filter(function(Ve){return!rr(r,Ve)}),E=0,D=s;if(i){var M=0;g.forEach(function(Ve){return M+=Ve.getActualWidth()}),D-=M}if(D>0){for(var G=0;G<_.length&&!((D-=_[G].getActualWidth())<0);G++)E++;i&&E++}E>0?B=w.indexOf(_[E-1])+1:-1===(B=w.indexOf(_[0]))&&(B=0);var Z=[B],J=function(Ve,Ie){return Ve-Ie};if(i){for(var oe=B+1,fe=h.length-1;oe<=fe;)Z.push(oe),oe++;Z.sort(J)}else{fe=h.length-1;for(var Se=h[oe=B];oe<=fe&&this.isColumnHidden(u,Se);)oe++,Z.push(oe),Se=h[oe];for(oe=B-1;oe>=0;)Z.push(oe),oe--;Z.sort(J).reverse()}return Z},c.prototype.isColumnHidden=function(r,i){return r.indexOf(i)<0},c.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Ki.ICON_LEFT:Ki.ICON_RIGHT,!0))},c.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Ki.ICON_MOVE))},c.prototype.moveInterval=function(){var r;this.intervalCount++,(r=10+5*this.intervalCount)>100&&(r=100);var i=null,s=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?i=s.scrollHorizontally(-r):this.needToMoveRight&&(i=s.scrollHorizontally(r)),0!==i)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var u=this.lastDraggingEvent.dragItem.columns.filter(function(g){return!g.getColDef().lockPinned});u.length>0&&(this.dragAndDropService.setGhostIcon(Ki.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(u,this.needToMoveLeft?j.PINNED_LEFT:j.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},Mo([N("columnModel")],c.prototype,"columnModel",void 0),Mo([N("dragAndDropService")],c.prototype,"dragAndDropService",void 0),Mo([N("gridOptionsWrapper")],c.prototype,"gridOptionsWrapper",void 0),Mo([N("ctrlsService")],c.prototype,"ctrlsService",void 0),Mo([ge],c.prototype,"init",null),c}(),L_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),pc=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},bp=function(c){function r(i,s){var l=c.call(this)||this;return l.pinned=i,l.eContainer=s,l}return L_(r,c),r.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){switch(i.pinned){case j.PINNED_LEFT:i.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.leftRowContainerCtrl.getContainerElement()],[s.bottomLeftRowContainerCtrl.getContainerElement()],[s.topLeftRowContainerCtrl.getContainerElement()]];break;case j.PINNED_RIGHT:i.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.rightRowContainerCtrl.getContainerElement()],[s.bottomRightRowContainerCtrl.getContainerElement()],[s.topRightRowContainerCtrl.getContainerElement()]];break;default:i.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.centerRowContainerCtrl.getViewportElement()],[s.bottomCenterRowContainerCtrl.getViewportElement()],[s.topCenterRowContainerCtrl.getViewportElement()]]}})},r.prototype.isInterestedIn=function(i){return i===x.rvo.HeaderCell||i===x.rvo.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},r.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},r.prototype.getContainer=function(){return this.eContainer},r.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new wp(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new qS(this.pinned)),this.dragAndDropService.addDropTarget(this)},r.prototype.getIconName=function(){return this.currentDropListener.getIconName()},r.prototype.isDropColumnInPivotMode=function(i){return this.columnModel.isPivotMode()&&i.dragSource.type===x.rvo.ToolPanel},r.prototype.onDragEnter=function(i){this.currentDropListener=this.isDropColumnInPivotMode(i)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(i)},r.prototype.onDragLeave=function(i){this.currentDropListener.onDragLeave(i)},r.prototype.onDragging=function(i){this.currentDropListener.onDragging(i)},r.prototype.onDragStop=function(i){this.currentDropListener.onDragStop(i)},pc([N("dragAndDropService")],r.prototype,"dragAndDropService",void 0),pc([N("columnModel")],r.prototype,"columnModel",void 0),pc([N("ctrlsService")],r.prototype,"ctrlsService",void 0),pc([ge],r.prototype,"postConstruct",null),pc([ge],r.prototype,"init",null),r}(pe),YS=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},lg=function(){function c(){}return c.getHeaderClassesFromColDef=function(r,i,s,l){return Pe(r)?[]:this.getColumnClassesFromCollDef(r.headerClass,r,i,s,l)},c.getToolPanelClassesFromColDef=function(r,i,s,l){return Pe(r)?[]:this.getColumnClassesFromCollDef(r.toolPanelClass,r,i,s,l)},c.getClassParams=function(r,i,s,l){return{colDef:r,column:s,columnGroup:l,api:i.getApi(),columnApi:i.getColumnApi(),context:i.getContext()}},c.getColumnClassesFromCollDef=function(r,i,s,l,u){return Pe(r)?[]:"string"==typeof(h="function"==typeof r?r(this.getClassParams(i,s,l,u)):r)?[h]:Array.isArray(h)?function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(YS(arguments[r]));return c}(h):[];var h},c}(),XS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ug=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},ZS=function(c){function r(i){var s=c.call(this,r.TEMPLATE,i)||this;return s.headerCompVersion=0,s.column=i.getColumnGroupChild(),s.pinned=i.getPinned(),s}return XS(r,c),r.prototype.postConstruct=function(){var i=this,s=this.getGui(),l=function(g,_,w){var E=w||s;null!=_&&""!=_?E.setAttribute(g,_):E.removeAttribute(g)};this.ctrl.setComp({setWidth:function(g){return s.style.width=g},addOrRemoveCssClass:function(g,_){return i.addOrRemoveCssClass(g,_)},setColId:function(g){return l("col-id",g)},setTitle:function(g){return l("title",g)},setAriaDescription:function(g){return by(s,g)},setAriaSort:function(g){return g?M0(s,g):Cf(s)},setUserCompDetails:function(g){return i.setUserCompDetails(g)},getUserCompInstance:function(){return i.headerComp}},this.getGui(),this.eResize);var h=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",h)},r.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},r.prototype.setUserCompDetails=function(i){var s=this;this.headerCompVersion++;var l=this.headerCompVersion;i.newAgStackInstance().then(function(u){return s.afterCompCreated(l,u)})},r.prototype.afterCompCreated=function(i,s){i==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=s,this.headerCompGui=s.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(s)},r.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',ug([ae("eResize")],r.prototype,"eResize",void 0),ug([ge],r.prototype,"postConstruct",null),ug([Zn],r.prototype,"destroyHeaderComp",null),r}(sp),G_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),hc=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},k_=function(c){function r(i){return c.call(this,r.TEMPLATE,i)||this}return G_(r,c),r.prototype.postConstruct=function(){var i=this,s=this.getGui(),l=function(h,g){return null!=g?s.setAttribute(h,g):s.removeAttribute(h)};this.ctrl.setComp({addOrRemoveCssClass:function(h,g){return i.addOrRemoveCssClass(h,g)},addOrRemoveResizableCssClass:function(h,g){return i.eResize.classList.toggle(h,g)},setWidth:function(h){return s.style.width=h},setColId:function(h){return s.setAttribute("col-id",h)},setAriaExpanded:function(h){return l("aria-expanded",h)},setTitle:function(h){return l("title",h)},setUserCompDetails:function(h){return i.setUserCompDetails(h)}},s,this.eResize)},r.prototype.setUserCompDetails=function(i){var s=this;i.newAgStackInstance().then(function(l){return s.afterHeaderCompCreated(l)})},r.prototype.afterHeaderCompCreated=function(i){var s=this,l=function(){return s.destroyBean(i)};this.isAlive()?(this.getGui().appendChild(i.getGui()),this.addDestroyFunc(l),this.ctrl.setDragSource(i.getGui())):l()},r.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',hc([N("userComponentFactory")],r.prototype,"userComponentFactory",void 0),hc([ae("eResize")],r.prototype,"eResize",void 0),hc([ge],r.prototype,"postConstruct",null),r}(sp),cg=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),V_=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u};!function(c){c.COLUMN_GROUP="group",c.COLUMN="column",c.FLOATING_FILTER="filter"}(x.A6C||(x.A6C={}));var H_=function(c){function r(i){var s=c.call(this)||this;s.headerComps={};var l=i.getType()==x.A6C.COLUMN_GROUP?"ag-header-row-column-group":i.getType()==x.A6C.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return s.setTemplate('<div class="ag-header-row '+l+'" role="row"></div>'),s.ctrl=i,s}return cg(r,c),r.prototype.init=function(){var i=this;this.ctrl.setComp({setTransform:function(l){return i.getGui().style.transform=l},setHeight:function(l){return i.getGui().style.height=l},setTop:function(l){return i.getGui().style.top=l},setHeaderCtrls:function(l){return i.setHeaderCtrls(l)},setWidth:function(l){return i.getGui().style.width=l},setAriaRowIndex:function(l){return Oy(i.getGui(),l)}})},r.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},r.prototype.setHeaderCtrls=function(i){var s=this;if(this.isAlive()){var l=this.headerComps;if(this.headerComps={},i.forEach(function(_){var w=_.getInstanceId(),E=l[w];delete l[w],null==E&&(E=s.createHeaderComp(_),s.getGui().appendChild(E.getGui())),s.headerComps[w]=E}),Tt(l,function(_,w){s.getGui().removeChild(w.getGui()),s.destroyBean(w)}),this.gridOptionsWrapper.isEnsureDomOrder()){var h=Kr(this.headerComps);h.sort(function(_,w){return _.getCtrl().getColumnGroupChild().getLeft()-w.getCtrl().getColumnGroupChild().getLeft()});var g=h.map(function(_){return _.getGui()});fl(this.getGui(),g)}}},r.prototype.createHeaderComp=function(i){var s;switch(this.ctrl.getType()){case x.A6C.COLUMN_GROUP:s=new k_(i);break;case x.A6C.FLOATING_FILTER:s=new qf(i);break;default:s=new ZS(i)}return this.createBean(s),s.setParentComponent(this),s},V_([ge],r.prototype,"init",null),V_([Zn],r.prototype,"destroyHeaderCtrls",null),r}(Me),B_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ba=0,Nl=function(c){function r(i,s){var l=c.call(this)||this;return l.lastFocusEvent=null,l.columnGroupChild=i,l.parentRowCtrl=s,l.instanceId=i.getUniqueId()+"-"+ba++,l}return B_(r,c),r.prototype.shouldStopEventPropagation=function(i){var s=this.focusService.getFocusedHeader();return L0(this.gridOptionsWrapper,i,s.headerRowIndex,s.column)},r.prototype.setGui=function(i){this.eGui=i,this.addDomData()},r.prototype.addDomData=function(){var i=this,s=r.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,s,this),this.addDestroyFunc(function(){return i.gridOptionsWrapper.setDomData(i.eGui,s,null)})},r.prototype.getGui=function(){return this.eGui},r.prototype.focus=function(i){return!!this.eGui&&(this.lastFocusEvent=i||null,this.eGui.focus(),!0)},r.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},r.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},r.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.getColumnGroupChild=function(){return this.columnGroupChild},r.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([N("focusService")],r.prototype,"focusService",void 0),r}(pe);!function(c){c.EVERYTHING="group",c.FILTER="filter",c.SORT="sort",c.MAP="map",c.AGGREGATE="aggregate",c.FILTER_AGGREGATES="filter_aggregates",c.PIVOT="pivot",c.NOTHING="nothing"}(x.j_r||(x.j_r={}));var ht=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u};function Ea(c){return null!=c&&null!=c.getFrameworkComponentInstance?c.getFrameworkComponentInstance():c}var fc=function(){function c(){this.detailGridInfoMap={},this.destroyCalled=!1}return c.prototype.registerOverlayWrapperComp=function(r){this.overlayWrapperComp=r},c.prototype.registerSideBarComp=function(r){this.sideBarComp=r},c.prototype.init=function(){var r=this;switch(this.rowModel.getType()){case j.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case j.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case j.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){r.gridBodyCtrl=r.ctrlsService.getGridBodyCtrl()})},c.prototype.__getAlignedGridService=function(){return this.alignedGridsService},c.prototype.__getContext=function(){return this.context},c.prototype.addDetailGridInfo=function(r,i){this.detailGridInfoMap[r]=i},c.prototype.removeDetailGridInfo=function(r){this.detailGridInfoMap[r]=void 0},c.prototype.getDetailGridInfo=function(r){return this.detailGridInfoMap[r]},c.prototype.forEachDetailGridInfo=function(r){var i=0;Tt(this.detailGridInfoMap,function(s,l){ee(l)&&(r(l,i),i++)})},c.prototype.getDataAsCsv=function(r){if(He.assertRegistered(x.GXE.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(r)},c.prototype.exportDataAsCsv=function(r){He.assertRegistered(x.GXE.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(r)},c.prototype.getExcelExportMode=function(r){var i=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},i,r).exportMode},c.prototype.getDataAsExcel=function(r){if(He.assertRegistered(x.GXE.ExcelExportModule,"api.getDataAsExcel")){var i=this.getExcelExportMode(r);return this.excelCreator.getFactoryMode(i)===x.nPL.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(r)}},c.prototype.exportDataAsExcel=function(r){if(He.assertRegistered(x.GXE.ExcelExportModule,"api.exportDataAsExcel")){var i=this.getExcelExportMode(r);if(this.excelCreator.getFactoryMode(i)===x.nPL.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(r)}},c.prototype.getSheetDataForExcel=function(r){if(He.assertRegistered(x.GXE.ExcelExportModule,"api.getSheetDataForExcel")){var i=this.getExcelExportMode(r);return this.excelCreator.setFactoryMode(x.nPL.MULTI_SHEET,i),this.excelCreator.getSheetDataForExcel(r)}},c.prototype.getMultipleSheetsAsExcel=function(r){if(He.assertRegistered(x.GXE.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(r)},c.prototype.exportMultipleSheetsAsExcel=function(r){if(He.assertRegistered(x.GXE.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(r)},c.prototype.setEnterpriseDatasource=function(r){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(r)},c.prototype.setGridAriaProperty=function(r,i){if(r){var s=this.ctrlsService.getGridBodyCtrl().getGui(),l="aria-"+r;null===i?s.removeAttribute(l):s.setAttribute(l,i)}},c.prototype.setServerSideDatasource=function(r){this.serverSideRowModel?this.serverSideRowModel.setDatasource(r):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+j.ROW_MODEL_TYPE_SERVER_SIDE+"'")},c.prototype.setDatasource=function(r){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(r):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+j.ROW_MODEL_TYPE_INFINITE+"'")},c.prototype.setViewportDatasource=function(r){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(r):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+j.ROW_MODEL_TYPE_VIEWPORT+"'")},c.prototype.setRowData=function(r){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(r):(this.selectionService.reset(),this.clientSideRowModel.setRowData(r))},c.prototype.setFloatingTopRowData=function(r){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(r)},c.prototype.setFloatingBottomRowData=function(r){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(r)},c.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},c.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},c.prototype.getFloatingTopRow=function(r){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(r)},c.prototype.getFloatingBottomRow=function(r){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(r)},c.prototype.setPinnedTopRowData=function(r){this.pinnedRowModel.setPinnedTopRowData(r)},c.prototype.setPinnedBottomRowData=function(r){this.pinnedRowModel.setPinnedBottomRowData(r)},c.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},c.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},c.prototype.getPinnedTopRow=function(r){return this.pinnedRowModel.getPinnedTopRow(r)},c.prototype.getPinnedBottomRow=function(r){return this.pinnedRowModel.getPinnedBottomRow(r)},c.prototype.setColumnDefs=function(r,i){void 0===i&&(i="api"),this.columnModel.setColumnDefs(r,i)},c.prototype.setAutoGroupColumnDef=function(r,i){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",r,!0)},c.prototype.setDefaultColDef=function(r,i){this.gridOptionsWrapper.setProperty("defaultColDef",r,!0)},c.prototype.expireValueCache=function(){this.valueCache.expire()},c.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},c.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},c.prototype.setAlwaysShowHorizontalScroll=function(r){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",r)},c.prototype.setAlwaysShowVerticalScroll=function(r){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",r)},c.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},c.prototype.refreshCells=function(r){void 0===r&&(r={}),Array.isArray(r)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(r)},c.prototype.flashCells=function(r){void 0===r&&(r={}),this.rowRenderer.flashCells(r)},c.prototype.redrawRows=function(r){void 0===r&&(r={}),this.rowRenderer.redrawRows(r?r.rowNodes:void 0)},c.prototype.setFunctionsReadOnly=function(r){this.gridOptionsWrapper.setProperty("functionsReadOnly",r)},c.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(r){return r.refresh()})},c.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},c.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},c.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},c.prototype.getModel=function(){return this.rowModel},c.prototype.setRowNodeExpanded=function(r,i){r&&r.setExpanded(i)},c.prototype.onGroupExpandedOrCollapsed=function(r){Pe(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),ee(r)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:x.j_r.MAP})},c.prototype.refreshInMemoryRowModel=function(r){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(r)},c.prototype.refreshClientSideRowModel=function(r){Pe(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var i=x.j_r.EVERYTHING,s={group:x.j_r.EVERYTHING,filter:x.j_r.FILTER,map:x.j_r.MAP,aggregate:x.j_r.AGGREGATE,sort:x.j_r.SORT,pivot:x.j_r.PIVOT};if(ee(r)&&(i=s[r]),Pe(i))console.error("AG Grid: invalid step "+r+", available steps are "+Object.keys(s).join(", "));else{var l=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:i,keepRenderedRows:!0,keepEditingRows:!0,animate:l})}},c.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},c.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},c.prototype.getRowNode=function(r){return this.rowModel.getRowNode(r)},c.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},c.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},c.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},c.prototype.getToolPanelInstance=function(r){if(this.sideBarComp)return Ea(this.sideBarComp.getToolPanelInstance(r));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},c.prototype.addVirtualRowListener=function(r,i,s){"string"!=typeof r&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(r,i,s)},c.prototype.addRenderedRowListener=function(r,i,s){"virtualRowSelected"===r&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(r,i,s)},c.prototype.setQuickFilter=function(r){this.filterManager.setQuickFilter(r)},c.prototype.selectIndex=function(r,i,s){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),s&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(r,i)},c.prototype.deselectIndex=function(r,i){void 0===i&&(i=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),i&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(r)},c.prototype.selectNode=function(r,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),s&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),r.setSelectedParams({newValue:!0,clearSelection:!i})},c.prototype.deselectNode=function(r,i){void 0===i&&(i=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),i&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),r.setSelectedParams({newValue:!1})},c.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},c.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},c.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},c.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},c.prototype.recomputeAggregates=function(){Pe(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:x.j_r.AGGREGATE})},c.prototype.sizeColumnsToFit=function(){this.gridBodyCtrl.sizeColumnsToFit()},c.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},c.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},c.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},c.prototype.isNodeSelected=function(r){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),r.isSelected()},c.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},c.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},c.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},c.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},c.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},c.prototype.ensureColIndexVisible=function(r){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},c.prototype.ensureColumnVisible=function(r,i){void 0===i&&(i="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(r,i)},c.prototype.ensureIndexVisible=function(r,i){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(r,i)},c.prototype.ensureNodeVisible=function(r,i){void 0===i&&(i=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(r,i)},c.prototype.forEachLeafNode=function(r){Pe(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(r)},c.prototype.forEachNode=function(r){this.rowModel.forEachNode(r)},c.prototype.forEachNodeAfterFilter=function(r){Pe(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(r)},c.prototype.forEachNodeAfterFilterAndSort=function(r){Pe(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(r)},c.prototype.getFilterInstance=function(r,i){var s=this.getFilterInstanceImpl(r,function(u){if(i){var h=Ea(u);i(h)}});return Ea(s)},c.prototype.getFilterInstanceImpl=function(r,i){var s=this.columnModel.getPrimaryColumn(r);if(s){var l=this.filterManager.getFilterComponent(s,"NO_UI"),u=l&&l.resolveNow(null,function(h){return h});return u?setTimeout(i,0,u):l&&l.then(function(h){i(h)}),u}},c.prototype.destroyFilter=function(r){var i=this.columnModel.getPrimaryColumn(r);if(i)return this.filterManager.destroyFilter(i,"filterDestroyed")},c.prototype.getStatusPanel=function(r){if(this.statusBarService)return Ea(this.statusBarService.getStatusPanel(r))},c.prototype.getColumnDef=function(r){var i=this.columnModel.getPrimaryColumn(r);return i?i.getColDef():null},c.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},c.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},c.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},c.prototype.setFilterModel=function(r){this.filterManager.setFilterModel(r)},c.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},c.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},c.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},c.prototype.setFocusedCell=function(r,i,s){this.focusService.setFocusedCell(r,i,s,!0)},c.prototype.setSuppressRowDrag=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_SUPPRESS_ROW_DRAG,r)},c.prototype.setSuppressMoveWhenRowDragging=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,r)},c.prototype.setSuppressRowClickSelection=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_SUPPRESS_ROW_CLICK_SELECTION,r)},c.prototype.addRowDropZone=function(r){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(r)},c.prototype.removeRowDropZone=function(r){var i=this.dragAndDropService.findExternalZone(r);i&&this.dragAndDropService.removeDropTarget(i)},c.prototype.getRowDropZoneParams=function(r){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(r)},c.prototype.setHeaderHeight=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_HEADER_HEIGHT,r)},c.prototype.setDomLayout=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_DOM_LAYOUT,r)},c.prototype.setEnableCellTextSelection=function(r){this.gridBodyCtrl.setCellTextSelection(r)},c.prototype.setFillHandleDirection=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_FILL_HANDLE_DIRECTION,r)},c.prototype.setGroupHeaderHeight=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GROUP_HEADER_HEIGHT,r)},c.prototype.setFloatingFiltersHeight=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_FLOATING_FILTERS_HEIGHT,r)},c.prototype.setPivotHeaderHeight=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_PIVOT_HEADER_HEIGHT,r)},c.prototype.setPivotGroupHeaderHeight=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_PIVOT_GROUP_HEADER_HEIGHT,r)},c.prototype.setIsExternalFilterPresent=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_IS_EXTERNAL_FILTER_PRESENT,r)},c.prototype.setDoesExternalFilterPass=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_DOES_EXTERNAL_FILTER_PASS,r)},c.prototype.setNavigateToNextCell=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_NAVIGATE_TO_NEXT_CELL,r)},c.prototype.setTabToNextCell=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_TAB_TO_NEXT_CELL,r)},c.prototype.setTabToNextHeader=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_TAB_TO_NEXT_HEADER,r)},c.prototype.setNavigateToNextHeader=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_NAVIGATE_TO_NEXT_HEADER,r)},c.prototype.setGroupRowAggNodes=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GROUP_ROW_AGG_NODES,r)},c.prototype.setGetGroupRowAgg=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_GROUP_ROW_AGG,r)},c.prototype.setGetBusinessKeyForNode=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_BUSINESS_KEY_FOR_NODE,r)},c.prototype.setGetChildCount=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_CHILD_COUNT,r)},c.prototype.setProcessRowPostCreate=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_PROCESS_ROW_POST_CREATE,r)},c.prototype.setGetRowNodeId=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_ROW_NODE_ID,r)},c.prototype.setGetRowId=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_ROW_ID,r)},c.prototype.setGetRowClass=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_ROW_CLASS,r)},c.prototype.setIsFullWidthCell=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_IS_FULL_WIDTH_CELL,r)},c.prototype.setIsFullWidthRow=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_IS_FULL_WIDTH_ROW,r)},c.prototype.setIsRowSelectable=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_IS_ROW_SELECTABLE,r)},c.prototype.setIsRowMaster=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_IS_ROW_MASTER,r)},c.prototype.setPostSort=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_POST_SORT,r)},c.prototype.setPostSortRows=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_POST_SORT_ROWS,r)},c.prototype.setGetDocument=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_DOCUMENT,r)},c.prototype.setGetContextMenuItems=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_CONTEXT_MENU_ITEMS,r)},c.prototype.setGetMainMenuItems=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_MAIN_MENU_ITEMS,r)},c.prototype.setProcessCellForClipboard=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_PROCESS_CELL_FOR_CLIPBOARD,r)},c.prototype.setSendToClipboard=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_SEND_TO_CLIPBOARD,r)},c.prototype.setProcessCellFromClipboard=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_PROCESS_CELL_FROM_CLIPBOARD,r)},c.prototype.setProcessSecondaryColDef=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_PROCESS_TO_SECONDARY_COLDEF,r)},c.prototype.setProcessSecondaryColGroupDef=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,r)},c.prototype.setPostProcessPopup=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_POST_PROCESS_POPUP,r)},c.prototype.setDefaultGroupOrderComparator=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,r)},c.prototype.setInitialGroupOrderComparator=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_INITIAL_GROUP_ORDER_COMPARATOR,r)},c.prototype.setGetChartToolbarItems=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_CHART_TOOLBAR_ITEMS,r)},c.prototype.setPaginationNumberFormatter=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_PAGINATION_NUMBER_FORMATTER,r)},c.prototype.setGetServerSideStoreParams=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_SERVER_SIDE_STORE_PARAMS,r)},c.prototype.setIsServerSideGroupOpenByDefault=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,r)},c.prototype.setIsApplyServerSideTransaction=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,r)},c.prototype.setIsServerSideGroup=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_IS_SERVER_SIDE_GROUP,r)},c.prototype.setGetServerSideGroupKey=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_SERVER_SIDE_GROUP_KEY,r)},c.prototype.setGetRowStyle=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_ROW_STYLE,r)},c.prototype.setGetRowHeight=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GET_ROW_HEIGHT,r)},c.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},c.prototype.setSideBarVisible=function(r){this.sideBarComp?this.sideBarComp.setDisplayed(r):r&&console.warn("AG Grid: sideBar is not loaded")},c.prototype.setSideBarPosition=function(r){this.sideBarComp?this.sideBarComp.setSideBarPosition(r):console.warn("AG Grid: sideBar is not loaded")},c.prototype.openToolPanel=function(r){this.sideBarComp?this.sideBarComp.openToolPanel(r):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},c.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},c.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},c.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},c.prototype.setSideBar=function(r){this.gridOptionsWrapper.setProperty("sideBar",lp.parse(r))},c.prototype.setSuppressClipboardPaste=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_SUPPRESS_CLIPBOARD_PASTE,r)},c.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},c.prototype.doLayout=function(){At(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},c.prototype.resetRowHeights=function(){if(ee(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},c.prototype.setGroupRemoveSingleChildren=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GROUP_REMOVE_SINGLE_CHILDREN,r)},c.prototype.setGroupRemoveLowestSingleChildren=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,r)},c.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},c.prototype.getValue=function(r,i){var s=this.columnModel.getPrimaryColumn(r);return Pe(s)&&(s=this.columnModel.getGridColumn(r)),Pe(s)?null:this.valueService.getValue(s,i)},c.prototype.addEventListener=function(r,i){var s=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(r,i,s)},c.prototype.addGlobalListener=function(r){var i=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(r,i)},c.prototype.removeEventListener=function(r,i){var s=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(r,i,s)},c.prototype.removeGlobalListener=function(r){var i=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(r,i)},c.prototype.dispatchEvent=function(r){this.eventService.dispatchEvent(r)},c.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var r=this.ctrlsService.getGridCtrl();r&&r.destroyGridUi(),this.context.destroy()}},c.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Eo.bind(window,this,"Grid API"),100)},c.prototype.warnIfDestroyed=function(r){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+r+" was called on a grid that was destroyed."),this.destroyCalled},c.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(r){return r.quickFilterAggregateText=null})},c.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},c.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},c.prototype.camelCaseToHumanReadable=function(r){return et(r)},c.prototype.addRangeSelection=function(r){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},c.prototype.addCellRange=function(r){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(r)},c.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},c.prototype.undoCellEditing=function(){this.undoRedoService.undo()},c.prototype.redoCellEditing=function(){this.undoRedoService.redo()},c.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},c.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},c.prototype.getChartModels=function(){if(He.assertRegistered(x.GXE.RangeSelectionModule,"api.getChartModels")&&He.assertRegistered(x.GXE.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},c.prototype.getChartRef=function(r){if(He.assertRegistered(x.GXE.RangeSelectionModule,"api.getChartRef")&&He.assertRegistered(x.GXE.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(r)},c.prototype.getChartImageDataURL=function(r){if(He.assertRegistered(x.GXE.RangeSelectionModule,"api.getChartImageDataURL")&&He.assertRegistered(x.GXE.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(r)},c.prototype.createRangeChart=function(r){if(He.assertRegistered(x.GXE.RangeSelectionModule,"api.createRangeChart")&&He.assertRegistered(x.GXE.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(r)},c.prototype.createCrossFilterChart=function(r){if(He.assertRegistered(x.GXE.RangeSelectionModule,"api.createCrossFilterChart")&&He.assertRegistered(x.GXE.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(r)},c.prototype.restoreChart=function(r,i){if(He.assertRegistered(x.GXE.RangeSelectionModule,"api.restoreChart")&&He.assertRegistered(x.GXE.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(r,i)},c.prototype.createPivotChart=function(r){if(He.assertRegistered(x.GXE.RangeSelectionModule,"api.createPivotChart")&&He.assertRegistered(x.GXE.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(r)},c.prototype.copySelectedRowsToClipboard=function(r){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(r)},c.prototype.copySelectedRangeToClipboard=function(r){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(r)},c.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},c.prototype.showColumnMenuAfterButtonClick=function(r,i){var s=this.columnModel.getGridColumn(r);this.menuFactory.showMenuAfterButtonClick(s,i,"columnMenu")},c.prototype.showColumnMenuAfterMouseClick=function(r,i){var s=this.columnModel.getGridColumn(r);s||(s=this.columnModel.getPrimaryColumn(r)),s?this.menuFactory.showMenuAfterMouseEvent(s,i):console.error("AG Grid: column '"+r+"' not found")},c.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},c.prototype.setPopupParent=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_POPUP_PARENT,r)},c.prototype.tabToNextCell=function(r){return this.navigationService.tabToNextCell(!1,r)},c.prototype.tabToPreviousCell=function(r){return this.navigationService.tabToNextCell(!0,r)},c.prototype.getCellRendererInstances=function(r){return void 0===r&&(r={}),this.rowRenderer.getCellRendererInstances(r).map(Ea)},c.prototype.getCellEditorInstances=function(r){return void 0===r&&(r={}),this.rowRenderer.getCellEditorInstances(r).map(Ea)},c.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},c.prototype.stopEditing=function(r){void 0===r&&(r=!1),this.rowRenderer.stopEditing(r)},c.prototype.startEditingCell=function(r){var i=this.columnModel.getGridColumn(r.colKey);if(i){var s={rowIndex:r.rowIndex,rowPinned:r.rowPinned||null,column:i};null==r.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(r.rowIndex);var u=this.navigationService.getCellByPosition(s);!u||u.startRowOrCellEdit(r.key,r.charPress)}else console.warn("AG Grid: no column found for "+r.colKey)},c.prototype.addAggFunc=function(r,i){this.aggFuncService&&this.aggFuncService.addAggFunc(r,i)},c.prototype.addAggFuncs=function(r){this.aggFuncService&&this.aggFuncService.addAggFuncs(r)},c.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},c.prototype.applyServerSideTransaction=function(r){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(r);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},c.prototype.applyServerSideTransactionAsync=function(r,i){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(r,i);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},c.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},c.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},c.prototype.applyTransaction=function(r){if(this.clientSideRowModel){var i=this.clientSideRowModel.updateRowData(r);return this.rowRenderer.refreshFullWidthRows(i.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),i}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},c.prototype.setDeltaSort=function(r){this.gridOptionsWrapper.setProperty("deltaSort",r)},c.prototype.updateRowData=function(r){return At(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(r)},c.prototype.applyTransactionAsync=function(r,i){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(r,i):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},c.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},c.prototype.batchUpdateRowData=function(r,i){At(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(r,i)},c.prototype.insertItemsAtIndex=function(r,i,s){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:i,addIndex:r,update:null,remove:null})},c.prototype.removeItems=function(r,i){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var s=r.map(function(l){return l.data});this.updateRowData({add:null,addIndex:null,update:null,remove:s})},c.prototype.addItems=function(r,i){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:r,addIndex:null,update:null,remove:null})},c.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},c.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},c.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},c.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},c.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},c.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},c.prototype.purgeEnterpriseCache=function(r){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(r)},c.prototype.purgeServerSideCache=function(r){void 0===r&&(r=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:r,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},c.prototype.refreshServerSideStore=function(r){this.serverSideRowModel?this.serverSideRowModel.refreshStore(r):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},c.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},c.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},c.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},c.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},c.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},c.prototype.setVirtualRowCount=function(r,i){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(r,i)},c.prototype.setInfiniteRowCount=function(r,i){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(r,i)},c.prototype.setRowCount=function(r,i){this.infiniteRowModel?this.infiniteRowModel.setRowCount(r,i):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},c.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},c.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},c.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},c.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},c.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},c.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},c.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},c.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},c.prototype.getDisplayedRowAtIndex=function(r){return this.rowModel.getRow(r)},c.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},c.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},c.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},c.prototype.paginationSetPageSize=function(r){this.gridOptionsWrapper.setProperty("paginationPageSize",r)},c.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},c.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},c.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},c.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},c.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},c.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},c.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},c.prototype.paginationGoToPage=function(r){this.paginationProxy.goToPage(r)},c.prototype.setRowClass=function(r){this.gridOptionsWrapper.setProperty(_e.PROP_ROW_CLASS,r)},ht([vt("immutableService")],c.prototype,"immutableService",void 0),ht([vt("csvCreator")],c.prototype,"csvCreator",void 0),ht([vt("excelCreator")],c.prototype,"excelCreator",void 0),ht([N("rowRenderer")],c.prototype,"rowRenderer",void 0),ht([N("navigationService")],c.prototype,"navigationService",void 0),ht([N("filterManager")],c.prototype,"filterManager",void 0),ht([N("columnModel")],c.prototype,"columnModel",void 0),ht([N("selectionService")],c.prototype,"selectionService",void 0),ht([N("gridOptionsWrapper")],c.prototype,"gridOptionsWrapper",void 0),ht([N("valueService")],c.prototype,"valueService",void 0),ht([N("alignedGridsService")],c.prototype,"alignedGridsService",void 0),ht([N("eventService")],c.prototype,"eventService",void 0),ht([N("pinnedRowModel")],c.prototype,"pinnedRowModel",void 0),ht([N("context")],c.prototype,"context",void 0),ht([N("rowModel")],c.prototype,"rowModel",void 0),ht([N("sortController")],c.prototype,"sortController",void 0),ht([N("paginationProxy")],c.prototype,"paginationProxy",void 0),ht([N("focusService")],c.prototype,"focusService",void 0),ht([N("dragAndDropService")],c.prototype,"dragAndDropService",void 0),ht([vt("rangeService")],c.prototype,"rangeService",void 0),ht([vt("clipboardService")],c.prototype,"clipboardService",void 0),ht([vt("aggFuncService")],c.prototype,"aggFuncService",void 0),ht([N("menuFactory")],c.prototype,"menuFactory",void 0),ht([vt("contextMenuFactory")],c.prototype,"contextMenuFactory",void 0),ht([N("valueCache")],c.prototype,"valueCache",void 0),ht([N("animationFrameService")],c.prototype,"animationFrameService",void 0),ht([vt("statusBarService")],c.prototype,"statusBarService",void 0),ht([vt("chartService")],c.prototype,"chartService",void 0),ht([vt("undoRedoService")],c.prototype,"undoRedoService",void 0),ht([vt("rowNodeBlockLoader")],c.prototype,"rowNodeBlockLoader",void 0),ht([vt("ssrmTransactionManager")],c.prototype,"serverSideTransactionManager",void 0),ht([N("ctrlsService")],c.prototype,"ctrlsService",void 0),ht([vt("frameworkComponentWrapper")],c.prototype,"frameworkComponentWrapper",void 0),ht([ge],c.prototype,"init",null),ht([Zn],c.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),ht([we("gridApi")],c)}(),JS=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),gc=function(c){function r(i,s,l,u){var h=c.call(this)||this;return h.columnOrGroup=i,h.eCell=s,h.ariaEl=h.eCell.querySelector("[role=columnheader]")||h.eCell,h.colsSpanning=u,h.beans=l,h}return JS(r,c),r.prototype.setColsSpanning=function(i){this.colsSpanning=i,this.onLeftChanged()},r.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Pt(this.colsSpanning):this.columnOrGroup},r.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,gt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,_e.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},r.prototype.setLeftFirstTime=function(){var i=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),s=ee(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&s&&!i?this.animateInLeft():this.onLeftChanged()},r.prototype.animateInLeft=function(){var i=this,s=this.getColumnOrGroup(),l=s.getLeft(),u=s.getOldLeft(),h=this.modifyLeftForPrintLayout(s,u),g=this.modifyLeftForPrintLayout(s,l);this.setLeft(h),this.actualLeft=g,this.beans.columnAnimationService.executeNextVMTurn(function(){i.actualLeft===g&&i.setLeft(g)})},r.prototype.onLeftChanged=function(){var i=this.getColumnOrGroup(),s=i.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(i,s),this.setLeft(this.actualLeft)},r.prototype.modifyLeftForPrintLayout=function(i,s){if(this.beans.gridOptionsWrapper.getDomLayout()!==j.DOM_LAYOUT_PRINT||i.getPinned()===j.PINNED_LEFT)return s;var u=this.beans.columnModel.getDisplayedColumnsLeftWidth();return i.getPinned()===j.PINNED_RIGHT?u+this.beans.columnModel.getBodyContainerWidth()+s:u+s},r.prototype.setLeft=function(i){var s;if(ee(i)&&(this.eCell.style.left=i+"px"),this.columnOrGroup instanceof gt)s=this.columnOrGroup;else{var u=this.columnOrGroup.getLeafColumns();if(!u.length)return;u.length>1&&N0(this.ariaEl,u.length),s=u[0]}var h=this.beans.columnModel.getAriaColumnIndex(s);Ty(this.ariaEl,h)},function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([ge],r.prototype,"postConstruct",null),r}(pe),U_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ep=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Sp=function(c){function r(i,s){var l=c.call(this)||this;return l.columns=i,l.element=s,l}return U_(r,c),r.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},r.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},r.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},r.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Ep([N("columnHoverService")],r.prototype,"columnHoverService",void 0),Ep([ge],r.prototype,"postConstruct",null),r}(pe),Dp=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ls=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},dg=function(c){function r(i,s){var l=c.call(this,i,s)||this;return l.column=i,l}return Dp(r,c),r.prototype.setComp=function(i,s,l,u){c.prototype.setGui.call(this,s),this.comp=i,this.eButtonShowMainFilter=l,this.eFloatingFilterBody=u;var h=this.column.getColDef();this.active=!(!h.filter&&!h.filterFramework||!h.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},r.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var i=Gn("filter",this.gridOptionsWrapper,this.column);i&&this.eButtonShowMainFilter.appendChild(i)}},r.prototype.setupFocus=function(){this.createManagedBean(new Xo(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},r.prototype.onTabKeyDown=function(i){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var h=this.focusService.findNextFocusableElement(this.eGui,null,i.shiftKey);if(h)return this.beans.headerNavigationService.scrollToColumn(this.column),i.preventDefault(),void h.focus();var g=this.findNextColumnWithFloatingFilter(i.shiftKey);!g||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:g},event:i})&&i.preventDefault()}},r.prototype.findNextColumnWithFloatingFilter=function(i){var s=this.beans.columnModel,l=this.column;do{if(!(l=i?s.getDisplayedColBefore(l):s.getDisplayedColAfter(l)))break}while(!l.getColDef().filter||!l.getColDef().floatingFilter);return l},r.prototype.handleKeyDown=function(i){var u=this.gridOptionsWrapper.getDocument().activeElement===this.eGui;switch(i.key){case le.UP:case le.DOWN:u||i.preventDefault();case le.LEFT:case le.RIGHT:if(u)return;i.stopPropagation();case le.ENTER:u&&this.focusService.focusInto(this.eGui)&&i.preventDefault();break;case le.ESCAPE:u||this.eGui.focus()}},r.prototype.onFocusIn=function(i){if(!this.eGui.contains(i.relatedTarget)){var l=!!i.relatedTarget&&!i.relatedTarget.classList.contains("ag-floating-filter"),u=!!i.relatedTarget&&Ss(i.relatedTarget,"ag-floating-filter");if(l&&u&&i.target===this.eGui){var h=this.lastFocusEvent;h&&h&&h.key===le.TAB&&this.focusService.focusInto(this.eGui,h.shiftKey)}var w=this.getRowIndex();this.beans.focusService.setFocusedHeader(w,this.column)}},r.prototype.setupHover=function(){var i=this;this.createManagedBean(new Sp([this.column],this.eGui));var s=function(){if(i.gridOptionsWrapper.isColumnHoverHighlight()){var l=i.columnHoverService.isHovered(i.column);i.comp.addOrRemoveCssClass("ag-column-hover",l)}};this.addManagedListener(this.eventService,L.EVENT_COLUMN_HOVER_CHANGED,s),s()},r.prototype.setupLeft=function(){var i=new gc(this.column,this.eGui,this.beans);this.createManagedBean(i)},r.prototype.setupUserComp=function(){var i=this;if(this.active){var s=this.column.getColDef(),l=this.filterManager.createFilterParams(this.column,s),u=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,nc,l),h=this.userComponentFactory.getDefaultFloatingFilterType(s);null==h&&(h="agReadOnlyFloatingFilter");var g={column:this.column,filterParams:u,currentParentModel:function(){return i.currentParentModel()},parentFilterInstance:function(w){return i.parentFilterInstance(w)},showParentFilter:function(){return i.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!s.floatingFilterComponentParams&&!!s.floatingFilterComponentParams.suppressFilterButton;var _=this.userComponentFactory.getFloatingFilterCompDetails(s,g,h);_&&this.comp.setCompDetails(_)}},r.prototype.currentParentModel=function(){var i=this.getFilterComponent(!1);return i?i.resolveNow(null,function(s){return s&&s.getModel()}):null},r.prototype.getFilterComponent=function(i){return void 0===i&&(i=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",i)},r.prototype.parentFilterInstance=function(i){var s=this.getFilterComponent();null!=s&&s.then(function(l){i(Ea(l))})},r.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},r.prototype.setupSyncWithFilter=function(){var i=this;if(this.active){var s=function(l){var u=i.comp.getFloatingFilterComp();if(u){var h=i.currentParentModel();u.then(function(g){g&&g.onParentModelChanged(h,l)})}};this.addManagedListener(this.column,gt.EVENT_FILTER_CHANGED,s),this.filterManager.isFilterActive(this.column)&&s(null)}},r.prototype.setupWidth=function(){var i=this,s=function(){var l=i.column.getActualWidth()+"px";i.comp.setWidth(l)};this.addManagedListener(this.column,gt.EVENT_WIDTH_CHANGED,s),s()},ls([N("userComponentFactory")],r.prototype,"userComponentFactory",void 0),ls([N("filterManager")],r.prototype,"filterManager",void 0),ls([N("columnHoverService")],r.prototype,"columnHoverService",void 0),ls([N("gridApi")],r.prototype,"gridApi",void 0),ls([N("menuFactory")],r.prototype,"menuFactory",void 0),ls([N("beans")],r.prototype,"beans",void 0),r}(Nl),pg=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Rp=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},hg=function(c){function r(i,s,l,u,h){var g=c.call(this)||this;return g.pinned=i,g.column=s,g.eResize=l,g.comp=u,g.ctrl=h,g}return pg(r,c),r.prototype.postConstruct=function(){var u,h,i=this,s=this.column.getColDef(),l=[],_=function(){l.forEach(function(E){return E()}),l.length=0},w=function(){var E=i.column.isResizable(),D=!i.gridOptionsWrapper.isSuppressAutoSize()&&!s.suppressAutoSize;(E!==u||D!==h)&&(u=E,h=D,_(),function(){if(Lt(i.eResize,u),u){var E=i.horizontalResizeService.addResizeBar({eResizeBar:i.eResize,onResizeStart:i.onResizeStart.bind(i),onResizing:i.onResizing.bind(i,!1),onResizeEnd:i.onResizing.bind(i,!0)});if(l.push(E),h){var D=i.gridOptionsWrapper.isSkipHeaderOnAutoSize(),M=function(){i.columnModel.autoSizeColumn(i.column,D,"uiColumnResized")};i.eResize.addEventListener("dblclick",M);var G=new xr(i.eResize);G.addEventListener(xr.EVENT_DOUBLE_TAP,M),i.addDestroyFunc(function(){i.eResize.removeEventListener("dblclick",M),G.removeEventListener(xr.EVENT_DOUBLE_TAP,M),G.destroy()})}}}())};w(),this.addDestroyFunc(_),this.ctrl.addRefreshFunction(w)},r.prototype.onResizing=function(i,s){var l=this.normaliseResizeAmount(s);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+l}],this.resizeWithShiftKey,i,"uiColumnDragged"),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},r.prototype.onResizeStart=function(i){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=i,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},r.prototype.normaliseResizeAmount=function(i){var s=i,l=this.pinned!==j.PINNED_LEFT,u=this.pinned===j.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?l&&(s*=-1):u&&(s*=-1),s},Rp([N("horizontalResizeService")],r.prototype,"horizontalResizeService",void 0),Rp([N("columnModel")],r.prototype,"columnModel",void 0),Rp([ge],r.prototype,"postConstruct",null),r}(pe),mc=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ml=function(c){function r(i,s,l){void 0===s&&(s="ag-checkbox"),void 0===l&&(l="checkbox");var u=c.call(this,i,s,l)||this;return u.labelAlignment="right",u.selected=!1,u.readOnly=!1,u.passive=!1,u}return mc(r,c),r.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},r.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},r.prototype.setPassive=function(i){this.passive=i},r.prototype.isReadOnly=function(){return this.readOnly},r.prototype.setReadOnly=function(i){this.eWrapper.classList.toggle("ag-disabled",i),this.eInput.disabled=i,this.readOnly=i},r.prototype.setDisabled=function(i){return this.eWrapper.classList.toggle("ag-disabled",i),c.prototype.setDisabled.call(this,i)},r.prototype.toggle=function(){if(!this.eInput.disabled){var i=this.isSelected(),s=this.getNextValue();this.passive?this.dispatchChange(s,i):this.setValue(s)}},r.prototype.getValue=function(){return this.isSelected()},r.prototype.setValue=function(i,s){return this.refreshSelectedClass(i),this.setSelected(i,s),this},r.prototype.setName=function(i){return this.getInputElement().name=i,this},r.prototype.isSelected=function(){return this.selected},r.prototype.setSelected=function(i,s){this.isSelected()!==i&&(this.previousValue=this.isSelected(),i=this.selected="boolean"==typeof i?i:void 0,this.eInput.checked=i,this.eInput.indeterminate=void 0===i,s||this.dispatchChange(this.selected,this.previousValue))},r.prototype.dispatchChange=function(i,s,l){this.dispatchEvent({type:r.EVENT_CHANGED,selected:i,previousValue:s,event:l});var u=this.getInputElement();this.eventService.dispatchEvent({type:L.EVENT_CHECKBOX_CHANGED,id:u.id,name:u.name,selected:i,previousValue:s})},r.prototype.onCheckboxClick=function(i){if(!this.passive&&!this.eInput.disabled){var s=this.isSelected(),l=this.selected=i.target.checked;this.refreshSelectedClass(l),this.dispatchChange(l,s,i)}},r.prototype.refreshSelectedClass=function(i){this.eWrapper.classList.toggle("ag-checked",!0===i),this.eWrapper.classList.toggle("ag-indeterminate",null==i)},r}(Zo),z_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Op=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},eD=function(c){function r(i){var s=c.call(this)||this;s.cbSelectAllVisible=!1,s.processingEventFromCheckbox=!1,s.column=i;var l=i.getColDef();return s.filteredOnly=!!l&&!!l.headerCheckboxSelectionFilteredOnly,s}return z_(r,c),r.prototype.onSpaceKeyPressed=function(i){var s=this.cbSelectAll,l=this.gridOptionsWrapper.getDocument();s.isDisplayed()&&!s.getGui().contains(l.activeElement)&&(i.preventDefault(),s.setValue(!s.getValue()))},r.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},r.prototype.setComp=function(i){this.headerCellCtrl=i,this.cbSelectAll=this.createManagedBean(new Ml),this.cbSelectAll.addCssClass("ag-header-select-all"),Un(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,L.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Ml.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},r.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},r.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},r.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},r.prototype.getNextCheckboxState=function(i){return(0!==i.selected||0!==i.notSelected)&&(i.selected>0&&i.notSelected>0?null:i.selected>0)},r.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var i=this.getSelectionCount(),s=this.getNextCheckboxState(i);this.cbSelectAll.setValue(s),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},r.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var i=this.gridOptionsWrapper.getLocaleTextFunc(),l=this.cbSelectAll.getValue()?i("ariaChecked","checked"):i("ariaUnchecked","unchecked"),u=i("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",u+" ("+l+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null);this.headerCellCtrl.refreshAriaDescription()},r.prototype.getSelectionCount=function(){var i=this,s=0,l=0,u=function(h){i.gridOptionsWrapper.isGroupSelectsChildren()&&h.group||(h.isSelected()?s++:h.selectable&&l++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(u):this.gridApi.forEachNode(u),{notSelected:l,selected:s}},r.prototype.checkRightRowModelType=function(){var i=this.rowModel.getType();i===j.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+i)},r.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},r.prototype.isCheckboxSelection=function(){var i=this.column.getColDef().headerCheckboxSelection;return"function"==typeof i&&(i=i({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()})),!(!i||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},Op([N("gridApi")],r.prototype,"gridApi",void 0),Op([N("columnApi")],r.prototype,"columnApi",void 0),Op([N("rowModel")],r.prototype,"rowModel",void 0),Op([N("selectionService")],r.prototype,"selectionService",void 0),r}(pe),$_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Gr=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},fg=function(c){function r(i,s){var l=c.call(this,i,s)||this;return l.refreshFunctions=[],l.userHeaderClasses=new Set,l.ariaDescriptionProperties=new Map,l.column=i,l}return $_(r,c),r.prototype.setComp=function(i,s,l){var u=this;c.prototype.setGui.call(this,s),this.comp=i,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new hg(this.getPinned(),this.column,l,i,this)),this.createManagedBean(new Sp([this.column],s)),this.createManagedBean(new gc(this.column,s,this.beans)),this.createManagedBean(new Xo(s,{shouldStopEventPropagation:function(h){return u.shouldStopEventPropagation(h)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},r.prototype.setupUserComp=function(){var i=this.lookupUserCompDetails();this.setCompDetails(i)},r.prototype.setCompDetails=function(i){this.userCompDetails=i,this.comp.setUserCompDetails(i)},r.prototype.lookupUserCompDetails=function(){var i=this.createParams(),s=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(s,i)},r.prototype.createParams=function(){var i=this,s=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:s.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(u){i.gridApi.showColumnMenuAfterButtonClick(i.column,u)},progressSort:function(u){i.sortController.progressSort(i.column,!!u,"uiColumnSorted")},setSort:function(u,h){i.sortController.setSortForColumn(i.column,u,!!h,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},r.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new eD(this.column)),this.selectAllFeature.setComp(this)},r.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},r.prototype.handleKeyDown=function(i){i.key===le.SPACE&&this.selectAllFeature.onSpaceKeyPressed(i),i.key===le.ENTER&&this.onEnterKeyPressed(i)},r.prototype.onEnterKeyPressed=function(i){var s=this.comp.getUserCompInstance();s&&(i.ctrlKey||i.metaKey?this.menuEnabled&&s.showMenu&&(i.preventDefault(),s.showMenu()):this.sortable&&this.sortController.progressSort(this.column,i.shiftKey,"uiColumnSorted"))},r.prototype.isMenuEnabled=function(){return this.menuEnabled},r.prototype.onFocusIn=function(i){if(!this.getGui().contains(i.relatedTarget)){var s=this.getRowIndex();this.focusService.setFocusedHeader(s,this.column)}this.setActiveHeader(!0)},r.prototype.onFocusOut=function(i){this.getGui().contains(i.relatedTarget)||this.setActiveHeader(!1)},r.prototype.setupTooltip=function(){var i=this,l=this.createManagedBean(new Ca({getColumn:function(){return i.column},getColDef:function(){return i.column.getColDef()},getGui:function(){return i.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return i.column.getColDef().headerTooltip}},this.beans));l.setComp(this.comp),this.refreshFunctions.push(function(){return l.refreshToolTip()})},r.prototype.setupClassesFromColDef=function(){var i=this,s=function(){var l=i.column.getColDef(),h=lg.getHeaderClassesFromColDef(l,i.gridOptionsWrapper,i.column,null),g=i.userHeaderClasses;i.userHeaderClasses=new Set(h),h.forEach(function(_){g.has(_)?g.delete(_):i.comp.addOrRemoveCssClass(_,!0)}),g.forEach(function(_){return i.comp.addOrRemoveCssClass(_,!1)})};this.refreshFunctions.push(s),s()},r.prototype.setDragSource=function(i){var s=this;this.dragSourceElement=i,this.removeDragSource(),i&&(!this.draggable||(this.moveDragSource={type:x.rvo.HeaderCell,eElement:i,defaultIconName:Ki.ICON_HIDE,getDragItem:function(){return s.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return s.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return s.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},r.prototype.createDragItem=function(){var i={};return i[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:i}},r.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},r.prototype.onNewColumnsLoaded=function(){var i=this.columnModel.getColDefVersion();i!=this.colDefVersion&&(this.colDefVersion=i,this.refresh())},r.prototype.updateState=function(){var i=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!i.suppressMenu,this.sortable=i.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},r.prototype.addRefreshFunction=function(i){this.refreshFunctions.push(i)},r.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(i){return i()})},r.prototype.refreshHeaderComp=function(){var i=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==i.componentClass&&this.attemptHeaderCompRefresh(i.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(i)},r.prototype.attemptHeaderCompRefresh=function(i){var s=this.comp.getUserCompInstance();return!(!s||!s.refresh)&&s.refresh(i)},r.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},r.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},r.prototype.workOutDraggable=function(){var i=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||i.suppressMovable||i.lockPosition)||!!i.enableRowGroup||!!i.enablePivot},r.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},r.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},r.prototype.onColumnValueChanged=function(){this.checkDisplayName()},r.prototype.setupWidth=function(){var i=this,s=function(){i.comp.setWidth(i.column.getActualWidth()+"px")};this.addManagedListener(this.column,gt.EVENT_WIDTH_CHANGED,s),s()},r.prototype.setupMovingCss=function(){var i=this,s=function(){i.comp.addOrRemoveCssClass("ag-header-cell-moving",i.column.isMoving())};this.addManagedListener(this.column,gt.EVENT_MOVING_CHANGED,s),s()},r.prototype.setupMenuClass=function(){var i=this,s=function(){i.comp.addOrRemoveCssClass("ag-column-menu-visible",i.column.isMenuVisible())};this.addManagedListener(this.column,gt.EVENT_MENU_VISIBLE_CHANGED,s),s()},r.prototype.setupSortableClass=function(){var i=this,s=function(){i.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!i.sortable)};s(),this.addRefreshFunction(s),this.addManagedListener(this.column,gt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},r.prototype.refreshAriaSort=function(){if(this.sortable){var i=this.gridOptionsWrapper.getLocaleTextFunc();this.comp.setAriaSort(Gu(this.column)),this.setAriaDescriptionProperty("sort",i("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},r.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var i=this.gridOptionsWrapper.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",i("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},r.prototype.setAriaDescriptionProperty=function(i,s){null!=s?this.ariaDescriptionProperties.set(i,s):this.ariaDescriptionProperties.delete(i)},r.prototype.refreshAriaDescription=function(){var i=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(i.length?i.join(" "):void 0)},r.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},r.prototype.addColumnHoverListener=function(){var i=this,s=function(){if(i.gridOptionsWrapper.isColumnHoverHighlight()){var l=i.columnHoverService.isHovered(i.column);i.comp.addOrRemoveCssClass("ag-column-hover",l)}};this.addManagedListener(this.eventService,L.EVENT_COLUMN_HOVER_CHANGED,s),s()},r.prototype.setupFilterCss=function(){var i=this,s=function(){i.comp.addOrRemoveCssClass("ag-header-cell-filtered",i.column.isFilterActive())};this.addManagedListener(this.column,gt.EVENT_FILTER_ACTIVE_CHANGED,s),s()},r.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},r.prototype.addActiveHeaderMouseListeners=function(){var i=this,s=function(l){return i.setActiveHeader("mouseenter"===l.type)};this.addManagedListener(this.getGui(),"mouseenter",s),this.addManagedListener(this.getGui(),"mouseleave",s)},r.prototype.setActiveHeader=function(i){this.comp.addOrRemoveCssClass("ag-header-active",i)},Gr([N("columnModel")],r.prototype,"columnModel",void 0),Gr([N("columnHoverService")],r.prototype,"columnHoverService",void 0),Gr([N("beans")],r.prototype,"beans",void 0),Gr([N("sortController")],r.prototype,"sortController",void 0),Gr([N("menuFactory")],r.prototype,"menuFactory",void 0),Gr([N("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Gr([N("gridApi")],r.prototype,"gridApi",void 0),Gr([N("columnApi")],r.prototype,"columnApi",void 0),Gr([N("userComponentFactory")],r.prototype,"userComponentFactory",void 0),Gr([Zn],r.prototype,"removeDragSource",null),r}(Nl),NN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),vc=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},tD=function(c){function r(i,s,l,u){var h=c.call(this)||this;return h.eResize=s,h.comp=i,h.pinned=l,h.columnGroup=u,h}return NN(r,c),r.prototype.postConstruct=function(){var i=this;if(this.columnGroup.isResizable()){var s=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(s),!this.gridOptionsWrapper.isSuppressAutoSize()){var l=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var u=[];i.columnGroup.getDisplayedLeafColumns().forEach(function(g){g.getColDef().suppressAutoSize||u.push(g.getColId())}),u.length>0&&i.columnModel.autoSizeColumns({columns:u,skipHeader:l,stopAtGroup:i.columnGroup,source:"uiColumnResized"}),i.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},r.prototype.onResizeStart=function(i){var s=this;this.calculateInitialValues();var l=null;if(i&&(l=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),l){var u=l.getDisplayedLeafColumns();this.resizeTakeFromCols=u.filter(function(h){return h.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(h){return s.resizeTakeFromStartWidth+=h.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(h){return s.resizeTakeFromRatios.push(h.getActualWidth()/s.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},r.prototype.onResizing=function(i,s){var l=this.normaliseDragChange(s);this.resizeColumns(this.resizeStartWidth+l,i)},r.prototype.resizeLeafColumnsToFit=function(){var i=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),i>this.resizeStartWidth&&this.resizeColumns(i,!0)},r.prototype.resizeColumns=function(i,s){void 0===s&&(s=!0);var l=[];l.push({columns:this.resizeCols,ratios:this.resizeRatios,width:i}),this.resizeTakeFromCols&&l.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(i-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:l,finished:s,source:"uiColumnDragged"}),s&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},r.prototype.calculateInitialValues=function(){var i=this,s=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=s.filter(function(l){return l.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(l){return i.resizeStartWidth+=l.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(l){return i.resizeRatios.push(l.getActualWidth()/i.resizeStartWidth)})},r.prototype.normaliseDragChange=function(i){var s=i;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==j.PINNED_LEFT&&(s*=-1):this.pinned===j.PINNED_RIGHT&&(s*=-1),s},vc([N("horizontalResizeService")],r.prototype,"horizontalResizeService",void 0),vc([N("autoWidthCalculator")],r.prototype,"autoWidthCalculator",void 0),vc([N("columnModel")],r.prototype,"columnModel",void 0),vc([ge],r.prototype,"postConstruct",null),r}(pe),K_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),iD=function(c){function r(i,s){var l=c.call(this)||this;return l.removeChildListenersFuncs=[],l.columnGroup=s,l.comp=i,l}return K_(r,c),r.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Xt.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},r.prototype.addListenersToChildrenColumns=function(){var i=this;this.removeListenersOnChildrenColumns();var s=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(l){l.addEventListener(gt.EVENT_WIDTH_CHANGED,s),l.addEventListener(gt.EVENT_VISIBLE_CHANGED,s),i.removeChildListenersFuncs.push(function(){l.removeEventListener(gt.EVENT_WIDTH_CHANGED,s),l.removeEventListener(gt.EVENT_VISIBLE_CHANGED,s)})})},r.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(i){return i()}),this.removeChildListenersFuncs=[]},r.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},r.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([ge],r.prototype,"postConstruct",null),r}(pe),eo=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Il=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},gg=function(c){function r(i,s){var l=c.call(this,i,s)||this;return l.columnGroup=i,l}return eo(r,c),r.prototype.setComp=function(i,s,l){c.prototype.setGui.call(this,s),this.comp=i,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var u=this.getParentRowCtrl().getPinned(),h=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Sp(h,s)),this.createManagedBean(new gc(this.columnGroup,s,this.beans)),this.createManagedBean(new iD(i,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new tD(i,l,u,this.columnGroup)),this.createManagedBean(new Xo(s,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},r.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},r.prototype.setupUserComp=function(){var i=this,s=this.displayName,l={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(w){i.columnModel.setColumnGroupOpened(i.columnGroup.getProvidedColumnGroup(),w,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!s){for(var u=this.columnGroup,h=u.getLeafColumns();u.getParent()&&u.getParent().getLeafColumns().length===h.length;)u=u.getParent();var g=u.getColGroupDef();g&&(s=g.headerName),s||(s=h?this.columnModel.getDisplayNameForColumn(h[0],"header",!0):"")}var _=this.userComponentFactory.getHeaderGroupCompDetails(l);this.comp.setUserCompDetails(_)},r.prototype.setupTooltip=function(){var i=this,s=this.columnGroup.getColGroupDef(),l={getColumn:function(){return i.columnGroup},getGui:function(){return i.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return s&&s.headerTooltip}};s&&(l.getColDef=function(){return s}),this.createManagedBean(new Ca(l,this.beans)).setComp(this.comp)},r.prototype.setupExpandable=function(){var i=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(i,cn.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(i,cn.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},r.prototype.refreshExpanded=function(){var i=this.columnGroup;this.expandable=i.isExpandable();var s=i.isExpanded();this.comp.setAriaExpanded(this.expandable?s?"true":"false":void 0)},r.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},r.prototype.addClasses=function(){var i=this,s=this.columnGroup.getColGroupDef(),l=lg.getHeaderClassesFromColDef(s,this.gridOptionsWrapper,null,this.columnGroup);l.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),l.forEach(function(u){return i.comp.addOrRemoveCssClass(u,!0)})},r.prototype.setupMovingCss=function(){var i=this,l=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),u=function(){return i.comp.addOrRemoveCssClass("ag-header-cell-moving",i.columnGroup.isMoving())};l.forEach(function(h){i.addManagedListener(h,gt.EVENT_MOVING_CHANGED,u)}),u()},r.prototype.onFocusIn=function(i){if(!this.eGui.contains(i.relatedTarget)){var s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.columnGroup)}},r.prototype.handleKeyDown=function(i){var s=this.gridOptionsWrapper.getDocument();if(this.expandable&&s.activeElement===this.eGui&&i.key===le.ENTER){var h=this.columnGroup,g=!h.isExpanded();this.columnModel.setColumnGroupOpened(h.getProvidedColumnGroup(),g,"uiColumnExpanded")}},r.prototype.setDragSource=function(i){var s=this;if(!this.isSuppressMoving()){var l=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),u={type:x.rvo.HeaderCell,eElement:i,defaultIconName:Ki.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return l.forEach(function(h){return h.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return l.forEach(function(h){return h.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(u,!0),this.addDestroyFunc(function(){return s.dragAndDropService.removeDragSource(u)})}},r.prototype.getDragItemForGroup=function(){var i=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),s={};i.forEach(function(u){return s[u.getId()]=u.isVisible()});var l=[];return this.columnModel.getAllDisplayedColumns().forEach(function(u){i.indexOf(u)>=0&&(l.push(u),Jn(i,u))}),i.forEach(function(u){return l.push(u)}),{columns:l,visibleState:s}},r.prototype.isSuppressMoving=function(){var i=!1;return this.columnGroup.getLeafColumns().forEach(function(l){(l.getColDef().suppressMovable||l.getColDef().lockPosition)&&(i=!0)}),i||this.gridOptionsWrapper.isSuppressMovableColumns()},Il([N("beans")],r.prototype,"beans",void 0),Il([N("columnModel")],r.prototype,"columnModel",void 0),Il([N("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Il([N("userComponentFactory")],r.prototype,"userComponentFactory",void 0),Il([N("gridApi")],r.prototype,"gridApi",void 0),Il([N("columnApi")],r.prototype,"columnApi",void 0),r}(Nl),rD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),mg=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},oD=0,Tp=function(c){function r(i,s,l){var u=c.call(this)||this;return u.instanceId=oD++,u.headerCellCtrls={},u.rowIndex=i,u.pinned=s,u.type=l,u}return rD(r,c),r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setComp=function(i){this.comp=i,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Or()&&this.comp.setTransform("translateZ(0)"),i.setAriaRowIndex(this.rowIndex+1)},r.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,L.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},r.prototype.getHeaderCellCtrl=function(i){return bs(this.headerCellCtrls).find(function(s){return s.getColumnGroupChild()===i})},r.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},r.prototype.getType=function(){return this.type},r.prototype.onColumnResized=function(){this.setWidth()},r.prototype.setWidth=function(){var i=this.getWidthForRow();this.comp.setWidth(i+"px")},r.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===j.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(j.PINNED_RIGHT)+this.columnModel.getContainerWidth(j.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},r.prototype.onRowHeightChanged=function(){var u,h,i=this.columnModel.getHeaderRowCount(),s=[],l=0;this.columnModel.hasFloatingFilters()&&(i++,l=1),this.columnModel.isPivotMode()?(u=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),h=this.gridOptionsWrapper.getPivotHeaderHeight()):(u=this.gridOptionsWrapper.getGroupHeaderHeight(),h=this.gridOptionsWrapper.getHeaderHeight());for(var _=i-(1+l),w=0;w<_;w++)s.push(u);for(s.push(h),w=0;w<l;w++)s.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var E=0;for(w=0;w<this.rowIndex;w++)E+=s[w];this.comp.setTop(E+"px"),this.comp.setHeight(s[this.rowIndex]+"px")},r.prototype.getPinned=function(){return this.pinned},r.prototype.getRowIndex=function(){return this.rowIndex},r.prototype.onVirtualColumnsChanged=function(){var i=this,s=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(g){if(!g.isEmptyGroup()){var _=g.getUniqueId(),w=s[_];if(delete s[_],w&&w.getColumnGroupChild()!=g&&(i.destroyBean(w),w=void 0),null==w)switch(i.type){case x.A6C.FLOATING_FILTER:w=i.createBean(new dg(g,i));break;case x.A6C.COLUMN_GROUP:w=i.createBean(new gg(g,i));break;default:w=i.createBean(new fg(g,i))}i.headerCellCtrls[_]=w}}),Tt(s,function(g,_){var w=function(g){return!!i.focusService.isHeaderWrapperFocused(g)&&i.columnModel.isDisplayed(g.getColumnGroupChild())}(_);w?i.headerCellCtrls[g]=_:i.destroyBean(_)});var h=Kr(this.headerCellCtrls);this.comp.setHeaderCtrls(h)},r.prototype.destroyCtrls=function(){var i=this;Tt(this.headerCellCtrls,function(s,l){i.destroyBean(l)}),this.headerCellCtrls={}},r.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===j.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},r.prototype.getColumnsInViewportPrintLayout=function(){var i=this;if(null!=this.pinned)return[];var s=[],l=this.getActualDepth();return[j.PINNED_LEFT,null,j.PINNED_RIGHT].forEach(function(u){var h=i.columnModel.getVirtualHeaderGroupRow(u,l);s=s.concat(h)}),s},r.prototype.getActualDepth=function(){return this.type==x.A6C.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},r.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},r.prototype.focusHeader=function(i,s){var u=Kr(this.headerCellCtrls).find(function(h){return h.getColumnGroupChild()==i});return!!u&&(u.focus(s),!0)},mg([N("columnModel")],r.prototype,"columnModel",void 0),mg([N("focusService")],r.prototype,"focusService",void 0),mg([Zn],r.prototype,"destroyCtrls",null),r}(pe),q_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),yc=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},sD=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},$e=function(c){function r(i){var s=c.call(this)||this;return s.groupsRowCtrls=[],s.pinned=i,s}return q_(r,c),r.prototype.setComp=function(i,s){this.comp=i,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(s),this.addManagedListener(this.eventService,L.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},r.prototype.setupDragAndDrop=function(i){var s=new bp(this.pinned,i);this.createManagedBean(s)},r.prototype.refresh=function(i){var s=this;void 0===i&&(i=!1);var E,l=new Be,u=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var E=s.columnModel.getHeaderRowCount()-1;s.groupsRowCtrls=s.destroyBeans(s.groupsRowCtrls);for(var D=0;D<E;D++){var M=s.createBean(new Tp(l.next(),s.pinned,x.A6C.COLUMN_GROUP));s.groupsRowCtrls.push(M)}})(),E=l.next(),(null==s.columnsRowCtrl||!i||s.columnsRowCtrl.getRowIndex()!==E)&&(s.destroyBean(s.columnsRowCtrl),s.columnsRowCtrl=s.createBean(new Tp(E,s.pinned,x.A6C.COLUMN))),function(){var D=function(){s.filtersRowCtrl=s.destroyBean(s.filtersRowCtrl)};if(s.columnModel.hasFloatingFilters()){var M=l.next();if(s.filtersRowCtrl){var G=s.filtersRowCtrl.getRowIndex()!==M;(!i||G)&&D()}s.filtersRowCtrl||(s.filtersRowCtrl=s.createBean(new Tp(M,s.pinned,x.A6C.FLOATING_FILTER)))}else D()}();var w=this.getAllCtrls();this.comp.setCtrls(w),this.restoreFocusOnHeader(u)},r.prototype.restoreFocusOnHeader=function(i){null==i||i.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:i})},r.prototype.getAllCtrls=function(){var i=function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(sD(arguments[r]));return c}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&i.push(this.filtersRowCtrl),i},r.prototype.onGridColumnsChanged=function(){this.refresh(!0)},r.prototype.setupCenterWidth=function(){var i=this;null==this.pinned&&this.createManagedBean(new rg(function(s){return i.comp.setCenterWidth(s+"px")}))},r.prototype.setHorizontalScroll=function(i){this.comp.setContainerTransform("translateX("+i+"px)")},r.prototype.setupPinnedWidth=function(){var i=this;if(null!=this.pinned){var s=this.pinned===j.PINNED_LEFT,l=this.pinned===j.PINNED_RIGHT,u=function(){var h=s?i.pinnedWidthService.getPinnedLeftWidth():i.pinnedWidthService.getPinnedRightWidth();if(null!=h){var g=0==h,_=i.gridOptionsWrapper.isEnableRtl(),w=i.gridOptionsWrapper.getScrollbarWidth(),E=i.scrollVisibleService.isVerticalScrollShowing()&&(_&&s||!_&&l);i.comp.setPinnedContainerWidth((E?h+w:h)+"px"),i.comp.addOrRemoveCssClass("ag-hidden",g)}};this.addManagedListener(this.eventService,L.EVENT_LEFT_PINNED_WIDTH_CHANGED,u),this.addManagedListener(this.eventService,L.EVENT_RIGHT_PINNED_WIDTH_CHANGED,u),this.addManagedListener(this.eventService,L.EVENT_SCROLL_VISIBILITY_CHANGED,u),this.addManagedListener(this.eventService,L.EVENT_SCROLLBAR_WIDTH_CHANGED,u)}},r.prototype.getHeaderCtrlForColumn=function(i){if(i instanceof gt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(i):void 0;if(0!==this.groupsRowCtrls.length)for(var s=0;s<this.groupsRowCtrls.length;s++){var l=this.groupsRowCtrls[s].getHeaderCellCtrl(i);if(l)return l}},r.prototype.getHtmlElementForColumnHeader=function(i){var s=this.getHeaderCtrlForColumn(i);return s?s.getGui():null},r.prototype.getRowType=function(i){var l=this.getAllCtrls()[i];return l?l.getType():void 0},r.prototype.focusHeader=function(i,s,l){var h=this.getAllCtrls()[i];return!!h&&h.focusHeader(s,l)},r.prototype.getRowCount=function(){return this.getAllCtrls().length},yc([N("ctrlsService")],r.prototype,"ctrlsService",void 0),yc([N("scrollVisibleService")],r.prototype,"scrollVisibleService",void 0),yc([N("pinnedWidthService")],r.prototype,"pinnedWidthService",void 0),yc([N("columnModel")],r.prototype,"columnModel",void 0),yc([N("focusService")],r.prototype,"focusService",void 0),r}(pe),Y=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ap=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},_c=function(c){function r(i){var s=c.call(this)||this;return s.headerRowComps={},s.rowCompsList=[],s.pinned=i,s}return Y(r,c),r.prototype.init=function(){var i=this;this.selectAndSetTemplate();var s={addOrRemoveCssClass:function(u,h){return i.addOrRemoveCssClass(u,h)},setCtrls:function(u){return i.setCtrls(u)},setCenterWidth:function(u){return i.eCenterContainer.style.width=u},setContainerTransform:function(u){return i.eCenterContainer.style.transform=u},setPinnedContainerWidth:function(u){var h=i.getGui();h.style.width=u,h.style.maxWidth=u,h.style.minWidth=u}};this.createManagedBean(new $e(this.pinned)).setComp(s,this.getGui())},r.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==j.PINNED_LEFT?r.PINNED_LEFT_TEMPLATE:this.pinned==j.PINNED_RIGHT?r.PINNED_RIGHT_TEMPLATE:r.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},r.prototype.destroyRowComps=function(){this.setCtrls([])},r.prototype.destroyRowComp=function(i){this.destroyBean(i),this.eRowContainer.removeChild(i.getGui())},r.prototype.setCtrls=function(i){var u,s=this,l=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],i.forEach(function(g){var _=g.getInstanceId(),w=l[_];delete l[_];var E=w||s.createBean(new H_(g));s.headerRowComps[_]=E,s.rowCompsList.push(E),function(g){var _=g.getGui();_.parentElement!=s.eRowContainer&&s.eRowContainer.appendChild(_),u&&ca(s.eRowContainer,_,u),u=_}(E)}),Kr(l).forEach(function(g){return s.destroyRowComp(g)})},r.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',r.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',r.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Ap([ae("eCenterContainer")],r.prototype,"eCenterContainer",void 0),Ap([ge],r.prototype,"init",null),Ap([Zn],r.prototype,"destroyRowComps",null),r}(Me),Pp=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ci=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u};!function(c){c[c.UP=0]="UP",c[c.DOWN=1]="DOWN",c[c.LEFT=2]="LEFT",c[c.RIGHT=3]="RIGHT"}(x.Y8R||(x.Y8R={}));var vg=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return Pp(r,c),r.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.gridBodyCon=s.gridBodyCtrl})},r.prototype.getHeaderRowCount=function(){var i=this.ctrlsService.getHeaderRowContainerCtrl();return i?i.getRowCount():0},r.prototype.getHeaderRowType=function(i){var s=this.ctrlsService.getHeaderRowContainerCtrl();if(s)return s.getRowType(i)},r.prototype.navigateVertically=function(i,s,l){if(s||(s=this.focusService.getFocusedHeader()),!s)return!1;var u=s.headerRowIndex,h=s.column,g=this.getHeaderRowCount(),_=i===x.Y8R.UP,w=_?u-1:u+1,E=null,D=!1;w<0&&(w=0,E=h,D=!0),w>=g&&(w=-1);var M=this.getHeaderRowType(u);if(!D){if(M===x.A6C.COLUMN_GROUP){var G=h;E=_?h.getParent():G.getDisplayedChildren()[0]}else M===x.A6C.FLOATING_FILTER?E=h:(G=h,E=_?G.getParent():G);if(!E)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:w,column:E},allowUserOverride:!0,event:l})},r.prototype.navigateHorizontally=function(i,s,l){void 0===s&&(s=!1);var _,w,u=this.focusService.getFocusedHeader();return(_=i===x.Y8R.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(u,w="Before"):this.headerPositionUtils.findHeader(u,w="After"))?this.focusService.focusHeaderPosition({headerPosition:_,direction:w,fromTab:s,allowUserOverride:!0,event:l}):!s||this.focusNextHeaderRow(u,w,l)},r.prototype.focusNextHeaderRow=function(i,s,l){var u=i.headerRowIndex,h=null;return"Before"===s?u>0&&(h=this.headerPositionUtils.findColAtEdgeForHeaderRow(u-1,"end")):h=this.headerPositionUtils.findColAtEdgeForHeaderRow(u+1,"start"),this.focusService.focusHeaderPosition({headerPosition:h,direction:s,fromTab:!0,allowUserOverride:!0,event:l})},r.prototype.scrollToColumn=function(i,s){if(void 0===s&&(s="After"),!i.getPinned()){var l;if(i instanceof Xt){var u=i.getDisplayedLeafColumns();l="Before"===s?Pt(u):u[0]}else l=i;this.gridBodyCon.getScrollFeature().ensureColumnVisible(l),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},Ci([N("focusService")],r.prototype,"focusService",void 0),Ci([N("headerPositionUtils")],r.prototype,"headerPositionUtils",void 0),Ci([N("animationFrameService")],r.prototype,"animationFrameService",void 0),Ci([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Ci([ge],r.prototype,"postConstruct",null),Ci([we("headerNavigationService")],r)}(pe),lD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),xl=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Io=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return lD(r,c),r.prototype.setComp=function(i,s,l){this.comp=i,this.eGui=s,this.createManagedBean(new Xo(l,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},r.prototype.setupHeaderHeight=function(){var i=this.setHeaderHeight.bind(this);i(),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_HEADER_HEIGHT,i),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_PIVOT_HEADER_HEIGHT,i),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_GROUP_HEADER_HEIGHT,i),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_PIVOT_GROUP_HEADER_HEIGHT,i),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_FLOATING_FILTERS_HEIGHT,i),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,i)},r.prototype.setHeaderHeight=function(){var g,_,w,s=this.columnModel,l=this.gridOptionsWrapper,u=0,h=s.getHeaderRowCount();s.hasFloatingFilters()&&(h++,u=1),s.isPivotMode()?(_=l.getPivotGroupHeaderHeight(),w=l.getPivotHeaderHeight()):(_=l.getGroupHeaderHeight(),w=l.getHeaderHeight());var M=h-(1+u);g=u*l.getFloatingFiltersHeight(),g+=M*_,this.comp.setHeightAndMinHeight((g+=w)+1+"px")},r.prototype.onPivotModeChanged=function(){var i=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",i),this.comp.addOrRemoveCssClass("ag-pivot-off",!i)},r.prototype.onTabKeyDown=function(i){var s=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(i.shiftKey!==s?x.Y8R.LEFT:x.Y8R.RIGHT,!0,i)||this.focusService.focusNextGridCoreContainer(i.shiftKey))&&i.preventDefault()},r.prototype.handleKeyDown=function(i){var s=null;switch(i.key){case le.LEFT:s=x.Y8R.LEFT;case le.RIGHT:ee(s)||(s=x.Y8R.RIGHT),this.headerNavigationService.navigateHorizontally(s,!1,i);break;case le.UP:s=x.Y8R.UP;case le.DOWN:ee(s)||(s=x.Y8R.DOWN),this.headerNavigationService.navigateVertically(s,null,i)&&i.preventDefault();break;default:return}},r.prototype.onFocusOut=function(i){var s=this.gridOptionsWrapper.getDocument(),l=i.relatedTarget;!l&&this.eGui.contains(s.activeElement)||this.eGui.contains(l)||this.focusService.clearFocusedHeader()},xl([N("headerNavigationService")],r.prototype,"headerNavigationService",void 0),xl([N("focusService")],r.prototype,"focusService",void 0),xl([N("columnModel")],r.prototype,"columnModel",void 0),xl([N("ctrlsService")],r.prototype,"ctrlsService",void 0),r}(pe),yg=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Np=function(c){function r(){return c.call(this,r.TEMPLATE)||this}return yg(r,c),r.prototype.postConstruct=function(){var i=this,s={addOrRemoveCssClass:function(h,g){return i.addOrRemoveCssClass(h,g)},setHeightAndMinHeight:function(h){i.getGui().style.height=h,i.getGui().style.minHeight=h}};this.createManagedBean(new Io).setComp(s,this.getGui(),this.getFocusableElement());var u=function(h){i.createManagedBean(h),i.appendChild(h)};u(new _c(j.PINNED_LEFT)),u(new _c(null)),u(new _c(j.PINNED_RIGHT))},r.TEMPLATE='<div class="ag-header" role="presentation"/>',function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([ge],r.prototype,"postConstruct",null),r}(Me),MN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Mp=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},uD=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return MN(r,c),r.prototype.addResizeBar=function(i){var s=this,l={dragStartPixels:i.dragStartPixels||0,eElement:i.eResizeBar,onDragStart:this.onDragStart.bind(this,i),onDragStop:this.onDragStop.bind(this,i),onDragging:this.onDragging.bind(this,i)};return this.dragService.addDragSource(l,!0),function(){return s.dragService.removeDragSource(l)}},r.prototype.onDragStart=function(i,s){this.dragStartX=s.clientX,this.setResizeIcons();var l=s instanceof MouseEvent&&!0===s.shiftKey;i.onResizeStart(l)},r.prototype.setResizeIcons=function(){var i=this.ctrlsService.getGridCtrl();i.setResizeCursor(!0),i.disableUserSelect(!0)},r.prototype.onDragStop=function(i,s){i.onResizeEnd(this.resizeAmount),this.resetIcons()},r.prototype.resetIcons=function(){var i=this.ctrlsService.getGridCtrl();i.setResizeCursor(!1),i.disableUserSelect(!1)},r.prototype.onDragging=function(i,s){this.resizeAmount=s.clientX-this.dragStartX,i.onResizing(this.resizeAmount)},Mp([N("dragService")],r.prototype,"dragService",void 0),Mp([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Mp([we("horizontalResizeService")],r)}(pe),Ip=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Vs=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},xp=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return Ip(r,c),r.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},r.prototype.showMenuAfterMouseEvent=function(i,s){var l=this;this.showPopup(i,function(u){l.popupService.positionPopupUnderMouseEvent({column:i,type:"columnMenu",mouseEvent:s,ePopup:u})},s.target)},r.prototype.showMenuAfterButtonClick=function(i,s,l){var u=this;this.showPopup(i,function(h){u.popupService.positionPopupUnderComponent({type:l,eventSource:s,ePopup:h,keepWithinBounds:!0,column:i})},s)},r.prototype.showPopup=function(i,s,l){var u=this,h=this.filterManager.getOrCreateFilterWrapper(i,"COLUMN_MENU");if(!h)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var g=document.createElement("div");Un(g,"presentation"),g.classList.add("ag-menu"),this.tabListener=this.addManagedListener(g,"keydown",function(G){return u.trapFocusWithin(G,g)}),h.guiPromise.then(function(G){return g.appendChild(G)});var _,w=l||this.ctrlsService.getGridBodyCtrl().getGui(),D=this.gridOptionsWrapper.getLocaleTextFunc(),M=this.popupService.addPopup({modal:!0,eChild:g,closeOnEsc:!0,closedCallback:function(G){i.setMenuVisible(!1,"contextMenu");var V=G instanceof KeyboardEvent;if(u.tabListener&&(u.tabListener=u.tabListener()),V&&l&&Sn(l)){var B=u.focusService.findTabbableParent(l);B&&B.focus()}},positionCallback:function(){return s(g)},anchorToElement:w,ariaLabel:D("ariaLabelColumnMenu","Column Menu")});M&&(this.hidePopup=_=M.hideFunc),h.filterPromise.then(function(G){s(g),G.afterGuiAttached&&G.afterGuiAttached({container:"columnMenu",hidePopup:_})}),i.setMenuVisible(!0,"contextMenu")},r.prototype.trapFocusWithin=function(i,s){i.key!==le.TAB||i.defaultPrevented||this.focusService.findNextFocusableElement(s,!1,i.shiftKey)||(i.preventDefault(),this.focusService.focusInto(s,i.shiftKey))},r.prototype.isMenuEnabled=function(i){return i.isFilterAllowed()},Vs([N("filterManager")],r.prototype,"filterManager",void 0),Vs([N("popupService")],r.prototype,"popupService",void 0),Vs([N("focusService")],r.prototype,"focusService",void 0),Vs([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Vs([we("menuFactory")],r)}(pe),_g=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Fl=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},dD=(function(c){function r(i){var s=c.call(this,r.getTemplate(i.cssClass))||this;return s.items=[],s.tabbedItemScrollMap=new Map,s.params=i,i.items&&i.items.forEach(function(l){return s.addItem(l)}),s}_g(r,c),r.prototype.postConstruct=function(){this.createManagedBean(new Xo(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},r.getTemplate=function(i){return'<div class="ag-tabs '+i+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(i?i+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(i?i+"-body":"")+'"></div>\n        </div>'},r.prototype.handleKeyDown=function(i){var s=this.gridOptionsWrapper.getDocument();switch(i.key){case le.RIGHT:case le.LEFT:if(!this.eHeader.contains(s.activeElement))return;var l=this.items.indexOf(this.activeItem),u=i.key===le.RIGHT?Math.min(l+1,this.items.length-1):Math.max(l-1,0);if(l===u)return;i.preventDefault();var h=this.items[u];this.showItemWrapper(h),h.eHeaderButton.focus();break;case le.UP:case le.DOWN:i.stopPropagation()}},r.prototype.onTabKeyDown=function(i){if(!i.defaultPrevented){var s=this,l=s.focusService,u=s.eHeader,h=s.eBody,g=s.activeItem,w=this.gridOptionsWrapper.getDocument().activeElement;if(i.preventDefault(),u.contains(w))l.focusInto(h,i.shiftKey);else if(l.isFocusUnderManagedComponent(h))g.eHeaderButton.focus();else{var E=l.findNextFocusableElement(h,!1,i.shiftKey);E?E.focus():g.eHeaderButton.focus()}}},r.prototype.setAfterAttachedParams=function(i){this.afterAttachedParams=i},r.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},r.prototype.addItem=function(i){var s=document.createElement("span");Un(s,"tab"),s.setAttribute("tabIndex","-1"),s.appendChild(i.title),s.classList.add("ag-tab"),this.eHeader.appendChild(s),vl(s,i.titleLabel);var l={tabbedItem:i,eHeaderButton:s};this.items.push(l),s.addEventListener("click",this.showItemWrapper.bind(this,l))},r.prototype.showItem=function(i){var s=this.items.find(function(l){return l.tabbedItem===i});s&&this.showItemWrapper(s)},r.prototype.showItemWrapper=function(i){var s=this,l=i.tabbedItem,u=i.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:l}),this.activeItem!==i?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Wi(this.eBody),l.bodyPromise.then(function(h){s.eBody.appendChild(h);var g=!s.focusService.isKeyboardMode();if(s.focusService.focusInto(s.eBody,!1,g),l.afterAttachedCallback&&l.afterAttachedCallback(s.afterAttachedParams),s.params.keepScrollPosition){var _=l.getScrollableContainer&&l.getScrollableContainer()||h;s.lastScrollListener=s.addManagedListener(_,"scroll",function(){s.tabbedItemScrollMap.set(l.name,_.scrollTop)});var w=s.tabbedItemScrollMap.get(l.name);void 0!==w&&setTimeout(function(){_.scrollTop=w},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),u.classList.add("ag-tab-selected"),this.activeItem=i):t0(this.params.onActiveItemClicked)},Fl([N("focusService")],r.prototype,"focusService",void 0),Fl([ae("eHeader")],r.prototype,"eHeader",void 0),Fl([ae("eBody")],r.prototype,"eBody",void 0),Fl([ge],r.prototype,"postConstruct",null)}(Me),function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),Cg=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.polyfillFunctions=[],i}return dD(r,c),r.prototype.observeResize=function(i,s){var M,l=this,h=this.gridOptionsWrapper.getDocument().defaultView||window,g=qr(s,50),E=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return h.ResizeObserver&&!E?((M=new h.ResizeObserver(g)).observe(i),function(){return M.disconnect()}):function(){var M=xu(i),G=hl(i),V=!0,B=function(){if(V){var q=xu(i),Z=hl(i);(q!==M||Z!==G)&&(M=q,G=Z,s()),l.doNextPolyfillTurn(B)}};return B(),function(){return V=!1}}()},r.prototype.doNextPolyfillTurn=function(i){this.polyfillFunctions.push(i),this.schedulePolyfill()},r.prototype.schedulePolyfill=function(){var i=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var l=i.polyfillFunctions;i.polyfillScheduled=!1,i.polyfillFunctions=[],l.forEach(function(u){return u()})},50))},r=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u}([we("resizeObserverService")],r),r}(pe),xN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),wg=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},hD=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.createTasksP1={list:[],sorted:!1},i.createTasksP2={list:[],sorted:!1},i.destroyTasks=[],i.ticking=!1,i.scrollGoingDown=!0,i.lastScrollTop=0,i.taskCount=0,i.cancelledTasks=new Set,i}return xN(r,c),r.prototype.setScrollTop=function(i){this.scrollGoingDown=i>this.lastScrollTop,this.lastScrollTop=i},r.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},r.prototype.isOn=function(){return this.useAnimationFrame},r.prototype.verifyAnimationFrameOn=function(i){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+i+" called but animation frames are off")},r.prototype.createTask=function(i,s,l){this.verifyAnimationFrameOn(l);var u={task:i,index:s,createOrder:++this.taskCount};this.addTaskToList(this[l],u),this.schedule()},r.prototype.cancelTask=function(i){this.cancelledTasks.add(i)},r.prototype.addTaskToList=function(i,s){i.list.push(s),i.sorted=!1},r.prototype.sortTaskList=function(i){if(!i.sorted){var s=this.scrollGoingDown?1:-1;i.list.sort(function(l,u){return l.index!==u.index?s*(u.index-l.index):u.createOrder-l.createOrder}),i.sorted=!0}},r.prototype.addDestroyTask=function(i){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(i),this.schedule()},r.prototype.executeFrame=function(i){this.verifyAnimationFrameOn("executeFrame");for(var s=this.createTasksP1,l=s.list,u=this.createTasksP2,h=u.list,g=this.destroyTasks,_=(new Date).getTime(),w=(new Date).getTime()-_,E=i<=0,D=this.ctrlsService.getGridBodyCtrl();E||w<i;){if(!D.getScrollFeature().executeAnimationFrameScroll()){var G=void 0;if(l.length)this.sortTaskList(s),G=l.pop().task;else if(h.length)this.sortTaskList(u),G=h.pop().task;else{if(!g.length){this.cancelledTasks.clear();break}G=g.pop()}this.cancelledTasks.has(G)||G()}w=(new Date).getTime()-_}l.length||h.length||g.length?this.requestFrame():this.stopTicking()},r.prototype.stopTicking=function(){this.ticking=!1},r.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},r.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},r.prototype.requestFrame=function(){var i=this.executeFrame.bind(this,60),l=this.gridOptionsWrapper.getDocument().defaultView||window;l.requestAnimationFrame?l.requestAnimationFrame(i):l.webkitRequestAnimationFrame?l.webkitRequestAnimationFrame(i):l.setTimeout(i,0)},r.prototype.isQueueEmpty=function(){return!this.ticking},r.prototype.debounce=function(i){var s=this,l=!1;return function(){s.isOn()?l||(l=!0,s.addDestroyTask(function(){l=!1,i()})):s.getFrameworkOverrides().setTimeout(i,0)}},wg([N("ctrlsService")],r.prototype,"ctrlsService",void 0),wg([ge],r.prototype,"init",null),wg([we("animationFrameService")],r)}(pe),X_=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),bg=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},fD=function(c){function r(i,s){var l=c.call(this)||this;return l.element=i,l.dragStartPosition={x:0,y:0},l.position={x:0,y:0},l.lastSize={width:-1,height:-1},l.positioned=!1,l.resizersAdded=!1,l.resizeListeners=[],l.boundaryEl=null,l.isResizing=!1,l.isMoving=!1,l.resizable={},l.movable=!1,l.currentResizer=null,l.config=Object.assign({},{popup:!1},s),l}return X_(r,c),r.prototype.center=function(){var i=this.offsetParent,s=i.clientHeight,u=i.clientWidth/2-this.getWidth()/2,h=s/2-this.getHeight()/2;this.offsetElement(u,h)},r.prototype.initialisePosition=function(){var i=this.config,s=i.centered,l=i.forcePopupParentAsOffsetParent,u=i.minWidth,h=i.width,g=i.minHeight,_=i.height,w=i.x,E=i.y;this.offsetParent||this.setOffsetParent();var D=0,M=0,G=!!this.element.offsetParent;if(G){var V=this.findBoundaryElement(),B=window.getComputedStyle(V);if(null!=B.minWidth){var q=V.offsetWidth-this.element.offsetWidth;M=parseInt(B.minWidth,10)-q}if(null!=B.minHeight){var Z=V.offsetHeight-this.element.offsetHeight;D=parseInt(B.minHeight,10)-Z}}if(this.minHeight=g||D,this.minWidth=u||M,h&&this.setWidth(h),_&&this.setHeight(_),(!h||!_)&&this.refreshSize(),s)this.center();else if(w||E)this.offsetElement(w,E);else if(G&&l&&this.boundaryEl){var J=parseFloat(this.boundaryEl.style.top),oe=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(oe)?0:oe,isNaN(J)?0:J)}this.positioned=!!this.offsetParent},r.prototype.isPositioned=function(){return this.positioned},r.prototype.getPosition=function(){return this.position},r.prototype.setMovable=function(i,s){if(this.config.popup&&i!==this.movable){this.movable=i;var l=this.moveElementDragListener||{eElement:s,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};i?(this.dragService.addDragSource(l),this.moveElementDragListener=l):(this.dragService.removeDragSource(l),this.moveElementDragListener=void 0)}},r.prototype.setResizable=function(i){var s=this;if(this.clearResizeListeners(),i?this.addResizers():this.removeResizers(),"boolean"==typeof i){if(!1===i)return;i={topLeft:i,top:i,topRight:i,right:i,bottomRight:i,bottom:i,bottomLeft:i,left:i}}Object.keys(i).forEach(function(l){var h=!!i[l],g=s.getResizerElement(l),_={dragStartPixels:0,eElement:g,onDragStart:function(w){return s.onResizeStart(w,l)},onDragging:s.onResize.bind(s),onDragStop:function(w){return s.onResizeEnd(w,l)}};(!!s.resizable[l]!==h||!s.isAlive()&&!h)&&(h?(s.dragService.addDragSource(_),s.resizeListeners.push(_),g.style.pointerEvents="all"):g.style.pointerEvents="none")})},r.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},r.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var i=this.lastSize,s=i.height,l=i.width;-1!==l&&(this.element.style.width=l+"px"),-1!==s&&(this.element.style.height=s+"px")},r.prototype.getHeight=function(){return this.element.offsetHeight},r.prototype.setHeight=function(i){var s=this.config.popup,l=this.element,u=!1;if("string"==typeof i&&-1!==i.indexOf("%"))sr(l,i),i=Ld(l),u=!0;else if(this.positioned){var h=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect();i=Math.max(this.minHeight,i);var _=this.offsetParent.clientHeight,w=s?this.position.y:h.top;_&&i+w>_+(s?0:g.top)&&(i=_-w)}this.getHeight()!==i&&(u?(l.style.maxHeight="unset",l.style.minHeight="unset"):s?sr(l,i):(l.style.height=i+"px",l.style.flex="0 0 auto",this.lastSize.height="number"==typeof i?i:parseFloat(i)))},r.prototype.getWidth=function(){return this.element.offsetWidth},r.prototype.setWidth=function(i){var s=this.element,l=this.config.popup,u=!1;if("string"==typeof i&&-1!==i.indexOf("%"))St(s,i),i=Iu(s),u=!0;else if(this.positioned){i=Math.max(this.minWidth,i);var h=this.offsetParent.clientWidth,g=l?this.position.x:this.element.getBoundingClientRect().left;h&&i+g>h&&(i=h-g)}this.getWidth()!==i&&(u?(s.style.maxWidth="unset",s.style.minWidth="unset"):this.config.popup?St(s,i):(s.style.width=i+"px",s.style.flex=" unset",this.lastSize.width="number"==typeof i?i:parseFloat(i)))},r.prototype.offsetElement=function(i,s){void 0===i&&(i=0),void 0===s&&(s=0);var l=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:l,x:i,y:s,keepWithinBounds:!0}),this.setPosition(parseFloat(l.style.left),parseFloat(l.style.top))},r.prototype.setPosition=function(i,s){this.position.x=i,this.position.y=s},r.prototype.updateDragStartPosition=function(i,s){this.dragStartPosition={x:i,y:s}},r.prototype.calculateMouseMovement=function(i){var s=i.e,u=i.isTop,g=i.topBuffer,_=s.clientX-this.dragStartPosition.x,w=s.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(s,!!i.isLeft,!!i.anywhereWithin,_)?0:_,movementY:this.shouldSkipY(s,!!u,g,w)?0:w}},r.prototype.shouldSkipX=function(i,s,l,u){var h=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect(),_=this.boundaryEl.getBoundingClientRect(),w=this.config.popup?this.position.x:h.left,E=w<=0&&g.left>=i.clientX||g.right<=i.clientX&&g.right<=_.right;return!!E||(s?u<0&&i.clientX>w+g.left||u>0&&i.clientX<w+g.left:l?u<0&&i.clientX>_.right||u>0&&i.clientX<w+g.left:u<0&&i.clientX>_.right||u>0&&i.clientX<_.right)},r.prototype.shouldSkipY=function(i,s,l,u){void 0===l&&(l=0);var h=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect(),_=this.boundaryEl.getBoundingClientRect(),w=this.config.popup?this.position.y:h.top,E=w<=0&&g.top>=i.clientY||g.bottom<=i.clientY&&g.bottom<=_.bottom;return!!E||(s?u<0&&i.clientY>w+g.top+l||u>0&&i.clientY<w+g.top:u<0&&i.clientY>_.bottom||u>0&&i.clientY<_.bottom)},r.prototype.createResizeMap=function(){var i=this.element;this.resizerMap={topLeft:{element:i.querySelector("[ref=eTopLeftResizer]")},top:{element:i.querySelector("[ref=eTopResizer]")},topRight:{element:i.querySelector("[ref=eTopRightResizer]")},right:{element:i.querySelector("[ref=eRightResizer]")},bottomRight:{element:i.querySelector("[ref=eBottomRightResizer]")},bottom:{element:i.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:i.querySelector("[ref=eBottomLeftResizer]")},left:{element:i.querySelector("[ref=eLeftResizer]")}}},r.prototype.addResizers=function(){if(!this.resizersAdded){var i=this.element;if(i){var l=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;i.appendChild(l.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},r.prototype.removeResizers=function(){this.resizerMap=void 0;var i=this.element.querySelector(".ag-resizer-wrapper");i&&this.element.removeChild(i),this.resizersAdded=!1},r.prototype.getResizerElement=function(i){return this.resizerMap[i].element},r.prototype.onResizeStart=function(i,s){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!s.match(/top/i),isRight:!!s.match(/right/i),isBottom:!!s.match(/bottom/i),isLeft:!!s.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[s].element.classList.add("ag-active");var l=this.config;!l.popup&&!l.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(i.clientX,i.clientY)},r.prototype.getSiblings=function(){var s=this.element.parentElement;return s?Array.prototype.slice.call(s.children).filter(function(l){return!l.classList.contains("ag-hidden")}):null},r.prototype.getMinSizeOfSiblings=function(){for(var i=this.getSiblings()||[],s=0,l=0,u=0;u<i.length;u++){var h=i[u];if(h!==this.element){var _=this.minHeight||0,w=this.minWidth||0;if(h.style.flex&&"0 0 auto"!==h.style.flex){var E=window.getComputedStyle(h);E.minHeight&&(_=parseInt(E.minHeight,10)),E.minWidth&&(w=parseInt(E.minWidth,10))}else _=h.offsetHeight,w=h.offsetWidth;s+=_,l+=w}}return{height:s,width:l}},r.prototype.applySizeToSiblings=function(i){var s=null,l=this.getSiblings();if(l){for(var u=0;u<l.length;u++){var h=l[u];h!==s&&(i?h.style.height=h.offsetHeight+"px":h.style.width=h.offsetWidth+"px",h.style.flex="0 0 auto",h===this.element&&(s=l[u+1]))}s&&(s.style.removeProperty("height"),s.style.removeProperty("min-height"),s.style.removeProperty("max-height"),s.style.flex="1 1 auto")}},r.prototype.onResize=function(i){if(this.isResizing&&this.currentResizer){var s=this.config,l=s.popup,u=s.forcePopupParentAsOffsetParent,h=this.currentResizer,g=h.isTop,E=h.isLeft,D=h.isRight||E,M=h.isBottom||g,G=this.calculateMouseMovement({e:i,isLeft:E,isTop:g}),V=G.movementX,B=G.movementY,q=this.position.x,Z=this.position.y,J=0,oe=0;if(D&&V){var fe=E?-1:1,Se=this.getWidth(),ke=Se+V*fe,Ve=!1;E&&(q+(J=Se-ke)<=0||ke<=this.minWidth)&&(Ve=!0,J=0),Ve||this.setWidth(ke)}if(M&&B){fe=g?-1:1;var Ie=this.getHeight(),lt=Ie+B*fe,ut=!1;g?(Z+(oe=Ie-lt)<=0||lt<=this.minHeight)&&(ut=!0,oe=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&Ie<lt&&this.getMinSizeOfSiblings().height+lt>this.element.parentElement.offsetHeight&&(ut=!0),ut||this.setHeight(lt)}this.updateDragStartPosition(i.clientX,i.clientY),((l||u)&&J||oe)&&this.offsetElement(q+J,Z+oe)}},r.prototype.onResizeEnd=function(i,s){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var l={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[s].element.classList.remove("ag-active"),this.dispatchEvent(l)},r.prototype.refreshSize=function(){var i=this.element;this.config.popup&&(this.config.width||this.setWidth(i.offsetWidth),this.config.height||this.setHeight(i.offsetHeight))},r.prototype.onMoveStart=function(i){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(i.clientX,i.clientY)},r.prototype.onMove=function(i){if(this.isMoving){var h,s=this.position,l=s.x,u=s.y;this.config.calculateTopBuffer&&(h=this.config.calculateTopBuffer());var g=this.calculateMouseMovement({e:i,isTop:!0,anywhereWithin:!0,topBuffer:h});this.offsetElement(l+g.movementX,u+g.movementY),this.updateDragStartPosition(i.clientX,i.clientY)}},r.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},r.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},r.prototype.findBoundaryElement=function(){for(var i=this.element;i;){if("static"!==window.getComputedStyle(i).position)return i;i=i.parentElement}return this.element},r.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var i=this.resizeListeners.pop();this.dragService.removeDragSource(i)}},r.prototype.destroy=function(){c.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},bg([N("popupService")],r.prototype,"popupService",void 0),bg([N("dragService")],r.prototype,"dragService",void 0),r}(pe),FN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Fp=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},gD=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return FN(r,c),r.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.centerRowContainerCtrl=s.centerRowContainerCtrl})},r.prototype.getPreferredWidthForColumn=function(i,s){var l=this.getHeaderCellForColumn(i);if(!l)return-1;var u=this.rowRenderer.getAllCellsForColumn(i);return s||u.push(l),this.addElementsToContainerAndGetWidth(u)},r.prototype.getPreferredWidthForColumnGroup=function(i){var s=this.getHeaderCellForColumn(i);return s?this.addElementsToContainerAndGetWidth([s]):-1},r.prototype.addElementsToContainerAndGetWidth=function(i){var s=this,l=document.createElement("span");l.style.position="fixed";var u=this.centerRowContainerCtrl.getContainerElement();u.appendChild(l),i.forEach(function(_){return s.cloneItemIntoDummy(_,l)});var h=l.offsetWidth;return u.removeChild(l),h+this.gridOptionsWrapper.getAutoSizePadding()},r.prototype.getHeaderCellForColumn=function(i){var s=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(l){var u=l.getHtmlElementForColumnHeader(i);null!=u&&(s=u)}),s},r.prototype.cloneItemIntoDummy=function(i,s){var l=i.cloneNode(!0);l.style.width="",l.style.position="static",l.style.left="";var u=document.createElement("div"),h=u.classList;["ag-header-cell","ag-header-group-cell"].some(function(M){return l.classList.contains(M)})?(h.add("ag-header","ag-header-row"),u.style.position="static"):h.add("ag-row");for(var _=i.parentElement;_;){if(["ag-header-row","ag-row"].some(function(M){return _.classList.contains(M)})){for(var E=0;E<_.classList.length;E++){var D=_.classList[E];"ag-row-position-absolute"!=D&&h.add(D)}break}_=_.parentElement}u.appendChild(l),s.appendChild(u)},Fp([N("rowRenderer")],r.prototype,"rowRenderer",void 0),Fp([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Fp([N("rowCssClassCalculator")],r.prototype,"rowCssClassCalculator",void 0),Fp([ge],r.prototype,"postConstruct",null),Fp([we("autoWidthCalculator")],r)}(pe),LN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),to=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},GN=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},mD=function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(GN(arguments[r]));return c},vD=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.destroyFuncsForColumnListeners=[],i.rowCtrlsByRowIndex={},i.zombieRowCtrls={},i.allRowCtrls=[],i.topRowCtrls=[],i.bottomRowCtrls=[],i.refreshInProgress=!1,i}return LN(r,c),r.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(){i.gridBodyCtrl=i.ctrlsService.getGridBodyCtrl(),i.initialise()})},r.prototype.initialise=function(){this.addManagedListener(this.eventService,L.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,L.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,L.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_ROW_CLASS,this.redrawRows.bind(this)),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===j.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},r.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var i=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new kN(null!=i?i:3)}},r.prototype.getRowCtrls=function(){return this.allRowCtrls},r.prototype.updateAllRowCtrls=function(){var i=Kr(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&i.sort(function(u,h){return u.getRowNode().rowIndex-h.getRowNode.rowIndex});var s=Kr(this.zombieRowCtrls),l=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=mD(i,s,l)},r.prototype.registerCellEventListeners=function(){var i=this;this.addManagedListener(this.eventService,L.EVENT_CELL_FOCUSED,function(l){i.getAllCellCtrls().forEach(function(u){return u.onCellFocused(l)}),i.getFullWidthRowCtrls().forEach(function(u){u.onFullWidthRowFocused(l)})}),this.addManagedListener(this.eventService,L.EVENT_FLASH_CELLS,function(l){i.getAllCellCtrls().forEach(function(u){return u.onFlashCells(l)})}),this.addManagedListener(this.eventService,L.EVENT_COLUMN_HOVER_CHANGED,function(){i.getAllCellCtrls().forEach(function(l){return l.onColumnHover()})}),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){i.getAllCellCtrls().forEach(function(l){return l.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){i.printLayout&&i.getAllCellCtrls().forEach(function(l){return l.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,L.EVENT_RANGE_SELECTION_CHANGED,function(){i.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,L.EVENT_COLUMN_MOVED,function(){i.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PINNED,function(){i.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VISIBLE,function(){i.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,L.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},r.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(i){return i()}),this.destroyFuncsForColumnListeners.length=0},r.prototype.refreshListenersToColumnsForCellComps=function(){var i=this;this.removeGridColumnListeners();var s=this.columnModel.getAllGridColumns();!s||s.forEach(function(l){var u=function(E){i.getAllCellCtrls().forEach(function(D){D.getColumn()===l&&E(D)})},h=function(){u(function(E){return E.onLeftChanged()})},g=function(){u(function(E){return E.onWidthChanged()})},_=function(){u(function(E){return E.onFirstRightPinnedChanged()})},w=function(){u(function(E){return E.onLastLeftPinnedChanged()})};l.addEventListener(gt.EVENT_LEFT_CHANGED,h),l.addEventListener(gt.EVENT_WIDTH_CHANGED,g),l.addEventListener(gt.EVENT_FIRST_RIGHT_PINNED_CHANGED,_),l.addEventListener(gt.EVENT_LAST_LEFT_PINNED_CHANGED,w),i.destroyFuncsForColumnListeners.push(function(){l.removeEventListener(gt.EVENT_LEFT_CHANGED,h),l.removeEventListener(gt.EVENT_WIDTH_CHANGED,g),l.removeEventListener(gt.EVENT_FIRST_RIGHT_PINNED_CHANGED,_),l.removeEventListener(gt.EVENT_LAST_LEFT_PINNED_CHANGED,w)})})},r.prototype.onDomLayoutChanged=function(){var i=this.gridOptionsWrapper.getDomLayout()===j.DOM_LAYOUT_PRINT,s=i||this.gridOptionsWrapper.isEmbedFullWidthRows(),l=s!==this.embedFullWidthRows||this.printLayout!==i;this.printLayout=i,this.embedFullWidthRows=s,l&&this.redrawAfterModelUpdate()},r.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var i=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(i)},r.prototype.onPageLoaded=function(i){this.redrawAfterModelUpdate({recycleRows:i.keepRenderedRows,animate:i.animate,newData:i.newData,newPage:i.newPage,onlyBody:!0})},r.prototype.getAllCellsForColumn=function(i){var s=[];return this.getAllRowCtrls().forEach(function(l){var u=l.getCellElement(i);u&&s.push(u)}),s},r.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},r.prototype.getTopRowCtrls=function(){return this.topRowCtrls},r.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},r.prototype.refreshFloatingRows=function(i,s){var l=this;i.forEach(function(u){u.destroyFirstPass(),u.destroySecondPass()}),i.length=0,s&&s.forEach(function(u){var h=new Ls(u,l.beans,!1,!1,l.printLayout);i.push(h)})},r.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},r.prototype.getRenderedIndexesForRowNodes=function(i){var s=[];return Pe(i)||Tt(this.rowCtrlsByRowIndex,function(l,u){var h=u.getRowNode();i.indexOf(h)>=0&&s.push(l)}),s},r.prototype.redrawRows=function(i){var s=null!=i&&i.length>0;if(s){var l=this.getRenderedIndexesForRowNodes(i);this.removeRowCtrls(l)}this.redrawAfterModelUpdate({recycleRows:s})},r.prototype.getCellToRestoreFocusToAfterRefresh=function(i){var s=i.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==s)return null;var u=this.gridOptionsWrapper.getDocument().activeElement,h=this.gridOptionsWrapper.getDomData(u,Fs.DOM_DATA_KEY_CELL_CTRL),g=this.gridOptionsWrapper.getDomData(u,Ls.DOM_DATA_KEY_ROW_CTRL);return h||g?s:null},r.prototype.redrawAfterModelUpdate=function(i){void 0===i&&(i={}),this.getLockOnRefresh();var s=this.getCellToRestoreFocusToAfterRefresh(i);this.updateContainerHeights(),this.scrollToTopIfNewData(i);var l=!this.printLayout&&!!i.recycleRows,u=i.animate&&this.gridOptionsWrapper.isAnimateRows(),h=l?this.recycleRows():null;l||this.removeAllRowComps();var _=function(){if(null==s||null==h)return!1;var w=!1;return Tt(h,function(E,D){var M=D.getRowNode();M.rowIndex==s.rowIndex&&M.rowPinned==s.rowPinned&&(w=!0)}),w}();this.redraw(h,u),i.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),_||this.restoreFocusedCell(s),this.releaseLockOnRefresh()},r.prototype.scrollToTopIfNewData=function(i){var s=i.newData||i.newPage,l=this.gridOptionsWrapper.isSuppressScrollOnNewData();s&&!l&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},r.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var i=this.paginationProxy.getCurrentPageHeight();0===i&&(i=1),this.rowContainerHeightService.setModelHeight(i)}},r.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},r.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},r.prototype.isRefreshInProgress=function(){return this.refreshInProgress},r.prototype.restoreFocusedCell=function(i){i&&this.focusService.setFocusedCell(i.rowIndex,i.column,i.rowPinned,!0)},r.prototype.stopEditing=function(i){void 0===i&&(i=!1),this.getAllRowCtrls().forEach(function(s){s.stopEditing(i)})},r.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(i){return i.onNewColumnsLoaded()})},r.prototype.getAllCellCtrls=function(){var i=[];return this.getAllRowCtrls().forEach(function(s){return i=i.concat(s.getAllCellCtrls())}),i},r.prototype.getAllRowCtrls=function(){var i=this,s=mD(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(l){return s.push(i.rowCtrlsByRowIndex[l])}),s},r.prototype.addRenderedRowListener=function(i,s,l){var u=this.rowCtrlsByRowIndex[s];u&&u.addEventListener(i,l)},r.prototype.flashCells=function(i){void 0===i&&(i={});var s=i.flashDelay,l=i.fadeDelay;this.getCellCtrls(i.rowNodes,i.columns).forEach(function(u){return u.flashCell({flashDelay:s,fadeDelay:l})})},r.prototype.refreshCells=function(i){void 0===i&&(i={});var s={forceRefresh:i.force,newData:!1,suppressFlash:i.suppressFlash};this.getCellCtrls(i.rowNodes,i.columns).forEach(function(l){if(l.refreshShouldDestroy()){var u=l.getRowCtrl();u&&u.refreshCell(l)}else l.refreshCell(s)}),this.getFullWidthRowCtrls(i.rowNodes).forEach(function(l){l.refreshFullWidth()})},r.prototype.getCellRendererInstances=function(i){return this.getCellCtrls(i.rowNodes,i.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return null!=l})},r.prototype.getCellEditorInstances=function(i){var s=[];return this.getCellCtrls(i.rowNodes,i.columns).forEach(function(l){var u=l.getCellEditor();u&&s.push(u)}),s},r.prototype.getEditingCells=function(){var i=[];return this.getAllCellCtrls().forEach(function(s){if(s.isEditing()){var l=s.getCellPosition();i.push(l)}}),i},r.prototype.mapRowNodes=function(i){if(i){var s={top:{},bottom:{},normal:{}};return i.forEach(function(l){var u=l.id;l.rowPinned===j.PINNED_TOP?s.top[u]=l:l.rowPinned===j.PINNED_BOTTOM?s.bottom[u]=l:s.normal[u]=l}),s}},r.prototype.isRowInMap=function(i,s){var l=i.id,u=i.rowPinned;return u===j.PINNED_BOTTOM?null!=s.bottom[l]:u===j.PINNED_TOP?null!=s.top[l]:null!=s.normal[l]},r.prototype.getCellCtrls=function(i,s){var g,l=this,u=this.mapRowNodes(i),h=[];ee(s)&&(g={},s.forEach(function(w){var E=l.columnModel.getGridColumn(w);ee(E)&&(g[E.getId()]=!0)}));var _=function(w){var E=w.getRowNode();null!=u&&!l.isRowInMap(E,u)||w.getAllCellCtrls().forEach(function(D){var M=D.getColumn().getId();g&&!g[M]||h.push(D)})};return Tt(this.rowCtrlsByRowIndex,function(w,E){_(E)}),this.topRowCtrls&&this.topRowCtrls.forEach(_),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(_),h},r.prototype.destroy=function(){this.removeAllRowComps(),c.prototype.destroy.call(this)},r.prototype.removeAllRowComps=function(){var i=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(i)},r.prototype.recycleRows=function(){var i=[];Tt(this.rowCtrlsByRowIndex,function(l,u){null==u.getRowNode().id&&i.push(l)}),this.removeRowCtrls(i);var s={};return Tt(this.rowCtrlsByRowIndex,function(l,u){var h=u.getRowNode();s[h.id]=u}),this.rowCtrlsByRowIndex={},s},r.prototype.removeRowCtrls=function(i){var s=this;i.forEach(function(l){var u=s.rowCtrlsByRowIndex[l];u&&(u.destroyFirstPass(),u.destroySecondPass()),delete s.rowCtrlsByRowIndex[l]})},r.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},r.prototype.removeRowCompsNotToDraw=function(i){var s={};i.forEach(function(h){return s[h]=!0});var u=Object.keys(this.rowCtrlsByRowIndex).filter(function(h){return!s[h]});this.removeRowCtrls(u)},r.prototype.calculateIndexesToDraw=function(i){var s=this,l=Ts(this.firstRenderedRow,this.lastRenderedRow),u=function(h,g){var _=g.getRowNode().rowIndex;null!=_&&(_<s.firstRenderedRow||_>s.lastRenderedRow)&&s.doNotUnVirtualiseRow(g)&&l.push(_)};return Tt(this.rowCtrlsByRowIndex,u),Tt(i,u),l.sort(function(h,g){return h-g}),l},r.prototype.redraw=function(i,s,l){var u=this;void 0===s&&(s=!1),void 0===l&&(l=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var h=this.calculateIndexesToDraw(i);this.removeRowCompsNotToDraw(h),this.printLayout&&(s=!1),h.forEach(function(_){ee(u.createOrUpdateRowCtrl(_,i,s,l))}),i&&(!l||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(i,s):this.beans.animationFrameService.addDestroyTask(function(){u.destroyRowCtrls(i,s),u.updateAllRowCtrls(),u.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls(),this.gridBodyCtrl.updateRowCount()},r.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:L.EVENT_DISPLAYED_ROWS_CHANGED})},r.prototype.onDisplayedColumnsChanged=function(){var i=this.columnModel.isPinningLeft(),s=this.columnModel.isPinningRight();(this.pinningLeft!==i||s!==this.pinningRight)&&(this.pinningLeft=i,this.pinningRight=s,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},r.prototype.redrawFullWidthEmbeddedRows=function(){var i=[];this.getFullWidthRowCtrls().forEach(function(s){var l=s.getRowNode().rowIndex;i.push(l.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(i),this.redrawAfterScroll()},r.prototype.getFullWidthRowCtrls=function(i){var s=this,l=this.mapRowNodes(i);return Kr(this.rowCtrlsByRowIndex).filter(function(u){if(!u.isFullWidth())return!1;var h=u.getRowNode();return!(null!=l&&!s.isRowInMap(h,l))})},r.prototype.refreshFullWidthRows=function(i){var s=[],l=!!i,u=l?{}:void 0;l&&u&&i.forEach(function(h){return u[h.id]=!0}),this.getFullWidthRowCtrls().forEach(function(h){var g=h.getRowNode();if((!l||!u||u[g.id]||u[g.level>0&&g.parent?g.parent.id:void 0])&&!h.refreshFullWidth()){var D=h.getRowNode().rowIndex;s.push(D.toString())}}),this.removeRowCtrls(s),this.redrawAfterScroll()},r.prototype.createOrUpdateRowCtrl=function(i,s,l,u){var h,g=this.rowCtrlsByRowIndex[i];if(g||ee(h=this.paginationProxy.getRow(i))&&ee(s)&&s[h.id]&&h.alreadyRendered&&(g=s[h.id],s[h.id]=null),!g){if(h||(h=this.paginationProxy.getRow(i)),!ee(h))return;g=this.createRowCon(h,l,u)}return h&&(h.alreadyRendered=!0),this.rowCtrlsByRowIndex[i]=g,g},r.prototype.destroyRowCtrls=function(i,s){var l=this,u=[];Tt(i,function(h,g){if(g){if(l.cachedRowCtrls&&g.isCacheable())return void l.cachedRowCtrls.addRow(g);g.destroyFirstPass(),s?(l.zombieRowCtrls[g.getInstanceId()]=g,u.push(function(){g.destroySecondPass(),delete l.zombieRowCtrls[g.getInstanceId()]})):g.destroySecondPass()}}),s&&(u.push(function(){l.updateAllRowCtrls(),l.dispatchDisplayedRowsChanged()}),Xh(u))},r.prototype.workOutFirstAndLastRowsToRender=function(){var s,l,i=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)s=this.paginationProxy.getPageFirstRow(),l=this.paginationProxy.getPageLastRow();else{var u=this.gridOptionsWrapper.getRowBufferInPixels(),h=this.ctrlsService.getGridBodyCtrl(),g=this.gridOptionsWrapper.isSuppressRowVirtualisation(),_=!1,w=void 0,E=void 0;do{var D=this.paginationProxy.getPixelOffset(),M=this.paginationProxy.getCurrentPagePixelRange(),G=M.pageFirstPixel,V=M.pageLastPixel,B=this.rowContainerHeightService.getDivStretchOffset();if(g)w=G+B,E=V+B;else{var q=h.getScrollFeature().getVScrollPosition(),J=q.bottom;w=Math.max(q.top+D-u,G)+B,E=Math.min(J+D+u,V)+B}_=this.ensureAllRowsInRangeHaveHeightsCalculated(w,E)}while(_);var oe=this.paginationProxy.getRowIndexAtPixel(w),fe=this.paginationProxy.getRowIndexAtPixel(E),Se=this.paginationProxy.getPageFirstRow(),ke=this.paginationProxy.getPageLastRow();oe<Se&&(oe=Se),fe>ke&&(fe=ke),s=oe,l=fe}else s=0,l=-1;var Ve=this.gridOptionsWrapper.getDomLayout()===j.DOM_LAYOUT_NORMAL,Ie=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),lt=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(Ve&&!Ie&&l-s>lt&&(l=s+lt),(s!==this.firstRenderedRow||l!==this.lastRenderedRow)&&(this.firstRenderedRow=s,this.lastRenderedRow=l,this.eventService.dispatchEvent({type:L.EVENT_VIEWPORT_CHANGED,firstRow:s,lastRow:l,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var so={type:L.EVENT_FIRST_DATA_RENDERED,firstRow:s,lastRow:l,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return i.eventService.dispatchEventOnce(so)},50)}},r.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(i,s){var l=this.paginationProxy.ensureRowHeightsValid(i,s,-1,-1);return l&&this.updateContainerHeights(),l},r.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},r.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},r.prototype.doNotUnVirtualiseRow=function(i){var u=i.getRowNode(),h=this.focusService.isRowNodeFocused(u),g=i.isEditing();return!!(h||g||u.detail)&&!!this.paginationProxy.isRowPresent(u)},r.prototype.createRowCon=function(i,s,l){var u=this.cachedRowCtrls?this.cachedRowCtrls.getRow(i):null;if(u)return u;var h=this.gridOptionsWrapper.isSuppressAnimationFrame();return new Ls(i,this.beans,s,l&&!h&&!this.printLayout,this.printLayout)},r.prototype.getRenderedNodes=function(){var i=this.rowCtrlsByRowIndex;return Object.keys(i).map(function(s){return i[s].getRowNode()})},r.prototype.getRowByPosition=function(i){var s;switch(i.rowPinned){case j.PINNED_TOP:s=this.topRowCtrls[i.rowIndex];break;case j.PINNED_BOTTOM:s=this.bottomRowCtrls[i.rowIndex];break;default:s=this.rowCtrlsByRowIndex[i.rowIndex]}return s},r.prototype.getRowNode=function(i){switch(i.rowPinned){case j.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[i.rowIndex];case j.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[i.rowIndex];default:return this.rowModel.getRow(i.rowIndex)}},r.prototype.isRangeInRenderedViewport=function(i,s){return!(null==i||null==s||s<this.firstRenderedRow||i>this.lastRenderedRow)},to([N("paginationProxy")],r.prototype,"paginationProxy",void 0),to([N("columnModel")],r.prototype,"columnModel",void 0),to([N("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),to([N("rowModel")],r.prototype,"rowModel",void 0),to([N("focusService")],r.prototype,"focusService",void 0),to([N("columnApi")],r.prototype,"columnApi",void 0),to([N("gridApi")],r.prototype,"gridApi",void 0),to([N("beans")],r.prototype,"beans",void 0),to([N("rowContainerHeightService")],r.prototype,"rowContainerHeightService",void 0),to([vt("ctrlsService")],r.prototype,"ctrlsService",void 0),to([ge],r.prototype,"postConstruct",null),to([we("rowRenderer")],r)}(pe),kN=function(){function c(r){this.entriesMap={},this.entriesList=[],this.maxCount=r}return c.prototype.addRow=function(r){if(this.entriesMap[r.getRowNode().id]=r,this.entriesList.push(r),r.setCached(!0),this.entriesList.length>this.maxCount){var i=this.entriesList[0];i.destroyFirstPass(),i.destroySecondPass(),this.removeFromCache(i)}},c.prototype.getRow=function(r){if(null==r||null==r.id)return null;var i=this.entriesMap[r.id];return i?(this.removeFromCache(i),i.setCached(!1),i.getRowNode()!=r?null:i):null},c.prototype.removeFromCache=function(r){var i=r.getRowNode().id;delete this.entriesMap[i],Jn(this.entriesList,r)},c.prototype.getEntries=function(){return this.entriesList},c}(),Hs=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Lp=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},J_=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return Hs(r,c),r.prototype.formatValue=function(i,s,l,u,h){void 0===h&&(h=!0);var _,g=null,w=i.getColDef();if(u?_=u:h&&(_=s&&s.rowPinned&&w.pinnedRowValueFormatter?w.pinnedRowValueFormatter:w.valueFormatter),_){var E={value:l,node:s,data:s?s.data:null,colDef:w,column:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};g=this.expressionService.evaluate(_,E)}else if(w.refData)return w.refData[l]||"";return null==g&&Array.isArray(l)&&(g=l.join(", ")),g},Lp([N("expressionService")],r.prototype,"expressionService",void 0),Lp([we("valueFormatterService")],r)}(pe),eC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Sa=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Sg=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return eC(r,c),r.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},r.prototype.isEmpty=function(i){return Ri(i===j.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},r.prototype.isRowsToRender=function(i){return!this.isEmpty(i)},r.prototype.getRowAtPixel=function(i,s){var l=s===j.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(Ri(l))return 0;for(var u=0;u<l.length;u++){var h=l[u];if(h.rowTop+h.rowHeight-1>=i)return u}return l.length-1},r.prototype.setPinnedTopRowData=function(i){this.pinnedTopRows=this.createNodesFromData(i,!0),this.eventService.dispatchEvent({type:L.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},r.prototype.setPinnedBottomRowData=function(i){this.pinnedBottomRows=this.createNodesFromData(i,!1),this.eventService.dispatchEvent({type:L.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},r.prototype.createNodesFromData=function(i,s){var l=this,u=[];if(i){var h=0;i.forEach(function(g,_){var w=new nt(l.beans);w.data=g,w.id=(s?nt.ID_PREFIX_TOP_PINNED:nt.ID_PREFIX_BOTTOM_PINNED)+_,w.rowPinned=s?j.PINNED_TOP:j.PINNED_BOTTOM,w.setRowTop(h),w.setRowHeight(l.gridOptionsWrapper.getRowHeightForNode(w).height),w.setRowIndex(_),h+=w.rowHeight,u.push(w)})}return u},r.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},r.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},r.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},r.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},r.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},r.prototype.getPinnedTopRow=function(i){return this.pinnedTopRows[i]},r.prototype.getPinnedBottomRow=function(i){return this.pinnedBottomRows[i]},r.prototype.forEachPinnedTopRow=function(i){Ri(this.pinnedTopRows)||this.pinnedTopRows.forEach(i)},r.prototype.forEachPinnedBottomRow=function(i){Ri(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(i)},r.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},r.prototype.getTotalHeight=function(i){if(!i||0===i.length)return 0;var s=Pt(i);return s.rowTop+s.rowHeight},Sa([N("columnApi")],r.prototype,"columnApi",void 0),Sa([N("gridApi")],r.prototype,"gridApi",void 0),Sa([N("beans")],r.prototype,"beans",void 0),Sa([ge],r.prototype,"init",null),Sa([we("pinnedRowModel")],r)}(pe);!function(c){c.Applied="Applied",c.StoreNotFound="StoreNotFound",c.StoreLoading="StoreLoading",c.StoreWaitingToLoad="StoreWaitingToLoad",c.StoreLoadingFailed="StoreLoadingFailed",c.StoreWrongType="StoreWrongType",c.Cancelled="Cancelled"}(x.Qk6||(x.Qk6={}));var Ll=function(){function c(r,i){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=r,this.pathRoot={rowNode:i,children:null},this.mapToItems[i.id]=this.pathRoot}return c.prototype.setInactive=function(){this.active=!1},c.prototype.isActive=function(){return this.active},c.prototype.depthFirstSearchChangedPath=function(r,i){if(r.children)for(var s=0;s<r.children.length;s++)this.depthFirstSearchChangedPath(r.children[s],i);i(r.rowNode)},c.prototype.depthFirstSearchEverything=function(r,i,s){if(r.childrenAfterGroup)for(var l=0;l<r.childrenAfterGroup.length;l++){var u=r.childrenAfterGroup[l];u.childrenAfterGroup?this.depthFirstSearchEverything(r.childrenAfterGroup[l],i,s):s&&i(u)}i(r)},c.prototype.forEachChangedNodeDepthFirst=function(r,i){void 0===i&&(i=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,r):this.depthFirstSearchEverything(this.pathRoot.rowNode,r,i)},c.prototype.executeFromRootNode=function(r){r(this.pathRoot.rowNode)},c.prototype.createPathItems=function(r){for(var i=r,s=0;!this.mapToItems[i.id];)this.mapToItems[i.id]={rowNode:i,children:null},s++,i=i.parent;return s},c.prototype.populateColumnsMap=function(r,i){var s=this;if(this.keepingColumns&&i)for(var l=r;l;)this.nodeIdsToColumns[l.id]||(this.nodeIdsToColumns[l.id]={}),i.forEach(function(u){return s.nodeIdsToColumns[l.id][u.getId()]=!0}),l=l.parent},c.prototype.linkPathItems=function(r,i){for(var s=r,l=0;l<i;l++){var u=this.mapToItems[s.id],h=this.mapToItems[s.parent.id];h.children||(h.children=[]),h.children.push(u),s=s.parent}},c.prototype.addParentNode=function(r,i){if(r&&!r.isRowPinned()){var s=this.createPathItems(r);this.linkPathItems(r,s),this.populateColumnsMap(r,i)}},c.prototype.canSkip=function(r){return this.active&&!this.mapToItems[r.id]},c.prototype.getValueColumnsForNode=function(r,i){if(!this.keepingColumns)return i;var s=this.nodeIdsToColumns[r.id];return i.filter(function(u){return s[u.getId()]})},c.prototype.getNotValueColumnsForNode=function(r,i){if(!this.keepingColumns)return null;var s=this.nodeIdsToColumns[r.id];return i.filter(function(u){return!s[u.getId()]})},c}(),yD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),no=function(c){function r(i){var s=c.call(this)||this;return s.state=r.STATE_WAITING_TO_LOAD,s.version=0,s.id=i,s}return yD(r,c),r.prototype.getId=function(){return this.id},r.prototype.load=function(){this.state=r.STATE_LOADING,this.loadFromDatasource()},r.prototype.getVersion=function(){return this.version},r.prototype.setStateWaitingToLoad=function(){this.version++,this.state=r.STATE_WAITING_TO_LOAD},r.prototype.getState=function(){return this.state},r.prototype.pageLoadFailed=function(i){this.isRequestMostRecentAndLive(i)&&(this.state=r.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},r.prototype.success=function(i,s){this.successCommon(i,s)},r.prototype.pageLoaded=function(i,s,l){this.successCommon(i,{rowData:s,rowCount:l})},r.prototype.isRequestMostRecentAndLive=function(i){var s=i===this.version,l=this.isAlive();return s&&l},r.prototype.successCommon=function(i,s){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(i)&&(this.state=r.STATE_LOADED,this.processServerResult(s))},r.prototype.dispatchLoadCompleted=function(i){void 0===i&&(i=!0),this.dispatchEvent({type:r.EVENT_LOAD_COMPLETE,success:i,block:this})},r.EVENT_LOAD_COMPLETE="loadComplete",r.STATE_WAITING_TO_LOAD="needsLoading",r.STATE_LOADING="loading",r.STATE_LOADED="loaded",r.STATE_FAILED="failed",r}(pe),tC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Dg=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Rg=function(c,r){return function(i,s){r(i,s,c)}},nC=function(c){function r(){var s=null!==c&&c.apply(this,arguments)||this;return s.activeBlockLoadsCount=0,s.blocks=[],s.active=!0,s}var i;return tC(r,c),i=r,r.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var s=this.gridOptionsWrapper.getBlockLoadDebounceMillis();s&&s>0&&(this.checkBlockToLoadDebounce=Le.debounce(this.performCheckBlocksToLoad.bind(this),s))},r.prototype.setBeans=function(s){this.logger=s.create("RowNodeBlockLoader")},r.prototype.addBlock=function(s){this.blocks.push(s),s.addEventListener(no.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},r.prototype.removeBlock=function(s){Le.removeFromArray(this.blocks,s)},r.prototype.destroy=function(){c.prototype.destroy.call(this),this.active=!1},r.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:i.BLOCK_LOADER_FINISHED_EVENT})},r.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},r.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var s=null;this.blocks.forEach(function(l){l.getState()===no.STATE_WAITING_TO_LOAD&&(s=l)}),s&&(s.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},r.prototype.getBlockState=function(){var s={};return this.blocks.forEach(function(l){var u=l.getBlockStateJson();s[u.id]=u.state}),s},r.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},r.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},r.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Dg([ge],r.prototype,"postConstruct",null),Dg([Rg(0,Ti("loggerFactory"))],r.prototype,"setBeans",null),i=Dg([we("rowNodeBlockLoader")],r)}(pe),iC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Cc=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},rC=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.currentPage=0,i.topDisplayedRowIndex=0,i.bottomDisplayedRowIndex=0,i.pixelOffset=0,i.masterRowCount=0,i}return iC(r,c),r.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,L.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},r.prototype.ensureRowHeightsValid=function(i,s,l,u){var h=this.rowModel.ensureRowHeightsValid(i,s,this.getPageFirstRow(),this.getPageLastRow());return h&&this.calculatePages(),h},r.prototype.onModelUpdated=function(i){this.calculatePages(),this.eventService.dispatchEvent({type:L.EVENT_PAGINATION_CHANGED,animate:!!i&&i.animate,newData:!!i&&i.newData,newPage:!!i&&i.newPage,keepRenderedRows:!!i&&i.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},r.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:L.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},r.prototype.goToPage=function(i){this.active&&this.currentPage!==i&&(this.currentPage=i,this.onModelUpdated({type:L.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},r.prototype.getPixelOffset=function(){return this.pixelOffset},r.prototype.getRow=function(i){return this.rowModel.getRow(i)},r.prototype.getRowNode=function(i){return this.rowModel.getRowNode(i)},r.prototype.getRowIndexAtPixel=function(i){return this.rowModel.getRowIndexAtPixel(i)},r.prototype.getCurrentPageHeight=function(){return Pe(this.topRowBounds)||Pe(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},r.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},r.prototype.isRowPresent=function(i){return!!this.rowModel.isRowPresent(i)&&i.rowIndex>=this.topDisplayedRowIndex&&i.rowIndex<=this.bottomDisplayedRowIndex},r.prototype.isEmpty=function(){return this.rowModel.isEmpty()},r.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},r.prototype.getNodesInRangeForSelection=function(i,s){return this.rowModel.getNodesInRangeForSelection(i,s)},r.prototype.forEachNode=function(i){return this.rowModel.forEachNode(i)},r.prototype.getType=function(){return this.rowModel.getType()},r.prototype.getRowBounds=function(i){var s=this.rowModel.getRowBounds(i);return s.rowIndex=i,s},r.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},r.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},r.prototype.getRowCount=function(){return this.rowModel.getRowCount()},r.prototype.getPageForIndex=function(i){return Math.floor(i/this.pageSize)},r.prototype.goToPageWithIndex=function(i){if(this.active){var s=this.getPageForIndex(i);this.goToPage(s)}},r.prototype.isRowInPage=function(i){return!this.active||this.getPageForIndex(i.rowIndex)===this.currentPage},r.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},r.prototype.getCurrentPage=function(){return this.currentPage},r.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},r.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},r.prototype.goToFirstPage=function(){this.goToPage(0)},r.prototype.goToLastPage=function(){var i=this.rowModel.getRowCount(),s=Math.floor(i/this.pageSize);this.goToPage(s)},r.prototype.getPageSize=function(){return this.pageSize},r.prototype.getTotalPages=function(){return this.totalPages},r.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},r.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(ee(this.topRowBounds)?this.topRowBounds.rowTop:0)},r.prototype.setPixelOffset=function(i){this.pixelOffset!==i&&(this.pixelOffset=i,this.eventService.dispatchEvent({type:L.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},r.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},r.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var i=this.masterRowCount-1;this.totalPages=Math.floor(i/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Vd(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var l=this.pageSize*(this.currentPage+1)-1;if(l>i&&(l=i),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),l===i)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var u=this.rowModel.getTopLevelRowDisplayedIndex(l+1);this.bottomDisplayedRowIndex=u-1}}},r.prototype.getMasterRowCount=function(){return this.masterRowCount},r.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var i=this.masterRowCount-1;this.totalPages=Math.floor(i/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Vd(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}else this.setZeroRows()},r.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Cc([N("rowModel")],r.prototype,"rowModel",void 0),Cc([N("columnApi")],r.prototype,"columnApi",void 0),Cc([N("gridApi")],r.prototype,"gridApi",void 0),Cc([ge],r.prototype,"postConstruct",null),Cc([we("paginationProxy")],r)}(pe),wc=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Da=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Gp=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return wc(r,c),r.prototype.processAllCellClasses=function(i,s,l,u){this.processClassRules(i.cellClassRules,s,l,u),this.processStaticCellClasses(i,s,l)},r.prototype.processClassRules=function(i,s,l,u){if(null!=i){for(var h=Object.keys(i),g={},_={},w=function(M){var B,G=h[M],V=i[G];"string"==typeof V?B=E.expressionService.evaluate(V,s):"function"==typeof V&&(B=V(s)),G.split(" ").forEach(function(q){null==q||""==q.trim()||(B?g[q]=!0:_[q]=!0)})},E=this,D=0;D<h.length;D++)w(D);u&&Object.keys(_).forEach(u),Object.keys(g).forEach(l)}},r.prototype.getStaticCellClasses=function(i,s){var u,l=i.cellClass;return l?("string"==typeof(u="function"==typeof l?l(s):l)&&(u=[u]),u||[]):[]},r.prototype.processStaticCellClasses=function(i,s,l){this.getStaticCellClasses(i,s).forEach(function(h){l(h)})},Da([N("expressionService")],r.prototype,"expressionService",void 0),Da([we("stylingService")],r)}(pe),Gl=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),kl=function(c){function r(i){return c.call(this,i,"ag-radio-button","radio")||this}return Gl(r,c),r.prototype.isSelected=function(){return this.eInput.checked},r.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},r.prototype.addInputListeners=function(){c.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,L.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},r.prototype.onChange=function(i){i.selected&&i.name&&this.eInput.name&&this.eInput.name===i.name&&i.id&&this.eInput.id!==i.id&&this.setValue(!1,!0)},r}(Ml),Vl=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),oC=function(c){function r(i){return c.call(this,i,"ag-toggle-button")||this}return Vl(r,c),r.prototype.setValue=function(i,s){return c.prototype.setValue.call(this,i,s),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},r}(Ml),sC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),kp=function(c){function r(i,s,l){return void 0===s&&(s="ag-text-field"),void 0===l&&(l="text"),c.call(this,i,s,l)||this}return sC(r,c),r.prototype.postConstruct=function(){c.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},r.prototype.setValue=function(i,s){var l=c.prototype.setValue.call(this,i,s);return this.eInput.value!==i&&(this.eInput.value=ee(i)?i:""),l},r.prototype.preventDisallowedCharacters=function(){var i=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(l){l.key&&!i.test(l.key)&&l.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(l){var u,h=null===(u=l.clipboardData)||void 0===u?void 0:u.getData("text");h&&h.split("").some(function(g){return!i.test(g)})&&l.preventDefault()})},r}(Zo),Og=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Vp=function(c){function r(i){return c.call(this,i,"ag-text-area",null,"textarea")||this}return Og(r,c),r.prototype.setValue=function(i,s){var l=c.prototype.setValue.call(this,i,s);return this.eInput.value=i,l},r.prototype.setCols=function(i){return this.eInput.cols=i,this},r.prototype.setRows=function(i){return this.eInput.rows=i,this},r}(Zo),aC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),bc=function(c){function r(i){return c.call(this,i,"ag-number-field","number")||this}return aC(r,c),r.prototype.postConstruct=function(){var i=this;c.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var s=parseFloat(i.eInput.value),l=isNaN(s)?"":i.normalizeValue(s.toString());i.value!==l&&i.setValue(l)}),this.eInput.step="any"},r.prototype.normalizeValue=function(i){if(""===i)return"";this.precision&&(i=this.adjustPrecision(i));var s=parseFloat(i);return null!=this.min&&s<this.min?i=this.min.toString():null!=this.max&&s>this.max&&(i=this.max.toString()),i},r.prototype.adjustPrecision=function(i){if(this.precision){var s=parseFloat(i).toFixed(this.precision);i=parseFloat(s).toString()}return i},r.prototype.setMin=function(i){return this.min===i||(this.min=i,Ro(this.eInput,"min",i)),this},r.prototype.setMax=function(i){return this.max===i||(this.max=i,Ro(this.eInput,"max",i)),this},r.prototype.setPrecision=function(i){return this.precision=i,this},r.prototype.setStep=function(i){return this.step===i||(this.step=i,Ro(this.eInput,"step",i)),this},r.prototype.setValue=function(i,s){return(i=this.adjustPrecision(i))!=this.normalizeValue(i)?this:c.prototype.setValue.call(this,i,s)},r}(kp),_D=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Tg=function(c){function r(i){return c.call(this,i,"ag-range-field","range")||this}return _D(r,c),r.prototype.postConstruct=function(){c.prototype.postConstruct.call(this);var i=this.config,s=i.min,l=i.max,u=i.step;null!=s&&this.setMinValue(s),null!=l&&this.setMaxValue(l),this.setStep(u||1)},r.prototype.addInputListeners=function(){var i=this;this.addManagedListener(this.eInput,"input",function(s){i.setValue(s.target.value)})},r.prototype.setMinValue=function(i){return this.min=i,this.eInput.setAttribute("min",i.toString()),this},r.prototype.setMaxValue=function(i){return this.max=i,this.eInput.setAttribute("max",i.toString()),this},r.prototype.setStep=function(i){return this.eInput.setAttribute("step",i.toString()),this},r.prototype.setValue=function(i,s){null!=this.min&&(i=Math.max(parseFloat(i),this.min).toString()),null!=this.max&&(i=Math.min(parseFloat(i),this.max).toString());var l=c.prototype.setValue.call(this,i,s);return this.eInput.value=i,l},r}(Zo),VN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ec=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Ag=function(c){function r(i){var s=c.call(this,i,r.TEMPLATE)||this;return s.labelAlignment="top",s}return VN(r,c),r.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},r.prototype.onValueChange=function(i){var s=this,l=ur.EVENT_CHANGED;return this.addManagedListener(this.eText,l,function(){var u=parseFloat(s.eText.getValue());s.eSlider.setValue(u.toString(),!0),i(u||0)}),this.addManagedListener(this.eSlider,l,function(){var u=s.eSlider.getValue();s.eText.setValue(u,!0),i(parseFloat(u))}),this},r.prototype.setSliderWidth=function(i){return this.eSlider.setWidth(i),this},r.prototype.setTextFieldWidth=function(i){return this.eText.setWidth(i),this},r.prototype.setMinValue=function(i){return this.eSlider.setMinValue(i),this.eText.setMin(i),this},r.prototype.setMaxValue=function(i){return this.eSlider.setMaxValue(i),this.eText.setMax(i),this},r.prototype.getValue=function(){return this.eText.getValue()},r.prototype.setValue=function(i){return this.getValue()===i||(this.eText.setValue(i,!0),this.eSlider.setValue(i,!0),this.dispatchEvent({type:ur.EVENT_CHANGED})),this},r.prototype.setStep=function(i){return this.eSlider.setStep(i),this.eText.setStep(i),this},r.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Ec([ae("eLabel")],r.prototype,"eLabel",void 0),Ec([ae("eSlider")],r.prototype,"eSlider",void 0),Ec([ae("eText")],r.prototype,"eText",void 0),Ec([ge],r.prototype,"init",null),r}(Mf),CD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Hl=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},lC=function(c){function r(i){var s=c.call(this,i,r.TEMPLATE)||this;return s.radius=0,s.offsetX=0,s.offsetY=0,s}return CD(r,c),r.prototype.postConstruct=function(){var i=this;c.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(s){i.parentCircleRect=i.eParentCircle.getBoundingClientRect()},onDragging:function(s){return i.calculateAngleDrag(s)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(s){(null==s||""===s)&&(s="0"),s=i.eAngleValue.normalizeValue(s);var l=parseFloat(s);l>180&&(l-=360),i.setValue(l)}),this.updateNumberInput(),ee(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,ur.EVENT_CHANGED,function(){var s=i.gridOptionsWrapper.getDocument();i.eAngleValue.getInputElement().contains(s.activeElement)||i.updateNumberInput()})},r.prototype.updateNumberInput=function(){var i=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(i.toString())},r.prototype.positionChildCircle=function(i){var s=this.parentCircleRect||{width:24,height:24},l=this.eChildCircle,h=s.height/2;l.style.left=s.width/2+8*Math.cos(i)+"px",l.style.top=h+8*Math.sin(i)+"px"},r.prototype.calculatePolar=function(){var i=this.offsetX,s=this.offsetY,l=Math.atan2(s,i);this.degrees=this.toDegrees(l),this.radius=Math.sqrt(i*i+s*s),this.positionChildCircle(l)},r.prototype.calculateCartesian=function(){var i=this.toRadians(this.getValue()),s=this.getRadius();this.setOffsetX(Math.cos(i)*s).setOffsetY(Math.sin(i)*s)},r.prototype.setOffsetX=function(i){return this.offsetX!==i&&(this.offsetX=i,this.calculatePolar()),this},r.prototype.setOffsetY=function(i){return this.offsetY!==i&&(this.offsetY=i,this.calculatePolar()),this},r.prototype.calculateAngleDrag=function(i){var s=this.parentCircleRect,E=Math.atan2(i.clientY-s.top-s.height/2,i.clientX-s.left-s.width/2);this.setValue(E,!0)},r.prototype.toDegrees=function(i){return i/Math.PI*180},r.prototype.toRadians=function(i){return i/180*Math.PI},r.prototype.normalizeNegativeValue=function(i){return i<0?360+i:i},r.prototype.normalizeAngle180=function(i){return(i%=2*Math.PI)<-Math.PI?i+=2*Math.PI:i>=Math.PI&&(i-=2*Math.PI),i},r.prototype.getRadius=function(){return this.radius},r.prototype.setRadius=function(i){return this.radius===i||(this.radius=i,this.calculateCartesian()),this},r.prototype.onValueChange=function(i){var s=this;return this.addManagedListener(this,ur.EVENT_CHANGED,function(){i(s.degrees)}),this},r.prototype.getValue=function(i){return i?this.toRadians(this.degrees):this.degrees},r.prototype.setValue=function(i,s){var l;return l=s?i:this.normalizeAngle180(this.toRadians(i)),i=this.toDegrees(l),this.degrees!==i&&(this.degrees=Math.floor(i),this.calculateCartesian(),this.positionChildCircle(l),this.dispatchEvent({type:ur.EVENT_CHANGED})),this},r.prototype.setWidth=function(i){return St(this.getGui(),i),this},r.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),c.prototype.destroy.call(this)},r.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Hl([ae("eLabel")],r.prototype,"eLabel",void 0),Hl([ae("eParentCircle")],r.prototype,"eParentCircle",void 0),Hl([ae("eChildCircle")],r.prototype,"eChildCircle",void 0),Hl([ae("eAngleValue")],r.prototype,"eAngleValue",void 0),Hl([N("dragService")],r.prototype,"dragService",void 0),r}(Mf),wD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),On=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},ED=function(c){function r(i){var s=c.call(this,r.TEMPLATE)||this;return s.H=1,s.S=1,s.B=1,s.A=1,s.isSpectrumDragging=!1,s.isSpectrumHueDragging=!1,s.isSpectrumAlphaDragging=!1,s.colorChanged=!1,s.picker=i.picker,s}return wD(r,c),r.prototype.postConstruct=function(){var i=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(i,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(i,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(i,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},r.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},r.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},r.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},r.prototype.onSpectrumDraggerDown=function(i){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(i)},r.prototype.onSpectrumDraggerMove=function(i){this.isSpectrumDragging&&this.moveDragger(i)},r.prototype.onSpectrumHueDown=function(i){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(i)},r.prototype.onSpectrumHueMove=function(i){this.isSpectrumHueDragging&&this.moveHueSlider(i)},r.prototype.onSpectrumAlphaDown=function(i){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(i)},r.prototype.onSpectrumAlphaMove=function(i){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(i)},r.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},r.prototype.moveDragger=function(i){var s=this.spectrumValRect;if(s){var l=i.clientX-s.left,u=i.clientY-s.top;l=Math.max(l,0),l=Math.min(l,s.width),u=Math.max(u,0),u=Math.min(u,s.height),this.setSpectrumValue(l/s.width,1-u/s.height)}},r.prototype.moveHueSlider=function(i){var s=this.spectrumHueRect;if(s){var l=this.spectrumHueSlider,u=l.getBoundingClientRect(),h=i.clientX-s.left;h=Math.max(h,0),h=Math.min(h,s.width),this.H=1-h/s.width,l.style.left=h+u.width/2+"px",this.update()}},r.prototype.moveAlphaSlider=function(i){var s=this.spectrumAlphaRect;if(s){var l=this.spectrumAlphaSlider,u=l.getBoundingClientRect(),h=i.clientX-s.left;h=Math.max(h,0),h=Math.min(h,s.width),this.A=h/s.width,l.style.left=h+u.width/2+"px",this.update()}},r.prototype.update=function(){var i=la.fromHSB(360*this.H,this.S,this.B,this.A),s=la.fromHSB(360*this.H,1,1),l=i.toRgbaString(),u=this.picker;la.fromString(u.getValue()).toRgbaString()!==l&&(this.colorChanged=!0),u.setValue(l),this.spectrumColor.style.backgroundColor=s.toRgbaString(),this.spectrumDragger.style.backgroundColor=l},r.prototype.setSpectrumValue=function(i,s){var l=this.spectrumValRect||this.refreshSpectrumRect();if(l){var u=this.spectrumDragger,h=u.getBoundingClientRect();i=Math.max(0,i),i=Math.min(1,i),s=Math.max(0,s),s=Math.min(1,s),this.S=i,this.B=s,u.style.left=i*l.width-h.width/2+"px",u.style.top=(1-s)*l.height-h.height/2+"px",this.update()}},r.prototype.initRecentColors=function(){var s=r.recentColors.map(function(l,u){return'<div class="ag-recent-color" id='+u+' style="background-color: '+l+'; width: 15px; height: 15px;" recent-color="'+l+'"></div>'});this.recentColors.innerHTML=s.join("")},r.prototype.setValue=function(i){var s=la.fromString(i),l=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u}(s.toHSB(),3),u=l[0],h=l[1],g=l[2];this.H=(isNaN(u)?0:u)/360,this.A=s.a;var _=this.spectrumHueRect||this.refreshHueRect(),w=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-_.width+"px",this.spectrumAlphaSlider.style.left=this.A*w.width+"px",this.setSpectrumValue(h,g)},r.prototype.onRecentColorClick=function(i){var s=i.target;if(ee(s.id)){var l=parseInt(s.id,10);this.setValue(r.recentColors[l]),this.destroy()}},r.prototype.addRecentColor=function(){var s=la.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),l=r.recentColors;!this.colorChanged||l[0]===s||(l=l.filter(function(u){return u!=s}),(l=[s].concat(l)).length>r.maxRecentColors&&(l=l.slice(0,r.maxRecentColors)),r.recentColors=l)},r.prototype.destroy=function(){this.addRecentColor(),c.prototype.destroy.call(this)},r.maxRecentColors=8,r.recentColors=[],r.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',On([ae("spectrumColor")],r.prototype,"spectrumColor",void 0),On([ae("spectrumVal")],r.prototype,"spectrumVal",void 0),On([ae("spectrumDragger")],r.prototype,"spectrumDragger",void 0),On([ae("spectrumHue")],r.prototype,"spectrumHue",void 0),On([ae("spectrumHueSlider")],r.prototype,"spectrumHueSlider",void 0),On([ae("spectrumAlpha")],r.prototype,"spectrumAlpha",void 0),On([ae("spectrumAlphaSlider")],r.prototype,"spectrumAlphaSlider",void 0),On([ae("recentColors")],r.prototype,"recentColors",void 0),On([ge],r.prototype,"postConstruct",null),r}(Me),HN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Hp=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Bp=function(c){function r(i){var s=c.call(this,r.getTemplate(i))||this;return s.closable=!0,s.config=i,s}return HN(r,c),r.getTemplate=function(i){var s=i&&i.cssIdentifier||"default";return'<div class="ag-panel ag-'+s+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+s+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+s+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+s+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+s+'-panel-content-wrapper"></div>\n        </div>'},r.prototype.postConstruct=function(){var i=this,s=this.config,l=s.component,u=s.closable,h=s.hideTitleBar,g=s.title,_=s.minWidth,w=void 0===_?250:_,E=s.width,D=s.minHeight,M=void 0===D?250:D,G=s.height,V=s.centered,B=s.popup,q=s.x,Z=s.y;this.positionableFeature=new fD(this.getGui(),{minWidth:w,width:E,minHeight:M,height:G,centered:V,x:q,y:Z,popup:B,calculateTopBuffer:function(){return i.positionableFeature.getHeight()-i.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var J=this.getGui();l&&this.setBodyComponent(l),h?this.eTitleBar.classList.add("ag-hidden"):(g&&this.setTitle(g),this.setClosable(null!=u?u:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(oe){var fe=i.gridOptionsWrapper.getDocument();if(J.contains(oe.relatedTarget)||J.contains(fe.activeElement)||i.eTitleBarButtons.contains(oe.target))oe.preventDefault();else{var Se=i.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");Se&&Se.focus()}}),(!B||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},r.prototype.renderComponent=function(){var i=this,s=this.getGui();s.focus(),this.close=function(){s.parentElement.removeChild(s),i.destroy()}},r.prototype.getHeight=function(){return this.positionableFeature.getHeight()},r.prototype.setHeight=function(i){this.positionableFeature.setHeight(i)},r.prototype.getWidth=function(){return this.positionableFeature.getWidth()},r.prototype.setWidth=function(i){this.positionableFeature.setWidth(i)},r.prototype.setClosable=function(i){if(i!==this.closable&&(this.closable=i),i){var s=this.closeButtonComp=new Me(r.CLOSE_BTN_TEMPLATE);this.getContext().createBean(s);var l=s.getGui(),u=Gn("close",this.gridOptionsWrapper);u.classList.add("ag-panel-title-bar-button-icon"),l.appendChild(u),this.addTitleBarButton(s),s.addManagedListener(l,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((l=this.closeButtonComp.getGui()).parentElement.removeChild(l),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},r.prototype.setBodyComponent=function(i){i.setParentComponent(this),this.eContentWrapper.appendChild(i.getGui())},r.prototype.addTitleBarButton=function(i,s){var l=this.eTitleBarButtons,u=l.children,h=u.length;null==s&&(s=h),s=Math.max(0,Math.min(s,h)),i.addCssClass("ag-panel-title-bar-button");var g=i.getGui();0===s?l.insertAdjacentElement("afterbegin",g):s===h?l.insertAdjacentElement("beforeend",g):u[s-1].insertAdjacentElement("afterend",g),i.setParentComponent(this)},r.prototype.getBodyHeight=function(){return Rt(this.eContentWrapper)},r.prototype.getBodyWidth=function(){return Fd(this.eContentWrapper)},r.prototype.setTitle=function(i){this.eTitle.innerText=i},r.prototype.onBtClose=function(){this.close()},r.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var i=this.getGui();i&&i.offsetParent&&this.close(),c.prototype.destroy.call(this)},r.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Hp([ae("eContentWrapper")],r.prototype,"eContentWrapper",void 0),Hp([ae("eTitleBar")],r.prototype,"eTitleBar",void 0),Hp([ae("eTitleBarButtons")],r.prototype,"eTitleBarButtons",void 0),Hp([ae("eTitle")],r.prototype,"eTitle",void 0),Hp([ge],r.prototype,"postConstruct",null),r}(Me),BN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Wp=function(){return Wp=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},Wp.apply(this,arguments)},jp=function(c){function r(i){var s=c.call(this,Wp(Wp({},i),{popup:!0}))||this;return s.isMaximizable=!1,s.isMaximized=!1,s.maximizeListeners=[],s.resizeListenerDestroy=null,s.lastPosition={x:0,y:0,width:0,height:0},s}return BN(r,c),r.prototype.postConstruct=function(){var i=this,s=this.getGui(),l=this.config,u=l.movable,h=l.resizable,g=l.maximizable;this.addCssClass("ag-dialog"),c.prototype.postConstruct.call(this),this.addManagedListener(s,"focusin",function(_){s.contains(_.relatedTarget)||i.popupService.bringPopupToFront(s)}),u&&this.setMovable(u),g&&this.setMaximizable(g),h&&this.setResizable(h)},r.prototype.renderComponent=function(){var i=this.getGui(),s=this.config,l=s.alwaysOnTop,u=s.modal,h=s.title,g=this.gridOptionsWrapper.getLocaleTextFunc(),_=this.popupService.addPopup({modal:u,eChild:i,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:l,ariaLabel:h||g("ariaLabelDialog","Dialog")});_&&(this.close=_.hideFunc)},r.prototype.toggleMaximize=function(){var i=this.positionableFeature.getPosition();if(this.isMaximized){var s=this.lastPosition,l=s.x,u=s.y,g=s.height;this.setWidth(s.width),this.setHeight(g),this.positionableFeature.offsetElement(l,u)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=i.x,this.lastPosition.y=i.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},r.prototype.refreshMaximizeIcon=function(){Lt(this.maximizeIcon,!this.isMaximized),Lt(this.minimizeIcon,this.isMaximized)},r.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(i){return i()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},r.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),c.prototype.destroy.call(this)},r.prototype.setResizable=function(i){this.positionableFeature.setResizable(i)},r.prototype.setMovable=function(i){this.positionableFeature.setMovable(i,this.eTitleBar)},r.prototype.setMaximizable=function(i){var s=this;if(!i)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var l=this.eTitleBar;if(l&&i!==this.isMaximizable){var u=this.maximizeButtonComp=this.createBean(new Me('<div class="ag-dialog-button"></span>')),h=u.getGui();h.appendChild(this.maximizeIcon=Gn("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),h.appendChild(this.minimizeIcon=Gn("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),u.addManagedListener(h,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(u,0),this.maximizeListeners.push(this.addManagedListener(l,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){s.isMaximized=!1,s.refreshMaximizeIcon()})}},function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([N("popupService")],r.prototype,"popupService",void 0),r}(Bp),SD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),uC=function(c){function r(i){var s=c.call(this,i,"ag-color-picker","colorPicker")||this;return i&&i.color&&(s.value=i.color),s}return SD(r,c),r.prototype.postConstruct=function(){c.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},r.prototype.showPicker=function(){var i=this,s=this.getGui().getBoundingClientRect(),l=this.createBean(new jp({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:s.right-190,y:s.top-250}));this.isPickerDisplayed=!0,l.addCssClass("ag-color-dialog"),Nr(this.eWrapper,!0);var u=this.createBean(new ED({picker:this}));return u.addDestroyFunc(function(){l.isAlive()&&i.destroyBean(l)}),l.setParentComponent(this),l.setBodyComponent(u),u.setValue(this.getValue()),l.addDestroyFunc(function(){i.isDestroyingPicker?i.isDestroyingPicker=!1:(i.isDestroyingPicker=!0,u.isAlive()&&i.destroyBean(u)),i.isAlive()&&(Nr(i.eWrapper,!1),i.getFocusableElement().focus()),i.isPickerDisplayed=!1}),l},r.prototype.setValue=function(i){return this.value===i?this:(this.eDisplayField.style.backgroundColor=i,c.prototype.setValue.call(this,i))},r.prototype.getValue=function(){return this.value},r}(If),DD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),us=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},cC=function(c){function r(i){void 0===i&&(i={});var s=c.call(this,r.getTemplate(i))||this;s.suppressEnabledCheckbox=!0,s.suppressOpenCloseIcons=!1;var u=i.enabled,h=i.items,g=i.suppressEnabledCheckbox,_=i.suppressOpenCloseIcons;return s.title=i.title,s.cssIdentifier=i.cssIdentifier||"default",s.enabled=null==u||u,s.items=h||[],s.alignItems=i.alignItems||"center",null!=g&&(s.suppressEnabledCheckbox=g),null!=_&&(s.suppressOpenCloseIcons=_),s}return DD(r,c),r.getTemplate=function(i){var s=i.cssIdentifier||"default";return'<div class="ag-group ag-'+s+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+s+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+s+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+s+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+s+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+s+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(i.direction||"vertical")+" ag-"+s+'-group-container"></div>\n        </div>'},r.prototype.postConstruct=function(){if(this.items.length){var i=this.items;this.items=[],this.addItems(i)}var s=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(s("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},r.prototype.setupExpandContract=function(){var i=this;this.eGroupClosedIcon.appendChild(zi("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(zi("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return i.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(s){switch(s.key){case le.ENTER:case le.SPACE:s.preventDefault(),i.toggleGroupExpand();break;case le.RIGHT:case le.LEFT:s.preventDefault(),i.toggleGroupExpand(s.key===le.RIGHT)}})},r.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Nr(this.eTitleBar,this.expanded)},r.prototype.refreshChildDisplay=function(){var i=!this.suppressOpenCloseIcons;Lt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Lt(this.eGroupOpenedIcon,i&&this.expanded),Lt(this.eGroupClosedIcon,i&&!this.expanded)},r.prototype.isExpanded=function(){return this.expanded},r.prototype.setAlignItems=function(i){return this.alignItems!==i&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=i,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},r.prototype.toggleGroupExpand=function(i){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Lt(this.eContainer,!0),this):(this.expanded===(i=null!=i?i:!this.expanded)||(this.expanded=i,this.refreshAriaStatus(),this.refreshChildDisplay(),Lt(this.eContainer,i),this.dispatchEvent({type:this.expanded?r.EVENT_EXPANDED:r.EVENT_COLLAPSED})),this)},r.prototype.addItems=function(i){var s=this;i.forEach(function(l){return s.addItem(l)})},r.prototype.addItem=function(i){var s=this.eContainer,l=i instanceof Me?i.getGui():i;l.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),s.appendChild(l),this.items.push(l)},r.prototype.hideItem=function(i,s){this.items[s].classList.toggle("ag-hidden",i)},r.prototype.setTitle=function(i){return this.eTitle.innerText=i,this},r.prototype.addCssClassToTitleBar=function(i){this.eTitleBar.classList.add(i)},r.prototype.setEnabled=function(i,s){return this.enabled=i,this.refreshDisabledStyles(),this.toggleGroupExpand(i),s||this.cbGroupEnabled.setValue(i),this},r.prototype.isEnabled=function(){return this.enabled},r.prototype.onEnableChange=function(i){var s=this;return this.cbGroupEnabled.onValueChange(function(l){s.setEnabled(l,!0),i(l)}),this},r.prototype.hideEnabledCheckbox=function(i){return this.suppressEnabledCheckbox=i,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},r.prototype.hideOpenCloseIcons=function(i){return this.suppressOpenCloseIcons=i,i&&this.toggleGroupExpand(!0),this},r.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},r.EVENT_EXPANDED="expanded",r.EVENT_COLLAPSED="collapsed",us([ae("eTitleBar")],r.prototype,"eTitleBar",void 0),us([ae("eGroupOpenedIcon")],r.prototype,"eGroupOpenedIcon",void 0),us([ae("eGroupClosedIcon")],r.prototype,"eGroupClosedIcon",void 0),us([ae("eToolbar")],r.prototype,"eToolbar",void 0),us([ae("cbGroupEnabled")],r.prototype,"cbGroupEnabled",void 0),us([ae("eTitle")],r.prototype,"eTitle",void 0),us([ae("eContainer")],r.prototype,"eContainer",void 0),us([ge],r.prototype,"postConstruct",null),r}(Me),dC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),pC=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},hC=function(c){function r(i){var s=c.call(this)||this;s.skipTabGuardFocus=!1;var u=i.eTopGuard,h=i.eBottomGuard,g=i.focusInnerElement,_=i.onFocusIn,w=i.onFocusOut,E=i.shouldStopEventPropagation,D=i.onTabKeyDown,M=i.handleKeyDown,G=i.eFocusableElement;return s.comp=i.comp,s.eTopGuard=u,s.eBottomGuard=h,s.providedFocusInnerElement=g,s.eFocusableElement=G,s.providedFocusIn=_,s.providedFocusOut=w,s.providedShouldStopEventPropagation=E,s.providedOnTabKeyDown=D,s.providedHandleKeyDown=M,s}return dC(r,c),r.prototype.postConstruct=function(){var i=this;this.createManagedBean(new Xo(this.eFocusableElement,{shouldStopEventPropagation:function(){return i.shouldStopEventPropagation()},onTabKeyDown:function(s){return i.onTabKeyDown(s)},handleKeyDown:function(s){return i.handleKeyDown(s)},onFocusIn:function(s){return i.onFocusIn(s)},onFocusOut:function(s){return i.onFocusOut(s)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(s){return i.addManagedListener(s,"focus",i.onFocus.bind(i))})},r.prototype.handleKeyDown=function(i){this.providedHandleKeyDown&&this.providedHandleKeyDown(i)},r.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},r.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},r.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},r.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},r.prototype.onFocus=function(i){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var s=i.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(s):this.focusInnerElement(s)}},r.prototype.onFocusIn=function(i){this.providedFocusIn&&this.providedFocusIn(i)||this.deactivateTabGuards()},r.prototype.onFocusOut=function(i){this.providedFocusOut&&this.providedFocusOut(i)||this.eFocusableElement.contains(i.relatedTarget)||this.activateTabGuards()},r.prototype.onTabKeyDown=function(i){var s=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(i);else if(!i.defaultPrevented){var l=this.tabGuardsAreActive();l&&this.deactivateTabGuards();var u=this.getNextFocusableElement(i.shiftKey);l&&setTimeout(function(){return s.activateTabGuards()},0),u&&(u.focus(),i.preventDefault())}},r.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},r.prototype.focusInnerElement=function(i){void 0===i&&(i=!1);var s=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(s.splice(0,1),s.splice(s.length-1,1)),s.length&&s[i?s.length-1:0].focus()},r.prototype.getNextFocusableElement=function(i){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,i)},r.prototype.forceFocusOutOfContainer=function(i){void 0===i&&(i=!1);var s=i?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,s.focus()},pC([N("focusService")],r.prototype,"focusService",void 0),pC([ge],r.prototype,"postConstruct",null),r}(pe),fC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),gC=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},Yi=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return fC(r,c),r.prototype.initialiseTabGuard=function(i){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var s=[this.eTopGuard,this.eBottomGuard],l={setTabIndex:function(u){s.forEach(function(h){return null!=u?h.setAttribute("tabIndex",u):h.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new hC({comp:l,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:i.onFocusIn,onFocusOut:i.onFocusOut,focusInnerElement:i.focusInnerElement,handleKeyDown:i.handleKeyDown,onTabKeyDown:i.onTabKeyDown,shouldStopEventPropagation:i.shouldStopEventPropagation}))},r.prototype.createTabGuard=function(i){var s=document.createElement("div");return s.classList.add("ag-tab-guard","ag-tab-guard-"+i),Un(s,"presentation"),s},r.prototype.addTabGuards=function(i,s){this.eFocusableElement.insertAdjacentElement("afterbegin",i),this.eFocusableElement.insertAdjacentElement("beforeend",s)},r.prototype.removeAllChildrenExceptTabGuards=function(){var i=[this.eTopGuard,this.eBottomGuard];Wi(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(gC(arguments[r]));return c}(i))},r.prototype.forceFocusOutOfContainer=function(i){void 0===i&&(i=!1),this.tabGuardCtrl.forceFocusOutOfContainer(i)},r.prototype.appendChild=function(i,s){Yo(i)||(i=i.getGui());var l=this.eBottomGuard;l?l.insertAdjacentElement("beforebegin",i):c.prototype.appendChild.call(this,i,s)},r}(Me),Ng=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Up=function(){return Up=Object.assign||function(c){for(var r,i=1,s=arguments.length;i<s;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(c[l]=r[l]);return c},Up.apply(this,arguments)},mC=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},OD=function(c){function r(i){void 0===i&&(i=1);var s=c.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return s.level=i,s.menuItems=[],s}return Ng(r,c),r.prototype.postConstruct=function(){var i=this;this.initialiseTabGuard({onTabKeyDown:function(s){return i.onTabKeyDown(s)},handleKeyDown:function(s){return i.handleKeyDown(s)}})},r.prototype.onTabKeyDown=function(i){var s=this.getParentComponent(),l=s&&s.getGui();l&&l.classList.contains("ag-focus-managed")||i.preventDefault(),i.shiftKey&&this.closeIfIsChild(i)},r.prototype.handleKeyDown=function(i){switch(i.key){case le.UP:case le.RIGHT:case le.DOWN:case le.LEFT:i.preventDefault(),this.handleNavKey(i.key);break;case le.ESCAPE:var s=this.findTopMenu();s&&this.focusService.focusInto(s.getGui())}},r.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},r.prototype.addMenuItems=function(i){var s=this;null!=i&&i.forEach(function(l){"separator"===l?s.addSeparator():"string"==typeof l?console.warn("AG Grid: unrecognised menu item "+l):s.addItem(l)})},r.prototype.addItem=function(i){var s=this,l=this.createManagedBean(new Bl(Up(Up({},i),{isAnotherSubMenuOpen:function(){return s.menuItems.some(function(u){return u.isSubMenuOpen()})}})));l.setParentComponent(this),R0(l.getGui(),this.level),this.menuItems.push(l),this.appendChild(l.getGui()),this.addManagedListener(l,Bl.EVENT_MENU_ITEM_SELECTED,function(u){s.dispatchEvent(u)}),this.addManagedListener(l,Bl.EVENT_MENU_ITEM_ACTIVATED,function(u){s.activeMenuItem&&s.activeMenuItem!==u.menuItem&&s.activeMenuItem.deactivate(),s.activeMenuItem=u.menuItem})},r.prototype.activateFirstItem=function(){var i=this.menuItems.filter(function(s){return!s.isDisabled()})[0];!i||i.activate()},r.prototype.addSeparator=function(){this.appendChild(Zt('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},r.prototype.findTopMenu=function(){var i=this.getParentComponent();if(!i&&this instanceof r)return this;for(;;){var s=i&&i.getParentComponent&&i.getParentComponent();if(!s||!(s instanceof r||s instanceof Bl))break;i=s}return i instanceof r?i:void 0},r.prototype.handleNavKey=function(i){switch(i){case le.UP:case le.DOWN:var s=this.findNextItem(i===le.UP);return void(s&&s!==this.activeMenuItem&&s.activate())}i===(this.gridOptionsWrapper.isEnableRtl()?le.RIGHT:le.LEFT)?this.closeIfIsChild():this.openChild()},r.prototype.closeIfIsChild=function(i){var s=this.getParentComponent();s&&s instanceof Bl&&(i&&i.preventDefault(),s.closeSubMenu(),s.getGui().focus())},r.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},r.prototype.findNextItem=function(i){var s=this.menuItems.filter(function(_){return!_.isDisabled()});if(s.length){if(!this.activeMenuItem)return i?Pt(s):s[0];i&&s.reverse();for(var l,u=!1,h=0;h<s.length;h++){var g=s[h];if(u){l=g;break}g===this.activeMenuItem&&(u=!0)}return l||this.activeMenuItem}},r.prototype.destroy=function(){this.clearActiveItem(),c.prototype.destroy.call(this)},mC([N("focusService")],r.prototype,"focusService",void 0),mC([ge],r.prototype,"postConstruct",null),r}(Yi),vC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),yC=function(c){function r(i){var s=c.call(this)||this;return s.wrappedComponent=i,s.setTemplateFromElement(i.getGui()),s}return vC(r,c),r.prototype.postConstruct=function(){var i=this;this.initialiseTabGuard({onTabKeyDown:function(s){return i.onTabKeyDown(s)},handleKeyDown:function(s){return i.handleKeyDown(s)}})},r.prototype.handleKeyDown=function(i){i.key===le.ESCAPE&&this.closePanel()},r.prototype.onTabKeyDown=function(i){i.defaultPrevented||(this.closePanel(),i.preventDefault())},r.prototype.closePanel=function(){var i=this.parentComponent;i.closeSubMenu(),setTimeout(function(){return i.getGui().focus()},0)},function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);l>3&&u&&Object.defineProperty(r,i,u)}([ge],r.prototype,"postConstruct",null),r}(Yi),AD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),zp=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Bl=function(c){function r(i){var s=c.call(this)||this;return s.params=i,s.isActive=!1,s.subMenuIsOpen=!1,s.setTemplate('<div class="'+s.getClassName()+'" tabindex="-1" role="treeitem"></div>'),s}return AD(r,c),r.prototype.init=function(){var i=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var s=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Sy(s,!0)):(this.addGuiEventListener("click",function(l){return i.onItemSelected(l)}),this.addGuiEventListener("keydown",function(l){(l.key===le.ENTER||l.key===le.SPACE)&&(l.preventDefault(),i.onItemSelected(l))}),this.addGuiEventListener("mousedown",function(l){l.stopPropagation(),l.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return i.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return i.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(l){return i.addCssClass(l)})},r.prototype.isDisabled=function(){return!!this.params.disabled},r.prototype.openSubMenu=function(i){var s=this;if(void 0===i&&(i=!1),this.closeSubMenu(),this.params.subMenu){var u,l=Zt('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var h=ku(this.getGui()),g=isNaN(h)?1:h+1,_=this.createBean(new OD(g));_.setParentComponent(this),_.addMenuItems(this.params.subMenu),l.appendChild(_.getGui()),this.addManagedListener(_,r.EVENT_MENU_ITEM_SELECTED,function(J){return s.dispatchEvent(J)}),_.addGuiEventListener("mouseenter",function(){return s.cancelDeactivate()}),u=function(){return s.destroyBean(_)},i&&setTimeout(function(){return _.activateFirstItem()},0)}else{var w=this.params.subMenu,E=this.createBean(new yC(w));E.setParentComponent(this);var D=E.getGui(),M="mouseenter",G=function(){return s.cancelDeactivate()};D.addEventListener(M,G),u=function(){return D.removeEventListener(M,G)},l.appendChild(D),w.afterGuiAttached&&setTimeout(function(){return w.afterGuiAttached()},0)}var V=this.getGui(),B=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:V,ePopup:l}),q=this.gridOptionsWrapper.getLocaleTextFunc(),Z=this.popupService.addPopup({modal:!0,eChild:l,positionCallback:B,anchorToElement:V,ariaLabel:q("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Nr(V,!0),this.hideSubMenu=function(){Z&&Z.hideFunc(),s.subMenuIsOpen=!1,Nr(V,!1),u()}}},r.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,Nr(this.getGui(),!1))},r.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},r.prototype.activate=function(i){var s=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),i&&this.params.subMenu&&window.setTimeout(function(){s.isAlive()&&s.isActive&&s.openSubMenu()},300),this.onItemActivated())},r.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},r.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var i=Zt('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?i.appendChild(Gn("check",this.gridOptionsWrapper)):this.params.icon&&(Yo(this.params.icon)?i.appendChild(this.params.icon):"string"==typeof this.params.icon?i.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(i)}},r.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var i=Zt('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(i)}},r.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new jd(this)))},r.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},r.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var i=Zt('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(i)}},r.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var i=Zt('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),s=this.getGui();if(this.params.subMenu){var l=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";Nr(s,!1),i.appendChild(Gn(l,this.gridOptionsWrapper))}s.appendChild(i)}},r.prototype.onItemSelected=function(i){this.params.action?this.params.action():this.openSubMenu(i&&"keydown"===i.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:r.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:i})},r.prototype.onItemActivated=function(){this.dispatchEvent({type:r.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},r.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},r.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},r.prototype.onMouseEnter=function(){var i=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return i.activate(!0)},r.ACTIVATION_DELAY):this.activate(!0)},r.prototype.onMouseLeave=function(){var i=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return i.deactivate()},r.ACTIVATION_DELAY):this.deactivate()},r.prototype.getClassName=function(i){var s=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return i?s+"-"+i:s},r.EVENT_MENU_ITEM_SELECTED="menuItemSelected",r.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",r.ACTIVATION_DELAY=80,zp([N("popupService")],r.prototype,"popupService",void 0),zp([ge],r.prototype,"init",null),r}(Me),PD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Fi=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Mg=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},Bs=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}var i;return PD(r,c),i=r,r.addKeyboardModeEvents=function(s,l){var u=i.instancesMonitored.get(s);u&&u.length>0?-1===u.indexOf(l)&&u.push(l):(i.instancesMonitored.set(s,[l]),s.addEventListener("keydown",i.toggleKeyboardMode),s.addEventListener("mousedown",i.toggleKeyboardMode))},r.removeKeyboardModeEvents=function(s,l){var u=i.instancesMonitored.get(s),h=[];u&&u.length&&(h=function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(Mg(arguments[r]));return c}(u).filter(function(g){return g!==l}),i.instancesMonitored.set(s,h)),0===h.length&&(s.removeEventListener("keydown",i.toggleKeyboardMode),s.removeEventListener("mousedown",i.toggleKeyboardMode))},r.toggleKeyboardMode=function(s){var l=i.keyboardModeActive,u="keydown"===s.type;if(!(u&&(s.ctrlKey||s.metaKey||s.altKey)||l&&u||!l&&!u)){i.keyboardModeActive=u;var h=s.target.ownerDocument;if(h){var g=i.instancesMonitored.get(h);g&&g.forEach(function(_){_.dispatchEvent({type:u?L.EVENT_KEYBOARD_FOCUS:L.EVENT_MOUSE_FOCUS})})}}},r.prototype.init=function(){var s=this,l=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_MODE_CHANGED,l),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_GROUP_OPENED,l),this.addManagedListener(this.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,l),this.ctrlsService.whenReady(function(u){s.gridCtrl=u.gridCtrl;var h=s.gridOptionsWrapper.getDocument();i.addKeyboardModeEvents(h,s.gridCtrl),s.addDestroyFunc(function(){return s.unregisterGridCompController(s.gridCtrl)})})},r.prototype.unregisterGridCompController=function(s){var l=this.gridOptionsWrapper.getDocument();i.removeKeyboardModeEvents(l,s)},r.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var s=this.focusedCellPosition.column,l=this.columnModel.getGridColumn(s.getId());s!==l&&this.clearFocusedCell()}},r.prototype.isKeyboardMode=function(){return i.keyboardModeActive},r.prototype.getFocusCellToUseAfterRefresh=function(){var s=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(s.activeElement,Ls.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},r.prototype.getFocusHeaderToUseAfterRefresh=function(){var s=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(s.activeElement,Nl.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},r.prototype.isDomDataMissingInHierarchy=function(s,l){for(var u=s;u;){if(this.gridOptionsWrapper.getDomData(u,l))return!1;u=u.parentNode}return!0},r.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},r.prototype.getFocusedCell=function(){return this.focusedCellPosition},r.prototype.setFocusedCell=function(s,l,u,h){void 0===h&&(h=!1);var g=this.columnModel.getGridColumn(l);g?(this.focusedCellPosition=g?{rowIndex:s,rowPinned:Rr(u),column:g}:null,this.onCellFocused(h)):this.focusedCellPosition=null},r.prototype.isCellFocused=function(s){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===s.column&&this.isRowFocused(s.rowIndex,s.rowPinned)},r.prototype.isRowNodeFocused=function(s){return this.isRowFocused(s.rowIndex,s.rowPinned)},r.prototype.isHeaderWrapperFocused=function(s){if(null==this.focusedHeaderPosition)return!1;var l=s.getColumnGroupChild(),u=s.getRowIndex(),h=s.getPinned(),g=this.focusedHeaderPosition,_=g.column;return l===_&&u===g.headerRowIndex&&h==_.getPinned()},r.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},r.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},r.prototype.setFocusedHeader=function(s,l){this.focusedHeaderPosition={headerRowIndex:s,column:l}},r.prototype.focusHeaderPosition=function(s){var l=s.direction,u=s.fromTab,g=s.event,_=s.headerPosition;if(s.allowUserOverride){var M,w=this.gridOptionsWrapper,E=this.getFocusedHeader(),D=this.headerNavigationService.getHeaderRowCount();u?(M=w.getTabToNextHeaderFunc())&&(_=M({backwards:"Before"===l,previousHeaderPosition:E,nextHeaderPosition:_,headerRowCount:D})):(M=w.getNavigateToNextHeaderFunc())&&g&&(_=M({key:g.key,previousHeaderPosition:E,nextHeaderPosition:_,headerRowCount:D,event:g}))}return!!_&&(-1===_.headerRowIndex?this.focusGridView(_.column):(this.headerNavigationService.scrollToColumn(_.column,l),this.ctrlsService.getHeaderRowContainerCtrl(_.column.getPinned()).focusHeader(_.headerRowIndex,_.column,g)))},r.prototype.focusFirstHeader=function(){var s=this.columnModel.getAllDisplayedColumns()[0];return!!s&&(s.getParent()&&(s=this.columnModel.getColumnGroupAtLevel(s,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:s}}))},r.prototype.focusLastHeader=function(s){var l=this.headerNavigationService.getHeaderRowCount()-1,u=Pt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:l,column:u},event:s})},r.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},r.prototype.isRowFocused=function(s,l){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===s&&this.focusedCellPosition.rowPinned===Rr(l)},r.prototype.findFocusableElements=function(s,l,u){void 0===u&&(u=!1);var g=j.FOCUSABLE_EXCLUDE;l&&(g+=", "+l),u&&(g+=', [tabindex="-1"]');var M,_=Array.prototype.slice.apply(s.querySelectorAll(j.FOCUSABLE_SELECTOR)),w=Array.prototype.slice.apply(s.querySelectorAll(g));return w.length?(M=w,_.filter(function(G){return-1===M.indexOf(G)})):_},r.prototype.focusInto=function(s,l,u){void 0===l&&(l=!1),void 0===u&&(u=!1);var h=this.findFocusableElements(s,null,u),g=l?Pt(h):h[0];return!!g&&(g.focus(),!0)},r.prototype.findNextFocusableElement=function(s,l,u){void 0===s&&(s=this.eGridDiv);var h=this.findFocusableElements(s,l?':not([tabindex="-1"])':null),_=this.gridOptionsWrapper.getDocument().activeElement,E=(l?h.findIndex(function(D){return D.contains(_)}):h.indexOf(_))+(u?-1:1);return E<0||E>=h.length?null:h[E]},r.prototype.isFocusUnderManagedComponent=function(s){var l=this.gridOptionsWrapper.getDocument(),u=s.querySelectorAll("."+Xo.FOCUS_MANAGED_CLASS);if(!u.length)return!1;for(var h=0;h<u.length;h++)if(u[h].contains(l.activeElement))return!0;return!1},r.prototype.findTabbableParent=function(s,l){void 0===l&&(l=5);for(var u=0;s&&null===Hi(s)&&++u<=l;)s=s.parentElement;return null===Hi(s)?null:s},r.prototype.onCellFocused=function(s){var l={type:L.EVENT_CELL_FOCUSED,forceBrowserFocus:s,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var u=l.rowIndex=this.focusedCellPosition.rowIndex,h=l.rowPinned=this.focusedCellPosition.rowPinned;l.column=this.focusedCellPosition.column;var g=this.rowRenderer.getRowByPosition({rowIndex:u,rowPinned:h});g&&(l.isFullWidthCell=g.isFullWidth())}this.eventService.dispatchEvent(l)},r.prototype.focusGridView=function(s,l){if(this.gridOptionsWrapper.isSuppressCellFocus())return l?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var u=l?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!u)return!1;var h=u.rowIndex,g=u.rowPinned,_=this.getFocusedHeader();return!s&&_&&(s=_.column),!(null==h||!s)&&(this.navigationService.ensureCellVisible({rowIndex:h,column:s,rowPinned:g}),this.setFocusedCell(h,s,Rr(g),!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:h,rowPinned:g,column:s}),!0)},r.prototype.focusNextGridCoreContainer=function(s){return!!this.gridCtrl.focusNextInnerContainer(s)||(!s&&!this.gridCtrl.isDetailGrid()&&this.gridCtrl.forceFocusOutOfContainer(),!1)},r.AG_KEYBOARD_FOCUS="ag-keyboard-focus",r.keyboardModeActive=!1,r.instancesMonitored=new Map,Fi([N("eGridDiv")],r.prototype,"eGridDiv",void 0),Fi([N("columnModel")],r.prototype,"columnModel",void 0),Fi([N("headerNavigationService")],r.prototype,"headerNavigationService",void 0),Fi([N("columnApi")],r.prototype,"columnApi",void 0),Fi([N("gridApi")],r.prototype,"gridApi",void 0),Fi([N("rowRenderer")],r.prototype,"rowRenderer",void 0),Fi([N("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),Fi([vt("rangeService")],r.prototype,"rangeService",void 0),Fi([N("navigationService")],r.prototype,"navigationService",void 0),Fi([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Fi([ge],r.prototype,"init",null),i=Fi([we("focusService")],r)}(pe),Ig=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Wl=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Ws=(()=>(function(c){c[c.vertical=0]="vertical",c[c.horizontal=1]="horizontal"}(Ws||(Ws={})),Ws))(),WN=0,$p=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.popupList=[],i}return Ig(r,c),r.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.gridCtrl=s.gridCtrl,i.addManagedListener(i.gridCtrl,L.EVENT_KEYBOARD_FOCUS,function(){i.popupList.forEach(function(l){return l.element.classList.add(Bs.AG_KEYBOARD_FOCUS)})}),i.addManagedListener(i.gridCtrl,L.EVENT_MOUSE_FOCUS,function(){i.popupList.forEach(function(l){return l.element.classList.remove(Bs.AG_KEYBOARD_FOCUS)})})})},r.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},r.prototype.positionPopupForMenu=function(i){var s=i.eventSource.getBoundingClientRect(),l=this.getParentRect(),u=this.keepXYWithinBounds(i.ePopup,s.top-l.top,Ws.vertical),h=i.ePopup.clientWidth>0?i.ePopup.clientWidth:200;i.ePopup.style.minWidth=h+"px";var w,_=l.right-l.left-h;function E(){return s.right-l.left-2}function D(){return s.left-l.left-h}this.gridOptionsWrapper.isEnableRtl()?((w=D())<0&&(w=E()),w>_&&(w=0)):((w=E())>_&&(w=D()),w<0&&(w=0)),i.ePopup.style.left=w+"px",i.ePopup.style.top=u+"px"},r.prototype.positionPopupUnderMouseEvent=function(i){var s=i.ePopup,l=i.nudgeX,u=i.nudgeY,h=this.calculatePointerAlign(i.mouseEvent);this.positionPopup({ePopup:s,x:h.x,y:h.y,nudgeX:l,nudgeY:u,keepWithinBounds:!0}),this.callPostProcessPopup(i.type,i.ePopup,null,i.mouseEvent,i.column,i.rowNode)},r.prototype.calculatePointerAlign=function(i){var s=this.getParentRect();return{x:i.clientX-s.left,y:i.clientY-s.top}},r.prototype.positionPopupUnderComponent=function(i){var s=i.eventSource.getBoundingClientRect(),l=i.alignSide||"left",u=this.getParentRect(),h=s.left-u.left;"right"===l&&(h-=i.ePopup.offsetWidth-s.width),this.positionPopup({ePopup:i.ePopup,nudgeX:i.nudgeX,nudgeY:i.nudgeY,x:h,y:s.top-u.top+s.height,keepWithinBounds:i.keepWithinBounds}),this.callPostProcessPopup(i.type,i.ePopup,i.eventSource,null,i.column,i.rowNode)},r.prototype.positionPopupOverComponent=function(i){var s=i.eventSource.getBoundingClientRect(),l=this.getParentRect();this.positionPopup({ePopup:i.ePopup,nudgeX:i.nudgeX,nudgeY:i.nudgeY,x:s.left-l.left,y:s.top-l.top,keepWithinBounds:i.keepWithinBounds}),this.callPostProcessPopup(i.type,i.ePopup,i.eventSource,null,i.column,i.rowNode)},r.prototype.callPostProcessPopup=function(i,s,l,u,h,g){var _=this.gridOptionsWrapper.getPostProcessPopupFunc();_&&_({column:h,rowNode:g,ePopup:s,type:i,eventSource:l,mouseEvent:u})},r.prototype.positionPopup=function(i){var s=i.ePopup,u=i.nudgeX,h=i.nudgeY,g=i.x,_=i.y;u&&(g+=u),h&&(_+=h),i.keepWithinBounds&&(g=this.keepXYWithinBounds(s,g,Ws.horizontal),_=this.keepXYWithinBounds(s,_,Ws.vertical)),s.style.left=g+"px",s.style.top=_+"px"},r.prototype.getActivePopups=function(){return this.popupList.map(function(i){return i.element})},r.prototype.getPopupList=function(){return this.popupList},r.prototype.getParentRect=function(){var i=this.gridOptionsWrapper.getDocument(),s=this.getPopupParent();s===i.body&&(s=i.documentElement);var l=getComputedStyle(s),u=s.getBoundingClientRect();return{top:u.top+parseFloat(l.borderTopWidth)||0,left:u.left+parseFloat(l.borderLeftWidth)||0,right:u.right+parseFloat(l.borderRightWidth)||0,bottom:u.bottom+parseFloat(l.borderBottomWidth)||0}},r.prototype.keepXYWithinBounds=function(i,s,l){var u=l===Ws.vertical,h=u?"clientHeight":"clientWidth",g=u?"top":"left",_=u?"offsetHeight":"offsetWidth",w=u?"scrollTop":"scrollLeft",E=this.gridOptionsWrapper.getDocument(),D=E.documentElement,M=this.getPopupParent(),G=M.getBoundingClientRect(),V=E.documentElement.getBoundingClientRect(),B=M===E.body,q=i[_],J=B?(u?Ld:Iu)(D)+D[w]:M[h];B&&(J-=Math.abs(V[g]-G[g]));var oe=J-q;return Math.min(Math.max(s,0),Math.abs(oe))},r.prototype.keepPopupPositionedRelativeTo=function(i){var s=this,l=this.getPopupParent(),u=l.getBoundingClientRect(),h=i.element.getBoundingClientRect(),g=u.top-h.top,_=u.left-h.left,w=g,E=_,D=i.ePopup.style.top,M=parseInt(D.substring(0,D.length-1),10),G=i.ePopup.style.left,V=parseInt(G.substring(0,G.length-1),10);return new Pi(function(B){s.getFrameworkOverrides().setInterval(function(){var q=l.getBoundingClientRect(),Z=i.element.getBoundingClientRect();if(0==Z.top&&0==Z.left&&0==Z.height&&0==Z.width)i.hidePopup();else{var oe=q.top-Z.top;if(oe!=w){var fe=s.keepXYWithinBounds(i.ePopup,M+g-oe,Ws.vertical);i.ePopup.style.top=fe+"px"}w=oe;var Se=q.left-Z.left;if(Se!=E){var ke=s.keepXYWithinBounds(i.ePopup,V+_-Se,Ws.horizontal);i.ePopup.style.left=ke+"px"}E=Se}},200).then(function(q){B(function(){null!=q&&window.clearInterval(q)})})})},r.prototype.addPopup=function(i){var s=this,l=i.modal,u=i.eChild,h=i.closeOnEsc,g=i.closedCallback,_=i.click,w=i.alwaysOnTop,E=i.afterGuiAttached,D=i.positionCallback,M=i.anchorToElement,G=i.ariaLabel,V=this.gridOptionsWrapper.getDocument(),B=new Pi(function(ut){return ut(function(){})});if(!V)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:B};var q=this.popupList.findIndex(function(ut){return ut.element===u});if(-1!==q){var Z=this.popupList[q];return{hideFunc:Z.hideFunc,stopAnchoringPromise:Z.stopAnchoringPromise}}var J=this.getPopupParent();null==u.style.top&&(u.style.top="0px"),null==u.style.left&&(u.style.left="0px");var oe=document.createElement("div"),fe=this.environment.getTheme().theme;fe&&oe.classList.add(fe),oe.classList.add("ag-popup"),u.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),u.hasAttribute("role")||Un(u,"dialog"),vl(u,G),this.focusService.isKeyboardMode()&&u.classList.add(Bs.AG_KEYBOARD_FOCUS),oe.appendChild(u),J.appendChild(oe),w?this.setAlwaysOnTop(oe,!0):this.bringPopupToFront(oe);var Se=!1,ke=function(ut){oe.contains(V.activeElement)&&ut.key===le.ESCAPE&&lt({keyboardEvent:ut})},Ve=function(ut){return lt({mouseEvent:ut})},Ie=function(ut){return lt({touchEvent:ut})},lt=function(ut){void 0===ut&&(ut={});var _n=ut.mouseEvent,Cn=ut.touchEvent,so=ut.keyboardEvent;s.isEventFromCurrentPopup({mouseEvent:_n,touchEvent:Cn},u)||s.isEventSameChainAsOriginalEvent({originalMouseEvent:_,mouseEvent:_n,touchEvent:Cn})||Se||(Se=!0,J.removeChild(oe),V.removeEventListener("keydown",ke),V.removeEventListener("mousedown",Ve),V.removeEventListener("touchstart",Ie),V.removeEventListener("contextmenu",Ve),s.eventService.removeEventListener(L.EVENT_DRAG_STARTED,Ve),g&&g(_n||Cn||so),s.popupList=s.popupList.filter(function(fr){return fr.element!==u}),B&&B.then(function(fr){return fr&&fr()}))};return E&&E({hidePopup:lt}),window.setTimeout(function(){h&&V.addEventListener("keydown",ke),l&&(V.addEventListener("mousedown",Ve),s.eventService.addEventListener(L.EVENT_DRAG_STARTED,Ve),V.addEventListener("touchstart",Ie),V.addEventListener("contextmenu",Ve))},0),D&&D(),M&&(B=this.keepPopupPositionedRelativeTo({element:M,ePopup:u,hidePopup:lt})),this.popupList.push({element:u,wrapper:oe,hideFunc:lt,stopAnchoringPromise:B,instanceId:WN++,isAnchored:!!M}),{hideFunc:lt,stopAnchoringPromise:B}},r.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(i){return i.isAnchored})},r.prototype.isEventFromCurrentPopup=function(i,s){var h=i.mouseEvent||i.touchEvent;if(!h)return!1;var g=this.popupList.findIndex(function(E){return E.element===s});if(-1===g)return!1;for(var _=g;_<this.popupList.length;_++)if(Td(this.popupList[_].element,h))return!0;return this.isElementWithinCustomPopup(h.target)},r.prototype.isElementWithinCustomPopup=function(i){for(var s=this.gridOptionsWrapper.getDocument();i&&i!==s.body;){if(i.classList.contains("ag-custom-component-popup")||null===i.parentElement)return!0;i=i.parentElement}return!1},r.prototype.isEventSameChainAsOriginalEvent=function(i){var s=i.originalMouseEvent,l=i.mouseEvent,u=i.touchEvent,h=null;if(l?h=l:u&&(h=u.touches[0]),h&&s){var _=l?l.screenY:0,w=Math.abs(s.screenX-(l?l.screenX:0))<5,E=Math.abs(s.screenY-_)<5;if(w&&E)return!0}return!1},r.prototype.getWrapper=function(i){for(;!i.classList.contains("ag-popup")&&i.parentElement;)i=i.parentElement;return i.classList.contains("ag-popup")?i:null},r.prototype.setAlwaysOnTop=function(i,s){var l=this.getWrapper(i);!l||(l.classList.toggle("ag-always-on-top",!!s),s&&this.bringPopupToFront(l))},r.prototype.bringPopupToFront=function(i){var s=this.getPopupParent(),l=Array.prototype.slice.call(s.querySelectorAll(".ag-popup")),u=l.length,h=Array.prototype.slice.call(s.querySelectorAll(".ag-popup.ag-always-on-top")),g=h.length,_=this.getWrapper(i);if(_&&!(u<=1)&&s.contains(i)){var w=l.indexOf(_),E=_.querySelectorAll("div"),D=[];for(E.forEach(function(B){0!==B.scrollTop&&D.push([B,B.scrollTop])}),g?_.classList.contains("ag-always-on-top")?w!==u-1&&Pt(h).insertAdjacentElement("afterend",_):w!==u-g-1&&h[0].insertAdjacentElement("beforebegin",_):w!==u-1&&Pt(l).insertAdjacentElement("afterend",_);D.length;){var G=D.pop();G[0].scrollTop=G[1]}var V={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:_};this.eventService.dispatchEvent(V)}},Wl([N("environment")],r.prototype,"environment",void 0),Wl([N("focusService")],r.prototype,"focusService",void 0),Wl([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Wl([ge],r.prototype,"postConstruct",null),Wl([we("popupService")],r)}(pe),jN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Kp=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},CC=(function(c){function r(i,s,l){void 0===i&&(i="default"),void 0===s&&(s="listbox");var u=c.call(this,r.getTemplate(i))||this;return u.cssIdentifier=i,u.ariaRole=s,u.listName=l,u.renderedRows=new Map,u.rowHeight=20,u.isDestroyed=!1,u}jN(r,c),r.prototype.postConstruct=function(){var i=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(s){return i.onFocusIn(s)},onFocusOut:function(s){return i.onFocusOut(s)},focusInnerElement:function(s){return i.focusInnerElement(s)},onTabKeyDown:function(s){return i.onTabKeyDown(s)},handleKeyDown:function(s){return i.handleKeyDown(s)}}),this.setAriaProperties()},r.prototype.setAriaProperties=function(){var s=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),l=this.eContainer;Un(l,this.ariaRole),vl(l,s)},r.prototype.addResizeObserver=function(){var i=this.drawVirtualRows.bind(this),s=this.resizeObserverService.observeResize(this.getGui(),i);this.addDestroyFunc(s)},r.prototype.focusInnerElement=function(i){this.focusRow(i?this.model.getRowCount()-1:0)},r.prototype.onFocusIn=function(i){var s=i.target;return s.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Pr(s)-1),!1},r.prototype.onFocusOut=function(i){return this.getFocusableElement().contains(i.relatedTarget)||(this.lastFocusedRowIndex=null),!1},r.prototype.handleKeyDown=function(i){switch(i.key){case le.UP:case le.DOWN:this.navigate(i.key===le.UP)&&i.preventDefault()}},r.prototype.onTabKeyDown=function(i){this.navigate(i.shiftKey)?i.preventDefault():this.focusService.focusInto(this.getGui(),!i.shiftKey)},r.prototype.navigate=function(i){if(null==this.lastFocusedRowIndex)return!1;var s=this.lastFocusedRowIndex+(i?-1:1);return!(s<0||s>=this.model.getRowCount()||(this.focusRow(s),0))},r.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},r.prototype.focusRow=function(i){var s=this;this.ensureIndexVisible(i),window.setTimeout(function(){var l=s.renderedRows.get(i);l&&l.eDiv.focus()},10)},r.prototype.getComponentAt=function(i){var s=this.renderedRows.get(i);return s&&s.rowComponent},r.getTemplate=function(i){return'\n            <div class="ag-virtual-list-viewport ag-'+i+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+i+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},r.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},r.prototype.ensureIndexVisible=function(i){var s=this.model.getRowCount();if("number"!=typeof i||i<0||i>=s)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+i);else{var l=i*this.rowHeight,u=l+this.rowHeight,h=this.getGui(),g=h.scrollTop,_=h.offsetHeight,D=g+_<u;g>l?h.scrollTop=l:D&&(h.scrollTop=u-_)}},r.prototype.setComponentCreator=function(i){this.componentCreator=i},r.prototype.getRowHeight=function(){return this.rowHeight},r.prototype.getScrollTop=function(){return this.getGui().scrollTop},r.prototype.setRowHeight=function(i){this.rowHeight=i,this.refresh()},r.prototype.refresh=function(){var i=this;if(null!=this.model&&!this.isDestroyed){var s=this.model.getRowCount();this.eContainer.style.height=s*this.rowHeight+"px",Jh(function(){return i.eContainer.clientHeight>=s*i.rowHeight},function(){i.isDestroyed||(i.clearVirtualRows(),i.drawVirtualRows())})}},r.prototype.clearVirtualRows=function(){var i=this;this.renderedRows.forEach(function(s,l){return i.removeRow(l)})},r.prototype.drawVirtualRows=function(){var i=this.getGui(),s=i.scrollTop,l=s+i.offsetHeight,u=Math.floor(s/this.rowHeight),h=Math.floor(l/this.rowHeight);this.ensureRowsRendered(u,h)},r.prototype.ensureRowsRendered=function(i,s){var l=this;this.renderedRows.forEach(function(h,g){(g<i||g>s)&&g!==l.lastFocusedRowIndex&&l.removeRow(g)});for(var u=i;u<=s;u++)this.renderedRows.has(u)||u<this.model.getRowCount()&&this.insertRow(u)},r.prototype.insertRow=function(i){var s=this,l=this.model.getRow(i),u=document.createElement("div");if(u.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),Un(u,"tree"===this.ariaRole?"treeitem":"option"),Dy(u,this.model.getRowCount()),Ry(u,i+1),u.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var h=this.model.isRowSelected(i);Os(u,!!h),I0(u,h)}u.style.height=this.rowHeight+"px",u.style.top=this.rowHeight*i+"px";var g=this.componentCreator(l,u);g.addGuiEventListener("focusin",function(){return s.lastFocusedRowIndex=i}),u.appendChild(g.getGui()),this.renderedRows.has(i-1)?this.renderedRows.get(i-1).eDiv.insertAdjacentElement("afterend",u):this.renderedRows.has(i+1)?this.renderedRows.get(i+1).eDiv.insertAdjacentElement("beforebegin",u):this.eContainer.appendChild(u),this.renderedRows.set(i,{rowComponent:g,eDiv:u})},r.prototype.removeRow=function(i){var s=this.renderedRows.get(i);this.eContainer.removeChild(s.eDiv),this.destroyBean(s.rowComponent),this.renderedRows.delete(i)},r.prototype.addScrollListener=function(){var i=this;this.addGuiEventListener("scroll",function(){return i.drawVirtualRows()})},r.prototype.setModel=function(i){this.model=i},r.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,c.prototype.destroy.call(this))},Kp([N("resizeObserverService")],r.prototype,"resizeObserverService",void 0),Kp([N("focusService")],r.prototype,"focusService",void 0),Kp([ae("eContainer")],r.prototype,"eContainer",void 0),Kp([ge],r.prototype,"postConstruct",null)}(Yi),["mouseover","mouseout","mouseenter","mouseleave"]),wC=["touchstart","touchend","touchmove","touchcancel"],xg=function(){function c(){this.isOutsideAngular=function(r){return rr(CC,r)}}return c.prototype.setTimeout=function(r,i){window.setTimeout(r,i)},c.prototype.setInterval=function(r,i){return new Pi(function(s){s(window.setInterval(r,i))})},c.prototype.addEventListener=function(r,i,s,l){var u=rr(wC,i);r.addEventListener(i,s,{capture:!!l,passive:u})},c.prototype.dispatchEvent=function(r,i,s){i()},c.prototype.frameworkComponent=function(r){return null},c.prototype.isFrameworkComponent=function(r){return!1},c}(),bC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),pr=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Sc=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return bC(r,c),r.prototype.getNextCellToFocus=function(i,s,l){return void 0===l&&(l=!1),l?this.getNextCellToFocusWithCtrlPressed(i,s):this.getNextCellToFocusWithoutCtrlPressed(i,s)},r.prototype.getNextCellToFocusWithCtrlPressed=function(i,s){var g,_,l=i===le.UP,h=i===le.LEFT;if(l||i===le.DOWN)_=l?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),g=s.column;else{var w=this.columnModel.getAllDisplayedColumns(),E=this.gridOptionsWrapper.isEnableRtl();_=s.rowIndex,g=h!==E?w[0]:Pt(w)}return{rowIndex:_,rowPinned:null,column:g}},r.prototype.getNextCellToFocusWithoutCtrlPressed=function(i,s){for(var l=s,u=!1;!u;){switch(i){case le.UP:l=this.getCellAbove(l);break;case le.DOWN:l=this.getCellBelow(l);break;case le.RIGHT:l=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(l):this.getCellToRight(l);break;case le.LEFT:l=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(l):this.getCellToLeft(l);break;default:l=null,console.warn("AG Grid: unknown key for navigation "+i)}u=!l||this.isCellGoodToFocusOn(l)}return l},r.prototype.isCellGoodToFocusOn=function(i){var l,s=i.column;switch(i.rowPinned){case j.PINNED_TOP:l=this.pinnedRowModel.getPinnedTopRow(i.rowIndex);break;case j.PINNED_BOTTOM:l=this.pinnedRowModel.getPinnedBottomRow(i.rowIndex);break;default:l=this.rowModel.getRow(i.rowIndex)}return!!l&&!s.isSuppressNavigable(l)},r.prototype.getCellToLeft=function(i){if(!i)return null;var s=this.columnModel.getDisplayedColBefore(i.column);return s?{rowIndex:i.rowIndex,column:s,rowPinned:i.rowPinned}:null},r.prototype.getCellToRight=function(i){if(!i)return null;var s=this.columnModel.getDisplayedColAfter(i.column);return s?{rowIndex:i.rowIndex,column:s,rowPinned:i.rowPinned}:null},r.prototype.getRowBelow=function(i){var s=i.rowIndex,l=i.rowPinned;if(this.isLastRowInContainer(i))switch(l){case j.PINNED_BOTTOM:return null;case j.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(j.PINNED_BOTTOM)?{rowIndex:0,rowPinned:j.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(j.PINNED_BOTTOM)?{rowIndex:0,rowPinned:j.PINNED_BOTTOM}:null}return{rowIndex:s+1,rowPinned:l}},r.prototype.getCellBelow=function(i){if(!i)return null;var s=this.getRowBelow(i);return s?{rowIndex:s.rowIndex,column:i.column,rowPinned:s.rowPinned}:null},r.prototype.isLastRowInContainer=function(i){var s=i.rowPinned,l=i.rowIndex;return s===j.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=l:s===j.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=l:this.paginationProxy.getPageLastRow()<=l},r.prototype.getRowAbove=function(i){var s=i.rowIndex,l=i.rowPinned;return(l?0===s:s===this.paginationProxy.getPageFirstRow())?l===j.PINNED_TOP?null:l&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(j.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:s-1,rowPinned:l}},r.prototype.getCellAbove=function(i){if(!i)return null;var s=this.getRowAbove({rowIndex:i.rowIndex,rowPinned:i.rowPinned});return s?{rowIndex:s.rowIndex,column:i.column,rowPinned:s.rowPinned}:null},r.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},r.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:j.PINNED_TOP}},r.prototype.getNextTabbedCell=function(i,s){return s?this.getNextTabbedCellBackwards(i):this.getNextTabbedCellForwards(i)},r.prototype.getNextTabbedCellForwards=function(i){var s=this.columnModel.getAllDisplayedColumns(),l=i.rowIndex,u=i.rowPinned,h=this.columnModel.getDisplayedColAfter(i.column);if(!h){h=s[0];var g=this.getRowBelow(i);if(Pe(g)||!g.rowPinned&&!this.paginationProxy.isRowInPage(g))return null;l=g?g.rowIndex:null,u=g?g.rowPinned:null}return{rowIndex:l,column:h,rowPinned:u}},r.prototype.getNextTabbedCellBackwards=function(i){var s=this.columnModel.getAllDisplayedColumns(),l=i.rowIndex,u=i.rowPinned,h=this.columnModel.getDisplayedColBefore(i.column);if(!h){h=Pt(s);var g=this.getRowAbove({rowIndex:i.rowIndex,rowPinned:i.rowPinned});if(Pe(g)||!g.rowPinned&&!this.paginationProxy.isRowInPage(g))return null;l=g?g.rowIndex:null,u=g?g.rowPinned:null}return{rowIndex:l,column:h,rowPinned:u}},pr([N("columnModel")],r.prototype,"columnModel",void 0),pr([N("rowModel")],r.prototype,"rowModel",void 0),pr([N("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),pr([N("paginationProxy")],r.prototype,"paginationProxy",void 0),pr([we("cellNavigationService")],r)}(pe),MD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Dc=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},UN=function(c,r){return function(i,s){r(i,s,c)}},qp=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.consuming=!1,i}return MD(r,c),r.prototype.setBeans=function(i){this.logger=i.create("AlignedGridsService")},r.prototype.init=function(){this.addManagedListener(this.eventService,L.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,L.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},r.prototype.fireEvent=function(i){if(!this.consuming){var s=this.gridOptionsWrapper.getAlignedGrids();s&&s.forEach(function(l){if(l.api){var u=l.api.__getAlignedGridService();i(u)}})}},r.prototype.onEvent=function(i){this.consuming=!0,i(),this.consuming=!1},r.prototype.fireColumnEvent=function(i){this.fireEvent(function(s){s.onColumnEvent(i)})},r.prototype.fireScrollEvent=function(i){"horizontal"===i.direction&&this.fireEvent(function(s){s.onScrollEvent(i)})},r.prototype.onScrollEvent=function(i){var s=this;this.onEvent(function(){s.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(i.left)})},r.prototype.getMasterColumns=function(i){var s=[];return i.columns?i.columns.forEach(function(l){s.push(l)}):i.column&&s.push(i.column),s},r.prototype.getColumnIds=function(i){var s=[];return i.columns?i.columns.forEach(function(l){s.push(l.getColId())}):i.column&&s.push(i.column.getColId()),s},r.prototype.onColumnEvent=function(i){var s=this;this.onEvent(function(){switch(i.type){case L.EVENT_COLUMN_MOVED:case L.EVENT_COLUMN_VISIBLE:case L.EVENT_COLUMN_PINNED:case L.EVENT_COLUMN_RESIZED:s.processColumnEvent(i);break;case L.EVENT_COLUMN_GROUP_OPENED:s.processGroupOpenedEvent(i);break;case L.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},r.prototype.processGroupOpenedEvent=function(i){var s=i.columnGroup,l=null;if(s){var u=s.getGroupId();l=this.columnModel.getProvidedColumnGroup(u)}s&&!l||(this.logger.log("onColumnEvent-> processing "+i+" expanded = "+s.isExpanded()),this.columnModel.setColumnGroupOpened(l,s.isExpanded(),"alignedGridChanged"))},r.prototype.processColumnEvent=function(i){var s=this,l=i.column,u=null;if(l&&(u=this.columnModel.getPrimaryColumn(l.getColId())),!l||u){var h=this.getMasterColumns(i);switch(i.type){case L.EVENT_COLUMN_MOVED:var g=i,w=i.columnApi.getColumnState().map(function(q){return{colId:q.colId}});this.columnModel.applyColumnState({state:w,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+i.type+" toIndex = "+g.toIndex);break;case L.EVENT_COLUMN_VISIBLE:var E=i;w=i.columnApi.getColumnState().map(function(J){return{colId:J.colId,hide:J.hide}}),this.columnModel.applyColumnState({state:w},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+i.type+" visible = "+E.visible);break;case L.EVENT_COLUMN_PINNED:var D=i;w=i.columnApi.getColumnState().map(function(J){return{colId:J.colId,pinned:J.pinned}}),this.columnModel.applyColumnState({state:w},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+i.type+" pinned = "+D.pinned);break;case L.EVENT_COLUMN_RESIZED:var M=i;h.forEach(function(q){s.logger.log("onColumnEvent-> processing "+i.type+" actualWidth = "+q.getActualWidth());var Z=[{key:q.getColId(),newWidth:q.getActualWidth()}];s.columnModel.setColumnWidths(Z,!1,M.finished,"alignedGridChanged")})}var V=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),B=this.gridOptionsWrapper.getAlignedGrids();B&&B.forEach(function(q){q.api&&q.api.setAlwaysShowVerticalScroll(V)})}},Dc([N("columnModel")],r.prototype,"columnModel",void 0),Dc([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Dc([UN(0,Ti("loggerFactory"))],r.prototype,"setBeans",null),Dc([ge],r.prototype,"init",null),Dc([we("alignedGridsService")],r)}(pe),EC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),js=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Rc=function(c,r){return function(i,s){r(i,s,c)}},SC=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return EC(r,c),r.prototype.setBeans=function(i){this.logger=i.create("selectionService"),this.reset()},r.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,L.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},r.prototype.setLastSelectedNode=function(i){this.lastSelectedNode=i},r.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},r.prototype.getSelectedNodes=function(){var i=[];return Tt(this.selectedNodes,function(s,l){l&&i.push(l)}),i},r.prototype.getSelectedRows=function(){var i=[];return Tt(this.selectedNodes,function(s,l){l&&l.data&&i.push(l.data)}),i},r.prototype.removeGroupsFromSelection=function(){var i=this;Tt(this.selectedNodes,function(s,l){l&&l.group&&(i.selectedNodes[l.id]=void 0)})},r.prototype.updateGroupsFromChildrenSelections=function(i){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===j.ROW_MODEL_TYPE_CLIENT_SIDE){var l=this.rowModel.getRootNode();i||(i=new Ll(!0,l)).setInactive(),i.forEachChangedNodeDepthFirst(function(u){u!==l&&u.calculateSelectedFromChildren()})}},r.prototype.getNodeForIdIfSelected=function(i){return this.selectedNodes[i]},r.prototype.clearOtherNodes=function(i){var s=this,l={},u=0;return Tt(this.selectedNodes,function(h,g){g&&g.id!==i.id&&(u+=s.selectedNodes[g.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),s.groupSelectsChildren&&g.parent&&(l[g.parent.id]=g.parent))}),Tt(l,function(h,g){g.calculateSelectedFromChildren()}),u},r.prototype.onRowSelected=function(i){var s=i.node;this.groupSelectsChildren&&s.group||(this.selectedNodes[s.id]=s.isSelected()?s:void 0)},r.prototype.syncInRowNode=function(i,s){this.syncInOldRowNode(i,s),this.syncInNewRowNode(i)},r.prototype.syncInOldRowNode=function(i,s){ee(s)&&i.id!==s.id&&s&&this.selectedNodes[s.id]==i&&(this.selectedNodes[s.id]=s)},r.prototype.syncInNewRowNode=function(i){ee(this.selectedNodes[i.id])?(i.setSelectedInitialValue(!0),this.selectedNodes[i.id]=i):i.setSelectedInitialValue(!1)},r.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},r.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===j.ROW_MODEL_TYPE_CLIENT_SIDE){var s=this.rowModel.getTopLevelNodes();if(null!==s){var l=[];return function u(h){for(var g=0,_=h.length;g<_;g++){var w=h[g];w.isSelected()?l.push(w):w.group&&w.children&&u(w.children)}}(s),l}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},r.prototype.setRowModel=function(i){this.rowModel=i},r.prototype.isEmpty=function(){var i=0;return Tt(this.selectedNodes,function(s,l){l&&i++}),0===i},r.prototype.deselectAllRowNodes=function(i){void 0===i&&(i=!1);var s=function(g){return g.selectThisNode(!1)},l=this.rowModel.getType()===j.ROW_MODEL_TYPE_CLIENT_SIDE;if(i){if(!l)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(s)}else Tt(this.selectedNodes,function(g,_){_&&s(_)}),this.reset();l&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:L.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},r.prototype.selectAllRowNodes=function(i){if(void 0===i&&(i=!1),this.rowModel.getType()!==j.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var s=this.rowModel,l=function(h){return h.selectThisNode(!0)};i?s.forEachNodeAfterFilter(l):s.forEachNode(l),this.rowModel.getType()===j.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:L.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},r.prototype.selectNode=function(i,s){i&&i.setSelectedParams({newValue:!0,clearSelection:!s})},r.prototype.deselectIndex=function(i){var s=this.rowModel.getRow(i);this.deselectNode(s)},r.prototype.deselectNode=function(i){i&&i.setSelectedParams({newValue:!1,clearSelection:!1})},r.prototype.selectIndex=function(i,s){var l=this.rowModel.getRow(i);this.selectNode(l,s)},js([N("rowModel")],r.prototype,"rowModel",void 0),js([N("columnApi")],r.prototype,"columnApi",void 0),js([N("gridApi")],r.prototype,"gridApi",void 0),js([Rc(0,Ti("loggerFactory"))],r.prototype,"setBeans",null),js([ge],r.prototype,"init",null),js([we("selectionService")],r)}(pe),Oc=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Fg=function(){function c(){}return c.prototype.sizeColumnsToFit=function(r){void 0===r&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(r,"api")},c.prototype.setColumnGroupOpened=function(r,i){this.columnModel.setColumnGroupOpened(r,i,"api")},c.prototype.getColumnGroup=function(r,i){return this.columnModel.getColumnGroup(r,i)},c.prototype.getProvidedColumnGroup=function(r){return this.columnModel.getProvidedColumnGroup(r)},c.prototype.getDisplayNameForColumn=function(r,i){return this.columnModel.getDisplayNameForColumn(r,i)||""},c.prototype.getDisplayNameForColumnGroup=function(r,i){return this.columnModel.getDisplayNameForColumnGroup(r,i)||""},c.prototype.getColumn=function(r){return this.columnModel.getPrimaryColumn(r)},c.prototype.applyColumnState=function(r){return this.columnModel.applyColumnState(r,"api")},c.prototype.getColumnState=function(){return this.columnModel.getColumnState()},c.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},c.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},c.prototype.setColumnGroupState=function(r){this.columnModel.setColumnGroupState(r,"api")},c.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},c.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},c.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},c.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},c.prototype.getDisplayedColAfter=function(r){return this.columnModel.getDisplayedColAfter(r)},c.prototype.getDisplayedColBefore=function(r){return this.columnModel.getDisplayedColBefore(r)},c.prototype.setColumnVisible=function(r,i){this.columnModel.setColumnVisible(r,i,"api")},c.prototype.setColumnsVisible=function(r,i){this.columnModel.setColumnsVisible(r,i,"api")},c.prototype.setColumnPinned=function(r,i){this.columnModel.setColumnPinned(r,i,"api")},c.prototype.setColumnsPinned=function(r,i){this.columnModel.setColumnsPinned(r,i,"api")},c.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},c.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},c.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},c.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},c.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},c.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},c.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},c.prototype.moveColumn=function(r,i){"number"==typeof r?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(r,i,"api")):this.columnModel.moveColumn(r,i,"api")},c.prototype.moveColumnByIndex=function(r,i){this.columnModel.moveColumnByIndex(r,i,"api")},c.prototype.moveColumns=function(r,i){this.columnModel.moveColumns(r,i,"api")},c.prototype.moveRowGroupColumn=function(r,i){this.columnModel.moveRowGroupColumn(r,i)},c.prototype.setColumnAggFunc=function(r,i){this.columnModel.setColumnAggFunc(r,i)},c.prototype.setColumnWidth=function(r,i,s,l){void 0===s&&(s=!0),this.columnModel.setColumnWidths([{key:r,newWidth:i}],!1,s,l)},c.prototype.setColumnWidths=function(r,i,s){void 0===i&&(i=!0),this.columnModel.setColumnWidths(r,!1,i,s)},c.prototype.setPivotMode=function(r){this.columnModel.setPivotMode(r)},c.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},c.prototype.getSecondaryPivotColumn=function(r,i){return this.columnModel.getSecondaryPivotColumn(r,i)},c.prototype.setValueColumns=function(r){this.columnModel.setValueColumns(r,"api")},c.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},c.prototype.removeValueColumn=function(r){this.columnModel.removeValueColumn(r,"api")},c.prototype.removeValueColumns=function(r){this.columnModel.removeValueColumns(r,"api")},c.prototype.addValueColumn=function(r){this.columnModel.addValueColumn(r,"api")},c.prototype.addValueColumns=function(r){this.columnModel.addValueColumns(r,"api")},c.prototype.setRowGroupColumns=function(r){this.columnModel.setRowGroupColumns(r,"api")},c.prototype.removeRowGroupColumn=function(r){this.columnModel.removeRowGroupColumn(r,"api")},c.prototype.removeRowGroupColumns=function(r){this.columnModel.removeRowGroupColumns(r,"api")},c.prototype.addRowGroupColumn=function(r){this.columnModel.addRowGroupColumn(r,"api")},c.prototype.addRowGroupColumns=function(r){this.columnModel.addRowGroupColumns(r,"api")},c.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},c.prototype.setPivotColumns=function(r){this.columnModel.setPivotColumns(r,"api")},c.prototype.removePivotColumn=function(r){this.columnModel.removePivotColumn(r,"api")},c.prototype.removePivotColumns=function(r){this.columnModel.removePivotColumns(r,"api")},c.prototype.addPivotColumn=function(r){this.columnModel.addPivotColumn(r,"api")},c.prototype.addPivotColumns=function(r){this.columnModel.addPivotColumns(r,"api")},c.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},c.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},c.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},c.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},c.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},c.prototype.autoSizeColumn=function(r,i){return this.columnModel.autoSizeColumn(r,i,"api")},c.prototype.autoSizeColumns=function(r,i){this.columnModel.autoSizeColumns({columns:r,skipHeader:i})},c.prototype.autoSizeAllColumns=function(r){this.columnModel.autoSizeAllColumns(r,"api")},c.prototype.setSecondaryColumns=function(r){this.columnModel.setSecondaryColumns(r,"api")},c.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},c.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},c.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Le.removeAllReferences.bind(window,this,"Column API"),100)},c.prototype.columnGroupOpened=function(r,i){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(r,i)},c.prototype.hideColumns=function(r,i){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(r,!i,"api")},c.prototype.hideColumn=function(r,i){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(r,!i,"api")},c.prototype.setState=function(r){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(r)},c.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},c.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},c.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},c.prototype.removeAggregationColumn=function(r){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(r,"api")},c.prototype.removeAggregationColumns=function(r){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(r,"api")},c.prototype.addAggregationColumn=function(r){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(r,"api")},c.prototype.addAggregationColumns=function(r){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(r,"api")},c.prototype.setColumnAggFunction=function(r,i){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(r,i,"api")},c.prototype.getDisplayNameForCol=function(r){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(r,null)},c.prototype.setColumnState=function(r){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:r,applyOrder:!0},"api")},c.prototype.getOriginalColumnGroup=function(r){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(r)},Oc([N("columnModel")],c.prototype,"columnModel",void 0),Oc([Zn],c.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Oc([we("columnApi")],c)}(),DC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),jl=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},RC=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.initialised=!1,i}return DC(r,c),r.prototype.init=function(){var i=this;this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0,this.eventService.addEventListener(L.EVENT_CELL_VALUE_CHANGED,function(s){return i.callColumnCellValueChangedHandler(s)},this.gridOptionsWrapper.useAsyncEvents())},r.prototype.getValue=function(i,s,l,u){if(void 0===l&&(l=!1),void 0===u&&(u=!1),this.initialised||this.init(),s){var E,h=i.getColDef(),g=h.field,_=i.getId(),w=s.data,D=s.groupData&&void 0!==s.groupData[_],M=!u&&s.aggData&&void 0!==s.aggData[_];if(l&&h.filterValueGetter?E=this.executeFilterValueGetter(h.filterValueGetter,w,i,s):this.gridOptionsWrapper.isTreeData()&&M?E=s.aggData[_]:this.gridOptionsWrapper.isTreeData()&&h.valueGetter?E=this.executeValueGetter(h.valueGetter,w,i,s):this.gridOptionsWrapper.isTreeData()&&g&&w?E=ol(w,g,i.isFieldContainsDots()):D?E=s.groupData[_]:M?E=s.aggData[_]:h.valueGetter?E=this.executeValueGetter(h.valueGetter,w,i,s):g&&w&&(E=ol(w,g,i.isFieldContainsDots())),this.cellExpressions&&"string"==typeof E&&0===E.indexOf("=")){var G=E.substring(1);E=this.executeValueGetter(G,w,i,s)}if(null==E){var V=this.getOpenedGroup(s,i);if(null!=V)return V}return E}},r.prototype.getOpenedGroup=function(i,s){if(this.gridOptionsWrapper.isShowOpenedGroup()&&s.getColDef().showRowGroup)for(var u=s.getColDef().showRowGroup,h=i.parent;null!=h;){if(h.rowGroupColumn&&(!0===u||u===h.rowGroupColumn.getId()))return h.key;h=h.parent}},r.prototype.setValue=function(i,s,l,u){var h=this.columnModel.getPrimaryColumn(s);if(!i||!h)return!1;Pe(i.data)&&(i.data={});var g=h.getColDef(),_=g.field,w=g.newValueHandler,E=g.valueSetter;if(Pe(_)&&Pe(w)&&Pe(E))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var M,D={node:i,data:i.data,oldValue:this.getValue(h,i),newValue:l,colDef:h.getColDef(),column:h,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return D.newValue=l,void 0===(M=w&&ee(w)?w(D):ee(E)?this.expressionService.evaluate(E,D):this.setValueUsingField(i.data,_,l,h.isFieldContainsDots()))&&(M=!0),!!M&&(i.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),D.newValue=this.getValue(h,i),this.eventService.dispatchEvent({type:L.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:D.column,api:D.api,columnApi:D.columnApi,colDef:D.colDef,context:D.context,data:i.data,node:i,oldValue:D.oldValue,newValue:D.newValue,value:D.newValue,source:u}),!0)},r.prototype.callColumnCellValueChangedHandler=function(i){var s=i.colDef.onCellValueChanged;"function"==typeof s&&s({node:i.node,data:i.data,oldValue:i.oldValue,newValue:i.newValue,colDef:i.colDef,column:i.column,api:i.api,columnApi:i.columnApi,context:i.context})},r.prototype.setValueUsingField=function(i,s,l,u){if(!s)return!1;if(u)for(var g=s.split("."),_=i;g.length>0&&_;){var w=g.shift();0===g.length?_[w]=l:_=_[w]}else i[s]=l;return!0},r.prototype.executeFilterValueGetter=function(i,s,l,u){var h={data:s,node:u,column:l,colDef:l.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,u)};return this.expressionService.evaluate(i,h)},r.prototype.executeValueGetter=function(i,s,l,u){var h=l.getId(),g=this.valueCache.getValue(u,h);if(void 0!==g)return g;var _={data:s,node:u,column:l,colDef:l.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,u)},w=this.expressionService.evaluate(i,_);return this.valueCache.setValue(u,h,w),w},r.prototype.getValueCallback=function(i,s){var l=this.columnModel.getPrimaryColumn(s);return l?this.getValue(l,i):null},r.prototype.getKeyForNode=function(i,s){var l=this.getValue(i,s),u=i.getColDef().keyCreator,h=l;return u&&(h=u({value:l,colDef:i.getColDef(),column:i,node:s,data:s.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof h||null==h||"[object Object]"===(h=String(h))&&At(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),h},jl([N("expressionService")],r.prototype,"expressionService",void 0),jl([N("columnModel")],r.prototype,"columnModel",void 0),jl([N("valueCache")],r.prototype,"valueCache",void 0),jl([ge],r.prototype,"init",null),jl([we("valueService")],r)}(pe),Lg=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),OC=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},ID=function(c,r){return function(i,s){r(i,s,c)}},Gg=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.expressionToFunctionCache={},i}return Lg(r,c),r.prototype.setBeans=function(i){this.logger=i.create("ExpressionService")},r.prototype.evaluate=function(i,s){return"function"==typeof i?i(s):"string"==typeof i?this.evaluateExpression(i,s):void console.error("AG Grid: value should be either a string or a function",i)},r.prototype.evaluateExpression=function(i,s){try{return this.createExpressionFunction(i)(s.value,s.context,s.oldValue,s.newValue,s.value,s.node,s.data,s.colDef,s.rowIndex,s.api,s.columnApi,s.getValue,s.column,s.columnGroup)}catch(h){return console.log("Processing of the expression failed"),console.log("Expression = "+i),console.log("Params =",s),console.log("Exception = "+h),null}},r.prototype.createExpressionFunction=function(i){if(this.expressionToFunctionCache[i])return this.expressionToFunctionCache[i];var s=this.createFunctionBody(i),l=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",s);return this.expressionToFunctionCache[i]=l,l},r.prototype.createFunctionBody=function(i){return i.indexOf("return")>=0?i:"return "+i+";"},OC([ID(0,Ti("loggerFactory"))],r.prototype,"setBeans",null),OC([we("expressionService")],r)}(pe),Ul=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),AC=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.templateCache={},i.waitingCallbacks={},i}return Ul(r,c),r.prototype.getTemplate=function(i,s){var l=this.templateCache[i];if(l)return l;var u=this.waitingCallbacks[i],h=this;if(!u){this.waitingCallbacks[i]=u=[];var g=new XMLHttpRequest;g.onload=function(){h.handleHttpResult(this,i)},g.open("GET",i),g.send()}return s&&u.push(s),null},r.prototype.handleHttpResult=function(i,s){if(200===i.status&&null!==i.response){this.templateCache[s]=i.response||i.responseText;for(var l=this.waitingCallbacks[s],u=0;u<l.length;u++)(0,l[u])()}else console.warn("AG Grid: Unable to get template error "+i.status+" - "+s)},r=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u}([we("templateService")],r),r}(pe),xD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ra=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},FD=function(c,r){return function(i,s){r(i,s,c)}},PC=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return xD(r,c),r.prototype.setBeans=function(i){this.logging=i.isDebug()},r.prototype.create=function(i){return new Yp(i,this.isLogging.bind(this))},r.prototype.isLogging=function(){return this.logging},Ra([FD(0,Ti("gridOptionsWrapper"))],r.prototype,"setBeans",null),Ra([we("loggerFactory")],r)}(pe),Yp=function(){function c(r,i){this.name=r,this.isLoggingFunc=i}return c.prototype.isLogging=function(){return this.isLoggingFunc()},c.prototype.log=function(r){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+r)},c}(),LD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),rn=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Qp=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return LD(r,c),r.prototype.setComp=function(i,s,l){var u=this;this.view=i,this.eGridHostDiv=s,this.eGui=l,this.mouseEventService.stampTopLevelGridCompWithGridInstance(s),this.createManagedBean(new Xf(this.view)),this.addRtlSupport(),this.addManagedListener(this,L.EVENT_KEYBOARD_FOCUS,function(){u.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,L.EVENT_MOUSE_FOCUS,function(){u.view.addOrRemoveKeyboardFocusClass(!1)});var h=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return h()}),this.ctrlsService.registerGridCtrl(this)},r.prototype.isDetailGrid=function(){var i,s;return(null===(s=null===(i=this.focusService.findTabbableParent(this.getGui()))||void 0===i?void 0:i.getAttribute("row-id"))||void 0===s?void 0:s.startsWith("detail"))||!1},r.prototype.showDropZones=function(){return He.isRegistered(x.GXE.RowGroupingModule)},r.prototype.showSideBar=function(){return He.isRegistered(x.GXE.SideBarModule)},r.prototype.showStatusBar=function(){return He.isRegistered(x.GXE.StatusBarModule)},r.prototype.showWatermark=function(){return He.isRegistered(x.GXE.EnterpriseCoreModule)},r.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:L.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},r.prototype.addRtlSupport=function(){var i=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(i)},r.prototype.destroyGridUi=function(){this.view.destroyGridUi()},r.prototype.getGui=function(){return this.eGui},r.prototype.setResizeCursor=function(i){this.view.setCursor(i?"ew-resize":null)},r.prototype.disableUserSelect=function(i){this.view.setUserSelect(i?"none":null)},r.prototype.focusNextInnerContainer=function(i){var s=this.gridOptionsWrapper.getDocument(),l=this.view.getFocusableContainers(),h=l.findIndex(function(g){return g.contains(s.activeElement)})+(i?-1:1);return!(h<=0||h>=l.length)&&this.focusService.focusInto(l[h])},r.prototype.focusInnerElement=function(i){var s=this.view.getFocusableContainers();if(i){if(s.length>1)return this.focusService.focusInto(Pt(s),!0);var l=Pt(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(l,!0))return!0}return this.focusService.focusFirstHeader()},r.prototype.forceFocusOutOfContainer=function(i){void 0===i&&(i=!1),this.view.forceFocusOutOfContainer(i)},rn([N("columnApi")],r.prototype,"columnApi",void 0),rn([N("gridApi")],r.prototype,"gridApi",void 0),rn([N("focusService")],r.prototype,"focusService",void 0),rn([N("resizeObserverService")],r.prototype,"resizeObserverService",void 0),rn([N("columnModel")],r.prototype,"columnModel",void 0),rn([N("ctrlsService")],r.prototype,"ctrlsService",void 0),rn([N("mouseEventService")],r.prototype,"mouseEventService",void 0),r}(pe),NC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),zl=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},kg=function(c){function r(i){var s=c.call(this,void 0)||this;return s.eGridDiv=i,s}return NC(r,c),r.prototype.postConstruct=function(){var i=this;this.logger=this.loggerFactory.create("GridComp");var s={destroyGridUi:function(){return i.destroyBean(i)},setRtlClass:function(u){return i.addCssClass(u)},addOrRemoveKeyboardFocusClass:function(u){return i.addOrRemoveCssClass(Bs.AG_KEYBOARD_FOCUS,u)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(u){i.getGui().style.userSelect=null!=u?u:"",i.getGui().style.webkitUserSelect=null!=u?u:""},setCursor:function(u){i.getGui().style.cursor=null!=u?u:""}};this.ctrl=this.createManagedBean(new Qp);var l=this.createTemplate();this.setTemplate(l),this.ctrl.setComp(s,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(u){return i.ctrl.focusInnerElement(u)}})},r.prototype.insertGridIntoDom=function(){var i=this,s=this.getGui();this.eGridDiv.appendChild(s),this.addDestroyFunc(function(){i.eGridDiv.removeChild(s),i.logger.log("Grid removed from DOM")})},r.prototype.updateLayoutClasses=function(i,s){var l=this.eRootWrapperBody.classList;l.toggle(x.LBn.AUTO_HEIGHT,s.autoHeight),l.toggle(x.LBn.NORMAL,s.normal),l.toggle(x.LBn.PRINT,s.print),this.addOrRemoveCssClass(x.LBn.AUTO_HEIGHT,s.autoHeight),this.addOrRemoveCssClass(x.LBn.NORMAL,s.normal),this.addOrRemoveCssClass(x.LBn.PRINT,s.print)},r.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},r.prototype.getFocusableElement=function(){return this.eRootWrapperBody},r.prototype.getFocusableContainers=function(){var i=[this.gridBodyComp.getGui()];return this.sideBarComp&&i.push(this.sideBarComp.getGui()),i.filter(function(s){return Sn(s)})},zl([N("loggerFactory")],r.prototype,"loggerFactory",void 0),zl([ae("gridBody")],r.prototype,"gridBodyComp",void 0),zl([ae("sideBar")],r.prototype,"sideBarComp",void 0),zl([ae("rootWrapperBody")],r.prototype,"eRootWrapperBody",void 0),zl([ge],r.prototype,"postConstruct",null),r}(Yi),MC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Xp=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},IC=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}var i;return MC(r,c),i=r,r.prototype.progressSort=function(s,l,u){var h=this.getNextSortDirection(s);this.setSortForColumn(s,h,l,u)},r.prototype.setSortForColumn=function(s,l,u,h){l!==j.SORT_ASC&&l!==j.SORT_DESC&&(l=null),s.setSort(l,h),(u||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(s,h),this.updateSortIndex(s),this.dispatchSortChangedEvents(h)},r.prototype.updateSortIndex=function(s){var l=this.getColumnsWithSortingOrdered(),u=0;l.forEach(function(g){g!==s&&(g.setSortIndex(u),u++)}),s.getSort()&&s.setSortIndex(u),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(g){return null==g.getSort()}).forEach(function(g){return g.setSortIndex()})},r.prototype.onSortChanged=function(s){this.dispatchSortChangedEvents(s)},r.prototype.isSortActive=function(){var l=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(u){return!!u.getSort()});return l&&l.length>0},r.prototype.dispatchSortChangedEvents=function(s){this.eventService.dispatchEvent({type:L.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:s})},r.prototype.clearSortBarThisColumn=function(s,l){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(u){u!==s&&u.setSort(void 0,l)})},r.prototype.getNextSortDirection=function(s){var l;if(l=s.getColDef().sortingOrder?s.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():i.DEFAULT_SORTING_ORDER,!Array.isArray(l)||l.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+l),null;var _,u=l.indexOf(s.getSort());return i.DEFAULT_SORTING_ORDER.indexOf(_=u<0||u==l.length-1?l[0]:l[u+1])<0?(console.warn("AG Grid: invalid sort type "+_),null):_},r.prototype.getColumnsWithSortingOrdered=function(){var s=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),l=s.filter(function(h){return!!h.getSort()}),u={};return s.forEach(function(h,g){return u[h.getId()]=g}),l.sort(function(h,g){var _=h.getSortIndex(),w=g.getSortIndex();return null!=_&&null!=w?_-w:null==_&&null==w?u[h.getId()]>u[g.getId()]?1:-1:null==w?-1:1}),l},r.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(s){return{sort:s.getSort(),colId:s.getId()}})},r.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(s){return{sort:s.getSort(),column:s}})},r.DEFAULT_SORTING_ORDER=[j.SORT_ASC,j.SORT_DESC,null],Xp([N("columnModel")],r.prototype,"columnModel",void 0),Xp([N("columnApi")],r.prototype,"columnApi",void 0),Xp([N("gridApi")],r.prototype,"gridApi",void 0),i=Xp([we("sortController")],r)}(pe),GD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Vg=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},xC=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return GD(r,c),r.prototype.setMouseOver=function(i){this.selectedColumns=i,this.eventService.dispatchEvent({type:L.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},r.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:L.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},r.prototype.isHovered=function(i){return!!this.selectedColumns&&this.selectedColumns.indexOf(i)>=0},Vg([N("columnApi")],r.prototype,"columnApi",void 0),Vg([N("gridApi")],r.prototype,"gridApi",void 0),Vg([we("columnHoverService")],r)}(pe),zN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Zp=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},kD=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.executeNextFuncs=[],i.executeLaterFuncs=[],i.active=!1,i.animationThreadCount=0,i}return zN(r,c),r.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){return i.gridBodyCtrl=s.gridBodyCtrl})},r.prototype.isActive=function(){return this.active},r.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},r.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},r.prototype.executeNextVMTurn=function(i){this.active?this.executeNextFuncs.push(i):i()},r.prototype.executeLaterVMTurn=function(i){this.active?this.executeLaterFuncs.push(i):i()},r.prototype.ensureAnimationCssClassPresent=function(){var i=this;this.animationThreadCount++;var s=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){i.animationThreadCount===s&&i.gridBodyCtrl.setColumnMovingCss(!1)})},r.prototype.flush=function(){var i=this.executeNextFuncs;this.executeNextFuncs=[];var s=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==i.length||0!==s.length)&&(window.setTimeout(function(){return i.forEach(function(l){return l()})},0),window.setTimeout(function(){return s.forEach(function(l){return l()})},300))},Zp([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Zp([ge],r.prototype,"postConstruct",null),Zp([we("columnAnimationService")],r)}(pe),VD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),FC=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},$N=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}var i;return VD(r,c),i=r,r.prototype.createAutoGroupColumns=function(s,l){var u=this,h=[],g=this.gridOptionsWrapper.isTreeData(),_=this.gridOptionsWrapper.isGroupMultiAutoColumn();return g&&_&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),_=!1),_?l.forEach(function(w,E){h.push(u.createOneAutoGroupColumn(s,w,E))}):h.push(this.createOneAutoGroupColumn(s)),h},r.prototype.createOneAutoGroupColumn=function(s,l,u){var g,h=this.generateDefaultColDef(l);g=l?j.GROUP_AUTO_COLUMN_ID+"-"+l.getId():i.GROUP_AUTO_COLUMN_BUNDLE_ID,Oi(h,this.gridOptionsWrapper.getAutoGroupColumnDef()),(h=this.columnFactory.mergeColDefs(h)).colId=g,this.gridOptionsWrapper.isTreeData()||Pe(h.field)&&Pe(h.valueGetter)&&Pe(h.filterValueGetter)&&(h.filter=!1),u&&u>0&&(h.headerCheckboxSelection=!1);var E=s.find(function(M){return M.getId()==g});if(E)return E.setColDef(h,null),this.columnFactory.applyColumnState(E,h),E;var D=new gt(h,null,g,!0);return this.context.createBean(D),D},r.prototype.generateDefaultColDef=function(s){var l=this.gridOptionsWrapper.getAutoGroupColumnDef(),h={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(l&&(l.cellRenderer||l.cellRendererFramework||l.cellRendererSelector)||(h.cellRenderer="agGroupCellRenderer"),s){var _=s.getColDef();Object.assign(h,{headerName:this.columnModel.getDisplayNameForColumn(s,"header"),headerValueGetter:_.headerValueGetter}),(_.cellRenderer||_.cellRendererFramework)&&Object.assign(h,{cellRendererParams:{innerRenderer:_.cellRenderer,innerRendererFramework:_.cellRendererFramework,innerRendererParams:_.cellRendererParams}}),h.showRowGroup=s.getColId()}else h.showRowGroup=!0;return h},r.GROUP_AUTO_COLUMN_BUNDLE_ID=j.GROUP_AUTO_COLUMN_ID,FC([N("columnModel")],r.prototype,"columnModel",void 0),FC([N("columnFactory")],r.prototype,"columnFactory",void 0),i=FC([we("autoGroupColService")],r)}(pe),Hg=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Bg=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},LC=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return Hg(r,c),r.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.centerRowContainerCon=s.centerRowContainerCtrl,i.addManagedListener(i.eventService,L.EVENT_BODY_HEIGHT_CHANGED,i.onBodyHeightChanged.bind(i)),i.addManagedListener(i.eventService,L.EVENT_SCROLL_VISIBILITY_CHANGED,i.onScrollVisibilityChanged.bind(i)),i.checkPageSize()})},r.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},r.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},r.prototype.onBodyHeightChanged=function(){this.checkPageSize()},r.prototype.checkPageSize=function(){if(!this.notActive()){var i=this.gridOptionsWrapper.getRowHeightAsNumber(),s=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(s>0){var l=Math.floor(s/i);this.gridOptionsWrapper.setProperty("paginationPageSize",l)}}},Bg([N("ctrlsService")],r.prototype,"ctrlsService",void 0),Bg([ge],r.prototype,"postConstruct",null),Bg([we("paginationAutoPageSizeService")],r)}(pe),GC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),HD=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},kr=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.cacheVersion=0,i}return GC(r,c),r.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},r.prototype.onDataChanged=function(){this.neverExpires||this.expire()},r.prototype.expire=function(){this.cacheVersion++},r.prototype.setValue=function(i,s,l){this.active&&(i.__cacheVersion!==this.cacheVersion&&(i.__cacheVersion=this.cacheVersion,i.__cacheData={}),i.__cacheData[s]=l)},r.prototype.getValue=function(i,s){if(this.active&&i.__cacheVersion===this.cacheVersion)return i.__cacheData[s]},HD([ge],r.prototype,"init",null),HD([we("valueCache")],r)}(pe),KN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Wg=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},kC=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return KN(r,c),r.prototype.init=function(){this.rowModel.getType()===j.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,L.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},r.prototype.onCellValueChanged=function(i){i.source!==j.SOURCE_PASTE&&this.doChangeDetection(i.node,i.column)},r.prototype.doChangeDetection=function(i,s){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!i.isRowPinned()){var l=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),u=new Ll(l,this.clientSideRowModel.getRootNode());u.addParentNode(i.parent,[s]),this.clientSideRowModel.doAggregate(u)}this.rowRenderer.refreshCells()}},Wg([N("rowModel")],r.prototype,"rowModel",void 0),Wg([N("rowRenderer")],r.prototype,"rowRenderer",void 0),Wg([ge],r.prototype,"init",null),Wg([we("changeDetectionService")],r)}(pe),VC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),jg=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},BD=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return VC(r,c),r.prototype.adaptFunction=function(i,s){var l=this.componentMetadataProvider.retrieve(i);return l&&l.functionAdapter?l.functionAdapter(s):null},r.prototype.adaptCellRendererFunction=function(i){return function(){function l(){}return l.prototype.refresh=function(u){return!1},l.prototype.getGui=function(){return this.eGui},l.prototype.init=function(u){var h=i(u),g=typeof h;this.eGui="string"!==g&&"number"!==g&&"boolean"!==g?null!=h?h:Zt("<span></span>"):Zt("<span>"+h+"</span>")},l}()},r.prototype.doesImplementIComponent=function(i){return!!i&&i.prototype&&"getGui"in i.prototype},jg([N("componentMetadataProvider")],r.prototype,"componentMetadataProvider",void 0),jg([we("agComponentUtils")],r)}(pe),qN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Jp=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},It=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return qN(r,c),r.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},r.prototype.retrieve=function(i){return this.componentMetaData[i]},Jp([N("agComponentUtils")],r.prototype,"agComponentUtils",void 0),Jp([ge],r.prototype,"postConstruct",null),Jp([we("componentMetadataProvider")],r)}(pe),WD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),eh=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},UD={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},HC={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Us={},Oa=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return WD(r,c),r.prototype.getSassVariable=function(i,s){var l="ag-theme-"+(i.match("material")?"material":i.match("balham")?"balham":i.match("alpine")?"alpine":"custom"),u=UD[l][s],h=0;Us[i]||(Us[i]={});var g=Us[i][s];if(null!=g)return g;if(HC[s]){var _=HC[s],w=document.createElement("div");w.classList.add(i),w.style.position="absolute";var E=_.reduce(function(M,G){var V=document.createElement("div");return V.style.position="static",V.classList.add(G),M.appendChild(V),V},w);if(document.body){document.body.appendChild(w);var D=-1!==s.toLowerCase().indexOf("height")?"height":"width";h=parseInt(window.getComputedStyle(E)[D],10),document.body.removeChild(w)}}return Us[i][s]=h||u,Us[i][s]},r.prototype.isThemeDark=function(){var i=this.getTheme().theme;return!!i&&i.indexOf("dark")>=0},r.prototype.chartMenuPanelWidth=function(){var i=this.getTheme().themeFamily;return this.getSassVariable(i,"chartMenuPanelWidth")},r.prototype.getTheme=function(){for(var i=/\bag-(material|(?:theme-([\w\-]*)))\b/,s=this.eGridDiv,l=null;s&&!(l=i.exec(s.className));)s=s.parentElement||void 0;if(!l)return{};var u=l[0];if(void 0===l[2]){var g=u.replace("ag-","ag-theme-");At(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+u+" with "+g+".")},"using-old-theme")}return{theme:u,el:s,themeFamily:u.replace(/-dark$/,"")}},eh([N("eGridDiv")],r.prototype,"eGridDiv",void 0),eh([we("environment")],r)}(pe),zD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),zs=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},$D=function(c,r){return function(i,s){r(i,s,c)}},KD=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.scrollY=0,i.uiBodyHeight=0,i}return zD(r,c),r.prototype.agWire=function(i){this.logger=i.create("RowContainerHeightService")},r.prototype.postConstruct=function(){this.addManagedListener(this.eventService,L.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=_y(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},r.prototype.isStretching=function(){return this.stretching},r.prototype.getDivStretchOffset=function(){return this.divStretchOffset},r.prototype.updateOffset=function(){if(this.stretching){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,l=this.getUiBodyHeight();(s!==this.scrollY||l!==this.uiBodyHeight)&&(this.scrollY=s,this.uiBodyHeight=l,this.calculateOffset())}},r.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var i=this.scrollY/this.maxScrollY,s=i*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+s+" ("+this.pixelsToShave+" * "+i+")"),this.setDivStretchOffset(s)},r.prototype.setUiContainerHeight=function(i){i!==this.uiContainerHeight&&(this.uiContainerHeight=i,this.eventService.dispatchEvent({type:L.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},r.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},r.prototype.setDivStretchOffset=function(i){var s="number"==typeof i?Math.floor(i):null;this.divStretchOffset!==s&&(this.divStretchOffset=s,this.eventService.dispatchEvent({type:L.EVENT_HEIGHT_SCALE_CHANGED}))},r.prototype.setModelHeight=function(i){this.modelHeight=i,this.stretching=null!=i&&this.maxDivHeight>0&&i>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},r.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},r.prototype.getRealPixelPosition=function(i){return i-this.divStretchOffset},r.prototype.getUiBodyHeight=function(){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return s.bottom-s.top},r.prototype.getScrollPositionForPixel=function(i){if(this.pixelsToShave<=0)return i;var s=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(i/s)},zs([N("ctrlsService")],r.prototype,"ctrlsService",void 0),zs([$D(0,Ti("loggerFactory"))],r.prototype,"agWire",null),zs([ge],r.prototype,"postConstruct",null),zs([we("rowContainerHeightService")],r)}(pe),Kg=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),io=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},$l=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return Kg(r,c),r.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},r.prototype.updateSelectableAfterGrouping=function(i){this.isRowSelectableFunc&&this.recurseDown(i.childrenAfterGroup,function(l){return l.childrenAfterGroup})},r.prototype.recurseDown=function(i,s){var l=this;!i||i.forEach(function(u){var h;u.group&&(u.hasChildren()&&l.recurseDown(s(u),s),h=l.groupSelectsChildren?ee((s(u)||[]).find(function(_){return!0===_.selectable})):!!l.isRowSelectableFunc&&l.isRowSelectableFunc(u),u.setRowSelectable(h))})},io([ge],r.prototype,"init",null),io([we("selectableService")],r)}(pe),wi=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),zn=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},th=function(c){function r(){var i=c.call(this)||this;return i.previousAndFirstButtonsDisabled=!1,i.nextButtonDisabled=!1,i.lastButtonDisabled=!1,i}return wi(r,c),r.prototype.postConstruct=function(){var i=this,s=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",Gn(s?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",Gn(s?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",Gn(s?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",Gn(s?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,L.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(h){var g=h.el,_=h.fn;i.addManagedListener(g,"click",_),i.addManagedListener(g,"keydown",function(w){(w.key===le.ENTER||w.key===le.SPACE)&&(w.preventDefault(),_())})}),this.onPaginationChanged()):this.setDisplayed(!1)},r.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},r.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},r.prototype.setCurrentPageLabel=function(){var i=this.paginationProxy.getTotalPages()>0,s=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(i?s+1:0)},r.prototype.formatNumber=function(i){var s=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(s)return s({value:i});var u=this.gridOptionsWrapper.getLocaleTextFunc();return wf(i,u("thousandSeparator",","),u("decimalSeparator","."))},r.prototype.getTemplate=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc(),s=i("page","Page"),l=i("to","to"),u=i("of","of"),h=i("firstPage","First Page"),g=i("previousPage","Previous Page"),_=i("nextPage","Next Page"),w=i("lastPage","Last Page"),E=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+E+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+E+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+E+'-to">'+l+'</span>\n                    <span id="ag-'+E+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+E+'-of">'+u+'</span>\n                    <span id="ag-'+E+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+h+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+g+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+E+'-start-page">'+s+'</span>\n                        <span id="ag-'+E+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+E+'-of-page">'+u+'</span>\n                        <span id="ag-'+E+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+_+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+w+'"></div>\n                </span>\n            </div>'},r.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},r.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},r.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},r.prototype.enableOrDisableButtons=function(){var i=this.paginationProxy.getCurrentPage(),s=this.paginationProxy.isLastPageFound(),l=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===i,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var u=this.isZeroPagesToDisplay();this.nextButtonDisabled=s&&i===l-1||u,this.lastButtonDisabled=!s||u||i===l-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},r.prototype.toggleButtonDisabled=function(i,s){Sy(i,s),i.classList.toggle("ag-disabled",s),s?i.removeAttribute("tabindex"):i.setAttribute("tabindex","0")},r.prototype.updateRowLabels=function(){var h,g,i=this.paginationProxy.getCurrentPage(),s=this.paginationProxy.getPageSize(),l=this.paginationProxy.isLastPageFound(),u=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?h=g=0:(g=(h=s*i+1)+s-1,l&&g>u&&(g=u)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(h),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(g)},r.prototype.isZeroPagesToDisplay=function(){var i=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.getTotalPages();return i&&0===s},r.prototype.setTotalLabels=function(){var i=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.getTotalPages(),l=i?this.paginationProxy.getMasterRowCount():null;if(1===l){var u=this.paginationProxy.getRow(0);if(u&&u.group&&!u.groupData&&!u.aggData)return void this.setTotalLabelsToZero()}if(i)this.lbTotal.innerHTML=this.formatNumber(s),this.lbRecordCount.innerHTML=this.formatNumber(l);else{var g=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=g,this.lbRecordCount.innerHTML=g}},r.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},zn([N("paginationProxy")],r.prototype,"paginationProxy",void 0),zn([N("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),zn([ae("btFirst")],r.prototype,"btFirst",void 0),zn([ae("btPrevious")],r.prototype,"btPrevious",void 0),zn([ae("btNext")],r.prototype,"btNext",void 0),zn([ae("btLast")],r.prototype,"btLast",void 0),zn([ae("lbRecordCount")],r.prototype,"lbRecordCount",void 0),zn([ae("lbFirstRowOnPage")],r.prototype,"lbFirstRowOnPage",void 0),zn([ae("lbLastRowOnPage")],r.prototype,"lbLastRowOnPage",void 0),zn([ae("lbCurrent")],r.prototype,"lbCurrent",void 0),zn([ae("lbTotal")],r.prototype,"lbTotal",void 0),zn([ge],r.prototype,"postConstruct",null),r}(Me),Vr=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ct=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Hr=(()=>(function(c){c[c.Loading=0]="Loading",c[c.NoRows=1]="NoRows"}(Hr||(Hr={})),Hr))(),Kl=function(c){function r(){var i=c.call(this,r.TEMPLATE)||this;return i.inProgress=!1,i.destroyRequested=!1,i.manuallyDisplayed=!1,i}return Vr(r,c),r.prototype.updateLayoutClasses=function(i,s){var l=this.eOverlayWrapper.classList;l.toggle(x.LBn.AUTO_HEIGHT,s.autoHeight),l.toggle(x.LBn.NORMAL,s.normal),l.toggle(x.LBn.PRINT,s.print)},r.prototype.postConstruct=function(){this.createManagedBean(new Xf(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,L.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},r.prototype.setWrapperTypeClass=function(i){var s=this.eOverlayWrapper.classList;s.toggle("ag-overlay-loading-wrapper",i===Hr.Loading),s.toggle("ag-overlay-no-rows-wrapper",i===Hr.NoRows)},r.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var l=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(l,Hr.Loading)}},r.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var l=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(l,Hr.NoRows)}},r.prototype.showOverlay=function(i,s){var l=this;this.inProgress||(this.setWrapperTypeClass(s),this.destroyActiveOverlay(),this.inProgress=!0,i&&i.then(function(u){l.inProgress=!1,l.eOverlayWrapper.appendChild(u.getGui()),l.activeOverlay=u,l.destroyRequested&&(l.destroyRequested=!1,l.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0))},r.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),Wi(this.eOverlayWrapper))},r.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1)},r.prototype.destroy=function(){this.destroyActiveOverlay(),c.prototype.destroy.call(this)},r.prototype.showOrHideOverlay=function(){var i=this.paginationProxy.isEmpty(),s=this.gridOptionsWrapper.isSuppressNoRowsOverlay();i&&!s?this.showNoRowsOverlay():this.hideOverlay()},r.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},r.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},r.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Ct([N("userComponentFactory")],r.prototype,"userComponentFactory",void 0),Ct([N("paginationProxy")],r.prototype,"paginationProxy",void 0),Ct([N("gridApi")],r.prototype,"gridApi",void 0),Ct([N("columnModel")],r.prototype,"columnModel",void 0),Ct([ae("eOverlayWrapper")],r.prototype,"eOverlayWrapper",void 0),Ct([ge],r.prototype,"postConstruct",null),r}(Me),ql=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),cs=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Ta=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return ql(r,c),r.prototype.getFirstRow=function(){var s,i=0;return this.pinnedRowModel.getPinnedTopRowCount()?s=j.PINNED_TOP:this.rowModel.getRowCount()?(s=null,i=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(s=j.PINNED_BOTTOM),void 0===s?null:{rowIndex:i,rowPinned:s}},r.prototype.getLastRow=function(){var i,s=null,l=this.pinnedRowModel.getPinnedBottomRowCount(),u=this.pinnedRowModel.getPinnedTopRowCount();return l?(s=j.PINNED_BOTTOM,i=l-1):this.rowModel.getRowCount()?(s=null,i=this.paginationProxy.getPageLastRow()):u&&(s=j.PINNED_TOP,i=u-1),void 0===i?null:{rowIndex:i,rowPinned:s}},r.prototype.getRowNode=function(i){switch(i.rowPinned){case j.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[i.rowIndex];case j.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[i.rowIndex];default:return this.rowModel.getRow(i.rowIndex)}},r.prototype.sameRow=function(i,s){return!i&&!s||!(i&&!s||!i&&s)&&i.rowIndex===s.rowIndex&&i.rowPinned==s.rowPinned},r.prototype.before=function(i,s){switch(i.rowPinned){case j.PINNED_TOP:if(s.rowPinned!==j.PINNED_TOP)return!0;break;case j.PINNED_BOTTOM:if(s.rowPinned!==j.PINNED_BOTTOM)return!1;break;default:if(ee(s.rowPinned))return s.rowPinned!==j.PINNED_TOP}return i.rowIndex<s.rowIndex},cs([N("rowModel")],r.prototype,"rowModel",void 0),cs([N("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),cs([N("paginationProxy")],r.prototype,"paginationProxy",void 0),cs([we("rowPositionUtils")],r)}(pe),Yl=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Aa=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return Yl(r,c),r.prototype.createId=function(i){return this.createIdFromValues(i.rowIndex,i.column,i.rowPinned)},r.prototype.createIdFromValues=function(i,s,l){return i+"."+(null==l?"null":l)+"."+s.getId()},r.prototype.equals=function(i,s){return i.column===s.column&&i.rowPinned===s.rowPinned&&i.rowIndex===s.rowIndex},r=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u}([we("cellPositionUtils")],r),r}(pe),Xl=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Tc=function c(r){this.cellValueChanges=r},nh=function(c){function r(i,s,l){var u=c.call(this,i)||this;return u.initialRange=s,u.finalRange=l,u}return Xl(r,c),r}(Tc),qg=function(){function c(r){this.actionStack=[],this.maxStackSize=r||c.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return c.prototype.pop=function(){return this.actionStack.pop()},c.prototype.push=function(r){!(r.cellValueChanges&&r.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(r))},c.prototype.clear=function(){this.actionStack=[]},c.prototype.getCurrentStackSize=function(){return this.actionStack.length},c.DEFAULT_STACK_SIZE=10,c}(),BC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ds=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},WC=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.cellValueChanges=[],i.activeCellEdit=null,i.activeRowEdit=null,i.isPasting=!1,i.isFilling=!1,i.onCellValueChanged=function(s){var l={column:s.column,rowIndex:s.rowIndex,rowPinned:s.rowPinned},u=null!==i.activeCellEdit&&i.cellPositionUtils.equals(i.activeCellEdit,l),h=null!==i.activeRowEdit&&i.rowPositionUtils.sameRow(i.activeRowEdit,l);if(u||h||i.isPasting||i.isFilling){var D=s.oldValue,M=s.value,G={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:s.column.getColId(),newValue:M,oldValue:D};i.cellValueChanges.push(G)}},i.clearStacks=function(){i.undoStack.clear(),i.redoStack.clear()},i}return BC(r,c),r.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var i=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();i<=0||(this.undoStack=new qg(i),this.redoStack=new qg(i),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,L.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,L.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_ROW_DRAG_END,this.clearStacks))}},r.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},r.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},r.prototype.undo=function(){if(this.undoStack){var i=this.undoStack.pop();!i||!i.cellValueChanges||(this.processAction(i,function(s){return s.oldValue}),i instanceof nh?this.processRangeAndCellFocus(i.cellValueChanges,i.initialRange):this.processRangeAndCellFocus(i.cellValueChanges),this.redoStack.push(i))}},r.prototype.redo=function(){if(this.redoStack){var i=this.redoStack.pop();!i||!i.cellValueChanges||(this.processAction(i,function(s){return s.newValue}),i instanceof nh?this.processRangeAndCellFocus(i.cellValueChanges,i.finalRange):this.processRangeAndCellFocus(i.cellValueChanges),this.undoStack.push(i))}},r.prototype.processAction=function(i,s){var l=this;i.cellValueChanges.forEach(function(u){var _=u.columnId,E=l.getRowNode({rowIndex:u.rowIndex,rowPinned:u.rowPinned});!E.displayed||E.setDataValue(_,s(u))})},r.prototype.processRangeAndCellFocus=function(i,s){var l;if(s){var u=s.startRow,h=s.endRow;return l={rowPinned:u.rowPinned,rowIndex:u.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(l),void this.gridApi.addCellRange({rowStartIndex:u.rowIndex,rowStartPinned:u.rowPinned,rowEndIndex:h.rowIndex,rowEndPinned:h.rowPinned,columnStart:s.startColumn,columns:s.columns})}var _=i[0],M=this.getRowNode({rowIndex:_.rowIndex,rowPinned:_.rowPinned});this.setLastFocusedCell(l={rowPinned:_.rowPinned,rowIndex:M.rowIndex,columnId:_.columnId})},r.prototype.setLastFocusedCell=function(i){var s=i.rowIndex,l=i.columnId,u=i.rowPinned;this.gridApi.ensureIndexVisible(s),this.gridApi.ensureColumnVisible(l),He.isRegistered(x.GXE.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(s,l,u,!0)},r.prototype.addRowEditingListeners=function(){var i=this;this.addManagedListener(this.eventService,L.EVENT_ROW_EDITING_STARTED,function(s){i.activeRowEdit={rowIndex:s.rowIndex,rowPinned:s.rowPinned}}),this.addManagedListener(this.eventService,L.EVENT_ROW_EDITING_STOPPED,function(){var s=new Tc(i.cellValueChanges);i.pushActionsToUndoStack(s),i.activeRowEdit=null})},r.prototype.addCellEditingListeners=function(){var i=this;this.addManagedListener(this.eventService,L.EVENT_CELL_EDITING_STARTED,function(s){i.activeCellEdit={column:s.column,rowIndex:s.rowIndex,rowPinned:s.rowPinned}}),this.addManagedListener(this.eventService,L.EVENT_CELL_EDITING_STOPPED,function(){if(i.activeCellEdit=null,!i.activeRowEdit&&!i.isPasting&&!i.isFilling){var l=new Tc(i.cellValueChanges);i.pushActionsToUndoStack(l)}})},r.prototype.addPasteListeners=function(){var i=this;this.addManagedListener(this.eventService,L.EVENT_PASTE_START,function(){i.isPasting=!0}),this.addManagedListener(this.eventService,L.EVENT_PASTE_END,function(){var s=new Tc(i.cellValueChanges);i.pushActionsToUndoStack(s),i.isPasting=!1})},r.prototype.addFillListeners=function(){var i=this;this.addManagedListener(this.eventService,L.EVENT_FILL_START,function(){i.isFilling=!0}),this.addManagedListener(this.eventService,L.EVENT_FILL_END,function(s){var l=new nh(i.cellValueChanges,s.initialRange,s.finalRange);i.pushActionsToUndoStack(l),i.isFilling=!1})},r.prototype.pushActionsToUndoStack=function(i){this.undoStack.push(i),this.cellValueChanges=[],this.redoStack.clear()},r.prototype.getRowNode=function(i){switch(i.rowPinned){case j.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[i.rowIndex];case j.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[i.rowIndex];default:return this.rowModel.getRow(i.rowIndex)}},ds([N("focusService")],r.prototype,"focusService",void 0),ds([N("gridApi")],r.prototype,"gridApi",void 0),ds([N("rowModel")],r.prototype,"rowModel",void 0),ds([N("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),ds([N("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),ds([N("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),ds([ge],r.prototype,"init",null),ds([we("undoRedoService")],r)}(pe),jC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ih=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Yg=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return jC(r,c),r.prototype.findHeader=function(i,s){var l;if(l=i.column instanceof Xt?this.columnModel["getDisplayedGroup"+s](i.column):this.columnModel["getDisplayedCol"+s](i.column))return{column:l,headerRowIndex:i.headerRowIndex}},r.prototype.findColAtEdgeForHeaderRow=function(i,s){var l=this.columnModel.getAllDisplayedColumns(),u=l["start"===s?0:l.length-1];if(u){var g=this.ctrlsService.getHeaderRowContainerCtrl(u.getPinned()).getRowType(i);return g==x.A6C.COLUMN_GROUP?{headerRowIndex:i,column:this.columnModel.getColumnGroupAtLevel(u,i)}:{headerRowIndex:null==g?-1:i,column:u}}},ih([N("columnModel")],r.prototype,"columnModel",void 0),ih([N("ctrlsService")],r.prototype,"ctrlsService",void 0),ih([we("headerPositionUtils")],r)}(pe),ce=function(){function c(){}return c.prototype.buildColumnDefs=function(r,i,s){var l=this,u=[],h={};return r.forEach(function(g){for(var w=!0,E=l.createDefFromColumn(g,i,s),D=g.getOriginalParent();D;){var M=null;if(D.isPadding())D=D.getOriginalParent();else{var G=h[D.getGroupId()];if(G){G.children.push(E),w=!1;break}(M=l.createDefFromGroup(D))&&(M.children=[E],h[M.groupId]=M,E=M,D=D.getOriginalParent())}}w&&u.push(E)}),u},c.prototype.createDefFromGroup=function(r){var i=bo(r.getColGroupDef(),["children"]);return i&&(i.groupId=r.getGroupId()),i},c.prototype.createDefFromColumn=function(r,i,s){var l=bo(r.getColDef());return l.colId=r.getColId(),l.width=r.getActualWidth(),l.rowGroup=r.isRowGroupActive(),l.rowGroupIndex=r.isRowGroupActive()?i.indexOf(r):null,l.pivot=r.isPivotActive(),l.pivotIndex=r.isPivotActive()?s.indexOf(r):null,l.aggFunc=r.isValueActive()?r.getAggFunc():null,l.hide=!r.isVisible()||void 0,l.pinned=r.isPinned()?r.getPinned():null,l.sort=r.getSort()?r.getSort():null,l.sortIndex=null!=r.getSortIndex()?r.getSortIndex():null,l},c=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u}([we("columnDefFactory")],c),c}(),Qg=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},hr=function(){function c(){}return c.prototype.getInitialRowClasses=function(r){var i=[];return ee(r.extraCssClass)&&i.push(r.extraCssClass),i.push("ag-row"),i.push(r.rowFocused?"ag-row-focus":"ag-row-no-focus"),r.fadeRowIn&&i.push("ag-opacity-zero"),i.push(r.rowIsEven?"ag-row-even":"ag-row-odd"),r.rowNode.isRowPinned()&&i.push("ag-row-pinned"),r.rowNode.isSelected()&&i.push("ag-row-selected"),r.rowNode.footer&&i.push("ag-row-footer"),i.push("ag-row-level-"+r.rowLevel),r.rowNode.stub&&i.push("ag-row-loading"),r.fullWidthRow&&i.push("ag-full-width-row"),r.expandable&&(i.push("ag-row-group"),i.push(r.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),r.rowNode.dragging&&i.push("ag-row-dragging"),nf(i,this.processClassesFromGridOptions(r.rowNode)),nf(i,this.preProcessRowClassRules(r.rowNode)),i.push(r.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),r.firstRowOnPage&&i.push("ag-row-first"),r.lastRowOnPage&&i.push("ag-row-last"),r.fullWidthRow&&(r.pinned===j.PINNED_LEFT&&i.push("ag-cell-last-left-pinned"),r.pinned===j.PINNED_RIGHT&&i.push("ag-cell-first-right-pinned")),i},c.prototype.processClassesFromGridOptions=function(r){var i=[],s=function(_){"string"==typeof _?i.push(_):Array.isArray(_)&&_.forEach(function(w){return i.push(w)})},l=this.gridOptionsWrapper.getRowClass();if(l){if("function"==typeof l)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];s(l)}var u=this.gridOptionsWrapper.getRowClassFunc();return u&&s(u({data:r.data,node:r,rowIndex:r.rowIndex})),i},c.prototype.preProcessRowClassRules=function(r){var i=[];return this.processRowClassRules(r,function(s){i.push(s)},function(s){}),i},c.prototype.processRowClassRules=function(r,i,s){var l={data:r.data,node:r,rowIndex:r.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),l,i,s)},c.prototype.calculateRowLevel=function(r){return r.group?r.level:r.parent?r.parent.level+1:0},Qg([N("stylingService")],c.prototype,"stylingService",void 0),Qg([N("gridOptionsWrapper")],c.prototype,"gridOptionsWrapper",void 0),Qg([we("rowCssClassCalculator")],c)}(),Ac=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},UC=function(){function c(){}return c.prototype.doFullSort=function(r,i){var l=r.map(function(u,h){return{currentPos:h,rowNode:u}});return l.sort(this.compareRowNodes.bind(this,i)),l.map(function(u){return u.rowNode})},c.prototype.compareRowNodes=function(r,i,s){for(var l=i.rowNode,u=s.rowNode,h=0,g=r.length;h<g;h++){var M,_=r[h],w=_.sort===j.SORT_DESC,E=this.getValue(l,_.column),D=this.getValue(u,_.column),G=this.getComparator(_,l);if(M=G?G(E,D,l,u,w):Le.defaultComparator(E,D,this.gridOptionsWrapper.isAccentedSort()),!isNaN(M)&&0!==M)return _.sort===j.SORT_ASC?M:-1*M}return i.currentPos-s.currentPos},c.prototype.getComparator=function(r,i){var s=r.column,l=s.getColDef().comparator;if(null!=l)return l;if(i.rowGroupColumn)return i.rowGroupColumn.getColDef().comparator;if(s.getColDef().showRowGroup){var u=!i.group&&s.getColDef().field;if(u){var h=this.columnModel.getPrimaryColumn(u);if(h)return h.getColDef().comparator}}},c.prototype.getValue=function(r,i){return this.valueService.getValue(i,r,!1,!1)},Ac([N("gridOptionsWrapper")],c.prototype,"gridOptionsWrapper",void 0),Ac([N("valueService")],c.prototype,"valueService",void 0),Ac([N("columnModel")],c.prototype,"columnModel",void 0),Ac([we("rowNodeSorter")],c)}(),YD=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),$C=function(c){function r(){var s=null!==c&&c.apply(this,arguments)||this;return s.ready=!1,s.readyCallbacks=[],s}var i;return YD(r,c),i=r,r.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var s=this.createReadyParams();this.readyCallbacks.forEach(function(l){return l(s)}),this.readyCallbacks.length=0}},r.prototype.whenReady=function(s){this.ready?s(this.createReadyParams()):this.readyCallbacks.push(s)},r.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},r.prototype.registerFakeHScrollCtrl=function(s){this.fakeHScrollCtrl=s,this.checkReady()},r.prototype.registerGridHeaderCtrl=function(s){this.gridHeaderCtrl=s,this.checkReady()},r.prototype.registerCenterRowContainerCtrl=function(s){this.centerRowContainerCtrl=s,this.checkReady()},r.prototype.registerLeftRowContainerCtrl=function(s){this.leftRowContainerCtrl=s,this.checkReady()},r.prototype.registerRightRowContainerCtrl=function(s){this.rightRowContainerCtrl=s,this.checkReady()},r.prototype.registerTopCenterRowContainerCtrl=function(s){this.topCenterRowContainerCtrl=s,this.checkReady()},r.prototype.registerTopLeftRowContainerCon=function(s){this.topLeftRowContainerCtrl=s,this.checkReady()},r.prototype.registerTopRightRowContainerCtrl=function(s){this.topRightRowContainerCtrl=s,this.checkReady()},r.prototype.registerBottomCenterRowContainerCtrl=function(s){this.bottomCenterRowContainerCtrl=s,this.checkReady()},r.prototype.registerBottomLeftRowContainerCtrl=function(s){this.bottomLeftRowContainerCtrl=s,this.checkReady()},r.prototype.registerBottomRightRowContainerCtrl=function(s){this.bottomRightRowContainerCtrl=s,this.checkReady()},r.prototype.registerHeaderContainer=function(s,l){switch(l){case j.PINNED_LEFT:this.leftHeaderRowContainerCtrl=s;break;case j.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=s;break;default:this.centerHeaderRowContainerCtrl=s}this.checkReady()},r.prototype.registerGridBodyCtrl=function(s){this.gridBodyCtrl=s,this.checkReady()},r.prototype.registerGridCtrl=function(s){this.gridCtrl=s,this.checkReady()},r.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},r.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},r.prototype.getGridCtrl=function(){return this.gridCtrl},r.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},r.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},r.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},r.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},r.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},r.prototype.getHeaderRowContainerCtrl=function(s){switch(s){case j.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case j.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},r.NAME="ctrlsService",r=i=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u}([we(i.NAME)],r),r}(pe),KC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),XD=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.registry={},i}return KC(r,c),r.prototype.register=function(i){this.registry[i.controllerName]=i.controllerClass},r.prototype.getInstance=function(i){var s=this.registry[i];if(null!=s)return new s},r=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u}([we("ctrlsFactory")],r),r}(pe),YN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),rh=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Xg=function(c){function r(){return c.call(this)||this}return YN(r,c),r.prototype.setComp=function(i,s,l,u){this.view=i,this.eViewport=l,this.eContainer=u,this.eGui=s,this.addManagedListener(this.eventService,L.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var h=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,h),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,h),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_DOM_LAYOUT,h),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},r.prototype.addActiveListenerToggles=function(){var i=this;["mouseenter","mousedown","touchstart"].forEach(function(u){return i.addManagedListener(i.eGui,u,function(){return i.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","mouseup","touchend"].forEach(function(u){return i.addManagedListener(i.eGui,u,function(){return i.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},r.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=w0()},r.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},r.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var i=this;this.addManagedListener(this.eventService,L.EVENT_BODY_SCROLL,function(s){"horizontal"===s.direction&&i.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,L.EVENT_BODY_SCROLL_END,function(){return i.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},r.prototype.setFakeHScrollSpacerWidths=function(){var i=this.scrollVisibleService.isVerticalScrollShowing(),s=this.columnModel.getDisplayedColumnsRightWidth(),l=!this.enableRtl&&i,u=this.gridOptionsWrapper.getScrollbarWidth();l&&(s+=u),this.view.setRightSpacerFixedWidth(s),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",s<=u);var h=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&i&&(h+=u),this.view.setLeftSpacerFixedWidth(h),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",h<=u)},r.prototype.setScrollVisible=function(){var i=this.scrollVisibleService.isHorizontalScrollShowing(),s=this.invisibleScrollbar,l=this.gridOptionsWrapper.isSuppressHorizontalScroll(),u=i&&this.gridOptionsWrapper.getScrollbarWidth()||0,g=l?0:0===u&&s?15:u;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",s),this.view.setHeight(g),this.view.setViewportHeight(g),this.view.setContainerHeight(g)},r.prototype.getViewport=function(){return this.eViewport},r.prototype.getContainer=function(){return this.eContainer},rh([N("scrollVisibleService")],r.prototype,"scrollVisibleService",void 0),rh([N("columnModel")],r.prototype,"columnModel",void 0),rh([N("ctrlsService")],r.prototype,"ctrlsService",void 0),rh([ge],r.prototype,"postConstruct",null),r}(pe),Zg=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Pc=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},QN=function(c){function r(){return c.call(this,r.TEMPLATE)||this}return Zg(r,c),r.prototype.postConstruct=function(){var i=this,s={addOrRemoveCssClass:function(u,h){return i.addOrRemoveCssClass(u,h)},setHeight:function(u){return sr(i.getGui(),u)},setContainerHeight:function(u){return sr(i.eContainer,u)},setViewportHeight:function(u){return sr(i.eViewport,u)},setRightSpacerFixedWidth:function(u){return St(i.eRightSpacer,u)},setLeftSpacerFixedWidth:function(u){return St(i.eLeftSpacer,u)},includeLeftSpacerScrollerCss:function(u,h){return i.eLeftSpacer.classList.toggle(u,h)},includeRightSpacerScrollerCss:function(u,h){return i.eRightSpacer.classList.toggle(u,h)}};this.createManagedBean(new Xg).setComp(s,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new rg(function(u){return i.eContainer.style.width=u+"px"}))},r.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',Pc([ae("eLeftSpacer")],r.prototype,"eLeftSpacer",void 0),Pc([ae("eRightSpacer")],r.prototype,"eRightSpacer",void 0),Pc([ae("eViewport")],r.prototype,"eViewport",void 0),Pc([ae("eContainer")],r.prototype,"eContainer",void 0),Pc([ge],r.prototype,"postConstruct",null),r}(Me),XN=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),qC=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},ZD=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return XN(r,c),r.prototype.postConstruct=function(){var i=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,i),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_DOM_LAYOUT,i)},r.prototype.checkContainerWidths=function(){var i=this.gridOptionsWrapper.getDomLayout()===j.DOM_LAYOUT_PRINT,s=i?0:this.columnModel.getDisplayedColumnsLeftWidth(),l=i?0:this.columnModel.getDisplayedColumnsRightWidth();s!=this.leftWidth&&(this.leftWidth=s,this.eventService.dispatchEvent({type:L.EVENT_LEFT_PINNED_WIDTH_CHANGED})),l!=this.rightWidth&&(this.rightWidth=l,this.eventService.dispatchEvent({type:L.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},r.prototype.getPinnedRightWidth=function(){return this.rightWidth},r.prototype.getPinnedLeftWidth=function(){return this.leftWidth},qC([N("columnModel")],r.prototype,"columnModel",void 0),qC([ge],r.prototype,"postConstruct",null),qC([we("pinnedWidthService")],r)}(pe),YC=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Jg=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},JD=function(c){function r(){var i=null!==c&&c.apply(this,arguments)||this;return i.events=[],i}return YC(r,c),r.prototype.postConstruct=function(){this.rowModel.getType()==j.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},r.prototype.dispatchExpanded=function(i){var s=this;null!=this.clientSideRowModel?(this.events.push(i),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){s.clientSideRowModel&&s.clientSideRowModel.onRowGroupOpened(),s.events.forEach(function(u){return s.eventService.dispatchEvent(u)}),s.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(i)},Jg([N("animationFrameService")],r.prototype,"animationFrameService",void 0),Jg([N("rowModel")],r.prototype,"rowModel",void 0),Jg([ge],r.prototype,"postConstruct",null),Jg([we("rowNodeEventThrottle")],r)}(pe),Zl=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},QC=function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(Zl(arguments[r]));return c},XC=function(){function c(r,i,s){i?(this.gridOptions=i,(new ZC).create(r,i,function(l){var u=new kg(r);l.createBean(u)},void 0,s)):console.error("AG Grid: no gridOptions provided to the grid")}return c.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},c}(),ZC=function(){function c(){}return c.prototype.create=function(r,i,s,l,u){var h=this,g=!!i.debug,_=this.getRegisteredModules(u),w=this.createBeansList(i.rowModelType,_),E=this.createProvidedBeans(r,i,u);if(w){var D={providedBeanInstances:E,beanClasses:w,debug:g},M=new Yp("AG Grid",function(){return i.debug}),G=new Yp("Context",function(){return D.debug}),V=new n0(D,G),B=V.getBean("beans");this.registerModuleUserComponents(B,_),this.registerStackComponents(B,_),this.registerControllers(B,_),s(V),B.ctrlsService.whenReady(function(){h.setColumnsAndData(B),h.dispatchGridReadyEvent(B,i);var q=He.isRegistered(x.GXE.EnterpriseCoreModule);M.log("initialised successfully, enterprise = "+q)}),l&&l(V)}},c.prototype.registerControllers=function(r,i){i.forEach(function(s){s.controllers&&s.controllers.forEach(function(l){return r.ctrlsFactory.register(l)})})},c.prototype.registerStackComponents=function(r,i){var s=this.createAgStackComponentsList(i);r.agStackComponentsRegistry.setupComponents(s)},c.prototype.getRegisteredModules=function(r){var i=r?r.modules:null,s=He.getRegisteredModules(),l=[],u={};function h(g,_){(function w(E){u[E.moduleName]||(u[E.moduleName]=!0,l.push(E),He.register(E,g))})(_),_.dependantModules&&_.dependantModules.forEach(h.bind(null,g))}return i&&i.forEach(h.bind(null,!0)),s&&s.forEach(h.bind(null,!He.isPackageBased())),l},c.prototype.registerModuleUserComponents=function(r,i){this.extractModuleEntity(i,function(l){return l.userComponents?l.userComponents:[]}).forEach(function(l){r.userComponentRegistry.registerDefaultComponent(l.componentName,l.componentClass)})},c.prototype.createProvidedBeans=function(r,i,s){var l=s?s.frameworkOverrides:null;Pe(l)&&(l=new xg);var u={gridOptions:i,eGridDiv:r,globalEventListener:s?s.globalEventListener:null,frameworkOverrides:l};return s&&s.providedBeanInstances&&Object.assign(u,s.providedBeanInstances),u},c.prototype.createAgStackComponentsList=function(r){var i=[{componentName:"AgCheckbox",componentClass:Ml},{componentName:"AgRadioButton",componentClass:kl},{componentName:"AgToggleButton",componentClass:oC},{componentName:"AgInputTextField",componentClass:kp},{componentName:"AgInputTextArea",componentClass:Vp},{componentName:"AgInputNumberField",componentClass:bc},{componentName:"AgInputRange",componentClass:Tg},{componentName:"AgSelect",componentClass:Ao},{componentName:"AgSlider",componentClass:Ag},{componentName:"AgAngleSelect",componentClass:lC},{componentName:"AgColorPicker",componentClass:uC},{componentName:"AgGridBody",componentClass:P_},{componentName:"AgHeaderRoot",componentClass:Np},{componentName:"AgPagination",componentClass:th},{componentName:"AgOverlayWrapper",componentClass:Kl},{componentName:"AgGroupComponent",componentClass:cC},{componentName:"AgPanel",componentClass:Bp},{componentName:"AgDialog",componentClass:jp},{componentName:"AgRowContainer",componentClass:Cp},{componentName:"AgFakeHorizontalScroll",componentClass:QN}],s=this.extractModuleEntity(r,function(l){return l.agStackComponents?l.agStackComponents:[]});return i.concat(s)},c.prototype.createBeansList=function(r,i){var s=this.getRowModelClass(r,i);if(s){var l=[s,fp,Ta,Aa,Yg,LC,fc,a_,BD,It,Cg,Kf,KD,uD,Sg,Ol,v0,Ko,_e,$p,SC,rc,g0,vg,rC,vD,Gg,hy,AC,qp,$S,kr,RC,PC,So,gD,xp,Ki,Fg,Bs,I_,Oa,Sc,J_,Gp,N_,IC,xC,kD,$l,$N,kC,hD,WC,_0,ce,hr,nC,UC,$C,ZD,JD,XD],u=this.extractModuleEntity(i,function(g){return g.beans?g.beans:[]});l.push.apply(l,QC(u));var h=[];return l.forEach(function(g){h.indexOf(g)<0&&h.push(g)}),h}},c.prototype.extractModuleEntity=function(r,i){return[].concat.apply([],QC(r.map(i)))},c.prototype.setColumnsAndData=function(r){var i=r.gridOptionsWrapper.getColumnDefs();r.columnModel.setColumnDefs(i||[],"gridInitializing"),r.rowModel.start()},c.prototype.dispatchGridReadyEvent=function(r,i){r.eventService.dispatchEvent({type:L.EVENT_GRID_READY,api:i.api,columnApi:i.columnApi})},c.prototype.getRowModelClass=function(r,i){r||(r=j.ROW_MODEL_TYPE_CLIENT_SIDE);var s={};i.forEach(function(u){Tt(u.rowModels,function(h,g){s[h]=g})});var l=s[r];if(ee(l))return l;He.isPackageBased()?[j.ROW_MODEL_TYPE_VIEWPORT,j.ROW_MODEL_TYPE_SERVER_SIDE].includes(r)?console.error('AG Grid: Row Model "'+r+"\" not found. Please ensure the package 'ag-grid-enterprise' is imported. Please see: https://www.ag-grid.com/javascript-grid/packages/"):console.error("AG Grid: could not find row model for rowModelType "+r):r===j.ROW_MODEL_TYPE_INFINITE?console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+x.GXE.InfiniteRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):r===j.ROW_MODEL_TYPE_VIEWPORT?console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+x.GXE.ViewportRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):r===j.ROW_MODEL_TYPE_SERVER_SIDE?console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+x.GXE.ServerSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):r===j.ROW_MODEL_TYPE_CLIENT_SIDE?console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+x.GXE.ClientSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):console.error("AG Grid: could not find row model for rowModelType "+r)},c}(),oh=function(){function c(){}return c.prototype.wrap=function(r,i,s,l){var u=this;void 0===s&&(s=[]);var h=this.createWrapper(r,l);return i.forEach(function(g){u.createMethod(h,g,!0)}),s.forEach(function(g){u.createMethod(h,g,!1)}),h},c.prototype.unwrap=function(r){return r},c.prototype.createMethod=function(r,i,s){r.addMethod(i,this.createMethodProxy(r,i,s))},c.prototype.createMethodProxy=function(r,i,s){return function(){return r.hasMethod(i)?r.callMethod(i,arguments):(s&&console.warn("AG Grid: Framework component is missing the method "+i+"()"),null)}},c}();!function(c){c.InsideBase="insideBase",c.InsideEnd="insideEnd",c.Center="center",c.OutsideEnd="outsideEnd"}(x.nWP||(x.nWP={}));var Jl="undefined"==typeof global?{}:global;Jl.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,Jl.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,Jl.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,Jl.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,Jl.Node="undefined"==typeof Node?{}:Node,Jl.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var ew=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u},tR=function(){function c(r,i,s,l,u,h,g,_){this.nextId=0,this.allNodesMap={},this.rootNode=r,this.gridOptionsWrapper=i,this.eventService=s,this.columnModel=l,this.gridApi=u,this.columnApi=h,this.beans=_,this.selectionService=g,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=c.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return c.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},c.prototype.getCopyOfNodesMap=function(){return Le.cloneObject(this.allNodesMap)},c.prototype.getRowNode=function(r){return this.allNodesMap[r]},c.prototype.setRowData=function(r){var i=this;if("string"!=typeof r){var s=this.rootNode,l=this.rootNode.sibling;s.childrenAfterFilter=null,s.childrenAfterGroup=null,s.childrenAfterAggFilter=null,s.childrenAfterSort=null,s.childrenMapped=null,s.updateHasChildren(),this.nextId=0,this.allNodesMap={},r?s.allLeafChildren=r.map(function(u){return i.createNode(u,i.rootNode,c.TOP_LEVEL)}):(s.allLeafChildren=[],s.childrenAfterGroup=[]),l&&(l.childrenAfterFilter=s.childrenAfterFilter,l.childrenAfterGroup=s.childrenAfterGroup,l.childrenAfterAggFilter=s.childrenAfterAggFilter,l.childrenAfterSort=s.childrenAfterSort,l.childrenMapped=s.childrenMapped,l.allLeafChildren=s.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},c.prototype.updateRowData=function(r,i){var s={remove:[],update:[],add:[]},l=[];return this.executeRemove(r,s,l),this.executeUpdate(r,s,l),this.executeAdd(r,s),this.updateSelection(l),i&&Le.sortRowNodesByOrder(this.rootNode.allLeafChildren,i),s},c.prototype.updateSelection=function(r){var i=r.length>0;i&&r.forEach(function(l){l.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),i&&this.eventService.dispatchEvent({type:L.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},c.prototype.executeAdd=function(r,i){var s=this,l=r.add,u=r.addIndex;if(!Le.missingOrEmpty(l)){var _,w,h=l.map(function(M){return s.createNode(M,s.rootNode,c.TOP_LEVEL)});if("number"==typeof u&&u>=0){var E=this.rootNode.allLeafChildren,D=0===u?0:E.reduce(function(M,G,V){var B,q=G.rowIndex,Z=null===(B=E[M])||void 0===B?void 0:B.rowIndex;return null!=q&&null!=Z&&q<u&&q>Z?V:M},0)+1;_=E.slice(0,D),w=E.slice(D,E.length)}else _=this.rootNode.allLeafChildren,w=[];this.rootNode.allLeafChildren=function(){for(var c=[],r=0;r<arguments.length;r++)c=c.concat(ew(arguments[r]));return c}(_,h,w),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),i.add=h}},c.prototype.executeRemove=function(r,i,s){var l=this,u=r.remove;if(!Le.missingOrEmpty(u)){var h={};u.forEach(function(g){var _=l.lookupRowNode(g);!_||(_.isSelected()&&s.push(_),_.clearRowTopAndRowIndex(),h[_.id]=!0,delete l.allNodesMap[_.id],i.remove.push(_))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(g){return!h[g.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},c.prototype.executeUpdate=function(r,i,s){var l=this,u=r.update;Le.missingOrEmpty(u)||u.forEach(function(h){var g=l.lookupRowNode(h);!g||(g.updateData(h),!g.selectable&&g.isSelected()&&s.push(g),l.setMasterForRow(g,h,c.TOP_LEVEL,!1),i.update.push(g))})},c.prototype.lookupRowNode=function(r){var s,i=this.gridOptionsWrapper.getRowIdFunc();if(i){var l=i({data:r,level:0});if(!(s=this.allNodesMap[l]))return console.error("AG Grid: could not find row id="+l+", data item was not found for this id"),null}else if(!(s=this.rootNode.allLeafChildren.find(function(u){return u.data===r})))return console.error("AG Grid: could not find data item as object was not found",r),console.error("Consider using getRowId to help the Grid find matching row data"),null;return s||null},c.prototype.createNode=function(r,i,s){var l=new nt(this.beans);return l.group=!1,this.setMasterForRow(l,r,s,!0),i&&!this.suppressParentsInRowNodes&&(l.parent=i),l.level=s,l.setDataAndId(r,this.nextId.toString()),this.allNodesMap[l.id]&&console.warn("AG Grid: duplicate node id '"+l.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[l.id]=l,this.nextId++,l},c.prototype.setMasterForRow=function(r,i,s,l){if(this.doingTreeData)r.setMaster(!1),l&&(r.expanded=!1);else if(r.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(i))),l){var u=this.columnModel.getRowGroupColumns();r.expanded=!!r.master&&this.isExpanded(s+(u?u.length:0))}},c.prototype.isExpanded=function(r){var i=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===i||r<i},c.TOP_LEVEL=0,c.ROOT_NODE_ID="ROOT_NODE_ID",c}(),nR=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ai=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},ro=(()=>(function(c){c[c.Normal=0]="Normal",c[c.AfterFilter=1]="AfterFilter",c[c.AfterFilterAndSort=2]="AfterFilterAndSort",c[c.PivotNodes=3]="PivotNodes"}(ro||(ro={})),ro))(),tw=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return nR(r,c),r.prototype.init=function(){var i=this.refreshModel.bind(this,{step:x.j_r.EVERYTHING}),s=!this.gridOptionsWrapper.isSuppressAnimationFrame(),l=this.refreshModel.bind(this,{step:x.j_r.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:s});this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,l),this.addManagedListener(this.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:x.j_r.PIVOT})),this.addManagedListener(this.eventService,L.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_MODE_CHANGED,i);var u=this.refreshModel.bind(this,{step:x.j_r.MAP,keepRenderedRows:!0,animate:s});this.addManagedListener(this.gridOptionsWrapper,_e.PROP_GROUP_REMOVE_SINGLE_CHILDREN,u),this.addManagedListener(this.gridOptionsWrapper,_e.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,u),this.rootNode=new nt(this.beans),this.nodeManager=new tR(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},r.prototype.start=function(){var i=this.gridOptionsWrapper.getRowData();i&&this.setRowData(i)},r.prototype.ensureRowHeightsValid=function(i,s,l,u){var h,g=!1;do{h=!1;for(var _=this.getRowIndexAtPixel(i),w=this.getRowIndexAtPixel(s),E=Math.max(_,l),D=Math.min(w,u),M=E;M<=D;M++){var G=this.getRow(M);if(G.rowHeightEstimated){var V=this.gridOptionsWrapper.getRowHeightForNode(G);G.setRowHeight(V.height),h=!0,g=!0}}h&&this.setRowTopAndRowIndex()}while(h);return g},r.prototype.setRowTopAndRowIndex=function(){for(var i=this.gridOptionsWrapper.getDefaultRowHeight(),s=0,l=new Set,u=this.gridOptionsWrapper.getDomLayout()===j.DOM_LAYOUT_NORMAL,h=0;h<this.rowsToDisplay.length;h++){var g=this.rowsToDisplay[h];if(null!=g.id&&l.add(g.id),null==g.rowHeight){var _=this.gridOptionsWrapper.getRowHeightForNode(g,u,i);g.setRowHeight(_.height,_.estimated)}g.setRowTop(s),g.setRowIndex(h),s+=g.rowHeight}return l},r.prototype.clearRowTopAndRowIndex=function(i,s){var l=i.isActive(),u=function(g){g&&null!=g.id&&!s.has(g.id)&&g.clearRowTopAndRowIndex()},h=function(g){u(g),u(g.detailNode),u(g.sibling),g.hasChildren()&&g.childrenAfterGroup&&(l&&-1!=g.level&&!g.expanded||g.childrenAfterGroup.forEach(h))};h(this.rootNode)},r.prototype.ensureRowsAtPixel=function(i,s,l){var u=this;void 0===l&&(l=0);var h=this.getRowIndexAtPixel(s),g=this.getRow(h),_=!this.gridOptionsWrapper.isSuppressAnimationFrame();return g!==i[0]&&(i.forEach(function(w){Le.removeFromArray(u.rootNode.allLeafChildren,w)}),i.forEach(function(w,E){Le.insertIntoArray(u.rootNode.allLeafChildren,w,Math.max(h+l,0)+E)}),this.refreshModel({step:x.j_r.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:_}),!0)},r.prototype.highlightRowAtPixel=function(i,s){var l=null!=s?this.getRowIndexAtPixel(s):null,u=null!=l?this.getRow(l):null;if(u&&i&&u!==i&&null!=s){var h=this.getHighlightPosition(s,u);this.lastHighlightedRow&&this.lastHighlightedRow!==u&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),u.setHighlighted(h),this.lastHighlightedRow=u}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},r.prototype.getHighlightPosition=function(i,s){if(!s){var l=this.getRowIndexAtPixel(i);if(!(s=this.getRow(l||0)))return x.oh5.Below}return i-s.rowTop<s.rowHeight/2?x.oh5.Above:x.oh5.Below},r.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},r.prototype.isLastRowIndexKnown=function(){return!0},r.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},r.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var s=this.rootNode.childrenAfterAggFilter;return s?s.length:0},r.prototype.getTopLevelRowDisplayedIndex=function(i){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return i;var l=this.rootNode.childrenAfterSort[i];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},r.prototype.getRowBounds=function(i){if(Le.missing(this.rowsToDisplay))return null;var s=this.rowsToDisplay[i];return s?{rowTop:s.rowTop,rowHeight:s.rowHeight}:null},r.prototype.onRowGroupOpened=function(){var i=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:x.j_r.MAP,keepRenderedRows:!0,animate:i})},r.prototype.onFilterChanged=function(i){if(!i.afterDataChange){var s=this.gridOptionsWrapper.isAnimateRows(),l=0===i.columns.length||i.columns.some(function(h){return h.isPrimary()});this.refreshModel({step:l?x.j_r.FILTER:x.j_r.FILTER_AGGREGATES,keepRenderedRows:!0,animate:s})}},r.prototype.onSortChanged=function(){var i=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:x.j_r.SORT,keepRenderedRows:!0,animate:i,keepEditingRows:!0})},r.prototype.getType=function(){return j.ROW_MODEL_TYPE_CLIENT_SIDE},r.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:x.j_r.PIVOT}):this.refreshModel({step:x.j_r.AGGREGATE})},r.prototype.createChangePath=function(i){var s=Le.missingOrEmpty(i),l=new Ll(!1,this.rootNode);return(s||this.gridOptionsWrapper.isTreeData())&&l.setInactive(),l},r.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(i){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==i.rowNodeTransactions)return!1;var s=i.rowNodeTransactions.filter(function(u){return null!=u.add&&u.add.length>0||null!=u.remove&&u.remove.length>0});return null==s||0==s.length},r.prototype.refreshModel=function(i){if(!this.isSuppressModelUpdateAfterUpdateTransaction(i)){var s=this.createChangePath(i.rowNodeTransactions);switch(i.step){case x.j_r.EVERYTHING:this.doRowGrouping(i.groupState,i.rowNodeTransactions,i.rowNodeOrder,s,!!i.afterColumnsChanged);case x.j_r.FILTER:this.doFilter(s);case x.j_r.PIVOT:this.doPivot(s);case x.j_r.AGGREGATE:this.doAggregate(s);case x.j_r.FILTER_AGGREGATES:this.doFilterAggregates(s);case x.j_r.SORT:this.doSort(i.rowNodeTransactions,s);case x.j_r.MAP:this.doRowsToDisplay()}var l=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(s,l),this.eventService.dispatchEvent({type:L.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:i.animate,keepRenderedRows:i.keepRenderedRows,newData:i.newData,newPage:!1})}},r.prototype.isEmpty=function(){var i=Le.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Le.missing(this.rootNode)||i||!this.columnModel.isReady()},r.prototype.isRowsToRender=function(){return Le.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},r.prototype.getNodesInRangeForSelection=function(i,s){var h,l=!s,u=!1,g=[],_=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(w){var E=l&&!u;if(l||(w===s||w===i)&&(l=!0),!w.group||!_){var M=l&&!u,G=w.isParentOfNode(h);(M||G)&&g.push(w)}E&&(w===s||w===i)&&(u=!0,h=w===s?s:i)}),g},r.prototype.setDatasource=function(i){console.error("AG Grid: should never call setDatasource on clientSideRowController")},r.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},r.prototype.getRootNode=function(){return this.rootNode},r.prototype.getRow=function(i){return this.rowsToDisplay[i]},r.prototype.isRowPresent=function(i){return this.rowsToDisplay.indexOf(i)>=0},r.prototype.getRowIndexAtPixel=function(i){if(this.isEmpty())return-1;var s=0,l=this.rowsToDisplay.length-1;if(i<=0)return 0;if(Le.last(this.rowsToDisplay).rowTop<=i)return this.rowsToDisplay.length-1;for(;;){var h=Math.floor((s+l)/2),g=this.rowsToDisplay[h];if(this.isRowInPixel(g,i))return h;g.rowTop<i?s=h+1:g.rowTop>i&&(l=h-1)}},r.prototype.isRowInPixel=function(i,s){return i.rowTop<=s&&i.rowTop+i.rowHeight>s},r.prototype.forEachLeafNode=function(i){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(s,l){return i(s,l)})},r.prototype.forEachNode=function(i){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,i,ro.Normal,0)},r.prototype.forEachNodeAfterFilter=function(i){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,i,ro.AfterFilter,0)},r.prototype.forEachNodeAfterFilterAndSort=function(i){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,i,ro.AfterFilterAndSort,0)},r.prototype.forEachPivotNode=function(i){this.recursivelyWalkNodesAndCallback([this.rootNode],i,ro.PivotNodes,0)},r.prototype.recursivelyWalkNodesAndCallback=function(i,s,l,u){if(!i)return u;for(var h=0;h<i.length;h++){var g=i[h];if(s(g,u++),g.hasChildren()){var _=null;switch(l){case ro.Normal:_=g.childrenAfterGroup;break;case ro.AfterFilter:_=g.childrenAfterAggFilter;break;case ro.AfterFilterAndSort:_=g.childrenAfterSort;break;case ro.PivotNodes:_=g.leafGroup?null:g.childrenAfterSort}_&&(u=this.recursivelyWalkNodesAndCallback(_,s,l,u))}}return u},r.prototype.doAggregate=function(i){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:i})},r.prototype.doFilterAggregates=function(i){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:i}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},r.prototype.expandOrCollapseAll=function(i){var s=this.gridOptionsWrapper.isTreeData(),l=this.columnModel.isPivotActive(),u=function(_){!_||_.forEach(function(w){var E=function(){w.expanded=i,u(w.childrenAfterGroup)};s?Le.exists(w.childrenAfterGroup)&&E():l?!w.leafGroup&&E():w.group&&E()})};this.rootNode&&u(this.rootNode.childrenAfterGroup),this.refreshModel({step:x.j_r.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:L.EVENT_EXPAND_COLLAPSE_ALL,source:i?"expandAll":"collapseAll"})},r.prototype.doSort=function(i,s){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:i,changedPath:s})},r.prototype.doRowGrouping=function(i,s,l,u,h){this.groupStage?(s?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:s,rowNodeOrder:l,changedPath:u}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:u,afterColumnsChanged:h}),this.restoreGroupState(i)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(u)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},r.prototype.restoreGroupState=function(i){!i||Le.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(s,l){"boolean"==typeof i[l]&&(s.expanded=i[l])})},r.prototype.doFilter=function(i){this.filterStage.execute({rowNode:this.rootNode,changedPath:i})},r.prototype.doPivot=function(i){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:i})},r.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var i={};return Le.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(s,l){return i[l]=s.expanded}),i},r.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},r.prototype.getRowNode=function(i){if("string"==typeof i&&0==i.indexOf(nt.ID_PREFIX_ROW_GROUP)){var l=void 0;return this.forEachNode(function(u){u.id===i&&(l=u)}),l}return this.nodeManager.getRowNode(i)},r.prototype.setRowData=function(i){var s=this.getGroupState();this.nodeManager.setRowData(i),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:L.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:x.j_r.EVERYTHING,groupState:s,newData:!0})},r.prototype.batchUpdateRowData=function(i,s){var l=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var u=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){l.executeBatchUpdateRowData()},u)}this.rowDataTransactionBatch.push({rowDataTransaction:i,callback:s})},r.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},r.prototype.executeBatchUpdateRowData=function(){var i=this;this.valueCache.onDataChanged();var s=[],l=[],u=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(g){var _=i.nodeManager.updateRowData(g.rowDataTransaction,void 0);l.push(_),g.callback&&s.push(g.callback.bind(null,_)),"number"==typeof g.rowDataTransaction.addIndex&&(u=!0)}),this.commonUpdateRowData(l,void 0,u),s.length>0&&window.setTimeout(function(){s.forEach(function(g){return g()})},0),l.length>0){var h={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:L.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:l};this.eventService.dispatchEvent(h)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},r.prototype.updateRowData=function(i,s){this.valueCache.onDataChanged();var l=this.nodeManager.updateRowData(i,s);return this.commonUpdateRowData([l],s,"number"==typeof i.addIndex),l},r.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var s={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var l=0;l<this.rootNode.allLeafChildren.length;l++)s[this.rootNode.allLeafChildren[l].id]=l;return s}},r.prototype.commonUpdateRowData=function(i,s,l){var u=!this.gridOptionsWrapper.isSuppressAnimationFrame();l&&(s=this.createRowNodeOrder()),this.refreshModel({step:x.j_r.EVERYTHING,rowNodeTransactions:i,rowNodeOrder:s,keepRenderedRows:!0,keepEditingRows:!0,animate:u}),this.eventService.dispatchEvent({type:L.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},r.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},r.prototype.onRowHeightChanged=function(){this.refreshModel({step:x.j_r.MAP,keepRenderedRows:!0,keepEditingRows:!0})},r.prototype.resetRowHeights=function(){var i=!1;this.forEachNode(function(s){s.setRowHeight(s.rowHeight,!0);var l=s.detailNode;l&&l.setRowHeight(l.rowHeight,!0),i=!0}),i&&this.onRowHeightChanged()},ai([N("columnModel")],r.prototype,"columnModel",void 0),ai([N("selectionService")],r.prototype,"selectionService",void 0),ai([N("filterManager")],r.prototype,"filterManager",void 0),ai([N("valueCache")],r.prototype,"valueCache",void 0),ai([N("columnApi")],r.prototype,"columnApi",void 0),ai([N("gridApi")],r.prototype,"gridApi",void 0),ai([N("animationFrameService")],r.prototype,"animationFrameService",void 0),ai([N("beans")],r.prototype,"beans",void 0),ai([N("filterStage")],r.prototype,"filterStage",void 0),ai([N("sortStage")],r.prototype,"sortStage",void 0),ai([N("flattenStage")],r.prototype,"flattenStage",void 0),ai([vt("groupStage")],r.prototype,"groupStage",void 0),ai([vt("aggregationStage")],r.prototype,"aggregationStage",void 0),ai([vt("pivotStage")],r.prototype,"pivotStage",void 0),ai([vt("filterAggregatesStage")],r.prototype,"filterAggregatesStage",void 0),ai([ge],r.prototype,"init",null),ai([we("rowModel")],r)}(pe),iR=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),em=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},nw=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return iR(r,c),r.prototype.execute=function(i){this.filterService.filter(i.changedPath)},em([N("filterService")],r.prototype,"filterService",void 0),em([we("filterStage")],r)}(pe),tm=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),nm=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},im=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return tm(r,c),r.prototype.execute=function(i){var s=this.sortController.getSortOptions(),l=Le.exists(s)&&s.length>0,u=l&&Le.exists(i.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),h=s.some(function(g){return!!g.column.getColDef().showRowGroup});this.sortService.sort(s,l,u,i.rowNodeTransactions,i.changedPath,h)},nm([N("sortService")],r.prototype,"sortService",void 0),nm([N("sortController")],r.prototype,"sortController",void 0),nm([N("columnModel")],r.prototype,"columnModel",void 0),nm([we("sortStage")],r)}(pe),rR=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),iw=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},H=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return rR(r,c),r.prototype.execute=function(i){var s=i.rowNode,l=[],u={value:0},h=this.columnModel.isPivotMode(),g=h&&s.leafGroup;return this.recursivelyAddToRowsToDisplay(g?[s]:s.childrenAfterSort,l,u,h,0),!g&&l.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(s),this.addRowNodeToRowsToDisplay(s.sibling,l,u,0)),l},r.prototype.recursivelyAddToRowsToDisplay=function(i,s,l,u,h){if(!Le.missingOrEmpty(i))for(var g=this.gridOptionsWrapper.isGroupHideOpenParents(),_=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),w=!_&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),E=0;E<i.length;E++){var D=i[E],M=D.hasChildren(),V=_&&M&&1===D.childrenAfterGroup.length,B=w&&M&&D.leafGroup&&1===D.childrenAfterGroup.length;if(!(u&&!M||g&&D.expanded&&!D.master&&(!u||!D.leafGroup)||V||B)&&this.addRowNodeToRowsToDisplay(D,s,l,h),!u||!D.leafGroup)if(M){var oe=V||B;(D.expanded||oe)&&(this.recursivelyAddToRowsToDisplay(D.childrenAfterSort,s,l,u,oe?h:h+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(D),this.addRowNodeToRowsToDisplay(D.sibling,s,l,h)))}else if(D.master&&D.expanded){var Se=this.createDetailNode(D);this.addRowNodeToRowsToDisplay(Se,s,l,h)}}},r.prototype.addRowNodeToRowsToDisplay=function(i,s,l,u){var h=this.gridOptionsWrapper.isGroupMultiAutoColumn();s.push(i),i.setUiLevel(h?0:u)},r.prototype.ensureFooterNodeExists=function(i){if(!Le.exists(i.sibling)){var s=new nt(this.beans);Object.keys(i).forEach(function(l){s[l]=i[l]}),s.footer=!0,s.setRowTop(null),s.setRowIndex(null),s.oldRowTop=null,Le.exists(s.id)&&(s.id="rowGroupFooter_"+s.id),s.sibling=i,i.sibling=s}},r.prototype.createDetailNode=function(i){if(Le.exists(i.detailNode))return i.detailNode;var s=new nt(this.beans);return s.detail=!0,s.selectable=!1,s.parent=i,Le.exists(i.id)&&(s.id="detail_"+i.id),s.data=i.data,s.level=i.level+1,i.detailNode=s,s},iw([N("columnModel")],r.prototype,"columnModel",void 0),iw([N("beans")],r.prototype,"beans",void 0),iw([we("flattenStage")],r)}(pe),rm=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),re=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},om=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return rm(r,c),r.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},r.prototype.sort=function(i,s,l,u,h,g){var _=this,w=this.gridOptionsWrapper.isGroupMaintainOrder(),E=this.columnModel.getAllGridColumns().some(function(V){return V.isRowGroupActive()}),D={};l&&u&&(D=this.calculateDirtyNodes(u));var M=this.columnModel.isPivotMode();h&&h.forEachChangedNodeDepthFirst(function(V){if(_.pullDownGroupDataForHideOpenParents(V.childrenAfterAggFilter,!0),!s||w&&E&&!V.leafGroup&&!g||M&&V.leafGroup){var Z=V.childrenAfterAggFilter.slice(0);if(w&&V.childrenAfterSort){var J=V.childrenAfterSort.reduce(function(fe,Se,ke){return fe[Se.id]=ke,fe},{});Z.sort(function(fe,Se){return(J[fe.id]||0)-(J[Se.id]||0)})}V.childrenAfterSort=Z}else V.childrenAfterSort=l?_.doDeltaSort(V,D,h,i):_.rowNodeSorter.doFullSort(V.childrenAfterAggFilter,i);V.sibling&&(V.sibling.childrenAfterSort=V.childrenAfterSort),_.updateChildIndexes(V),_.postSortFunc&&_.postSortFunc({nodes:V.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(h)},r.prototype.calculateDirtyNodes=function(i){var s={},l=function(u){u&&u.forEach(function(h){return s[h.id]=!0})};return i&&i.forEach(function(u){l(u.add),l(u.update),l(u.remove)}),s},r.prototype.doDeltaSort=function(i,s,l,u){var h=this,g=i.childrenAfterAggFilter,_=i.childrenAfterSort;if(!_)return this.rowNodeSorter.doFullSort(g,u);var w={},E=[];g.forEach(function(V){s[V.id]||!l.canSkip(V)?E.push(V):w[V.id]=!0});var D=_.filter(function(V){return w[V.id]}),M=function(V,B){return{currentPos:B,rowNode:V}},G=E.map(M).sort(function(V,B){return h.rowNodeSorter.compareRowNodes(u,V,B)});return this.mergeSortedArrays(u,G,D.map(M)).map(function(V){return V.rowNode})},r.prototype.mergeSortedArrays=function(i,s,l){for(var u=[],h=0,g=0;h<s.length&&g<l.length;){var _=this.rowNodeSorter.compareRowNodes(i,s[h],l[g]);u.push(_<0?s[h++]:l[g++])}for(;h<s.length;)u.push(s[h++]);for(;g<l.length;)u.push(l[g++]);return u},r.prototype.updateChildIndexes=function(i){if(!Le.missing(i.childrenAfterSort))for(var s=i.childrenAfterSort,l=0;l<s.length;l++){var u=s[l],g=l===i.childrenAfterSort.length-1;u.setFirstChild(0===l),u.setLastChild(g),u.setChildIndex(l)}},r.prototype.updateGroupDataForHideOpenParents=function(i){var s=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return Le.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var u=function(h){s.pullDownGroupDataForHideOpenParents(h.childrenAfterSort,!1),h.childrenAfterSort.forEach(function(g){g.hasChildren()&&u(g)})};i&&i.executeFromRootNode(function(h){return u(h)})}},r.prototype.pullDownGroupDataForHideOpenParents=function(i,s){var l=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||Le.missing(i)||i.forEach(function(u){l.columnModel.getGroupDisplayColumns().forEach(function(g){var _=g.getColDef().showRowGroup;if("string"==typeof _){var E=l.columnModel.getPrimaryColumn(_);if(E!==u.rowGroupColumn)if(s)u.setGroupValue(g.getId(),void 0);else{var M=u.getFirstChildOfFirstChild(E);M&&u.setGroupValue(g.getId(),M.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},re([N("columnModel")],r.prototype,"columnModel",void 0),re([N("rowNodeSorter")],r.prototype,"rowNodeSorter",void 0),re([ge],r.prototype,"init",null),re([we("sortService")],r)}(pe),oR=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Q=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},X=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return oR(r,c),r.prototype.filter=function(i){var s=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent();this.filterNodes(s,i)},r.prototype.filterNodes=function(i,s){var l=this,u=function(w,E){w.childrenAfterFilter=w.hasChildren()&&i&&!E?w.childrenAfterGroup.filter(function(D){var M=D.childrenAfterFilter&&D.childrenAfterFilter.length>0,G=D.data&&l.filterManager.doesRowPassFilter({rowNode:D});return M||G}):w.childrenAfterGroup,w.sibling&&(w.sibling.childrenAfterFilter=w.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var h=function(w,E){if(w.childrenAfterGroup)for(var D=0;D<w.childrenAfterGroup.length;D++){var M=w.childrenAfterGroup[D],G=E||l.filterManager.doesRowPassFilter({rowNode:M});M.childrenAfterGroup?h(w.childrenAfterGroup[D],G):u(M,G)}u(w,E)};s.executeFromRootNode(function(w){return h(w,!1)})}else s.forEachChangedNodeDepthFirst(function(w){return u(w,!1)},!0)},r.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Q([N("filterManager")],r.prototype,"filterManager",void 0),Q([we("filterService")],r)}(pe),pt=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Nc=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Mc=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return pt(r,c),r.prototype.postConstruct=function(){this.rowModel.getType()===j.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},r.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},r.prototype.setRowData=function(i){var s=this.createTransactionForRowData(i);if(s){var l=function(c,r){var i="function"==typeof Symbol&&c[Symbol.iterator];if(!i)return c;var l,h,s=i.call(c),u=[];try{for(;(void 0===r||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(g){h={error:g}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(h)throw h.error}}return u}(s,2),g=this.clientSideRowModel.updateRowData(l[0],l[1]);g&&this.rowRenderer.refreshFullWidthRows(g.update),this.eventService.dispatchEvent({type:L.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},r.prototype.createTransactionForRowData=function(i){if(Le.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var s=this.gridOptionsWrapper.getRowIdFunc();if(null!=s){var l={remove:[],update:[],add:[]},u=this.clientSideRowModel.getCopyOfNodesMap(),g=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return Le.exists(i)&&i.forEach(function(_,w){var E=s({data:_,level:0}),D=u[E];g&&(g[E]=w),D?(D.data!==_&&l.update.push(_),u[E]=void 0):l.add.push(_)}),Le.iterateObject(u,function(_,w){w&&l.remove.push(w.data)}),[l,g]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Nc([N("rowModel")],r.prototype,"rowModel",void 0),Nc([N("rowRenderer")],r.prototype,"rowRenderer",void 0),Nc([N("columnApi")],r.prototype,"columnApi",void 0),Nc([N("gridApi")],r.prototype,"gridApi",void 0),Nc([ge],r.prototype,"postConstruct",null),Nc([we("immutableService")],r)}(pe),Ic={moduleName:x.GXE.ClientSideRowModelModule,beans:[nw,im,H,om,X,Mc],rowModels:{clientSide:tw}},Pa=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),li=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},eu=function(c){function r(i,s,l){var u=c.call(this,i)||this;return u.parentCache=s,u.params=l,u.startRow=i*l.blockSize,u.endRow=u.startRow+l.blockSize,u}return Pa(r,c),r.prototype.postConstruct=function(){this.createRowNodes()},r.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},r.prototype.setDataAndId=function(i,s,l){!i.id&&i.alreadyRendered&&(i.alreadyRendered=!1),Le.exists(s)?i.setDataAndId(s,l.toString()):i.setDataAndId(void 0,void 0)},r.prototype.loadFromDatasource=function(){var i=this,s=this.createLoadParams();Le.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){i.params.datasource.getRows(s)},0)},r.prototype.processServerFail=function(){},r.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},r.prototype.forEachNode=function(i,s,l){var u=this;this.rowNodes.forEach(function(h,g){u.startRow+g<l&&i(h,s.next())})},r.prototype.getLastAccessed=function(){return this.lastAccessed},r.prototype.getRow=function(i,s){return void 0===s&&(s=!1),s||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[i-this.startRow]},r.prototype.getStartRow=function(){return this.startRow},r.prototype.getEndRow=function(){return this.endRow},r.prototype.createRowNodes=function(){this.rowNodes=[];for(var i=0;i<this.params.blockSize;i++){var s=this.startRow+i,l=new nt(this.beans);l.setRowHeight(this.params.rowHeight),l.uiLevel=0,l.setRowIndex(s),l.setRowTop(this.params.rowHeight*s),this.rowNodes.push(l)}},r.prototype.processServerResult=function(i){var s=this;this.rowNodes.forEach(function(u,h){s.setDataAndId(u,i.rowData?i.rowData[h]:void 0,s.startRow+h)}),this.parentCache.pageLoaded(this,null!=i.rowCount&&i.rowCount>=0?i.rowCount:void 0)},r.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(i){i.clearRowTopAndRowIndex()})},li([N("beans")],r.prototype,"beans",void 0),li([ge],r.prototype,"postConstruct",null),li([Zn],r.prototype,"destroyRowNodes",null),r}(no),rw=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),tu=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},Ke=function(c,r){return function(i,s){r(i,s,c)}},ow=function(c){function r(i){var s=c.call(this)||this;return s.lastRowIndexKnown=!1,s.blocks={},s.blockCount=0,s.rowCount=i.initialRowCount,s.params=i,s}return rw(r,c),r.prototype.setBeans=function(i){this.logger=i.create("InfiniteCache")},r.prototype.getRow=function(i,s){void 0===s&&(s=!1);var l=Math.floor(i/this.params.blockSize),u=this.blocks[l];if(!u){if(s)return;u=this.createBlock(l)}return u.getRow(i)},r.prototype.createBlock=function(i){var s=this.createBean(new eu(i,this,this.params));return this.blocks[s.getId()]=s,this.blockCount++,this.purgeBlocksIfNeeded(s),this.params.rowNodeBlockLoader.addBlock(s),s},r.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(s){return s.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},r.prototype.destroyAllBlocks=function(){var i=this;this.getBlocksInOrder().forEach(function(s){return i.destroyBlock(s)})},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},r.prototype.pageLoaded=function(i,s){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+i.getId()+", lastRow = "+s),this.checkRowCount(i,s),this.onCacheUpdated())},r.prototype.purgeBlocksIfNeeded=function(i){var s=this,l=this.getBlocksInOrder().filter(function(w){return w!=i});l.sort(function(w,E){return E.getLastAccessed()-w.getLastAccessed()});var h=this.params.maxBlocksInCache>0,g=h?this.params.maxBlocksInCache-1:null,_=r.MAX_EMPTY_BLOCKS_TO_KEEP-1;l.forEach(function(w,E){if(w.getState()===eu.STATE_WAITING_TO_LOAD&&E>=_||h&&E>=g){if(s.isBlockCurrentlyDisplayed(w)||s.isBlockFocused(w))return;s.removeBlockFromCache(w)}})},r.prototype.isBlockFocused=function(i){var s=this.focusService.getFocusCellToUseAfterRefresh();if(!s||null!=s.rowPinned)return!1;var l=i.getStartRow(),u=i.getEndRow();return s.rowIndex>=l&&s.rowIndex<u},r.prototype.isBlockCurrentlyDisplayed=function(i){var s=i.getStartRow(),l=i.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(s,l)},r.prototype.removeBlockFromCache=function(i){!i||this.destroyBlock(i)},r.prototype.checkRowCount=function(i,s){if("number"==typeof s&&s>=0)this.rowCount=s,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var u=(i.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<u&&(this.rowCount=u)}},r.prototype.setRowCount=function(i,s){this.rowCount=i,Le.exists(s)&&(this.lastRowIndexKnown=s),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},r.prototype.forEachNodeDeep=function(i){var s=this,l=new Be;this.getBlocksInOrder().forEach(function(u){return u.forEachNode(i,l,s.rowCount)})},r.prototype.getBlocksInOrder=function(){return Le.getAllValuesInObject(this.blocks).sort(function(l,u){return l.getId()-u.getId()})},r.prototype.destroyBlock=function(i){delete this.blocks[i.getId()],this.destroyBean(i),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(i)},r.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:L.EVENT_STORE_UPDATED}))},r.prototype.destroyAllBlocksPastVirtualRowCount=function(){var i=this,s=[];this.getBlocksInOrder().forEach(function(l){l.getId()*i.params.blockSize>=i.rowCount&&s.push(l)}),s.length>0&&s.forEach(function(l){return i.destroyBlock(l)})},r.prototype.purgeCache=function(){var i=this;this.getBlocksInOrder().forEach(function(s){return i.removeBlockFromCache(s)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},r.prototype.getRowNodesInRange=function(i,s){var l=this,u=[],h=-1,g=!1,_=new Be;Le.missing(i)&&(g=!0);var w=!1;return this.getBlocksInOrder().forEach(function(D){if(!w){if(g&&h+1!==D.getId())return void(w=!0);h=D.getId(),D.forEachNode(function(M){var G=M===i||M===s;(g||G)&&u.push(M),G&&(g=!g)},_,l.rowCount)}}),w||g?[]:u},r.MAX_EMPTY_BLOCKS_TO_KEEP=2,tu([N("rowRenderer")],r.prototype,"rowRenderer",void 0),tu([N("focusService")],r.prototype,"focusService",void 0),tu([Ke(0,Ti("loggerFactory"))],r.prototype,"setBeans",null),tu([Zn],r.prototype,"destroyAllBlocks",null),r}(pe),aR=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),oo=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},sw=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return aR(r,c),r.prototype.getRowBounds=function(i){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*i}},r.prototype.ensureRowHeightsValid=function(i,s,l,u){return!1},r.prototype.init=function(){var i=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return i.destroyCache()}),this.verifyProps())},r.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&Le.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},r.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},r.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},r.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,L.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,L.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},r.prototype.onFilterChanged=function(){this.reset()},r.prototype.onSortChanged=function(){this.reset()},r.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},r.prototype.isSortModelDifferent=function(){return!Le.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},r.prototype.getType=function(){return j.ROW_MODEL_TYPE_INFINITE},r.prototype.setDatasource=function(i){this.destroyDatasource(),this.datasource=i,i&&this.reset()},r.prototype.isEmpty=function(){return!this.infiniteCache},r.prototype.isRowsToRender=function(){return!!this.infiniteCache},r.prototype.getNodesInRangeForSelection=function(i,s){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(i,s):[]},r.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var l=this.createModelUpdatedEvent();this.eventService.dispatchEvent(l)}},r.prototype.createModelUpdatedEvent=function(){return{type:L.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},r.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new Be},this.infiniteCache=this.createBean(new ow(this.cacheParams))},r.prototype.defaultIfInvalid=function(i,s){return i>0?i:s},r.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},r.prototype.onCacheUpdated=function(){var i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)},r.prototype.getRow=function(i){if(this.infiniteCache&&!(i>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(i)},r.prototype.getRowNode=function(i){var s;return this.forEachNode(function(l){l.id===i&&(s=l)}),s},r.prototype.forEachNode=function(i){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(i)},r.prototype.getTopLevelRowCount=function(){return this.getRowCount()},r.prototype.getTopLevelRowDisplayedIndex=function(i){return i},r.prototype.getRowIndexAtPixel=function(i){if(0!==this.rowHeight){var s=Math.floor(i/this.rowHeight),l=this.getRowCount()-1;return s>l?l:s}return 0},r.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},r.prototype.isRowPresent=function(i){return!!this.getRowNode(i.id)},r.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},r.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},r.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},r.prototype.setRowCount=function(i,s){this.infiniteCache&&this.infiniteCache.setRowCount(i,s)},oo([N("filterManager")],r.prototype,"filterManager",void 0),oo([N("sortController")],r.prototype,"sortController",void 0),oo([N("selectionService")],r.prototype,"selectionService",void 0),oo([N("gridApi")],r.prototype,"gridApi",void 0),oo([N("columnApi")],r.prototype,"columnApi",void 0),oo([N("rowRenderer")],r.prototype,"rowRenderer",void 0),oo([N("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),oo([ge],r.prototype,"init",null),oo([Zn],r.prototype,"destroyDatasource",null),oo([we("rowModel")],r)}(pe),sm={moduleName:x.GXE.InfiniteRowModelModule,rowModels:{infinite:sw}},Ee=function(){function c(){}return c.prototype.setBeans=function(r){this.beans=r},c.prototype.getFileName=function(r){var i=this.getDefaultFileExtension();return(null==r||!r.length)&&(r=this.getDefaultFileName()),-1===r.indexOf(".")?r+"."+i:r},c.prototype.getData=function(r){var i=this.createSerializingSession(r);return this.beans.gridSerializer.serialize(i,r)},c}(),aw=function(){function c(r){this.groupColumns=[];var s=r.valueService,l=r.gridOptionsWrapper,u=r.processCellCallback,h=r.processHeaderCallback,g=r.processGroupHeaderCallback,_=r.processRowGroupCallback;this.columnModel=r.columnModel,this.valueService=s,this.gridOptionsWrapper=l,this.processCellCallback=u,this.processHeaderCallback=h,this.processGroupHeaderCallback=g,this.processRowGroupCallback=_}return c.prototype.prepare=function(r){this.groupColumns=r.filter(function(i){return!!i.getColDef().showRowGroup})},c.prototype.extractHeaderValue=function(r){var i=this.getHeaderName(this.processHeaderCallback,r);return null!=i?i:""},c.prototype.extractRowCellValue=function(r,i,s,l,u){var _,h=this.gridOptionsWrapper.isGroupMultiAutoColumn()?u.rowGroupIndex:0;_=u&&u.group&&(i===h&&-1!==this.groupColumns.indexOf(r)||0===i&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(u):this.valueService.getValue(r,u);var w=this.processCell(s,u,r,_,this.processCellCallback,l);return null!=w?w:""},c.prototype.getHeaderName=function(r,i){return r?r({column:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(i,"csv",!0)},c.prototype.createValueForGroupNode=function(r){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var i=[r.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;r.parent;)i.push((r=r.parent).key);return i.reverse().join(" -> ")},c.prototype.processCell=function(r,i,s,l,u,h){return u?u({accumulatedRowIndex:r,column:s,node:i,value:l,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:h}):null!=l?l:""},c}(),nu=function(){function c(){}return c.download=function(r,i){var s=document.defaultView||window;if(s){var l=document.createElement("a"),u=s.URL.createObjectURL(i);l.setAttribute("href",u),l.setAttribute("download",r),l.style.display="none",document.body.appendChild(l),l.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:s})),document.body.removeChild(l),s.setTimeout(function(){s.URL.revokeObjectURL(u)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},c}(),iu=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),bi=function(c){function r(i){var s=c.call(this,i)||this;s.isFirstLine=!0,s.result="";var u=i.columnSeparator;return s.suppressQuotes=i.suppressQuotes,s.columnSeparator=u,s}return iu(r,c),r.prototype.addCustomContent=function(i){var s=this;!i||("string"==typeof i?(/^\s*\n/.test(i)||this.beginNewLine(),i=i.replace(/\r?\n/g,"\r\n"),this.result+=i):i.forEach(function(l){s.beginNewLine(),l.forEach(function(u,h){0!==h&&(s.result+=s.columnSeparator),s.result+=s.putInQuotes(u.data.value||""),u.mergeAcross&&s.appendEmptyCells(u.mergeAcross)})}))},r.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},r.prototype.onNewHeaderGroupingRowColumn=function(i,s,l){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i),this.appendEmptyCells(l)},r.prototype.appendEmptyCells=function(i){for(var s=1;s<=i;s++)this.result+=this.columnSeparator+this.putInQuotes("")},r.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},r.prototype.onNewHeaderRowColumn=function(i,s){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(i))},r.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},r.prototype.onNewBodyRowColumn=function(i,s,l){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(i,s,s,j.EXPORT_TYPE_CSV,l))},r.prototype.putInQuotes=function(i){return this.suppressQuotes?i:null==i?'""':("string"==typeof i?s=i:"function"==typeof i.toString?s=i.toString():(console.warn("AG Grid: unknown value type during csv conversion"),s=""),'"'+s.replace(/"/g,'""')+'"');var s},r.prototype.parse=function(){return this.result},r.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},r}(aw),lw=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Na=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u},am=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return lw(r,c),r.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},r.prototype.getMergedParams=function(i){var s=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},s,i)},r.prototype.export=function(i){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var s=this.getMergedParams(i),l=this.getData(s),u=new Blob(["\ufeff",l],{type:"text/plain"});return nu.download(this.getFileName(s.fileName),u),l},r.prototype.exportDataAsCsv=function(i){return this.export(i)},r.prototype.getDataAsCsv=function(i){var s=this.getMergedParams(i);return this.getData(s)},r.prototype.getDefaultFileName=function(){return"export.csv"},r.prototype.getDefaultFileExtension=function(){return"csv"},r.prototype.createSerializingSession=function(i){var s=this;return new bi({columnModel:s.columnModel,valueService:s.valueService,gridOptionsWrapper:s.gridOptionsWrapper,processCellCallback:i.processCellCallback||void 0,processHeaderCallback:i.processHeaderCallback||void 0,processGroupHeaderCallback:i.processGroupHeaderCallback||void 0,processRowGroupCallback:i.processRowGroupCallback||void 0,suppressQuotes:i.suppressQuotes||!1,columnSeparator:i.columnSeparator||","})},r.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Na([N("columnModel")],r.prototype,"columnModel",void 0),Na([N("valueService")],r.prototype,"valueService",void 0),Na([N("gridSerializer")],r.prototype,"gridSerializer",void 0),Na([N("gridOptionsWrapper")],r.prototype,"gridOptionsWrapper",void 0),Na([ge],r.prototype,"postConstruct",null),Na([we("csvCreator")],r)}(Ee),uw=function(){var c=function(r,i){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])})(r,i)};return function(r,i){function s(){this.constructor=r}c(r,i),r.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),$s=function(c,r,i,s){var h,l=arguments.length,u=l<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(c,r,i,s);else for(var g=c.length-1;g>=0;g--)(h=c[g])&&(u=(l<3?h(u):l>3?h(r,i,u):h(r,i))||u);return l>3&&u&&Object.defineProperty(r,i,u),u};!function(c){c[c.HEADER_GROUPING=0]="HEADER_GROUPING",c[c.HEADER=1]="HEADER",c[c.BODY=2]="BODY"}(x.aCu||(x.aCu={}));var lm=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return uw(r,c),r.prototype.serialize=function(i,s){void 0===s&&(s={});var l=this.getColumnsToExport(s.allColumns,s.columnKeys);return Le.compose(this.prepareSession(l),this.prependContent(s),this.exportColumnGroups(s,l),this.exportHeaders(s,l),this.processPinnedTopRows(s,l),this.processRows(s,l),this.processPinnedBottomRows(s,l),this.appendContent(s))(i).parse()},r.prototype.processRow=function(i,s,l,u){var h=this,g=s.shouldRowBeSkipped||function(){return!1},_=this.gridOptionsWrapper,w=_.getContext(),E=_.getApi(),D=_.getColumnApi(),M=_.isGroupRemoveSingleChildren(),G=_.isGroupHideOpenParents(),V=_.isGroupRemoveLowestSingleChildren(),B=this.columnModel.isPivotMode()?u.leafGroup:!u.group,J=1===u.allChildrenCount&&(M||V&&u.leafGroup);(s.skipGroups||s.skipRowGroups)&&s.skipGroups&&Le.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var oe={rowIndex:u.rowIndex,rowPinned:u.rowPinned};if(!(!B&&(s.skipRowGroups||J||G)||s.onlySelected&&!u.isSelected()||s.rowNodes&&!s.rowNodes.some(function(Ie){return h.rowPositionUtils.sameRow(Ie,oe)})||s.skipPinnedTop&&"top"===u.rowPinned||s.skipPinnedBottom&&"bottom"===u.rowPinned)&&(-1!==u.level||u.leafGroup)&&!g({node:u,api:E,columnApi:D,context:w})){var ke=i.onNewBodyRow();if(l.forEach(function(Ie,lt){ke.onColumn(Ie,lt,u)}),s.getCustomContentBelowRow){var Ve=s.getCustomContentBelowRow({node:u,api:E,columnApi:D,context:w});Ve&&i.addCustomContent(Ve)}}},r.prototype.appendContent=function(i){return function(s){var l=i.customFooter||i.appendContent;return l&&(i.customFooter&&Le.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),s.addCustomContent(l)),s}},r.prototype.prependContent=function(i){return function(s){var l=i.customHeader||i.prependContent;return l&&(i.customHeader&&Le.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),s.addCustomContent(l)),s}},r.prototype.prepareSession=function(i){return function(s){return s.prepare(i),s}},r.prototype.exportColumnGroups=function(i,s){var l=this;return function(u){if(i.skipColumnGroupHeaders)i.columnGroups&&Le.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var h=new lf,g=l.displayedGroupCreator.createDisplayedGroups(s,l.columnModel.getGridBalancedTree(),h,null);l.recursivelyAddHeaderGroups(g,u,i.processGroupHeaderCallback)}return u}},r.prototype.exportHeaders=function(i,s){return function(l){if(i.skipHeader||i.skipColumnHeaders)i.skipHeader&&Le.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var u=l.onNewHeaderRow();s.forEach(function(h,g){u.onColumn(h,g,void 0)})}return l}},r.prototype.processPinnedTopRows=function(i,s){var l=this;return function(u){var h=l.processRow.bind(l,u,i,s);return l.pinnedRowModel.forEachPinnedTopRow(h),u}},r.prototype.processRows=function(i,s){var l=this;return function(u){var h=l.rowModel,g=h.getType(),_=g===j.ROW_MODEL_TYPE_CLIENT_SIDE,w=g===j.ROW_MODEL_TYPE_SERVER_SIDE,E=!_&&i.onlySelected,D=l.processRow.bind(l,u,i,s);return l.columnModel.isPivotMode()?_?h.forEachPivotNode(D):h.forEachNode(D):i.onlySelectedAllPages||E?l.selectionService.getSelectedNodes().forEach(D):_||w?h.forEachNodeAfterFilterAndSort(D):h.forEachNode(D),u}},r.prototype.processPinnedBottomRows=function(i,s){var l=this;return function(u){var h=l.processRow.bind(l,u,i,s);return l.pinnedRowModel.forEachPinnedBottomRow(h),u}},r.prototype.getColumnsToExport=function(i,s){void 0===i&&(i=!1);var l=this.columnModel.isPivotMode();return s&&s.length?this.columnModel.getGridColumns(s):i&&!l?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([j.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},r.prototype.recursivelyAddHeaderGroups=function(i,s,l){var u=[];i.forEach(function(h){!h.getChildren||h.getChildren().forEach(function(_){return u.push(_)})}),i.length>0&&i[0]instanceof Xt&&this.doAddHeaderHeader(s,i,l),u&&u.length>0&&this.recursivelyAddHeaderGroups(u,s,l)},r.prototype.doAddHeaderHeader=function(i,s,l){var u=this,h=i.onNewHeaderGroupingRow(),g=0;s.forEach(function(_){var E,w=_;E=l?l({columnGroup:w,api:u.gridOptionsWrapper.getApi(),columnApi:u.gridOptionsWrapper.getColumnApi(),context:u.gridOptionsWrapper.getContext()}):u.columnModel.getDisplayNameForColumnGroup(w,"header");var D=w.getLeafColumns().reduce(function(M,G,V,B){var q=Le.last(M);return"open"===G.getColumnGroupShow()?(!q||null!=q[1])&&M.push(q=[V]):q&&null==q[1]&&(q[1]=V-1),V===B.length-1&&q&&null==q[1]&&(q[1]=V),M},[]);h.onColumn(E||"",g++,w.getLeafColumns().length-1,D)})},$s([N("displayedGroupCreator")],r.prototype,"displayedGroupCreator",void 0),$s([N("columnModel")],r.prototype,"columnModel",void 0),$s([N("rowModel")],r.prototype,"rowModel",void 0),$s([N("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),$s([N("selectionService")],r.prototype,"selectionService",void 0),$s([N("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),$s([we("gridSerializer")],r)}(pe),um={moduleName:x.GXE.CsvExportModule,beans:[am,lm]},uR=(function(){function c(){}c.createHeader=function(r){void 0===r&&(r={});var l=["version"];return r.version||(r.version="1.0"),r.encoding&&l.push("encoding"),r.standalone&&l.push("standalone"),"<?xml "+l.map(function(h){return h+'="'+r[h]+'"'}).join(" ")+" ?>"},c.createXml=function(r,i){var s=this,l="";r.properties&&(r.properties.prefixedAttributes&&r.properties.prefixedAttributes.forEach(function(h){Object.keys(h.map).forEach(function(g){l+=s.returnAttributeIfPopulated(h.prefix+g,h.map[g],i)})}),r.properties.rawMap&&Object.keys(r.properties.rawMap).forEach(function(h){l+=s.returnAttributeIfPopulated(h,r.properties.rawMap[h],i)}));var u="<"+r.name+l;return r.children||null!=r.textNode?null!=r.textNode?u+">"+r.textNode+"</"+r.name+">\r\n":(u+=">\r\n",r.children&&r.children.forEach(function(h){u+=s.createXml(h,i)}),u+"</"+r.name+">\r\n"):u+"/>\r\n"},c.returnAttributeIfPopulated=function(r,i,s){if(!i&&""!==i&&0!==i)return"";var l=i;return"boolean"==typeof i&&s&&(l=s(i))," "+r+'="'+l+'"'}}(),new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]));!function(){function c(){}c.addFolders=function(r){r.forEach(this.addFolder.bind(this))},c.addFolder=function(r){this.folders.push({path:r,created:new Date,isBase64:!1})},c.addFile=function(r,i,s){void 0===s&&(s=!1),this.files.push({path:r,created:new Date,content:i,isBase64:s})},c.getContent=function(r){void 0===r&&(r="application/zip");var i=this.buildFileStream(),s=this.buildUint8Array(i);return this.clearStream(),new Blob([s],{type:r})},c.clearStream=function(){this.folders=[],this.files=[]},c.buildFileStream=function(r){var i,s;void 0===r&&(r="");var l=this.folders.concat(this.files),u=l.length,h="",g=0,_=0;try{for(var w=function(c){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&c[r],s=0;if(i)return i.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&s>=c.length&&(c=void 0),{value:c&&c[s++],done:!c}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),E=w.next();!E.done;E=w.next()){var M=this.getHeader(E.value,g),G=M.fileHeader,V=M.folderHeader,B=M.content;g+=G.length+B.length,_+=V.length,r+=G+B,h+=V}}catch(Z){i={error:Z}}finally{try{E&&!E.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}return r+h+this.buildFolderEnd(u,_,g)},c.getHeader=function(r,i){var s=r.content,l=r.path,u=r.created,h=r.isBase64,_=Le.decToHex,w=(0,Le.utf8_encode)(l),E=w!==l,D=this.convertTime(u),M=this.convertDate(u),G="";if(E){var V=_(1,1)+_(this.getFromCrc32Table(w),4)+w;G="up"+_(V.length,2)+V}var B=s?this.getConvertedContent(s,h):{size:0,content:""},q=B.size,Z=B.content,J="\n\0"+(E?"\0\b":"\0\0")+"\0\0"+_(D,2)+_(M,2)+_(q?this.getFromCrc32Table(Z):0,4)+_(q,4)+_(q,4)+_(w.length,2)+_(G.length,2);return{fileHeader:"PK\x03\x04"+J+w+G,folderHeader:"PK\x01\x02\x14\0"+J+"\0\0\0\0\0\0"+(s?"\0\0\0\0":"\x10\0\0\0")+_(i,4)+w+G,content:Z||""}},c.getConvertedContent=function(r,i){return void 0===i&&(i=!1),i&&(r=r.split(";base64,")[1]),{size:(r=i?atob(r):r).length,content:r}},c.buildFolderEnd=function(r,i,s){var l=Le.decToHex;return"PK\x05\x06\0\0\0\0"+l(r,2)+l(r,2)+l(i,4)+l(s,4)+"\0\0"},c.buildUint8Array=function(r){for(var i=new Uint8Array(r.length),s=0;s<i.length;s++)i[s]=r.charCodeAt(s);return i},c.getFromCrc32Table=function(r){if(!r.length)return 0;for(var i=r.length,s=new Uint8Array(i),l=0;l<i;l++)s[l]=r.charCodeAt(l);var u=-1;for(l=0;l<i;l++)u=u>>>8^uR[255&(u^s[l])];return-1^u},c.convertTime=function(r){var i=r.getHours();return i<<=6,i|=r.getMinutes(),(i<<=5)|r.getSeconds()/2},c.convertDate=function(r){var i=r.getFullYear()-1980;return i<<=4,i|=r.getMonth()+1,(i<<=5)|r.getDate()},c.folders=[],c.files=[]}();He.register(Ic,!1),He.register(sm,!1),He.register(um,!1),x.j_S=Pi,x.Nk3=oh,x.plv=yt,x.rjZ=XC,x.vA3=xg}},Dr=>{Dr(Dr.s=697)}]);